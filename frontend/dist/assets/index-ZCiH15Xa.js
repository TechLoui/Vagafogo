(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();var jk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pg={exports:{}},ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function yS(){if(Db)return ku;Db=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,i,l){var d=null;if(l!==void 0&&(d=""+l),i.key!==void 0&&(d=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:n,type:a,key:d,ref:i!==void 0?i:null,props:l}}return ku.Fragment=e,ku.jsx=t,ku.jsxs=t,ku}var Mb;function vS(){return Mb||(Mb=1,pg.exports=yS()),pg.exports}var u=vS(),gg={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function xS(){if(Ib)return Vt;Ib=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=_&&O[_]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,U={};function $(O,ne,_e){this.props=O,this.context=ne,this.refs=U,this.updater=_e||D}$.prototype.isReactComponent={},$.prototype.setState=function(O,ne){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ne,"setState")},$.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Q(){}Q.prototype=$.prototype;function pe(O,ne,_e){this.props=O,this.context=ne,this.refs=U,this.updater=_e||D}var se=pe.prototype=new Q;se.constructor=pe,P(se,$.prototype),se.isPureReactComponent=!0;var ge=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function k(O,ne,_e,me,Me,Be){return _e=Be.ref,{$$typeof:n,type:O,key:ne,ref:_e!==void 0?_e:null,props:Be}}function R(O,ne){return k(O.type,ne,void 0,void 0,void 0,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function j(O){var ne={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(_e){return ne[_e]})}var z=/\/+/g;function W(O,ne){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):ne.toString(36)}function V(){}function Se(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(V,V):(O.status="pending",O.then(function(ne){O.status==="pending"&&(O.status="fulfilled",O.value=ne)},function(ne){O.status==="pending"&&(O.status="rejected",O.reason=ne)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ye(O,ne,_e,me,Me){var Be=typeof O;(Be==="undefined"||Be==="boolean")&&(O=null);var qe=!1;if(O===null)qe=!0;else switch(Be){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(O.$$typeof){case n:case e:qe=!0;break;case b:return qe=O._init,ye(qe(O._payload),ne,_e,me,Me)}}if(qe)return Me=Me(O),qe=me===""?"."+W(O,0):me,ge(Me)?(_e="",qe!=null&&(_e=qe.replace(z,"$&/")+"/"),ye(Me,ne,_e,"",function(ht){return ht})):Me!=null&&(I(Me)&&(Me=R(Me,_e+(Me.key==null||O&&O.key===Me.key?"":(""+Me.key).replace(z,"$&/")+"/")+qe)),ne.push(Me)),1;qe=0;var Lt=me===""?".":me+":";if(ge(O))for(var At=0;At<O.length;At++)me=O[At],Be=Lt+W(me,At),qe+=ye(me,ne,_e,Be,Me);else if(At=E(O),typeof At=="function")for(O=At.call(O),At=0;!(me=O.next()).done;)me=me.value,Be=Lt+W(me,At++),qe+=ye(me,ne,_e,Be,Me);else if(Be==="object"){if(typeof O.then=="function")return ye(Se(O),ne,_e,me,Me);throw ne=String(O),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return qe}function B(O,ne,_e){if(O==null)return O;var me=[],Me=0;return ye(O,me,"","",function(Be){return ne.call(_e,Be,Me++)}),me}function le(O){if(O._status===-1){var ne=O._result;ne=ne(),ne.then(function(_e){(O._status===0||O._status===-1)&&(O._status=1,O._result=_e)},function(_e){(O._status===0||O._status===-1)&&(O._status=2,O._result=_e)}),O._status===-1&&(O._status=0,O._result=ne)}if(O._status===1)return O._result.default;throw O._result}var oe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ce(){}return Vt.Children={map:B,forEach:function(O,ne,_e){B(O,function(){ne.apply(this,arguments)},_e)},count:function(O){var ne=0;return B(O,function(){ne++}),ne},toArray:function(O){return B(O,function(ne){return ne})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Vt.Component=$,Vt.Fragment=t,Vt.Profiler=i,Vt.PureComponent=pe,Vt.StrictMode=a,Vt.Suspense=p,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return de.H.useMemoCache(O)}},Vt.cache=function(O){return function(){return O.apply(null,arguments)}},Vt.cloneElement=function(O,ne,_e){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var me=P({},O.props),Me=O.key,Be=void 0;if(ne!=null)for(qe in ne.ref!==void 0&&(Be=void 0),ne.key!==void 0&&(Me=""+ne.key),ne)!H.call(ne,qe)||qe==="key"||qe==="__self"||qe==="__source"||qe==="ref"&&ne.ref===void 0||(me[qe]=ne[qe]);var qe=arguments.length-2;if(qe===1)me.children=_e;else if(1<qe){for(var Lt=Array(qe),At=0;At<qe;At++)Lt[At]=arguments[At+2];me.children=Lt}return k(O.type,Me,void 0,void 0,Be,me)},Vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Vt.createElement=function(O,ne,_e){var me,Me={},Be=null;if(ne!=null)for(me in ne.key!==void 0&&(Be=""+ne.key),ne)H.call(ne,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Me[me]=ne[me]);var qe=arguments.length-2;if(qe===1)Me.children=_e;else if(1<qe){for(var Lt=Array(qe),At=0;At<qe;At++)Lt[At]=arguments[At+2];Me.children=Lt}if(O&&O.defaultProps)for(me in qe=O.defaultProps,qe)Me[me]===void 0&&(Me[me]=qe[me]);return k(O,Be,void 0,void 0,null,Me)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(O){return{$$typeof:f,render:O}},Vt.isValidElement=I,Vt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:le}},Vt.memo=function(O,ne){return{$$typeof:g,type:O,compare:ne===void 0?null:ne}},Vt.startTransition=function(O){var ne=de.T,_e={};de.T=_e;try{var me=O(),Me=de.S;Me!==null&&Me(_e,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Ce,oe)}catch(Be){oe(Be)}finally{de.T=ne}},Vt.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},Vt.use=function(O){return de.H.use(O)},Vt.useActionState=function(O,ne,_e){return de.H.useActionState(O,ne,_e)},Vt.useCallback=function(O,ne){return de.H.useCallback(O,ne)},Vt.useContext=function(O){return de.H.useContext(O)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(O,ne){return de.H.useDeferredValue(O,ne)},Vt.useEffect=function(O,ne,_e){var me=de.H;if(typeof _e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(O,ne)},Vt.useId=function(){return de.H.useId()},Vt.useImperativeHandle=function(O,ne,_e){return de.H.useImperativeHandle(O,ne,_e)},Vt.useInsertionEffect=function(O,ne){return de.H.useInsertionEffect(O,ne)},Vt.useLayoutEffect=function(O,ne){return de.H.useLayoutEffect(O,ne)},Vt.useMemo=function(O,ne){return de.H.useMemo(O,ne)},Vt.useOptimistic=function(O,ne){return de.H.useOptimistic(O,ne)},Vt.useReducer=function(O,ne,_e){return de.H.useReducer(O,ne,_e)},Vt.useRef=function(O){return de.H.useRef(O)},Vt.useState=function(O){return de.H.useState(O)},Vt.useSyncExternalStore=function(O,ne,_e){return de.H.useSyncExternalStore(O,ne,_e)},Vt.useTransition=function(){return de.H.useTransition()},Vt.version="19.1.0",Vt}var Ob;function R0(){return Ob||(Ob=1,gg.exports=xS()),gg.exports}var N=R0();const Ve=tm(N);var yg={exports:{}},Vu={},vg={exports:{}},xg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function bS(){return Pb||(Pb=1,function(n){function e(B,le){var oe=B.length;B.push(le);e:for(;0<oe;){var Ce=oe-1>>>1,O=B[Ce];if(0<i(O,le))B[Ce]=le,B[oe]=O,oe=Ce;else break e}}function t(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var le=B[0],oe=B.pop();if(oe!==le){B[0]=oe;e:for(var Ce=0,O=B.length,ne=O>>>1;Ce<ne;){var _e=2*(Ce+1)-1,me=B[_e],Me=_e+1,Be=B[Me];if(0>i(me,oe))Me<O&&0>i(Be,me)?(B[Ce]=Be,B[Me]=oe,Ce=Me):(B[Ce]=me,B[_e]=oe,Ce=_e);else if(Me<O&&0>i(Be,oe))B[Ce]=Be,B[Me]=oe,Ce=Me;else break e}}return le}function i(B,le){var oe=B.sortIndex-le.sortIndex;return oe!==0?oe:B.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,f=d.now();n.unstable_now=function(){return d.now()-f}}var p=[],g=[],b=1,_=null,E=3,D=!1,P=!1,U=!1,$=!1,Q=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ge(B){for(var le=t(g);le!==null;){if(le.callback===null)a(g);else if(le.startTime<=B)a(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function de(B){if(U=!1,ge(B),!P)if(t(p)!==null)P=!0,H||(H=!0,W());else{var le=t(g);le!==null&&ye(de,le.startTime-B)}}var H=!1,k=-1,R=5,I=-1;function j(){return $?!0:!(n.unstable_now()-I<R)}function z(){if($=!1,H){var B=n.unstable_now();I=B;var le=!0;try{e:{P=!1,U&&(U=!1,pe(k),k=-1),D=!0;var oe=E;try{t:{for(ge(B),_=t(p);_!==null&&!(_.expirationTime>B&&j());){var Ce=_.callback;if(typeof Ce=="function"){_.callback=null,E=_.priorityLevel;var O=Ce(_.expirationTime<=B);if(B=n.unstable_now(),typeof O=="function"){_.callback=O,ge(B),le=!0;break t}_===t(p)&&a(p),ge(B)}else a(p);_=t(p)}if(_!==null)le=!0;else{var ne=t(g);ne!==null&&ye(de,ne.startTime-B),le=!1}}break e}finally{_=null,E=oe,D=!1}le=void 0}}finally{le?W():H=!1}}}var W;if(typeof se=="function")W=function(){se(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Se=V.port2;V.port1.onmessage=z,W=function(){Se.postMessage(null)}}else W=function(){Q(z,0)};function ye(B,le){k=Q(function(){B(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(B){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var oe=E;E=le;try{return B()}finally{E=oe}},n.unstable_requestPaint=function(){$=!0},n.unstable_runWithPriority=function(B,le){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=E;E=B;try{return le()}finally{E=oe}},n.unstable_scheduleCallback=function(B,le,oe){var Ce=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ce+oe:Ce):oe=Ce,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=oe+O,B={id:b++,callback:le,priorityLevel:B,startTime:oe,expirationTime:O,sortIndex:-1},oe>Ce?(B.sortIndex=oe,e(g,B),t(p)===null&&B===t(g)&&(U?(pe(k),k=-1):U=!0,ye(de,oe-Ce))):(B.sortIndex=O,e(p,B),P||D||(P=!0,H||(H=!0,W()))),B},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(B){var le=E;return function(){var oe=E;E=le;try{return B.apply(this,arguments)}finally{E=oe}}}}(xg)),xg}var kb;function _S(){return kb||(kb=1,vg.exports=bS()),vg.exports}var bg={exports:{}},va={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function wS(){if(Vb)return va;Vb=1;var n=R0();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(p,g,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:p,containerInfo:g,implementation:b}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return va.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,va.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,b)},va.flushSync=function(p){var g=d.T,b=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=g,a.p=b,a.d.f()}},va.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},va.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},va.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,_=f(b,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:D}):b==="script"&&a.d.X(p,{crossOrigin:_,integrity:E,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},va.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=f(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},va.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,_=f(b,g.crossOrigin);a.d.L(p,b,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},va.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=f(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},va.requestFormReset=function(p){a.d.r(p)},va.unstable_batchedUpdates=function(p,g){return p(g)},va.useFormState=function(p,g,b){return d.H.useFormState(p,g,b)},va.useFormStatus=function(){return d.H.useHostTransitionStatus()},va.version="19.1.0",va}var Lb;function Tw(){if(Lb)return bg.exports;Lb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bg.exports=wS(),bg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function ES(){if(Ub)return Vu;Ub=1;var n=_S(),e=R0(),t=Tw();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function d(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(a(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(a(188));return s!==r?null:r}for(var o=r,c=s;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return f(m),r;if(y===c)return f(m),s;y=y.sibling}throw Error(a(188))}if(o.return!==c.return)o=m,c=y;else{for(var T=!1,S=m.child;S;){if(S===o){T=!0,o=m,c=y;break}if(S===c){T=!0,c=m,o=y;break}S=S.sibling}if(!T){for(S=y.child;S;){if(S===o){T=!0,o=y,c=m;break}if(S===c){T=!0,c=y,o=m;break}S=S.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),pe=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function Se(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case $:return"Profiler";case U:return"StrictMode";case de:return"Suspense";case H:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case se:return(r.displayName||"Context")+".Provider";case pe:return(r._context.displayName||"Context")+".Consumer";case ge:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return s=r.displayName||null,s!==null?s:Se(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return Se(r(s))}catch{}}return null}var ye=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ce=[],O=-1;function ne(r){return{current:r}}function _e(r){0>O||(r.current=Ce[O],Ce[O]=null,O--)}function me(r,s){O++,Ce[O]=r.current,r.current=s}var Me=ne(null),Be=ne(null),qe=ne(null),Lt=ne(null);function At(r,s){switch(me(qe,s),me(Be,r),me(Me,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?sb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=sb(s),r=ib(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}_e(Me),me(Me,r)}function ht(){_e(Me),_e(Be),_e(qe)}function _t(r){r.memoizedState!==null&&me(Lt,r);var s=Me.current,o=ib(s,r.type);s!==o&&(me(Be,r),me(Me,o))}function It(r){Be.current===r&&(_e(Me),_e(Be)),Lt.current===r&&(_e(Lt),Du._currentValue=oe)}var mn=Object.prototype.hasOwnProperty,rt=n.unstable_scheduleCallback,Rt=n.unstable_cancelCallback,ha=n.unstable_shouldYield,ja=n.unstable_requestPaint,Pn=n.unstable_now,Yr=n.unstable_getCurrentPriorityLevel,br=n.unstable_ImmediatePriority,_r=n.unstable_UserBlockingPriority,Or=n.unstable_NormalPriority,sr=n.unstable_LowPriority,Ln=n.unstable_IdlePriority,Wr=n.log,fa=n.unstable_setDisableYieldValue,jt=null,Ze=null;function sn(r){if(typeof Wr=="function"&&fa(r),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(jt,r)}catch{}}var vn=Math.clz32?Math.clz32:Pr,ma=Math.log,at=Math.LN2;function Pr(r){return r>>>=0,r===0?32:31-(ma(r)/at|0)|0}var wr=256,ur=4194304;function ir(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Gr(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var m=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?m=ir(c):(T&=S,T!==0?m=ir(T):o||(o=S&~r,o!==0&&(m=ir(o))))):(S=c&~y,S!==0?m=ir(S):T!==0?m=ir(T):o||(o=c&~r,o!==0&&(m=ir(o)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:m}function dr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ft(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ut(){var r=wr;return wr<<=1,(wr&4194048)===0&&(wr=256),r}function Tt(){var r=ur;return ur<<=1,(ur&62914560)===0&&(ur=4194304),r}function Rn(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function En(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Er(r,s,o,c,m,y){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,F=r.expirationTimes,ie=r.hiddenUpdates;for(o=T&~o;0<o;){var be=31-vn(o),Te=1<<be;S[be]=0,F[be]=-1;var ce=ie[be];if(ce!==null)for(ie[be]=null,be=0;be<ce.length;be++){var ue=ce[be];ue!==null&&(ue.lane&=-536870913)}o&=~Te}c!==0&&zt(r,c,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~s))}function zt(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-vn(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function Tn(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-vn(o),m=1<<c;m&s|r[c]&s&&(r[c]|=s),o&=~m}}function wt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ta(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function q(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:Nb(r.type))}function ee(r,s){var o=le.p;try{return le.p=r,s()}finally{le.p=o}}var X=Math.random().toString(36).slice(2),ve="__reactFiber$"+X,je="__reactProps$"+X,ke="__reactContainer$"+X,Qe="__reactEvents$"+X,Ue="__reactListeners$"+X,$e="__reactHandles$"+X,Ye="__reactResources$"+X,ot="__reactMarker$"+X;function Ke(r){delete r[ve],delete r[je],delete r[Qe],delete r[Ue],delete r[$e]}function lt(r){var s=r[ve];if(s)return s;for(var o=r.parentNode;o;){if(s=o[ke]||o[ve]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=ub(r);r!==null;){if(o=r[ve])return o;r=ub(r)}return s}r=o,o=r.parentNode}return null}function tt(r){if(r=r[ve]||r[ke]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Je(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function We(r){var s=r[Ye];return s||(s=r[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ot(r){r[ot]=!0}var Et=new Set,hr={};function jn(r,s){un(r,s),un(r+"Capture",s)}function un(r,s){for(hr[r]=s,r=0;r<s.length;r++)Et.add(s[r])}var Un=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yn={},mt={};function Na(r){return mn.call(mt,r)?!0:mn.call(Yn,r)?!1:Un.test(r)?mt[r]=!0:(Yn[r]=!0,!1)}function zn(r,s,o){if(Na(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function or(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function dt(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var xn,Xe;function Tr(r){if(xn===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);xn=s&&s[1]||"",Xe=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xn+r+Xe}var kr=!1;function $t(r,s){if(!r||kr)return"";kr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(ue){var ce=ue}Reflect.construct(r,[],Te)}else{try{Te.call()}catch(ue){ce=ue}r.call(Te.prototype)}}else{try{throw Error()}catch(ue){ce=ue}(Te=r())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(ue){if(ue&&ce&&typeof ue.stack=="string")return[ue.stack,ce.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],S=y[1];if(T&&S){var F=T.split(`
`),ie=S.split(`
`);for(m=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ie.length&&!ie[m].includes("DetermineComponentFrameRoot");)m++;if(c===F.length||m===ie.length)for(c=F.length-1,m=ie.length-1;1<=c&&0<=m&&F[c]!==ie[m];)m--;for(;1<=c&&0<=m;c--,m--)if(F[c]!==ie[m]){if(c!==1||m!==1)do if(c--,m--,0>m||F[c]!==ie[m]){var be=`
`+F[c].replace(" at new "," at ");return r.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",r.displayName)),be}while(1<=c&&0<=m);break}}}finally{kr=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Tr(o):""}function Bt(r){switch(r.tag){case 26:case 27:case 5:return Tr(r.type);case 16:return Tr("Lazy");case 13:return Tr("Suspense");case 19:return Tr("SuspenseList");case 0:case 15:return $t(r.type,!1);case 11:return $t(r.type.render,!1);case 1:return $t(r.type,!0);case 31:return Tr("Activity");default:return""}}function na(r){try{var s="";do s+=Bt(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Da(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Nr(r){var s=Da(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ma(r){r._valueTracker||(r._valueTracker=Nr(r))}function fr(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Da(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function Ia(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Sa=/[\n"\\]/g;function Bn(r){return r.replace(Sa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sr(r,s,o,c,m,y,T,S){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+bn(s)):r.value!==""+bn(s)&&(r.value=""+bn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?za(r,T,bn(s)):o!=null?za(r,T,bn(o)):c!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+bn(S):r.removeAttribute("name")}function hs(r,s,o,c,m,y,T,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+bn(o):"",s=s!=null?""+bn(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=S?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function za(r,s,o){s==="number"&&Ia(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function pa(r,s,o,c){if(r=r.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=s.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&c&&(r[o].defaultSelected=!0)}else{for(o=""+bn(o),s=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function dn(r,s,o){if(s!=null&&(s=""+bn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+bn(o):""}function ga(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(a(92));if(ye(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=bn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Wn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var fs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function As(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||fs.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function ri(r,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&As(r,m,c)}else for(var y in s)s.hasOwnProperty(y)&&As(r,y,s[y])}function M(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var te=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xe=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fe(r){return xe.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var De=null;function Re(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ae=null,Fe=null;function Le(r){var s=tt(r);if(s&&(r=s.stateNode)){var o=r[je]||null;e:switch(r=s.stateNode,s.type){case"input":if(Sr(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Bn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var m=c[je]||null;if(!m)throw Error(a(90));Sr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&fr(c)}break e;case"textarea":dn(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&pa(r,!!o.multiple,s,!1)}}}var et=!1;function kn(r,s,o){if(et)return r(s,o);et=!0;try{var c=r(s);return c}finally{if(et=!1,(Ae!==null||Fe!==null)&&(Ah(),Ae&&(s=Ae,r=Fe,Fe=Ae=null,Le(s),r)))for(s=0;s<r.length;s++)Le(r[s])}}function Pt(r,s){var o=r.stateNode;if(o===null)return null;var c=o[je]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(qn)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{Cr=!1}var _n=null,Zn=null,Dt=null;function ms(){if(Dt)return Dt;var r,s=Zn,o=s.length,c,m="value"in _n?_n.value:_n.textContent,y=m.length;for(r=0;r<o&&s[r]===m[r];r++);var T=o-r;for(c=1;c<=T&&s[o-c]===m[y-c];c++);return Dt=m.slice(r,1<c?1-c:void 0)}function ra(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Oa(){return!0}function Uo(){return!1}function mr(r){function s(o,c,m,y,T){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Oa:Uo,this.isPropagationStopped=Uo,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Oa)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Oa)},persist:function(){},isPersistent:Oa}),s}var Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=mr(Zt),Rs=b({},Zt,{view:0,detail:0}),zo=mr(Rs),Pi,ai,Ja,js=b({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ja&&(Ja&&r.type==="mousemove"?(Pi=r.screenX-Ja.screenX,ai=r.screenY-Ja.screenY):ai=Pi=0,Ja=r),Pi)},movementY:function(r){return"movementY"in r?r.movementY:ai}}),Vr=mr(js),Al=b({},js,{dataTransfer:0}),Ds=mr(Al),si=b({},Rs,{relatedTarget:0}),ki=mr(si),Bo=b({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0}),Vi=mr(Bo),Fo=b({},Zt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ii=mr(Fo),Rl=b({},Zt,{data:0}),Ho=mr(Rl),Ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oi(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=jl[r])?!!s[r]:!1}function Is(){return oi}var pr=b({},Rs,{key:function(r){if(r.key){var s=Ms[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ra(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?qo[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(r){return r.type==="keypress"?ra(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ra(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),li=mr(pr),Li=b({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=mr(Li),Fa=b({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),Dl=mr(Fa),ps=b({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0}),gs=mr(ps),Yo=b({},js,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ui=mr(Yo),Lr=b({},Zt,{newState:0,oldState:0}),Ml=mr(Lr),Il=[9,13,27,32],es=qn&&"CompositionEvent"in window,h=null;qn&&"documentMode"in document&&(h=document.documentMode);var x=qn&&"TextEvent"in window&&!h,w=qn&&(!es||h&&8<h&&11>=h),A=" ",re=!1;function he(r,s){switch(r){case"keyup":return Il.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ie(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Yt=!1;function Jn(r,s){switch(r){case"compositionend":return Ie(s);case"keypress":return s.which!==32?null:(re=!0,A);case"textInput":return r=s.data,r===A&&re?null:r;default:return null}}function Jt(r,s){if(Yt)return r==="compositionend"||!es&&he(r,s)?(r=ms(),Dt=Zn=_n=null,Yt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!$n[r.type]:s==="textarea"}function ys(r,s,o,c){Ae?Fe?Fe.push(c):Fe=[c]:Ae=c,s=Oh(s,"onChange"),0<s.length&&(o=new Oi("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Ur=null,ts=null;function Wo(r){eb(r,0)}function Ol(r){var s=Je(r);if(fr(s))return r}function Fd(r,s){if(r==="change")return s}var Hd=!1;if(qn){var Xc;if(qn){var Zc="oninput"in document;if(!Zc){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),Zc=typeof qd.oninput=="function"}Xc=Zc}else Xc=!1;Hd=Xc&&(!document.documentMode||9<document.documentMode)}function $d(){Ur&&(Ur.detachEvent("onpropertychange",Yd),ts=Ur=null)}function Yd(r){if(r.propertyName==="value"&&Ol(ts)){var s=[];ys(s,ts,r,Re(r)),kn(Wo,s)}}function Am(r,s,o){r==="focusin"?($d(),Ur=s,ts=o,Ur.attachEvent("onpropertychange",Yd)):r==="focusout"&&$d()}function Rm(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ol(ts)}function jm(r,s){if(r==="click")return Ol(s)}function Dm(r,s){if(r==="input"||r==="change")return Ol(s)}function Wd(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ca=typeof Object.is=="function"?Object.is:Wd;function Go(r,s){if(Ca(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!mn.call(s,m)||!Ca(r[m],s[m]))return!1}return!0}function Gd(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Qd(r,s){var o=Gd(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Gd(o)}}function v(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?v(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function C(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ia(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Ia(r.document)}return s}function L(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Y=qn&&"documentMode"in document&&11>=document.documentMode,J=null,K=null,Pe=null,nt=!1;function rn(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;nt||J==null||J!==Ia(c)||(c=J,"selectionStart"in c&&L(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pe&&Go(Pe,c)||(Pe=c,c=Oh(K,"onSelect"),0<c.length&&(s=new Oi("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=J)))}function ct(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var en={animationend:ct("Animation","AnimationEnd"),animationiteration:ct("Animation","AnimationIteration"),animationstart:ct("Animation","AnimationStart"),transitionrun:ct("Transition","TransitionRun"),transitionstart:ct("Transition","TransitionStart"),transitioncancel:ct("Transition","TransitionCancel"),transitionend:ct("Transition","TransitionEnd")},on={},Qn={};qn&&(Qn=document.createElement("div").style,"AnimationEvent"in window||(delete en.animationend.animation,delete en.animationiteration.animation,delete en.animationstart.animation),"TransitionEvent"in window||delete en.transitionend.transition);function hn(r){if(on[r])return on[r];if(!en[r])return r;var s=en[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Qn)return on[r]=s[o];return r}var er=hn("animationend"),Qt=hn("animationiteration"),Kn=hn("animationstart"),pn=hn("transitionrun"),kt=hn("transitionstart"),Oe=hn("transitioncancel"),pt=hn("transitionend"),an=new Map,Nt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nt.push("scrollEnd");function Ft(r,s){an.set(r,s),jn(s,[r])}var zr=new WeakMap;function ns(r,s){if(typeof r=="object"&&r!==null){var o=zr.get(r);return o!==void 0?o:(s={value:r,source:s,stack:na(s)},zr.set(r,s),s)}return{value:r,source:s,stack:na(s)}}var rs=[],Pl=0,Mm=0;function Kd(){for(var r=Pl,s=Mm=Pl=0;s<r;){var o=rs[s];rs[s++]=null;var c=rs[s];rs[s++]=null;var m=rs[s];rs[s++]=null;var y=rs[s];if(rs[s++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}y!==0&&Ly(o,m,y)}}function Xd(r,s,o,c){rs[Pl++]=r,rs[Pl++]=s,rs[Pl++]=o,rs[Pl++]=c,Mm|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Im(r,s,o,c){return Xd(r,s,o,c),Zd(r)}function kl(r,s){return Xd(r,null,null,s),Zd(r)}function Ly(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var m=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&s!==null&&(m=31-vn(o),r=y.hiddenUpdates,c=r[m],c===null?r[m]=[s]:c.push(s),s.lane=o|536870912),y):null}function Zd(r){if(50<Eu)throw Eu=0,Up=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Vl={};function nN(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(r,s,o,c){return new nN(r,s,o,c)}function Om(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ci(r,s){var o=r.alternate;return o===null?(o=Ha(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Uy(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Jd(r,s,o,c,m,y){var T=0;if(c=r,typeof r=="function")Om(r)&&(T=1);else if(typeof r=="string")T=aS(r,o,Me.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Ha(31,o,s,m),r.elementType=I,r.lanes=y,r;case P:return Qo(o.children,m,y,s);case U:T=8,m|=24;break;case $:return r=Ha(12,o,s,m|2),r.elementType=$,r.lanes=y,r;case de:return r=Ha(13,o,s,m),r.elementType=de,r.lanes=y,r;case H:return r=Ha(19,o,s,m),r.elementType=H,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Q:case se:T=10;break e;case pe:T=9;break e;case ge:T=11;break e;case k:T=14;break e;case R:T=16,c=null;break e}T=29,o=Error(a(130,r===null?"null":typeof r,"")),c=null}return s=Ha(T,o,s,m),s.elementType=r,s.type=c,s.lanes=y,s}function Qo(r,s,o,c){return r=Ha(7,r,c,s),r.lanes=o,r}function Pm(r,s,o){return r=Ha(6,r,null,s),r.lanes=o,r}function km(r,s,o){return s=Ha(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Ll=[],Ul=0,eh=null,th=0,as=[],ss=0,Ko=null,ui=1,di="";function Xo(r,s){Ll[Ul++]=th,Ll[Ul++]=eh,eh=r,th=s}function zy(r,s,o){as[ss++]=ui,as[ss++]=di,as[ss++]=Ko,Ko=r;var c=ui;r=di;var m=32-vn(c)-1;c&=~(1<<m),o+=1;var y=32-vn(s)+m;if(30<y){var T=m-m%5;y=(c&(1<<T)-1).toString(32),c>>=T,m-=T,ui=1<<32-vn(s)+m|o<<m|c,di=y+r}else ui=1<<y|o<<m|c,di=r}function Vm(r){r.return!==null&&(Xo(r,1),zy(r,1,0))}function Lm(r){for(;r===eh;)eh=Ll[--Ul],Ll[Ul]=null,th=Ll[--Ul],Ll[Ul]=null;for(;r===Ko;)Ko=as[--ss],as[ss]=null,di=as[--ss],as[ss]=null,ui=as[--ss],as[ss]=null}var Aa=null,lr=null,yn=!1,Zo=null,Os=!1,Um=Error(a(519));function Jo(r){var s=Error(a(418,""));throw tu(ns(s,r)),Um}function By(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[ve]=r,s[je]=c,o){case"dialog":Xt("cancel",s),Xt("close",s);break;case"iframe":case"object":case"embed":Xt("load",s);break;case"video":case"audio":for(o=0;o<Nu.length;o++)Xt(Nu[o],s);break;case"source":Xt("error",s);break;case"img":case"image":case"link":Xt("error",s),Xt("load",s);break;case"details":Xt("toggle",s);break;case"input":Xt("invalid",s),hs(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ma(s);break;case"select":Xt("invalid",s);break;case"textarea":Xt("invalid",s),ga(s,c.value,c.defaultValue,c.children),Ma(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||ab(s.textContent,o)?(c.popover!=null&&(Xt("beforetoggle",s),Xt("toggle",s)),c.onScroll!=null&&Xt("scroll",s),c.onScrollEnd!=null&&Xt("scrollend",s),c.onClick!=null&&(s.onclick=Ph),s=!0):s=!1,s||Jo(r)}function Fy(r){for(Aa=r.return;Aa;)switch(Aa.tag){case 5:case 13:Os=!1;return;case 27:case 3:Os=!0;return;default:Aa=Aa.return}}function Jc(r){if(r!==Aa)return!1;if(!yn)return Fy(r),yn=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||tg(r.type,r.memoizedProps)),o=!o),o&&lr&&Jo(r),Fy(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){lr=xs(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}lr=null}}else s===27?(s=lr,to(r.type)?(r=sg,sg=null,lr=r):lr=s):lr=Aa?xs(r.stateNode.nextSibling):null;return!0}function eu(){lr=Aa=null,yn=!1}function Hy(){var r=Zo;return r!==null&&(Va===null?Va=r:Va.push.apply(Va,r),Zo=null),r}function tu(r){Zo===null?Zo=[r]:Zo.push(r)}var zm=ne(null),el=null,hi=null;function zi(r,s,o){me(zm,s._currentValue),s._currentValue=o}function fi(r){r._currentValue=zm.current,_e(zm)}function Bm(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function Fm(r,s,o,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=m;for(var F=0;F<s.length;F++)if(S.context===s[F]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),Bm(y.return,o,r),c||(T=null);break e}y=S.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(a(341));T.lanes|=o,y=T.alternate,y!==null&&(y.lanes|=o),Bm(T,o,r),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===r){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function nu(r,s,o,c){r=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var S=m.type;Ca(m.pendingProps.value,T.value)||(r!==null?r.push(S):r=[S])}}else if(m===Lt.current){if(T=m.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Du):r=[Du])}m=m.return}r!==null&&Fm(s,r,o,c),s.flags|=262144}function nh(r){for(r=r.firstContext;r!==null;){if(!Ca(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function tl(r){el=r,hi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ya(r){return qy(el,r)}function rh(r,s){return el===null&&tl(r),qy(r,s)}function qy(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},hi===null){if(r===null)throw Error(a(308));hi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else hi=hi.next=s;return o}var rN=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},aN=n.unstable_scheduleCallback,sN=n.unstable_NormalPriority,Br={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hm(){return{controller:new rN,data:new Map,refCount:0}}function ru(r){r.refCount--,r.refCount===0&&aN(sN,function(){r.controller.abort()})}var au=null,qm=0,zl=0,Bl=null;function iN(r,s){if(au===null){var o=au=[];qm=0,zl=Yp(),Bl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return qm++,s.then($y,$y),s}function $y(){if(--qm===0&&au!==null){Bl!==null&&(Bl.status="fulfilled");var r=au;au=null,zl=0,Bl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function oN(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Yy=B.S;B.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&iN(r,s),Yy!==null&&Yy(r,s)};var nl=ne(null);function $m(){var r=nl.current;return r!==null?r:Fn.pooledCache}function ah(r,s){s===null?me(nl,nl.current):me(nl,s.pool)}function Wy(){var r=$m();return r===null?null:{parent:Br._currentValue,pool:r}}var su=Error(a(460)),Gy=Error(a(474)),sh=Error(a(542)),Ym={then:function(){}};function Qy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ih(){}function Ky(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(ih,ih),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Zy(r),r;default:if(typeof s.status=="string")s.then(ih,ih);else{if(r=Fn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Zy(r),r}throw iu=s,su}}var iu=null;function Xy(){if(iu===null)throw Error(a(459));var r=iu;return iu=null,r}function Zy(r){if(r===su||r===sh)throw Error(a(483))}var Bi=!1;function Wm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Fi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Hi(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Nn&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Zd(r),Ly(r,null,o),s}return Xd(r,c,s,o),Zd(r)}function ou(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,Tn(r,o)}}function Qm(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,o=o.next}while(o!==null);y===null?m=y=s:y=y.next=s}else m=y=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Km=!1;function lu(){if(Km){var r=Bl;if(r!==null)throw r}}function cu(r,s,o,c){Km=!1;var m=r.updateQueue;Bi=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var F=S,ie=F.next;F.next=null,T===null?y=ie:T.next=ie,T=F;var be=r.alternate;be!==null&&(be=be.updateQueue,S=be.lastBaseUpdate,S!==T&&(S===null?be.firstBaseUpdate=ie:S.next=ie,be.lastBaseUpdate=F))}if(y!==null){var Te=m.baseState;T=0,be=ie=F=null,S=y;do{var ce=S.lane&-536870913,ue=ce!==S.lane;if(ue?(ln&ce)===ce:(c&ce)===ce){ce!==0&&ce===zl&&(Km=!0),be!==null&&(be=be.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var bt=r,gt=S;ce=s;var In=o;switch(gt.tag){case 1:if(bt=gt.payload,typeof bt=="function"){Te=bt.call(In,Te,ce);break e}Te=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=gt.payload,ce=typeof bt=="function"?bt.call(In,Te,ce):bt,ce==null)break e;Te=b({},Te,ce);break e;case 2:Bi=!0}}ce=S.callback,ce!==null&&(r.flags|=64,ue&&(r.flags|=8192),ue=m.callbacks,ue===null?m.callbacks=[ce]:ue.push(ce))}else ue={lane:ce,tag:S.tag,payload:S.payload,callback:S.callback,next:null},be===null?(ie=be=ue,F=Te):be=be.next=ue,T|=ce;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;ue=S,S=ue.next,ue.next=null,m.lastBaseUpdate=ue,m.shared.pending=null}}while(!0);be===null&&(F=Te),m.baseState=F,m.firstBaseUpdate=ie,m.lastBaseUpdate=be,y===null&&(m.shared.lanes=0),Xi|=T,r.lanes=T,r.memoizedState=Te}}function Jy(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function ev(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Jy(o[r],s)}var Fl=ne(null),oh=ne(0);function tv(r,s){r=bi,me(oh,r),me(Fl,s),bi=r|s.baseLanes}function Xm(){me(oh,bi),me(Fl,Fl.current)}function Zm(){bi=oh.current,_e(Fl),_e(oh)}var qi=0,Ht=null,Dn=null,Ar=null,lh=!1,Hl=!1,rl=!1,ch=0,uu=0,ql=null,lN=0;function gr(){throw Error(a(321))}function Jm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Ca(r[o],s[o]))return!1;return!0}function ep(r,s,o,c,m,y){return qi=y,Ht=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=r===null||r.memoizedState===null?Lv:Uv,rl=!1,y=o(c,m),rl=!1,Hl&&(y=rv(s,o,c,m)),nv(r),y}function nv(r){B.H=ph;var s=Dn!==null&&Dn.next!==null;if(qi=0,Ar=Dn=Ht=null,lh=!1,uu=0,ql=null,s)throw Error(a(300));r===null||Qr||(r=r.dependencies,r!==null&&nh(r)&&(Qr=!0))}function rv(r,s,o,c){Ht=r;var m=0;do{if(Hl&&(ql=null),uu=0,Hl=!1,25<=m)throw Error(a(301));if(m+=1,Ar=Dn=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=pN,y=s(o,c)}while(Hl);return y}function cN(){var r=B.H,s=r.useState()[0];return s=typeof s.then=="function"?du(s):s,r=r.useState()[0],(Dn!==null?Dn.memoizedState:null)!==r&&(Ht.flags|=1024),s}function tp(){var r=ch!==0;return ch=0,r}function np(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function rp(r){if(lh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lh=!1}qi=0,Ar=Dn=Ht=null,Hl=!1,uu=ch=0,ql=null}function Pa(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?Ht.memoizedState=Ar=r:Ar=Ar.next=r,Ar}function Rr(){if(Dn===null){var r=Ht.alternate;r=r!==null?r.memoizedState:null}else r=Dn.next;var s=Ar===null?Ht.memoizedState:Ar.next;if(s!==null)Ar=s,Dn=r;else{if(r===null)throw Ht.alternate===null?Error(a(467)):Error(a(310));Dn=r,r={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Ar===null?Ht.memoizedState=Ar=r:Ar=Ar.next=r}return Ar}function ap(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function du(r){var s=uu;return uu+=1,ql===null&&(ql=[]),r=Ky(ql,r,s),s=Ht,(Ar===null?s.memoizedState:Ar.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?Lv:Uv),r}function uh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return du(r);if(r.$$typeof===se)return ya(r)}throw Error(a(438,String(r)))}function sp(r){var s=null,o=Ht.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ht.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=ap(),Ht.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=j;return s.index++,o}function mi(r,s){return typeof s=="function"?s(r):s}function dh(r){var s=Rr();return ip(s,Dn,r)}function ip(r,s,o){var c=r.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var m=r.baseQueue,y=c.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}s.baseQueue=m=y,c.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{s=m.next;var S=T=null,F=null,ie=s,be=!1;do{var Te=ie.lane&-536870913;if(Te!==ie.lane?(ln&Te)===Te:(qi&Te)===Te){var ce=ie.revertLane;if(ce===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),Te===zl&&(be=!0);else if((qi&ce)===ce){ie=ie.next,ce===zl&&(be=!0);continue}else Te={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},F===null?(S=F=Te,T=y):F=F.next=Te,Ht.lanes|=ce,Xi|=ce;Te=ie.action,rl&&o(y,Te),y=ie.hasEagerState?ie.eagerState:o(y,Te)}else ce={lane:Te,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},F===null?(S=F=ce,T=y):F=F.next=ce,Ht.lanes|=Te,Xi|=Te;ie=ie.next}while(ie!==null&&ie!==s);if(F===null?T=y:F.next=S,!Ca(y,r.memoizedState)&&(Qr=!0,be&&(o=Bl,o!==null)))throw o;r.memoizedState=y,r.baseState=T,r.baseQueue=F,c.lastRenderedState=y}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function op(r){var s=Rr(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=o.dispatch,m=o.pending,y=s.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do y=r(y,T.action),T=T.next;while(T!==m);Ca(y,s.memoizedState)||(Qr=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function av(r,s,o){var c=Ht,m=Rr(),y=yn;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=s();var T=!Ca((Dn||m).memoizedState,o);T&&(m.memoizedState=o,Qr=!0),m=m.queue;var S=ov.bind(null,c,m,r);if(hu(2048,8,S,[r]),m.getSnapshot!==s||T||Ar!==null&&Ar.memoizedState.tag&1){if(c.flags|=2048,$l(9,hh(),iv.bind(null,c,m,o,s),null),Fn===null)throw Error(a(349));y||(qi&124)!==0||sv(c,s,o)}return o}function sv(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ht.updateQueue,s===null?(s=ap(),Ht.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function iv(r,s,o,c){s.value=o,s.getSnapshot=c,lv(s)&&cv(r)}function ov(r,s,o){return o(function(){lv(s)&&cv(r)})}function lv(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Ca(r,o)}catch{return!0}}function cv(r){var s=kl(r,2);s!==null&&Ga(s,r,2)}function lp(r){var s=Pa();if(typeof r=="function"){var o=r;if(r=o(),rl){sn(!0);try{o()}finally{sn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:r},s}function uv(r,s,o,c){return r.baseState=o,ip(r,Dn,typeof c=="function"?c:mi)}function uN(r,s,o,c,m){if(mh(r))throw Error(a(485));if(r=s.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};B.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,dv(s,y)):(y.next=o.next,s.pending=o.next=y)}}function dv(r,s){var o=s.action,c=s.payload,m=r.state;if(s.isTransition){var y=B.T,T={};B.T=T;try{var S=o(m,c),F=B.S;F!==null&&F(T,S),hv(r,s,S)}catch(ie){cp(r,s,ie)}finally{B.T=y}}else try{y=o(m,c),hv(r,s,y)}catch(ie){cp(r,s,ie)}}function hv(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){fv(r,s,c)},function(c){return cp(r,s,c)}):fv(r,s,o)}function fv(r,s,o){s.status="fulfilled",s.value=o,mv(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,dv(r,o)))}function cp(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,mv(s),s=s.next;while(s!==c)}r.action=null}function mv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function pv(r,s){return s}function gv(r,s){if(yn){var o=Fn.formState;if(o!==null){e:{var c=Ht;if(yn){if(lr){t:{for(var m=lr,y=Os;m.nodeType!==8;){if(!y){m=null;break t}if(m=xs(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){lr=xs(m.nextSibling),c=m.data==="F!";break e}}Jo(c)}c=!1}c&&(s=o[0])}}return o=Pa(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pv,lastRenderedState:s},o.queue=c,o=Pv.bind(null,Ht,c),c.dispatch=o,c=lp(!1),y=mp.bind(null,Ht,!1,c.queue),c=Pa(),m={state:s,dispatch:null,action:r,pending:null},c.queue=m,o=uN.bind(null,Ht,m,y,o),m.dispatch=o,c.memoizedState=r,[s,o,!1]}function yv(r){var s=Rr();return vv(s,Dn,r)}function vv(r,s,o){if(s=ip(r,s,pv)[0],r=dh(mi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=du(s)}catch(T){throw T===su?sh:T}else c=s;s=Rr();var m=s.queue,y=m.dispatch;return o!==s.memoizedState&&(Ht.flags|=2048,$l(9,hh(),dN.bind(null,m,o),null)),[c,y,r]}function dN(r,s){r.action=s}function xv(r){var s=Rr(),o=Dn;if(o!==null)return vv(s,o,r);Rr(),s=s.memoizedState,o=Rr();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function $l(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Ht.updateQueue,s===null&&(s=ap(),Ht.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function hh(){return{destroy:void 0,resource:void 0}}function bv(){return Rr().memoizedState}function fh(r,s,o,c){var m=Pa();c=c===void 0?null:c,Ht.flags|=r,m.memoizedState=$l(1|s,hh(),o,c)}function hu(r,s,o,c){var m=Rr();c=c===void 0?null:c;var y=m.memoizedState.inst;Dn!==null&&c!==null&&Jm(c,Dn.memoizedState.deps)?m.memoizedState=$l(s,y,o,c):(Ht.flags|=r,m.memoizedState=$l(1|s,y,o,c))}function _v(r,s){fh(8390656,8,r,s)}function wv(r,s){hu(2048,8,r,s)}function Ev(r,s){return hu(4,2,r,s)}function Tv(r,s){return hu(4,4,r,s)}function Nv(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Sv(r,s,o){o=o!=null?o.concat([r]):null,hu(4,4,Nv.bind(null,s,r),o)}function up(){}function Cv(r,s){var o=Rr();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Jm(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function Av(r,s){var o=Rr();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Jm(s,c[1]))return c[0];if(c=r(),rl){sn(!0);try{r()}finally{sn(!1)}}return o.memoizedState=[c,s],c}function dp(r,s,o){return o===void 0||(qi&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Dx(),Ht.lanes|=r,Xi|=r,o)}function Rv(r,s,o,c){return Ca(o,s)?o:Fl.current!==null?(r=dp(r,o,c),Ca(r,s)||(Qr=!0),r):(qi&42)===0?(Qr=!0,r.memoizedState=o):(r=Dx(),Ht.lanes|=r,Xi|=r,s)}function jv(r,s,o,c,m){var y=le.p;le.p=y!==0&&8>y?y:8;var T=B.T,S={};B.T=S,mp(r,!1,s,o);try{var F=m(),ie=B.S;if(ie!==null&&ie(S,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var be=oN(F,c);fu(r,s,be,Wa(r))}else fu(r,s,c,Wa(r))}catch(Te){fu(r,s,{then:function(){},status:"rejected",reason:Te},Wa())}finally{le.p=y,B.T=T}}function hN(){}function hp(r,s,o,c){if(r.tag!==5)throw Error(a(476));var m=Dv(r).queue;jv(r,m,s,oe,o===null?hN:function(){return Mv(r),o(c)})}function Dv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:oe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Mv(r){var s=Dv(r).next.queue;fu(r,s,{},Wa())}function fp(){return ya(Du)}function Iv(){return Rr().memoizedState}function Ov(){return Rr().memoizedState}function fN(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Wa();r=Fi(o);var c=Hi(s,r,o);c!==null&&(Ga(c,s,o),ou(c,s,o)),s={cache:Hm()},r.payload=s;return}s=s.return}}function mN(r,s,o){var c=Wa();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},mh(r)?kv(s,o):(o=Im(r,s,o,c),o!==null&&(Ga(o,r,c),Vv(o,s,c)))}function Pv(r,s,o){var c=Wa();fu(r,s,o,c)}function fu(r,s,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(mh(r))kv(s,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,S=y(T,o);if(m.hasEagerState=!0,m.eagerState=S,Ca(S,T))return Xd(r,s,m,0),Fn===null&&Kd(),!1}catch{}finally{}if(o=Im(r,s,m,c),o!==null)return Ga(o,r,c),Vv(o,s,c),!0}return!1}function mp(r,s,o,c){if(c={lane:2,revertLane:Yp(),action:c,hasEagerState:!1,eagerState:null,next:null},mh(r)){if(s)throw Error(a(479))}else s=Im(r,o,c,2),s!==null&&Ga(s,r,2)}function mh(r){var s=r.alternate;return r===Ht||s!==null&&s===Ht}function kv(r,s){Hl=lh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Vv(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,Tn(r,o)}}var ph={readContext:ya,use:uh,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useLayoutEffect:gr,useInsertionEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useSyncExternalStore:gr,useId:gr,useHostTransitionStatus:gr,useFormState:gr,useActionState:gr,useOptimistic:gr,useMemoCache:gr,useCacheRefresh:gr},Lv={readContext:ya,use:uh,useCallback:function(r,s){return Pa().memoizedState=[r,s===void 0?null:s],r},useContext:ya,useEffect:_v,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,fh(4194308,4,Nv.bind(null,s,r),o)},useLayoutEffect:function(r,s){return fh(4194308,4,r,s)},useInsertionEffect:function(r,s){fh(4,2,r,s)},useMemo:function(r,s){var o=Pa();s=s===void 0?null:s;var c=r();if(rl){sn(!0);try{r()}finally{sn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Pa();if(o!==void 0){var m=o(s);if(rl){sn(!0);try{o(s)}finally{sn(!1)}}}else m=s;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=mN.bind(null,Ht,r),[c.memoizedState,r]},useRef:function(r){var s=Pa();return r={current:r},s.memoizedState=r},useState:function(r){r=lp(r);var s=r.queue,o=Pv.bind(null,Ht,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:up,useDeferredValue:function(r,s){var o=Pa();return dp(o,r,s)},useTransition:function(){var r=lp(!1);return r=jv.bind(null,Ht,r.queue,!0,!1),Pa().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Ht,m=Pa();if(yn){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),Fn===null)throw Error(a(349));(ln&124)!==0||sv(c,s,o)}m.memoizedState=o;var y={value:o,getSnapshot:s};return m.queue=y,_v(ov.bind(null,c,y,r),[r]),c.flags|=2048,$l(9,hh(),iv.bind(null,c,y,o,s),null),o},useId:function(){var r=Pa(),s=Fn.identifierPrefix;if(yn){var o=di,c=ui;o=(c&~(1<<32-vn(c)-1)).toString(32)+o,s=""+s+"R"+o,o=ch++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=lN++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:fp,useFormState:gv,useActionState:gv,useOptimistic:function(r){var s=Pa();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=mp.bind(null,Ht,!0,o),o.dispatch=s,[r,s]},useMemoCache:sp,useCacheRefresh:function(){return Pa().memoizedState=fN.bind(null,Ht)}},Uv={readContext:ya,use:uh,useCallback:Cv,useContext:ya,useEffect:wv,useImperativeHandle:Sv,useInsertionEffect:Ev,useLayoutEffect:Tv,useMemo:Av,useReducer:dh,useRef:bv,useState:function(){return dh(mi)},useDebugValue:up,useDeferredValue:function(r,s){var o=Rr();return Rv(o,Dn.memoizedState,r,s)},useTransition:function(){var r=dh(mi)[0],s=Rr().memoizedState;return[typeof r=="boolean"?r:du(r),s]},useSyncExternalStore:av,useId:Iv,useHostTransitionStatus:fp,useFormState:yv,useActionState:yv,useOptimistic:function(r,s){var o=Rr();return uv(o,Dn,r,s)},useMemoCache:sp,useCacheRefresh:Ov},pN={readContext:ya,use:uh,useCallback:Cv,useContext:ya,useEffect:wv,useImperativeHandle:Sv,useInsertionEffect:Ev,useLayoutEffect:Tv,useMemo:Av,useReducer:op,useRef:bv,useState:function(){return op(mi)},useDebugValue:up,useDeferredValue:function(r,s){var o=Rr();return Dn===null?dp(o,r,s):Rv(o,Dn.memoizedState,r,s)},useTransition:function(){var r=op(mi)[0],s=Rr().memoizedState;return[typeof r=="boolean"?r:du(r),s]},useSyncExternalStore:av,useId:Iv,useHostTransitionStatus:fp,useFormState:xv,useActionState:xv,useOptimistic:function(r,s){var o=Rr();return Dn!==null?uv(o,Dn,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:sp,useCacheRefresh:Ov},Yl=null,mu=0;function gh(r){var s=mu;return mu+=1,Yl===null&&(Yl=[]),Ky(Yl,r,s)}function pu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function yh(r,s){throw s.$$typeof===_?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function zv(r){var s=r._init;return s(r._payload)}function Bv(r){function s(Z,G){if(r){var ae=Z.deletions;ae===null?(Z.deletions=[G],Z.flags|=16):ae.push(G)}}function o(Z,G){if(!r)return null;for(;G!==null;)s(Z,G),G=G.sibling;return null}function c(Z){for(var G=new Map;Z!==null;)Z.key!==null?G.set(Z.key,Z):G.set(Z.index,Z),Z=Z.sibling;return G}function m(Z,G){return Z=ci(Z,G),Z.index=0,Z.sibling=null,Z}function y(Z,G,ae){return Z.index=ae,r?(ae=Z.alternate,ae!==null?(ae=ae.index,ae<G?(Z.flags|=67108866,G):ae):(Z.flags|=67108866,G)):(Z.flags|=1048576,G)}function T(Z){return r&&Z.alternate===null&&(Z.flags|=67108866),Z}function S(Z,G,ae,we){return G===null||G.tag!==6?(G=Pm(ae,Z.mode,we),G.return=Z,G):(G=m(G,ae),G.return=Z,G)}function F(Z,G,ae,we){var Ge=ae.type;return Ge===P?be(Z,G,ae.props.children,we,ae.key):G!==null&&(G.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===R&&zv(Ge)===G.type)?(G=m(G,ae.props),pu(G,ae),G.return=Z,G):(G=Jd(ae.type,ae.key,ae.props,null,Z.mode,we),pu(G,ae),G.return=Z,G)}function ie(Z,G,ae,we){return G===null||G.tag!==4||G.stateNode.containerInfo!==ae.containerInfo||G.stateNode.implementation!==ae.implementation?(G=km(ae,Z.mode,we),G.return=Z,G):(G=m(G,ae.children||[]),G.return=Z,G)}function be(Z,G,ae,we,Ge){return G===null||G.tag!==7?(G=Qo(ae,Z.mode,we,Ge),G.return=Z,G):(G=m(G,ae),G.return=Z,G)}function Te(Z,G,ae){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Pm(""+G,Z.mode,ae),G.return=Z,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return ae=Jd(G.type,G.key,G.props,null,Z.mode,ae),pu(ae,G),ae.return=Z,ae;case D:return G=km(G,Z.mode,ae),G.return=Z,G;case R:var we=G._init;return G=we(G._payload),Te(Z,G,ae)}if(ye(G)||W(G))return G=Qo(G,Z.mode,ae,null),G.return=Z,G;if(typeof G.then=="function")return Te(Z,gh(G),ae);if(G.$$typeof===se)return Te(Z,rh(Z,G),ae);yh(Z,G)}return null}function ce(Z,G,ae,we){var Ge=G!==null?G.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ge!==null?null:S(Z,G,""+ae,we);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return ae.key===Ge?F(Z,G,ae,we):null;case D:return ae.key===Ge?ie(Z,G,ae,we):null;case R:return Ge=ae._init,ae=Ge(ae._payload),ce(Z,G,ae,we)}if(ye(ae)||W(ae))return Ge!==null?null:be(Z,G,ae,we,null);if(typeof ae.then=="function")return ce(Z,G,gh(ae),we);if(ae.$$typeof===se)return ce(Z,G,rh(Z,ae),we);yh(Z,ae)}return null}function ue(Z,G,ae,we,Ge){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return Z=Z.get(ae)||null,S(G,Z,""+we,Ge);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case E:return Z=Z.get(we.key===null?ae:we.key)||null,F(G,Z,we,Ge);case D:return Z=Z.get(we.key===null?ae:we.key)||null,ie(G,Z,we,Ge);case R:var Wt=we._init;return we=Wt(we._payload),ue(Z,G,ae,we,Ge)}if(ye(we)||W(we))return Z=Z.get(ae)||null,be(G,Z,we,Ge,null);if(typeof we.then=="function")return ue(Z,G,ae,gh(we),Ge);if(we.$$typeof===se)return ue(Z,G,ae,rh(G,we),Ge);yh(G,we)}return null}function bt(Z,G,ae,we){for(var Ge=null,Wt=null,st=G,yt=G=0,Xr=null;st!==null&&yt<ae.length;yt++){st.index>yt?(Xr=st,st=null):Xr=st.sibling;var gn=ce(Z,st,ae[yt],we);if(gn===null){st===null&&(st=Xr);break}r&&st&&gn.alternate===null&&s(Z,st),G=y(gn,G,yt),Wt===null?Ge=gn:Wt.sibling=gn,Wt=gn,st=Xr}if(yt===ae.length)return o(Z,st),yn&&Xo(Z,yt),Ge;if(st===null){for(;yt<ae.length;yt++)st=Te(Z,ae[yt],we),st!==null&&(G=y(st,G,yt),Wt===null?Ge=st:Wt.sibling=st,Wt=st);return yn&&Xo(Z,yt),Ge}for(st=c(st);yt<ae.length;yt++)Xr=ue(st,Z,yt,ae[yt],we),Xr!==null&&(r&&Xr.alternate!==null&&st.delete(Xr.key===null?yt:Xr.key),G=y(Xr,G,yt),Wt===null?Ge=Xr:Wt.sibling=Xr,Wt=Xr);return r&&st.forEach(function(io){return s(Z,io)}),yn&&Xo(Z,yt),Ge}function gt(Z,G,ae,we){if(ae==null)throw Error(a(151));for(var Ge=null,Wt=null,st=G,yt=G=0,Xr=null,gn=ae.next();st!==null&&!gn.done;yt++,gn=ae.next()){st.index>yt?(Xr=st,st=null):Xr=st.sibling;var io=ce(Z,st,gn.value,we);if(io===null){st===null&&(st=Xr);break}r&&st&&io.alternate===null&&s(Z,st),G=y(io,G,yt),Wt===null?Ge=io:Wt.sibling=io,Wt=io,st=Xr}if(gn.done)return o(Z,st),yn&&Xo(Z,yt),Ge;if(st===null){for(;!gn.done;yt++,gn=ae.next())gn=Te(Z,gn.value,we),gn!==null&&(G=y(gn,G,yt),Wt===null?Ge=gn:Wt.sibling=gn,Wt=gn);return yn&&Xo(Z,yt),Ge}for(st=c(st);!gn.done;yt++,gn=ae.next())gn=ue(st,Z,yt,gn.value,we),gn!==null&&(r&&gn.alternate!==null&&st.delete(gn.key===null?yt:gn.key),G=y(gn,G,yt),Wt===null?Ge=gn:Wt.sibling=gn,Wt=gn);return r&&st.forEach(function(gS){return s(Z,gS)}),yn&&Xo(Z,yt),Ge}function In(Z,G,ae,we){if(typeof ae=="object"&&ae!==null&&ae.type===P&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:e:{for(var Ge=ae.key;G!==null;){if(G.key===Ge){if(Ge=ae.type,Ge===P){if(G.tag===7){o(Z,G.sibling),we=m(G,ae.props.children),we.return=Z,Z=we;break e}}else if(G.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===R&&zv(Ge)===G.type){o(Z,G.sibling),we=m(G,ae.props),pu(we,ae),we.return=Z,Z=we;break e}o(Z,G);break}else s(Z,G);G=G.sibling}ae.type===P?(we=Qo(ae.props.children,Z.mode,we,ae.key),we.return=Z,Z=we):(we=Jd(ae.type,ae.key,ae.props,null,Z.mode,we),pu(we,ae),we.return=Z,Z=we)}return T(Z);case D:e:{for(Ge=ae.key;G!==null;){if(G.key===Ge)if(G.tag===4&&G.stateNode.containerInfo===ae.containerInfo&&G.stateNode.implementation===ae.implementation){o(Z,G.sibling),we=m(G,ae.children||[]),we.return=Z,Z=we;break e}else{o(Z,G);break}else s(Z,G);G=G.sibling}we=km(ae,Z.mode,we),we.return=Z,Z=we}return T(Z);case R:return Ge=ae._init,ae=Ge(ae._payload),In(Z,G,ae,we)}if(ye(ae))return bt(Z,G,ae,we);if(W(ae)){if(Ge=W(ae),typeof Ge!="function")throw Error(a(150));return ae=Ge.call(ae),gt(Z,G,ae,we)}if(typeof ae.then=="function")return In(Z,G,gh(ae),we);if(ae.$$typeof===se)return In(Z,G,rh(Z,ae),we);yh(Z,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,G!==null&&G.tag===6?(o(Z,G.sibling),we=m(G,ae),we.return=Z,Z=we):(o(Z,G),we=Pm(ae,Z.mode,we),we.return=Z,Z=we),T(Z)):o(Z,G)}return function(Z,G,ae,we){try{mu=0;var Ge=In(Z,G,ae,we);return Yl=null,Ge}catch(st){if(st===su||st===sh)throw st;var Wt=Ha(29,st,null,Z.mode);return Wt.lanes=we,Wt.return=Z,Wt}finally{}}}var Wl=Bv(!0),Fv=Bv(!1),is=ne(null),Ps=null;function $i(r){var s=r.alternate;me(Fr,Fr.current&1),me(is,r),Ps===null&&(s===null||Fl.current!==null||s.memoizedState!==null)&&(Ps=r)}function Hv(r){if(r.tag===22){if(me(Fr,Fr.current),me(is,r),Ps===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Ps=r)}}else Yi()}function Yi(){me(Fr,Fr.current),me(is,is.current)}function pi(r){_e(is),Ps===r&&(Ps=null),_e(Fr)}var Fr=ne(0);function vh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||ag(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function pp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:b({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var gp={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Wa(),m=Fi(c);m.payload=s,o!=null&&(m.callback=o),s=Hi(r,m,c),s!==null&&(Ga(s,r,c),ou(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Wa(),m=Fi(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Hi(r,m,c),s!==null&&(Ga(s,r,c),ou(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Wa(),c=Fi(o);c.tag=2,s!=null&&(c.callback=s),s=Hi(r,c,o),s!==null&&(Ga(s,r,o),ou(s,r,o))}};function qv(r,s,o,c,m,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,T):s.prototype&&s.prototype.isPureReactComponent?!Go(o,c)||!Go(m,y):!0}function $v(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&gp.enqueueReplaceState(s,s.state,null)}function al(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=b({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}var xh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Yv(r){xh(r)}function Wv(r){console.error(r)}function Gv(r){xh(r)}function bh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Qv(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function yp(r,s,o){return o=Fi(o),o.tag=3,o.payload={element:null},o.callback=function(){bh(r,s)},o}function Kv(r){return r=Fi(r),r.tag=3,r}function Xv(r,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;r.payload=function(){return m(y)},r.callback=function(){Qv(s,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){Qv(s,o,c),typeof m!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function gN(r,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&nu(s,o,m,!0),o=is.current,o!==null){switch(o.tag){case 13:return Ps===null?Bp():o.alternate===null&&cr===0&&(cr=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Ym?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Hp(r,c,m)),!1;case 22:return o.flags|=65536,c===Ym?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Hp(r,c,m)),!1}throw Error(a(435,o.tag))}return Hp(r,c,m),Bp(),!1}if(yn)return s=is.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Um&&(r=Error(a(422),{cause:c}),tu(ns(r,o)))):(c!==Um&&(s=Error(a(423),{cause:c}),tu(ns(s,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=ns(c,o),m=yp(r.stateNode,c,m),Qm(r,m),cr!==4&&(cr=2)),!1;var y=Error(a(520),{cause:c});if(y=ns(y,o),wu===null?wu=[y]:wu.push(y),cr!==4&&(cr=2),s===null)return!0;c=ns(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=yp(o.stateNode,c,r),Qm(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zi===null||!Zi.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Kv(m),Xv(m,r,o,c),Qm(o,m),!1}o=o.return}while(o!==null);return!1}var Zv=Error(a(461)),Qr=!1;function aa(r,s,o,c){s.child=r===null?Fv(s,null,o,c):Wl(s,r.child,o,c)}function Jv(r,s,o,c,m){o=o.render;var y=s.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return tl(s),c=ep(r,s,o,T,y,m),S=tp(),r!==null&&!Qr?(np(r,s,m),gi(r,s,m)):(yn&&S&&Vm(s),s.flags|=1,aa(r,s,c,m),s.child)}function ex(r,s,o,c,m){if(r===null){var y=o.type;return typeof y=="function"&&!Om(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,tx(r,s,y,c,m)):(r=Jd(o.type,null,c,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Np(r,m)){var T=y.memoizedProps;if(o=o.compare,o=o!==null?o:Go,o(T,c)&&r.ref===s.ref)return gi(r,s,m)}return s.flags|=1,r=ci(y,c),r.ref=s.ref,r.return=s,s.child=r}function tx(r,s,o,c,m){if(r!==null){var y=r.memoizedProps;if(Go(y,c)&&r.ref===s.ref)if(Qr=!1,s.pendingProps=c=y,Np(r,m))(r.flags&131072)!==0&&(Qr=!0);else return s.lanes=r.lanes,gi(r,s,m)}return vp(r,s,o,c,m)}function nx(r,s,o){var c=s.pendingProps,m=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,r!==null){for(m=s.child=r.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return rx(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&ah(s,y!==null?y.cachePool:null),y!==null?tv(s,y):Xm(),Hv(s);else return s.lanes=s.childLanes=536870912,rx(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(ah(s,y.cachePool),tv(s,y),Yi(),s.memoizedState=null):(r!==null&&ah(s,null),Xm(),Yi());return aa(r,s,m,o),s.child}function rx(r,s,o,c){var m=$m();return m=m===null?null:{parent:Br._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},r!==null&&ah(s,null),Xm(),Hv(s),r!==null&&nu(r,s,c,!0),null}function _h(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function vp(r,s,o,c,m){return tl(s),o=ep(r,s,o,c,void 0,m),c=tp(),r!==null&&!Qr?(np(r,s,m),gi(r,s,m)):(yn&&c&&Vm(s),s.flags|=1,aa(r,s,o,m),s.child)}function ax(r,s,o,c,m,y){return tl(s),s.updateQueue=null,o=rv(s,c,o,m),nv(r),c=tp(),r!==null&&!Qr?(np(r,s,y),gi(r,s,y)):(yn&&c&&Vm(s),s.flags|=1,aa(r,s,o,y),s.child)}function sx(r,s,o,c,m){if(tl(s),s.stateNode===null){var y=Vl,T=o.contextType;typeof T=="object"&&T!==null&&(y=ya(T)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=gp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},Wm(s),T=o.contextType,y.context=typeof T=="object"&&T!==null?ya(T):Vl,y.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(pp(s,o,T,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&gp.enqueueReplaceState(y,y.state,null),cu(s,c,y,m),lu(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var S=s.memoizedProps,F=al(o,S);y.props=F;var ie=y.context,be=o.contextType;T=Vl,typeof be=="object"&&be!==null&&(T=ya(be));var Te=o.getDerivedStateFromProps;be=typeof Te=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,be||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||ie!==T)&&$v(s,y,c,T),Bi=!1;var ce=s.memoizedState;y.state=ce,cu(s,c,y,m),lu(),ie=s.memoizedState,S||ce!==ie||Bi?(typeof Te=="function"&&(pp(s,o,Te,c),ie=s.memoizedState),(F=Bi||qv(s,o,F,c,ce,ie,T))?(be||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=ie),y.props=c,y.state=ie,y.context=T,c=F):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,Gm(r,s),T=s.memoizedProps,be=al(o,T),y.props=be,Te=s.pendingProps,ce=y.context,ie=o.contextType,F=Vl,typeof ie=="object"&&ie!==null&&(F=ya(ie)),S=o.getDerivedStateFromProps,(ie=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==Te||ce!==F)&&$v(s,y,c,F),Bi=!1,ce=s.memoizedState,y.state=ce,cu(s,c,y,m),lu();var ue=s.memoizedState;T!==Te||ce!==ue||Bi||r!==null&&r.dependencies!==null&&nh(r.dependencies)?(typeof S=="function"&&(pp(s,o,S,c),ue=s.memoizedState),(be=Bi||qv(s,o,be,c,ce,ue,F)||r!==null&&r.dependencies!==null&&nh(r.dependencies))?(ie||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ue,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ue,F)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&ce===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ce===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ue),y.props=c,y.state=ue,y.context=F,c=be):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&ce===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ce===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,_h(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=Wl(s,r.child,null,m),s.child=Wl(s,null,o,m)):aa(r,s,o,m),s.memoizedState=y.state,r=s.child):r=gi(r,s,m),r}function ix(r,s,o,c){return eu(),s.flags|=256,aa(r,s,o,c),s.child}var xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bp(r){return{baseLanes:r,cachePool:Wy()}}function _p(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=os),r}function ox(r,s,o){var c=s.pendingProps,m=!1,y=(s.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(Fr.current&2)!==0),T&&(m=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(yn){if(m?$i(s):Yi(),yn){var S=lr,F;if(F=S){e:{for(F=S,S=Os;F.nodeType!==8;){if(!S){S=null;break e}if(F=xs(F.nextSibling),F===null){S=null;break e}}S=F}S!==null?(s.memoizedState={dehydrated:S,treeContext:Ko!==null?{id:ui,overflow:di}:null,retryLane:536870912,hydrationErrors:null},F=Ha(18,null,null,0),F.stateNode=S,F.return=s,s.child=F,Aa=s,lr=null,F=!0):F=!1}F||Jo(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return ag(S)?s.lanes=32:s.lanes=536870912,null;pi(s)}return S=c.children,c=c.fallback,m?(Yi(),m=s.mode,S=wh({mode:"hidden",children:S},m),c=Qo(c,m,o,null),S.return=s,c.return=s,S.sibling=c,s.child=S,m=s.child,m.memoizedState=bp(o),m.childLanes=_p(r,T,o),s.memoizedState=xp,c):($i(s),wp(s,S))}if(F=r.memoizedState,F!==null&&(S=F.dehydrated,S!==null)){if(y)s.flags&256?($i(s),s.flags&=-257,s=Ep(r,s,o)):s.memoizedState!==null?(Yi(),s.child=r.child,s.flags|=128,s=null):(Yi(),m=c.fallback,S=s.mode,c=wh({mode:"visible",children:c.children},S),m=Qo(m,S,o,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,Wl(s,r.child,null,o),c=s.child,c.memoizedState=bp(o),c.childLanes=_p(r,T,o),s.memoizedState=xp,s=m);else if($i(s),ag(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var ie=T.dgst;T=ie,c=Error(a(419)),c.stack="",c.digest=T,tu({value:c,source:null,stack:null}),s=Ep(r,s,o)}else if(Qr||nu(r,s,o,!1),T=(o&r.childLanes)!==0,Qr||T){if(T=Fn,T!==null&&(c=o&-o,c=(c&42)!==0?1:wt(c),c=(c&(T.suspendedLanes|o))!==0?0:c,c!==0&&c!==F.retryLane))throw F.retryLane=c,kl(r,c),Ga(T,r,c),Zv;S.data==="$?"||Bp(),s=Ep(r,s,o)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=F.treeContext,lr=xs(S.nextSibling),Aa=s,yn=!0,Zo=null,Os=!1,r!==null&&(as[ss++]=ui,as[ss++]=di,as[ss++]=Ko,ui=r.id,di=r.overflow,Ko=s),s=wp(s,c.children),s.flags|=4096);return s}return m?(Yi(),m=c.fallback,S=s.mode,F=r.child,ie=F.sibling,c=ci(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,ie!==null?m=ci(ie,m):(m=Qo(m,S,o,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,S=r.child.memoizedState,S===null?S=bp(o):(F=S.cachePool,F!==null?(ie=Br._currentValue,F=F.parent!==ie?{parent:ie,pool:ie}:F):F=Wy(),S={baseLanes:S.baseLanes|o,cachePool:F}),m.memoizedState=S,m.childLanes=_p(r,T,o),s.memoizedState=xp,c):($i(s),o=r.child,r=o.sibling,o=ci(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function wp(r,s){return s=wh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function wh(r,s){return r=Ha(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Ep(r,s,o){return Wl(s,r.child,null,o),r=wp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function lx(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Bm(r.return,s,o)}function Tp(r,s,o,c,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=m)}function cx(r,s,o){var c=s.pendingProps,m=c.revealOrder,y=c.tail;if(aa(r,s,c.children,o),c=Fr.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&lx(r,o,s);else if(r.tag===19)lx(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(me(Fr,c),m){case"forwards":for(o=s.child,m=null;o!==null;)r=o.alternate,r!==null&&vh(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Tp(s,!1,m,o,y);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&vh(r)===null){s.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}Tp(s,!0,o,null,y);break;case"together":Tp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function gi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Xi|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(nu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,o=ci(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ci(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Np(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&nh(r)))}function yN(r,s,o){switch(s.tag){case 3:At(s,s.stateNode.containerInfo),zi(s,Br,r.memoizedState.cache),eu();break;case 27:case 5:_t(s);break;case 4:At(s,s.stateNode.containerInfo);break;case 10:zi(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?($i(s),s.flags|=128,null):(o&s.child.childLanes)!==0?ox(r,s,o):($i(s),r=gi(r,s,o),r!==null?r.sibling:null);$i(s);break;case 19:var m=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(nu(r,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return cx(r,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),me(Fr,Fr.current),c)break;return null;case 22:case 23:return s.lanes=0,nx(r,s,o);case 24:zi(s,Br,r.memoizedState.cache)}return gi(r,s,o)}function ux(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Qr=!0;else{if(!Np(r,o)&&(s.flags&128)===0)return Qr=!1,yN(r,s,o);Qr=(r.flags&131072)!==0}else Qr=!1,yn&&(s.flags&1048576)!==0&&zy(s,th,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,m=c._init;if(c=m(c._payload),s.type=c,typeof c=="function")Om(c)?(r=al(c,r),s.tag=1,s=sx(null,s,c,r,o)):(s.tag=0,s=vp(null,s,c,r,o));else{if(c!=null){if(m=c.$$typeof,m===ge){s.tag=11,s=Jv(null,s,c,r,o);break e}else if(m===k){s.tag=14,s=ex(null,s,c,r,o);break e}}throw s=Se(c)||c,Error(a(306,s,""))}}return s;case 0:return vp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=al(c,s.pendingProps),sx(r,s,c,m,o);case 3:e:{if(At(s,s.stateNode.containerInfo),r===null)throw Error(a(387));c=s.pendingProps;var y=s.memoizedState;m=y.element,Gm(r,s),cu(s,c,null,o);var T=s.memoizedState;if(c=T.cache,zi(s,Br,c),c!==y.cache&&Fm(s,[Br],o,!0),lu(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=ix(r,s,c,o);break e}else if(c!==m){m=ns(Error(a(424)),s),tu(m),s=ix(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(lr=xs(r.firstChild),Aa=s,yn=!0,Zo=null,Os=!0,o=Fv(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(eu(),c===m){s=gi(r,s,o);break e}aa(r,s,c,o)}s=s.child}return s;case 26:return _h(r,s),r===null?(o=mb(s.type,null,s.pendingProps,null))?s.memoizedState=o:yn||(o=s.type,r=s.pendingProps,c=kh(qe.current).createElement(o),c[ve]=s,c[je]=r,ia(c,o,r),Ot(c),s.stateNode=c):s.memoizedState=mb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return _t(s),r===null&&yn&&(c=s.stateNode=db(s.type,s.pendingProps,qe.current),Aa=s,Os=!0,m=lr,to(s.type)?(sg=m,lr=xs(c.firstChild)):lr=m),aa(r,s,s.pendingProps.children,o),_h(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&yn&&((m=c=lr)&&(c=$N(c,s.type,s.pendingProps,Os),c!==null?(s.stateNode=c,Aa=s,lr=xs(c.firstChild),Os=!1,m=!0):m=!1),m||Jo(s)),_t(s),m=s.type,y=s.pendingProps,T=r!==null?r.memoizedProps:null,c=y.children,tg(m,y)?c=null:T!==null&&tg(m,T)&&(s.flags|=32),s.memoizedState!==null&&(m=ep(r,s,cN,null,null,o),Du._currentValue=m),_h(r,s),aa(r,s,c,o),s.child;case 6:return r===null&&yn&&((r=o=lr)&&(o=YN(o,s.pendingProps,Os),o!==null?(s.stateNode=o,Aa=s,lr=null,r=!0):r=!1),r||Jo(s)),null;case 13:return ox(r,s,o);case 4:return At(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Wl(s,null,c,o):aa(r,s,c,o),s.child;case 11:return Jv(r,s,s.type,s.pendingProps,o);case 7:return aa(r,s,s.pendingProps,o),s.child;case 8:return aa(r,s,s.pendingProps.children,o),s.child;case 12:return aa(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,zi(s,s.type,c.value),aa(r,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,tl(s),m=ya(m),c=c(m),s.flags|=1,aa(r,s,c,o),s.child;case 14:return ex(r,s,s.type,s.pendingProps,o);case 15:return tx(r,s,s.type,s.pendingProps,o);case 19:return cx(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=wh(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=ci(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return nx(r,s,o);case 24:return tl(s),c=ya(Br),r===null?(m=$m(),m===null&&(m=Fn,y=Hm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),s.memoizedState={parent:c,cache:m},Wm(s),zi(s,Br,m)):((r.lanes&o)!==0&&(Gm(r,s),cu(s,null,null,o),lu()),m=r.memoizedState,y=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),zi(s,Br,c)):(c=y.cache,zi(s,Br,c),c!==m.cache&&Fm(s,[Br],o,!0))),aa(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function yi(r){r.flags|=4}function dx(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!xb(s)){if(s=is.current,s!==null&&((ln&4194048)===ln?Ps!==null:(ln&62914560)!==ln&&(ln&536870912)===0||s!==Ps))throw iu=Ym,Gy;r.flags|=8192}}function Eh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Tt():536870912,r.lanes|=s,Xl|=s)}function gu(r,s){if(!yn)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function tr(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function vN(r,s,o){var c=s.pendingProps;switch(Lm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(s),null;case 1:return tr(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),fi(Br),ht(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Jc(s)?yi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hy())),tr(s),null;case 26:return o=s.memoizedState,r===null?(yi(s),o!==null?(tr(s),dx(s,o)):(tr(s),s.flags&=-16777217)):o?o!==r.memoizedState?(yi(s),tr(s),dx(s,o)):(tr(s),s.flags&=-16777217):(r.memoizedProps!==c&&yi(s),tr(s),s.flags&=-16777217),null;case 27:It(s),o=qe.current;var m=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&yi(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return tr(s),null}r=Me.current,Jc(s)?By(s):(r=db(m,c,o),s.stateNode=r,yi(s))}return tr(s),null;case 5:if(It(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&yi(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return tr(s),null}if(r=Me.current,Jc(s))By(s);else{switch(m=kh(qe.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}r[ve]=s,r[je]=c;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=r;e:switch(ia(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&yi(s)}}return tr(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&yi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(r=qe.current,Jc(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,m=Aa,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[ve]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||ab(r.nodeValue,o)),r||Jo(s)}else r=kh(r).createTextNode(c),r[ve]=s,s.stateNode=r}return tr(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Jc(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(a(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[ve]=s}else eu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tr(s),m=!1}else m=Hy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(pi(s),s):(pi(s),null)}if(pi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Eh(s,s.updateQueue),tr(s),null;case 4:return ht(),r===null&&Kp(s.stateNode.containerInfo),tr(s),null;case 10:return fi(s.type),tr(s),null;case 19:if(_e(Fr),m=s.memoizedState,m===null)return tr(s),null;if(c=(s.flags&128)!==0,y=m.rendering,y===null)if(c)gu(m,!1);else{if(cr!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=vh(r),y!==null){for(s.flags|=128,gu(m,!1),r=y.updateQueue,s.updateQueue=r,Eh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Uy(o,r),o=o.sibling;return me(Fr,Fr.current&1|2),s.child}r=r.sibling}m.tail!==null&&Pn()>Sh&&(s.flags|=128,c=!0,gu(m,!1),s.lanes=4194304)}else{if(!c)if(r=vh(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,Eh(s,r),gu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!yn)return tr(s),null}else 2*Pn()-m.renderingStartTime>Sh&&o!==536870912&&(s.flags|=128,c=!0,gu(m,!1),s.lanes=4194304);m.isBackwards?(y.sibling=s.child,s.child=y):(r=m.last,r!==null?r.sibling=y:s.child=y,m.last=y)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Pn(),s.sibling=null,r=Fr.current,me(Fr,c?r&1|2:r&1),s):(tr(s),null);case 22:case 23:return pi(s),Zm(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(tr(s),s.subtreeFlags&6&&(s.flags|=8192)):tr(s),o=s.updateQueue,o!==null&&Eh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&_e(nl),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),fi(Br),tr(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function xN(r,s){switch(Lm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return fi(Br),ht(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return It(s),null;case 13:if(pi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));eu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return _e(Fr),null;case 4:return ht(),null;case 10:return fi(s.type),null;case 22:case 23:return pi(s),Zm(),r!==null&&_e(nl),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return fi(Br),null;case 25:return null;default:return null}}function hx(r,s){switch(Lm(s),s.tag){case 3:fi(Br),ht();break;case 26:case 27:case 5:It(s);break;case 4:ht();break;case 13:pi(s);break;case 19:_e(Fr);break;case 10:fi(s.type);break;case 22:case 23:pi(s),Zm(),r!==null&&_e(nl);break;case 24:fi(Br)}}function yu(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&r)===r){c=void 0;var y=o.create,T=o.inst;c=y(),T.destroy=c}o=o.next}while(o!==m)}}catch(S){Vn(s,s.return,S)}}function Wi(r,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&r)===r){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,m=s;var F=o,ie=S;try{ie()}catch(be){Vn(m,F,be)}}}c=c.next}while(c!==y)}}catch(be){Vn(s,s.return,be)}}function fx(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{ev(s,o)}catch(c){Vn(r,r.return,c)}}}function mx(r,s,o){o.props=al(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){Vn(r,s,c)}}function vu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(m){Vn(r,s,m)}}function ks(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Vn(r,s,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Vn(r,s,m)}else o.current=null}function px(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Vn(r,r.return,m)}}function Sp(r,s,o){try{var c=r.stateNode;zN(c,r.type,o,s),c[je]=s}catch(m){Vn(r,r.return,m)}}function gx(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&to(r.type)||r.tag===4}function Cp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||gx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&to(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ap(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ph));else if(c!==4&&(c===27&&to(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Ap(r,s,o),r=r.sibling;r!==null;)Ap(r,s,o),r=r.sibling}function Th(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&to(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Th(r,s,o),r=r.sibling;r!==null;)Th(r,s,o),r=r.sibling}function yx(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);ia(s,c,o),s[ve]=r,s[je]=o}catch(y){Vn(r,r.return,y)}}var vi=!1,yr=!1,Rp=!1,vx=typeof WeakSet=="function"?WeakSet:Set,Kr=null;function bN(r,s){if(r=r.containerInfo,Jp=Fh,r=C(r),L(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var T=0,S=-1,F=-1,ie=0,be=0,Te=r,ce=null;t:for(;;){for(var ue;Te!==o||m!==0&&Te.nodeType!==3||(S=T+m),Te!==y||c!==0&&Te.nodeType!==3||(F=T+c),Te.nodeType===3&&(T+=Te.nodeValue.length),(ue=Te.firstChild)!==null;)ce=Te,Te=ue;for(;;){if(Te===r)break t;if(ce===o&&++ie===m&&(S=T),ce===y&&++be===c&&(F=T),(ue=Te.nextSibling)!==null)break;Te=ce,ce=Te.parentNode}Te=ue}o=S===-1||F===-1?null:{start:S,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(eg={focusedElem:r,selectionRange:o},Fh=!1,Kr=s;Kr!==null;)if(s=Kr,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Kr=r;else for(;Kr!==null;){switch(s=Kr,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,m=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var bt=al(o.type,m,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(bt,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(gt){Vn(o,o.return,gt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)rg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":rg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,Kr=r;break}Kr=s.return}}function xx(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Gi(r,o),c&4&&yu(5,o);break;case 1:if(Gi(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){Vn(o,o.return,T)}else{var m=al(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(m,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){Vn(o,o.return,T)}}c&64&&fx(o),c&512&&vu(o,o.return);break;case 3:if(Gi(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{ev(r,s)}catch(T){Vn(o,o.return,T)}}break;case 27:s===null&&c&4&&yx(o);case 26:case 5:Gi(r,o),s===null&&c&4&&px(o),c&512&&vu(o,o.return);break;case 12:Gi(r,o);break;case 13:Gi(r,o),c&4&&wx(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=RN.bind(null,o),WN(r,o))));break;case 22:if(c=o.memoizedState!==null||vi,!c){s=s!==null&&s.memoizedState!==null||yr,m=vi;var y=yr;vi=c,(yr=s)&&!y?Qi(r,o,(o.subtreeFlags&8772)!==0):Gi(r,o),vi=m,yr=y}break;case 30:break;default:Gi(r,o)}}function bx(r){var s=r.alternate;s!==null&&(r.alternate=null,bx(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ke(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Xn=null,ka=!1;function xi(r,s,o){for(o=o.child;o!==null;)_x(r,s,o),o=o.sibling}function _x(r,s,o){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(jt,o)}catch{}switch(o.tag){case 26:yr||ks(o,s),xi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:yr||ks(o,s);var c=Xn,m=ka;to(o.type)&&(Xn=o.stateNode,ka=!1),xi(r,s,o),Cu(o.stateNode),Xn=c,ka=m;break;case 5:yr||ks(o,s);case 6:if(c=Xn,m=ka,Xn=null,xi(r,s,o),Xn=c,ka=m,Xn!==null)if(ka)try{(Xn.nodeType===9?Xn.body:Xn.nodeName==="HTML"?Xn.ownerDocument.body:Xn).removeChild(o.stateNode)}catch(y){Vn(o,s,y)}else try{Xn.removeChild(o.stateNode)}catch(y){Vn(o,s,y)}break;case 18:Xn!==null&&(ka?(r=Xn,cb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Pu(r)):cb(Xn,o.stateNode));break;case 4:c=Xn,m=ka,Xn=o.stateNode.containerInfo,ka=!0,xi(r,s,o),Xn=c,ka=m;break;case 0:case 11:case 14:case 15:yr||Wi(2,o,s),yr||Wi(4,o,s),xi(r,s,o);break;case 1:yr||(ks(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&mx(o,s,c)),xi(r,s,o);break;case 21:xi(r,s,o);break;case 22:yr=(c=yr)||o.memoizedState!==null,xi(r,s,o),yr=c;break;default:xi(r,s,o)}}function wx(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Pu(r)}catch(o){Vn(s,s.return,o)}}function _N(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new vx),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new vx),s;default:throw Error(a(435,r.tag))}}function jp(r,s){var o=_N(r);s.forEach(function(c){var m=jN.bind(null,r,c);o.has(c)||(o.add(c),c.then(m,m))})}function qa(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],y=r,T=s,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(to(S.type)){Xn=S.stateNode,ka=!1;break e}break;case 5:Xn=S.stateNode,ka=!1;break e;case 3:case 4:Xn=S.stateNode.containerInfo,ka=!0;break e}S=S.return}if(Xn===null)throw Error(a(160));_x(y,T,m),Xn=null,ka=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Ex(s,r),s=s.sibling}var vs=null;function Ex(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:qa(s,r),$a(r),c&4&&(Wi(3,r,r.return),yu(3,r),Wi(5,r,r.return));break;case 1:qa(s,r),$a(r),c&512&&(yr||o===null||ks(o,o.return)),c&64&&vi&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=vs;if(qa(s,r),$a(r),c&512&&(yr||o===null||ks(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ot]||y[ve]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),ia(y,c,o),y[ve]=r,Ot(y),c=y;break e;case"link":var T=yb("link","href",m).get(c+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(y=T[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}y=m.createElement(c),ia(y,c,o),m.head.appendChild(y);break;case"meta":if(T=yb("meta","content",m).get(c+(o.content||""))){for(S=0;S<T.length;S++)if(y=T[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}y=m.createElement(c),ia(y,c,o),m.head.appendChild(y);break;default:throw Error(a(468,c))}y[ve]=r,Ot(y),c=y}r.stateNode=c}else vb(m,r.type,r.stateNode);else r.stateNode=gb(m,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?vb(m,r.type,r.stateNode):gb(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Sp(r,r.memoizedProps,o.memoizedProps)}break;case 27:qa(s,r),$a(r),c&512&&(yr||o===null||ks(o,o.return)),o!==null&&c&4&&Sp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(qa(s,r),$a(r),c&512&&(yr||o===null||ks(o,o.return)),r.flags&32){m=r.stateNode;try{Wn(m,"")}catch(ue){Vn(r,r.return,ue)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,Sp(r,m,o!==null?o.memoizedProps:m)),c&1024&&(Rp=!0);break;case 6:if(qa(s,r),$a(r),c&4){if(r.stateNode===null)throw Error(a(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(ue){Vn(r,r.return,ue)}}break;case 3:if(Uh=null,m=vs,vs=Vh(s.containerInfo),qa(s,r),vs=m,$a(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Pu(s.containerInfo)}catch(ue){Vn(r,r.return,ue)}Rp&&(Rp=!1,Tx(r));break;case 4:c=vs,vs=Vh(r.stateNode.containerInfo),qa(s,r),$a(r),vs=c;break;case 12:qa(s,r),$a(r);break;case 13:qa(s,r),$a(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(kp=Pn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,jp(r,c)));break;case 22:m=r.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,ie=vi,be=yr;if(vi=ie||m,yr=be||F,qa(s,r),yr=be,vi=ie,$a(r),c&8192)e:for(s=r.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||F||vi||yr||sl(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){F=o=s;try{if(y=F.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=F.stateNode;var Te=F.memoizedProps.style,ce=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;S.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(ue){Vn(F,F.return,ue)}}}else if(s.tag===6){if(o===null){F=s;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(ue){Vn(F,F.return,ue)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,jp(r,o))));break;case 19:qa(s,r),$a(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,jp(r,c)));break;case 30:break;case 21:break;default:qa(s,r),$a(r)}}function $a(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(gx(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,y=Cp(r);Th(r,y,m);break;case 5:var T=o.stateNode;o.flags&32&&(Wn(T,""),o.flags&=-33);var S=Cp(r);Th(r,S,T);break;case 3:case 4:var F=o.stateNode.containerInfo,ie=Cp(r);Ap(r,ie,F);break;default:throw Error(a(161))}}catch(be){Vn(r,r.return,be)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Tx(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Tx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Gi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)xx(r,s.alternate,s),s=s.sibling}function sl(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Wi(4,s,s.return),sl(s);break;case 1:ks(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&mx(s,s.return,o),sl(s);break;case 27:Cu(s.stateNode);case 26:case 5:ks(s,s.return),sl(s);break;case 22:s.memoizedState===null&&sl(s);break;case 30:sl(s);break;default:sl(s)}r=r.sibling}}function Qi(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=r,y=s,T=y.flags;switch(y.tag){case 0:case 11:case 15:Qi(m,y,o),yu(4,y);break;case 1:if(Qi(m,y,o),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ie){Vn(c,c.return,ie)}if(c=y,m=c.updateQueue,m!==null){var S=c.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)Jy(F[m],S)}catch(ie){Vn(c,c.return,ie)}}o&&T&64&&fx(y),vu(y,y.return);break;case 27:yx(y);case 26:case 5:Qi(m,y,o),o&&c===null&&T&4&&px(y),vu(y,y.return);break;case 12:Qi(m,y,o);break;case 13:Qi(m,y,o),o&&T&4&&wx(m,y);break;case 22:y.memoizedState===null&&Qi(m,y,o),vu(y,y.return);break;case 30:break;default:Qi(m,y,o)}s=s.sibling}}function Dp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&ru(o))}function Mp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ru(r))}function Vs(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Nx(r,s,o,c),s=s.sibling}function Nx(r,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Vs(r,s,o,c),m&2048&&yu(9,s);break;case 1:Vs(r,s,o,c);break;case 3:Vs(r,s,o,c),m&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ru(r)));break;case 12:if(m&2048){Vs(r,s,o,c),r=s.stateNode;try{var y=s.memoizedProps,T=y.id,S=y.onPostCommit;typeof S=="function"&&S(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){Vn(s,s.return,F)}}else Vs(r,s,o,c);break;case 13:Vs(r,s,o,c);break;case 23:break;case 22:y=s.stateNode,T=s.alternate,s.memoizedState!==null?y._visibility&2?Vs(r,s,o,c):xu(r,s):y._visibility&2?Vs(r,s,o,c):(y._visibility|=2,Gl(r,s,o,c,(s.subtreeFlags&10256)!==0)),m&2048&&Dp(T,s);break;case 24:Vs(r,s,o,c),m&2048&&Mp(s.alternate,s);break;default:Vs(r,s,o,c)}}function Gl(r,s,o,c,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,T=s,S=o,F=c,ie=T.flags;switch(T.tag){case 0:case 11:case 15:Gl(y,T,S,F,m),yu(8,T);break;case 23:break;case 22:var be=T.stateNode;T.memoizedState!==null?be._visibility&2?Gl(y,T,S,F,m):xu(y,T):(be._visibility|=2,Gl(y,T,S,F,m)),m&&ie&2048&&Dp(T.alternate,T);break;case 24:Gl(y,T,S,F,m),m&&ie&2048&&Mp(T.alternate,T);break;default:Gl(y,T,S,F,m)}s=s.sibling}}function xu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,m=c.flags;switch(c.tag){case 22:xu(o,c),m&2048&&Dp(c.alternate,c);break;case 24:xu(o,c),m&2048&&Mp(c.alternate,c);break;default:xu(o,c)}s=s.sibling}}var bu=8192;function Ql(r){if(r.subtreeFlags&bu)for(r=r.child;r!==null;)Sx(r),r=r.sibling}function Sx(r){switch(r.tag){case 26:Ql(r),r.flags&bu&&r.memoizedState!==null&&iS(vs,r.memoizedState,r.memoizedProps);break;case 5:Ql(r);break;case 3:case 4:var s=vs;vs=Vh(r.stateNode.containerInfo),Ql(r),vs=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=bu,bu=16777216,Ql(r),bu=s):Ql(r));break;default:Ql(r)}}function Cx(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function _u(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Kr=c,Rx(c,r)}Cx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ax(r),r=r.sibling}function Ax(r){switch(r.tag){case 0:case 11:case 15:_u(r),r.flags&2048&&Wi(9,r,r.return);break;case 3:_u(r);break;case 12:_u(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Nh(r)):_u(r);break;default:_u(r)}}function Nh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Kr=c,Rx(c,r)}Cx(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Wi(8,s,s.return),Nh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Nh(s));break;default:Nh(s)}r=r.sibling}}function Rx(r,s){for(;Kr!==null;){var o=Kr;switch(o.tag){case 0:case 11:case 15:Wi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ru(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Kr=c;else e:for(o=r;Kr!==null;){c=Kr;var m=c.sibling,y=c.return;if(bx(c),c===o){Kr=null;break e}if(m!==null){m.return=y,Kr=m;break e}Kr=y}}}var wN={getCacheForType:function(r){var s=ya(Br),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},EN=typeof WeakMap=="function"?WeakMap:Map,Nn=0,Fn=null,Kt=null,ln=0,Sn=0,Ya=null,Ki=!1,Kl=!1,Ip=!1,bi=0,cr=0,Xi=0,il=0,Op=0,os=0,Xl=0,wu=null,Va=null,Pp=!1,kp=0,Sh=1/0,Ch=null,Zi=null,sa=0,Ji=null,Zl=null,Jl=0,Vp=0,Lp=null,jx=null,Eu=0,Up=null;function Wa(){if((Nn&2)!==0&&ln!==0)return ln&-ln;if(B.T!==null){var r=zl;return r!==0?r:Yp()}return q()}function Dx(){os===0&&(os=(ln&536870912)===0||yn?Ut():536870912);var r=is.current;return r!==null&&(r.flags|=32),os}function Ga(r,s,o){(r===Fn&&(Sn===2||Sn===9)||r.cancelPendingCommit!==null)&&(ec(r,0),eo(r,ln,os,!1)),En(r,o),((Nn&2)===0||r!==Fn)&&(r===Fn&&((Nn&2)===0&&(il|=o),cr===4&&eo(r,ln,os,!1)),Ls(r))}function Mx(r,s,o){if((Nn&6)!==0)throw Error(a(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||dr(r,s),m=c?SN(r,s):Fp(r,s,!0),y=c;do{if(m===0){Kl&&!c&&eo(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!TN(o)){m=Fp(r,s,!1),y=!1;continue}if(m===2){if(y=s,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var S=r;m=wu;var F=S.current.memoizedState.isDehydrated;if(F&&(ec(S,T).flags|=256),T=Fp(S,T,!1),T!==2){if(Ip&&!F){S.errorRecoveryDisabledLanes|=y,il|=y,m=4;break e}y=Va,Va=m,y!==null&&(Va===null?Va=y:Va.push.apply(Va,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){ec(r,0),eo(r,s,0,!0);break}e:{switch(c=r,y=m,y){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:eo(c,s,os,!Ki);break e;case 2:Va=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(m=kp+300-Pn(),10<m)){if(eo(c,s,os,!Ki),Gr(c,0,!0)!==0)break e;c.timeoutHandle=ob(Ix.bind(null,c,o,Va,Ch,Pp,s,os,il,Xl,Ki,y,2,-0,0),m);break e}Ix(c,o,Va,Ch,Pp,s,os,il,Xl,Ki,y,0,-0,0)}}break}while(!0);Ls(r)}function Ix(r,s,o,c,m,y,T,S,F,ie,be,Te,ce,ue){if(r.timeoutHandle=-1,Te=s.subtreeFlags,(Te&8192||(Te&16785408)===16785408)&&(ju={stylesheets:null,count:0,unsuspend:sS},Sx(s),Te=oS(),Te!==null)){r.cancelPendingCommit=Te(zx.bind(null,r,s,y,o,c,m,T,S,F,be,1,ce,ue)),eo(r,y,T,!ie);return}zx(r,s,y,o,c,m,T,S,F)}function TN(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],y=m.getSnapshot;m=m.value;try{if(!Ca(y(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function eo(r,s,o,c){s&=~Op,s&=~il,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var m=s;0<m;){var y=31-vn(m),T=1<<y;c[y]=-1,m&=~T}o!==0&&zt(r,o,s)}function Ah(){return(Nn&6)===0?(Tu(0),!1):!0}function zp(){if(Kt!==null){if(Sn===0)var r=Kt.return;else r=Kt,hi=el=null,rp(r),Yl=null,mu=0,r=Kt;for(;r!==null;)hx(r.alternate,r),r=r.return;Kt=null}}function ec(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,FN(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),zp(),Fn=r,Kt=o=ci(r.current,null),ln=s,Sn=0,Ya=null,Ki=!1,Kl=dr(r,s),Ip=!1,Xl=os=Op=il=Xi=cr=0,Va=wu=null,Pp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var m=31-vn(c),y=1<<m;s|=r[m],c&=~y}return bi=s,Kd(),o}function Ox(r,s){Ht=null,B.H=ph,s===su||s===sh?(s=Xy(),Sn=3):s===Gy?(s=Xy(),Sn=4):Sn=s===Zv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ya=s,Kt===null&&(cr=1,bh(r,ns(s,r.current)))}function Px(){var r=B.H;return B.H=ph,r===null?ph:r}function kx(){var r=B.A;return B.A=wN,r}function Bp(){cr=4,Ki||(ln&4194048)!==ln&&is.current!==null||(Kl=!0),(Xi&134217727)===0&&(il&134217727)===0||Fn===null||eo(Fn,ln,os,!1)}function Fp(r,s,o){var c=Nn;Nn|=2;var m=Px(),y=kx();(Fn!==r||ln!==s)&&(Ch=null,ec(r,s)),s=!1;var T=cr;e:do try{if(Sn!==0&&Kt!==null){var S=Kt,F=Ya;switch(Sn){case 8:zp(),T=6;break e;case 3:case 2:case 9:case 6:is.current===null&&(s=!0);var ie=Sn;if(Sn=0,Ya=null,tc(r,S,F,ie),o&&Kl){T=0;break e}break;default:ie=Sn,Sn=0,Ya=null,tc(r,S,F,ie)}}NN(),T=cr;break}catch(be){Ox(r,be)}while(!0);return s&&r.shellSuspendCounter++,hi=el=null,Nn=c,B.H=m,B.A=y,Kt===null&&(Fn=null,ln=0,Kd()),T}function NN(){for(;Kt!==null;)Vx(Kt)}function SN(r,s){var o=Nn;Nn|=2;var c=Px(),m=kx();Fn!==r||ln!==s?(Ch=null,Sh=Pn()+500,ec(r,s)):Kl=dr(r,s);e:do try{if(Sn!==0&&Kt!==null){s=Kt;var y=Ya;t:switch(Sn){case 1:Sn=0,Ya=null,tc(r,s,y,1);break;case 2:case 9:if(Qy(y)){Sn=0,Ya=null,Lx(s);break}s=function(){Sn!==2&&Sn!==9||Fn!==r||(Sn=7),Ls(r)},y.then(s,s);break e;case 3:Sn=7;break e;case 4:Sn=5;break e;case 7:Qy(y)?(Sn=0,Ya=null,Lx(s)):(Sn=0,Ya=null,tc(r,s,y,7));break;case 5:var T=null;switch(Kt.tag){case 26:T=Kt.memoizedState;case 5:case 27:var S=Kt;if(!T||xb(T)){Sn=0,Ya=null;var F=S.sibling;if(F!==null)Kt=F;else{var ie=S.return;ie!==null?(Kt=ie,Rh(ie)):Kt=null}break t}}Sn=0,Ya=null,tc(r,s,y,5);break;case 6:Sn=0,Ya=null,tc(r,s,y,6);break;case 8:zp(),cr=6;break e;default:throw Error(a(462))}}CN();break}catch(be){Ox(r,be)}while(!0);return hi=el=null,B.H=c,B.A=m,Nn=o,Kt!==null?0:(Fn=null,ln=0,Kd(),cr)}function CN(){for(;Kt!==null&&!ha();)Vx(Kt)}function Vx(r){var s=ux(r.alternate,r,bi);r.memoizedProps=r.pendingProps,s===null?Rh(r):Kt=s}function Lx(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=ax(o,s,s.pendingProps,s.type,void 0,ln);break;case 11:s=ax(o,s,s.pendingProps,s.type.render,s.ref,ln);break;case 5:rp(s);default:hx(o,s),s=Kt=Uy(s,bi),s=ux(o,s,bi)}r.memoizedProps=r.pendingProps,s===null?Rh(r):Kt=s}function tc(r,s,o,c){hi=el=null,rp(s),Yl=null,mu=0;var m=s.return;try{if(gN(r,m,s,o,ln)){cr=1,bh(r,ns(o,r.current)),Kt=null;return}}catch(y){if(m!==null)throw Kt=m,y;cr=1,bh(r,ns(o,r.current)),Kt=null;return}s.flags&32768?(yn||c===1?r=!0:Kl||(ln&536870912)!==0?r=!1:(Ki=r=!0,(c===2||c===9||c===3||c===6)&&(c=is.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ux(s,r)):Rh(s)}function Rh(r){var s=r;do{if((s.flags&32768)!==0){Ux(s,Ki);return}r=s.return;var o=vN(s.alternate,s,bi);if(o!==null){Kt=o;return}if(s=s.sibling,s!==null){Kt=s;return}Kt=s=r}while(s!==null);cr===0&&(cr=5)}function Ux(r,s){do{var o=xN(r.alternate,r);if(o!==null){o.flags&=32767,Kt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Kt=r;return}Kt=r=o}while(r!==null);cr=6,Kt=null}function zx(r,s,o,c,m,y,T,S,F){r.cancelPendingCommit=null;do jh();while(sa!==0);if((Nn&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(y=s.lanes|s.childLanes,y|=Mm,Er(r,o,y,T,S,F),r===Fn&&(Kt=Fn=null,ln=0),Zl=s,Ji=r,Jl=o,Vp=y,Lp=m,jx=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,DN(Or,function(){return $x(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,m=le.p,le.p=2,T=Nn,Nn|=4;try{bN(r,s,o)}finally{Nn=T,le.p=m,B.T=c}}sa=1,Bx(),Fx(),Hx()}}function Bx(){if(sa===1){sa=0;var r=Ji,s=Zl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var c=le.p;le.p=2;var m=Nn;Nn|=4;try{Ex(s,r);var y=eg,T=C(r.containerInfo),S=y.focusedElem,F=y.selectionRange;if(T!==S&&S&&S.ownerDocument&&v(S.ownerDocument.documentElement,S)){if(F!==null&&L(S)){var ie=F.start,be=F.end;if(be===void 0&&(be=ie),"selectionStart"in S)S.selectionStart=ie,S.selectionEnd=Math.min(be,S.value.length);else{var Te=S.ownerDocument||document,ce=Te&&Te.defaultView||window;if(ce.getSelection){var ue=ce.getSelection(),bt=S.textContent.length,gt=Math.min(F.start,bt),In=F.end===void 0?gt:Math.min(F.end,bt);!ue.extend&&gt>In&&(T=In,In=gt,gt=T);var Z=Qd(S,gt),G=Qd(S,In);if(Z&&G&&(ue.rangeCount!==1||ue.anchorNode!==Z.node||ue.anchorOffset!==Z.offset||ue.focusNode!==G.node||ue.focusOffset!==G.offset)){var ae=Te.createRange();ae.setStart(Z.node,Z.offset),ue.removeAllRanges(),gt>In?(ue.addRange(ae),ue.extend(G.node,G.offset)):(ae.setEnd(G.node,G.offset),ue.addRange(ae))}}}}for(Te=[],ue=S;ue=ue.parentNode;)ue.nodeType===1&&Te.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Te.length;S++){var we=Te[S];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Fh=!!Jp,eg=Jp=null}finally{Nn=m,le.p=c,B.T=o}}r.current=s,sa=2}}function Fx(){if(sa===2){sa=0;var r=Ji,s=Zl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var c=le.p;le.p=2;var m=Nn;Nn|=4;try{xx(r,s.alternate,s)}finally{Nn=m,le.p=c,B.T=o}}sa=3}}function Hx(){if(sa===4||sa===3){sa=0,ja();var r=Ji,s=Zl,o=Jl,c=jx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?sa=5:(sa=0,Zl=Ji=null,qx(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Zi=null),ta(o),s=s.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(jt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=B.T,m=le.p,le.p=2,B.T=null;try{for(var y=r.onRecoverableError,T=0;T<c.length;T++){var S=c[T];y(S.value,{componentStack:S.stack})}}finally{B.T=s,le.p=m}}(Jl&3)!==0&&jh(),Ls(r),m=r.pendingLanes,(o&4194090)!==0&&(m&42)!==0?r===Up?Eu++:(Eu=0,Up=r):Eu=0,Tu(0)}}function qx(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,ru(s)))}function jh(r){return Bx(),Fx(),Hx(),$x()}function $x(){if(sa!==5)return!1;var r=Ji,s=Vp;Vp=0;var o=ta(Jl),c=B.T,m=le.p;try{le.p=32>o?32:o,B.T=null,o=Lp,Lp=null;var y=Ji,T=Jl;if(sa=0,Zl=Ji=null,Jl=0,(Nn&6)!==0)throw Error(a(331));var S=Nn;if(Nn|=4,Ax(y.current),Nx(y,y.current,T,o),Nn=S,Tu(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(jt,y)}catch{}return!0}finally{le.p=m,B.T=c,qx(r,s)}}function Yx(r,s,o){s=ns(o,s),s=yp(r.stateNode,s,2),r=Hi(r,s,2),r!==null&&(En(r,2),Ls(r))}function Vn(r,s,o){if(r.tag===3)Yx(r,r,o);else for(;s!==null;){if(s.tag===3){Yx(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Zi===null||!Zi.has(c))){r=ns(o,r),o=Kv(2),c=Hi(s,o,2),c!==null&&(Xv(o,c,s,r),En(c,2),Ls(c));break}}s=s.return}}function Hp(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new EN;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(Ip=!0,m.add(o),r=AN.bind(null,r,s,o),s.then(r,r))}function AN(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Fn===r&&(ln&o)===o&&(cr===4||cr===3&&(ln&62914560)===ln&&300>Pn()-kp?(Nn&2)===0&&ec(r,0):Op|=o,Xl===ln&&(Xl=0)),Ls(r)}function Wx(r,s){s===0&&(s=Tt()),r=kl(r,s),r!==null&&(En(r,s),Ls(r))}function RN(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Wx(r,o)}function jN(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),Wx(r,o)}function DN(r,s){return rt(r,s)}var Dh=null,nc=null,qp=!1,Mh=!1,$p=!1,ol=0;function Ls(r){r!==nc&&r.next===null&&(nc===null?Dh=nc=r:nc=nc.next=r),Mh=!0,qp||(qp=!0,IN())}function Tu(r,s){if(!$p&&Mh){$p=!0;do for(var o=!1,c=Dh;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var T=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-vn(42|r)+1)-1,y&=m&~(T&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Xx(c,y))}else y=ln,y=Gr(c,c===Fn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||dr(c,y)||(o=!0,Xx(c,y));c=c.next}while(o);$p=!1}}function MN(){Gx()}function Gx(){Mh=qp=!1;var r=0;ol!==0&&(BN()&&(r=ol),ol=0);for(var s=Pn(),o=null,c=Dh;c!==null;){var m=c.next,y=Qx(c,s);y===0?(c.next=null,o===null?Dh=m:o.next=m,m===null&&(nc=o)):(o=c,(r!==0||(y&3)!==0)&&(Mh=!0)),c=m}Tu(r)}function Qx(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-vn(y),S=1<<T,F=m[T];F===-1?((S&o)===0||(S&c)!==0)&&(m[T]=ft(S,s)):F<=s&&(r.expiredLanes|=S),y&=~S}if(s=Fn,o=ln,o=Gr(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(Sn===2||Sn===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Rt(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||dr(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Rt(c),ta(o)){case 2:case 8:o=_r;break;case 32:o=Or;break;case 268435456:o=Ln;break;default:o=Or}return c=Kx.bind(null,r),o=rt(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Rt(c),r.callbackPriority=2,r.callbackNode=null,2}function Kx(r,s){if(sa!==0&&sa!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(jh()&&r.callbackNode!==o)return null;var c=ln;return c=Gr(r,r===Fn?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Mx(r,c,s),Qx(r,Pn()),r.callbackNode!=null&&r.callbackNode===o?Kx.bind(null,r):null)}function Xx(r,s){if(jh())return null;Mx(r,s,!0)}function IN(){HN(function(){(Nn&6)!==0?rt(br,MN):Gx()})}function Yp(){return ol===0&&(ol=Ut()),ol}function Zx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:fe(""+r)}function Jx(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function ON(r,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var y=Zx((m[je]||null).action),T=c.submitter;T&&(s=(s=T[je]||null)?Zx(s.formAction):T.getAttribute("formAction"),s!==null&&(y=s,T=null));var S=new Oi("action","action",null,c,m);r.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ol!==0){var F=T?Jx(m,T):new FormData(m);hp(o,{pending:!0,data:F,method:m.method,action:y},null,F)}}else typeof y=="function"&&(S.preventDefault(),F=T?Jx(m,T):new FormData(m),hp(o,{pending:!0,data:F,method:m.method,action:y},y,F))},currentTarget:m}]})}}for(var Wp=0;Wp<Nt.length;Wp++){var Gp=Nt[Wp],PN=Gp.toLowerCase(),kN=Gp[0].toUpperCase()+Gp.slice(1);Ft(PN,"on"+kN)}Ft(er,"onAnimationEnd"),Ft(Qt,"onAnimationIteration"),Ft(Kn,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(pn,"onTransitionRun"),Ft(kt,"onTransitionStart"),Ft(Oe,"onTransitionCancel"),Ft(pt,"onTransitionEnd"),un("onMouseEnter",["mouseout","mouseover"]),un("onMouseLeave",["mouseout","mouseover"]),un("onPointerEnter",["pointerout","pointerover"]),un("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function eb(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],m=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var T=c.length-1;0<=T;T--){var S=c[T],F=S.instance,ie=S.currentTarget;if(S=S.listener,F!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=ie;try{y(m)}catch(be){xh(be)}m.currentTarget=null,y=F}else for(T=0;T<c.length;T++){if(S=c[T],F=S.instance,ie=S.currentTarget,S=S.listener,F!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=ie;try{y(m)}catch(be){xh(be)}m.currentTarget=null,y=F}}}}function Xt(r,s){var o=s[Qe];o===void 0&&(o=s[Qe]=new Set);var c=r+"__bubble";o.has(c)||(tb(s,r,2,!1),o.add(c))}function Qp(r,s,o){var c=0;s&&(c|=4),tb(o,r,c,s)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function Kp(r){if(!r[Ih]){r[Ih]=!0,Et.forEach(function(o){o!=="selectionchange"&&(VN.has(o)||Qp(o,!1,r),Qp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ih]||(s[Ih]=!0,Qp("selectionchange",!1,s))}}function tb(r,s,o,c){switch(Nb(s)){case 2:var m=uS;break;case 8:m=dS;break;default:m=ug}o=m.bind(null,s,o,r),m=void 0,!Cr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(s,o,{capture:!0,passive:m}):r.addEventListener(s,o,!0):m!==void 0?r.addEventListener(s,o,{passive:m}):r.addEventListener(s,o,!1)}function Xp(r,s,o,c,m){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===m)break;if(T===4)for(T=c.return;T!==null;){var F=T.tag;if((F===3||F===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;S!==null;){if(T=lt(S),T===null)return;if(F=T.tag,F===5||F===6||F===26||F===27){c=y=T;continue e}S=S.parentNode}}c=c.return}kn(function(){var ie=y,be=Re(o),Te=[];e:{var ce=an.get(r);if(ce!==void 0){var ue=Oi,bt=r;switch(r){case"keypress":if(ra(o)===0)break e;case"keydown":case"keyup":ue=li;break;case"focusin":bt="focus",ue=ki;break;case"focusout":bt="blur",ue=ki;break;case"beforeblur":case"afterblur":ue=ki;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Ds;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Dl;break;case er:case Qt:case Kn:ue=Vi;break;case pt:ue=gs;break;case"scroll":case"scrollend":ue=zo;break;case"wheel":ue=Ui;break;case"copy":case"cut":case"paste":ue=ii;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=$o;break;case"toggle":case"beforetoggle":ue=Ml}var gt=(s&4)!==0,In=!gt&&(r==="scroll"||r==="scrollend"),Z=gt?ce!==null?ce+"Capture":null:ce;gt=[];for(var G=ie,ae;G!==null;){var we=G;if(ae=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||ae===null||Z===null||(we=Pt(G,Z),we!=null&&gt.push(Su(G,we,ae))),In)break;G=G.return}0<gt.length&&(ce=new ue(ce,bt,null,o,be),Te.push({event:ce,listeners:gt}))}}if((s&7)===0){e:{if(ce=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",ce&&o!==De&&(bt=o.relatedTarget||o.fromElement)&&(lt(bt)||bt[ke]))break e;if((ue||ce)&&(ce=be.window===be?be:(ce=be.ownerDocument)?ce.defaultView||ce.parentWindow:window,ue?(bt=o.relatedTarget||o.toElement,ue=ie,bt=bt?lt(bt):null,bt!==null&&(In=l(bt),gt=bt.tag,bt!==In||gt!==5&&gt!==27&&gt!==6)&&(bt=null)):(ue=null,bt=ie),ue!==bt)){if(gt=Vr,we="onMouseLeave",Z="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(gt=$o,we="onPointerLeave",Z="onPointerEnter",G="pointer"),In=ue==null?ce:Je(ue),ae=bt==null?ce:Je(bt),ce=new gt(we,G+"leave",ue,o,be),ce.target=In,ce.relatedTarget=ae,we=null,lt(be)===ie&&(gt=new gt(Z,G+"enter",bt,o,be),gt.target=ae,gt.relatedTarget=In,we=gt),In=we,ue&&bt)t:{for(gt=ue,Z=bt,G=0,ae=gt;ae;ae=rc(ae))G++;for(ae=0,we=Z;we;we=rc(we))ae++;for(;0<G-ae;)gt=rc(gt),G--;for(;0<ae-G;)Z=rc(Z),ae--;for(;G--;){if(gt===Z||Z!==null&&gt===Z.alternate)break t;gt=rc(gt),Z=rc(Z)}gt=null}else gt=null;ue!==null&&nb(Te,ce,ue,gt,!1),bt!==null&&In!==null&&nb(Te,In,bt,gt,!0)}}e:{if(ce=ie?Je(ie):window,ue=ce.nodeName&&ce.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ce.type==="file")var Ge=Fd;else if(Gn(ce))if(Hd)Ge=Dm;else{Ge=Rm;var Wt=Am}else ue=ce.nodeName,!ue||ue.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?ie&&M(ie.elementType)&&(Ge=Fd):Ge=jm;if(Ge&&(Ge=Ge(r,ie))){ys(Te,Ge,o,be);break e}Wt&&Wt(r,ce,ie),r==="focusout"&&ie&&ce.type==="number"&&ie.memoizedProps.value!=null&&za(ce,"number",ce.value)}switch(Wt=ie?Je(ie):window,r){case"focusin":(Gn(Wt)||Wt.contentEditable==="true")&&(J=Wt,K=ie,Pe=null);break;case"focusout":Pe=K=J=null;break;case"mousedown":nt=!0;break;case"contextmenu":case"mouseup":case"dragend":nt=!1,rn(Te,o,be);break;case"selectionchange":if(Y)break;case"keydown":case"keyup":rn(Te,o,be)}var st;if(es)e:{switch(r){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else Yt?he(r,o)&&(yt="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(yt="onCompositionStart");yt&&(w&&o.locale!=="ko"&&(Yt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Yt&&(st=ms()):(_n=be,Zn="value"in _n?_n.value:_n.textContent,Yt=!0)),Wt=Oh(ie,yt),0<Wt.length&&(yt=new Ho(yt,r,null,o,be),Te.push({event:yt,listeners:Wt}),st?yt.data=st:(st=Ie(o),st!==null&&(yt.data=st)))),(st=x?Jn(r,o):Jt(r,o))&&(yt=Oh(ie,"onBeforeInput"),0<yt.length&&(Wt=new Ho("onBeforeInput","beforeinput",null,o,be),Te.push({event:Wt,listeners:yt}),Wt.data=st)),ON(Te,r,ie,o,be)}eb(Te,s)})}function Su(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Oh(r,s){for(var o=s+"Capture",c=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Pt(r,o),m!=null&&c.unshift(Su(r,m,y)),m=Pt(r,s),m!=null&&c.push(Su(r,m,y))),r.tag===3)return c;r=r.return}return[]}function rc(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function nb(r,s,o,c,m){for(var y=s._reactName,T=[];o!==null&&o!==c;){var S=o,F=S.alternate,ie=S.stateNode;if(S=S.tag,F!==null&&F===c)break;S!==5&&S!==26&&S!==27||ie===null||(F=ie,m?(ie=Pt(o,y),ie!=null&&T.unshift(Su(o,ie,F))):m||(ie=Pt(o,y),ie!=null&&T.push(Su(o,ie,F)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var LN=/\r\n?/g,UN=/\u0000|\uFFFD/g;function rb(r){return(typeof r=="string"?r:""+r).replace(LN,`
`).replace(UN,"")}function ab(r,s){return s=rb(s),rb(r)===s}function Ph(){}function Mn(r,s,o,c,m,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Wn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Wn(r,""+c);break;case"className":or(r,"class",c);break;case"tabIndex":or(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":or(r,o,c);break;case"style":ri(r,c,y);break;case"data":if(s!=="object"){or(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=fe(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&Mn(r,s,"name",m.name,m,null),Mn(r,s,"formEncType",m.formEncType,m,null),Mn(r,s,"formMethod",m.formMethod,m,null),Mn(r,s,"formTarget",m.formTarget,m,null)):(Mn(r,s,"encType",m.encType,m,null),Mn(r,s,"method",m.method,m,null),Mn(r,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=fe(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Ph);break;case"onScroll":c!=null&&Xt("scroll",r);break;case"onScrollEnd":c!=null&&Xt("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=fe(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Xt("beforetoggle",r),Xt("toggle",r),zn(r,"popover",c);break;case"xlinkActuate":dt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":dt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":dt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":dt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":dt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":dt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":dt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":dt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":dt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":zn(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=te.get(o)||o,zn(r,o,c))}}function Zp(r,s,o,c,m,y){switch(o){case"style":ri(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Wn(r,c):(typeof c=="number"||typeof c=="bigint")&&Wn(r,""+c);break;case"onScroll":c!=null&&Xt("scroll",r);break;case"onScrollEnd":c!=null&&Xt("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Ph);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hr.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),y=r[je]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,m);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):zn(r,o,c)}}}function ia(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",r),Xt("load",r);var c=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var T=o[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Mn(r,s,y,T,o,null)}}m&&Mn(r,s,"srcSet",o.srcSet,o,null),c&&Mn(r,s,"src",o.src,o,null);return;case"input":Xt("invalid",r);var S=y=T=m=null,F=null,ie=null;for(c in o)if(o.hasOwnProperty(c)){var be=o[c];if(be!=null)switch(c){case"name":m=be;break;case"type":T=be;break;case"checked":F=be;break;case"defaultChecked":ie=be;break;case"value":y=be;break;case"defaultValue":S=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(a(137,s));break;default:Mn(r,s,c,be,o,null)}}hs(r,y,S,F,ie,T,m,!1),Ma(r);return;case"select":Xt("invalid",r),c=T=y=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":y=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:Mn(r,s,m,S,o,null)}s=y,o=T,r.multiple=!!c,s!=null?pa(r,!!c,s,!1):o!=null&&pa(r,!!c,o,!0);return;case"textarea":Xt("invalid",r),y=m=c=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":m=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:Mn(r,s,T,S,o,null)}ga(r,c,m,y),Ma(r);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(c=o[F],c!=null))switch(F){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Mn(r,s,F,c,o,null)}return;case"dialog":Xt("beforetoggle",r),Xt("toggle",r),Xt("cancel",r),Xt("close",r);break;case"iframe":case"object":Xt("load",r);break;case"video":case"audio":for(c=0;c<Nu.length;c++)Xt(Nu[c],r);break;case"image":Xt("error",r),Xt("load",r);break;case"details":Xt("toggle",r);break;case"embed":case"source":case"link":Xt("error",r),Xt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in o)if(o.hasOwnProperty(ie)&&(c=o[ie],c!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Mn(r,s,ie,c,o,null)}return;default:if(M(s)){for(be in o)o.hasOwnProperty(be)&&(c=o[be],c!==void 0&&Zp(r,s,be,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&Mn(r,s,S,c,o,null))}function zN(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,S=null,F=null,ie=null,be=null;for(ue in o){var Te=o[ue];if(o.hasOwnProperty(ue)&&Te!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":F=Te;default:c.hasOwnProperty(ue)||Mn(r,s,ue,null,c,Te)}}for(var ce in c){var ue=c[ce];if(Te=o[ce],c.hasOwnProperty(ce)&&(ue!=null||Te!=null))switch(ce){case"type":y=ue;break;case"name":m=ue;break;case"checked":ie=ue;break;case"defaultChecked":be=ue;break;case"value":T=ue;break;case"defaultValue":S=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(a(137,s));break;default:ue!==Te&&Mn(r,s,ce,ue,c,Te)}}Sr(r,T,S,F,ie,be,y,m);return;case"select":ue=T=S=ce=null;for(y in o)if(F=o[y],o.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":ue=F;default:c.hasOwnProperty(y)||Mn(r,s,y,null,c,F)}for(m in c)if(y=c[m],F=o[m],c.hasOwnProperty(m)&&(y!=null||F!=null))switch(m){case"value":ce=y;break;case"defaultValue":S=y;break;case"multiple":T=y;default:y!==F&&Mn(r,s,m,y,c,F)}s=S,o=T,c=ue,ce!=null?pa(r,!!o,ce,!1):!!c!=!!o&&(s!=null?pa(r,!!o,s,!0):pa(r,!!o,o?[]:"",!1));return;case"textarea":ue=ce=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Mn(r,s,S,null,c,m)}for(T in c)if(m=c[T],y=o[T],c.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":ce=m;break;case"defaultValue":ue=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==y&&Mn(r,s,T,m,c,y)}dn(r,ce,ue);return;case"option":for(var bt in o)if(ce=o[bt],o.hasOwnProperty(bt)&&ce!=null&&!c.hasOwnProperty(bt))switch(bt){case"selected":r.selected=!1;break;default:Mn(r,s,bt,null,c,ce)}for(F in c)if(ce=c[F],ue=o[F],c.hasOwnProperty(F)&&ce!==ue&&(ce!=null||ue!=null))switch(F){case"selected":r.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Mn(r,s,F,ce,c,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in o)ce=o[gt],o.hasOwnProperty(gt)&&ce!=null&&!c.hasOwnProperty(gt)&&Mn(r,s,gt,null,c,ce);for(ie in c)if(ce=c[ie],ue=o[ie],c.hasOwnProperty(ie)&&ce!==ue&&(ce!=null||ue!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(a(137,s));break;default:Mn(r,s,ie,ce,c,ue)}return;default:if(M(s)){for(var In in o)ce=o[In],o.hasOwnProperty(In)&&ce!==void 0&&!c.hasOwnProperty(In)&&Zp(r,s,In,void 0,c,ce);for(be in c)ce=c[be],ue=o[be],!c.hasOwnProperty(be)||ce===ue||ce===void 0&&ue===void 0||Zp(r,s,be,ce,c,ue);return}}for(var Z in o)ce=o[Z],o.hasOwnProperty(Z)&&ce!=null&&!c.hasOwnProperty(Z)&&Mn(r,s,Z,null,c,ce);for(Te in c)ce=c[Te],ue=o[Te],!c.hasOwnProperty(Te)||ce===ue||ce==null&&ue==null||Mn(r,s,Te,ce,c,ue)}var Jp=null,eg=null;function kh(r){return r.nodeType===9?r:r.ownerDocument}function sb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ib(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function tg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ng=null;function BN(){var r=window.event;return r&&r.type==="popstate"?r===ng?!1:(ng=r,!0):(ng=null,!1)}var ob=typeof setTimeout=="function"?setTimeout:void 0,FN=typeof clearTimeout=="function"?clearTimeout:void 0,lb=typeof Promise=="function"?Promise:void 0,HN=typeof queueMicrotask=="function"?queueMicrotask:typeof lb<"u"?function(r){return lb.resolve(null).then(r).catch(qN)}:ob;function qN(r){setTimeout(function(){throw r})}function to(r){return r==="head"}function cb(r,s){var o=s,c=0,m=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var T=r.ownerDocument;if(o&1&&Cu(T.documentElement),o&2&&Cu(T.body),o&4)for(o=T.head,Cu(o),T=o.firstChild;T;){var S=T.nextSibling,F=T.nodeName;T[ot]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=S}}if(m===0){r.removeChild(y),Pu(s);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);Pu(s)}function rg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":rg(o),Ke(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function $N(r,s,o,c){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[ot])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=xs(r.nextSibling),r===null)break}return null}function YN(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=xs(r.nextSibling),r===null))return null;return r}function ag(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function WN(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function xs(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var sg=null;function ub(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function db(r,s,o){switch(s=kh(o),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function Cu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ke(r)}var ls=new Map,hb=new Set;function Vh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var _i=le.d;le.d={f:GN,r:QN,D:KN,C:XN,L:ZN,m:JN,X:tS,S:eS,M:nS};function GN(){var r=_i.f(),s=Ah();return r||s}function QN(r){var s=tt(r);s!==null&&s.tag===5&&s.type==="form"?Mv(s):_i.r(r)}var ac=typeof document>"u"?null:document;function fb(r,s,o){var c=ac;if(c&&typeof s=="string"&&s){var m=Bn(s);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),hb.has(m)||(hb.add(m),r={rel:r,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),ia(s,"link",r),Ot(s),c.head.appendChild(s)))}}function KN(r){_i.D(r),fb("dns-prefetch",r,null)}function XN(r,s){_i.C(r,s),fb("preconnect",r,s)}function ZN(r,s,o){_i.L(r,s,o);var c=ac;if(c&&r&&s){var m='link[rel="preload"][as="'+Bn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Bn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Bn(o.imageSizes)+'"]')):m+='[href="'+Bn(r)+'"]';var y=m;switch(s){case"style":y=sc(r);break;case"script":y=ic(r)}ls.has(y)||(r=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ls.set(y,r),c.querySelector(m)!==null||s==="style"&&c.querySelector(Au(y))||s==="script"&&c.querySelector(Ru(y))||(s=c.createElement("link"),ia(s,"link",r),Ot(s),c.head.appendChild(s)))}}function JN(r,s){_i.m(r,s);var o=ac;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Bn(c)+'"][href="'+Bn(r)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ic(r)}if(!ls.has(y)&&(r=b({rel:"modulepreload",href:r},s),ls.set(y,r),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ru(y)))return}c=o.createElement("link"),ia(c,"link",r),Ot(c),o.head.appendChild(c)}}}function eS(r,s,o){_i.S(r,s,o);var c=ac;if(c&&r){var m=We(c).hoistableStyles,y=sc(r);s=s||"default";var T=m.get(y);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(Au(y)))S.loading=5;else{r=b({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ls.get(y))&&ig(r,o);var F=T=c.createElement("link");Ot(F),ia(F,"link",r),F._p=new Promise(function(ie,be){F.onload=ie,F.onerror=be}),F.addEventListener("load",function(){S.loading|=1}),F.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Lh(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:S},m.set(y,T)}}}function tS(r,s){_i.X(r,s);var o=ac;if(o&&r){var c=We(o).hoistableScripts,m=ic(r),y=c.get(m);y||(y=o.querySelector(Ru(m)),y||(r=b({src:r,async:!0},s),(s=ls.get(m))&&og(r,s),y=o.createElement("script"),Ot(y),ia(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function nS(r,s){_i.M(r,s);var o=ac;if(o&&r){var c=We(o).hoistableScripts,m=ic(r),y=c.get(m);y||(y=o.querySelector(Ru(m)),y||(r=b({src:r,async:!0,type:"module"},s),(s=ls.get(m))&&og(r,s),y=o.createElement("script"),Ot(y),ia(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function mb(r,s,o,c){var m=(m=qe.current)?Vh(m):null;if(!m)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=sc(o.href),o=We(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=sc(o.href);var y=We(m).hoistableStyles,T=y.get(r);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=m.querySelector(Au(r)))&&!y._p&&(T.instance=y,T.state.loading=5),ls.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ls.set(r,o),y||rS(m,r,o,T.state))),s&&c===null)throw Error(a(528,""));return T}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ic(o),o=We(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function sc(r){return'href="'+Bn(r)+'"'}function Au(r){return'link[rel="stylesheet"]['+r+"]"}function pb(r){return b({},r,{"data-precedence":r.precedence,precedence:null})}function rS(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),ia(s,"link",o),Ot(s),r.head.appendChild(s))}function ic(r){return'[src="'+Bn(r)+'"]'}function Ru(r){return"script[async]"+r}function gb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Bn(o.href)+'"]');if(c)return s.instance=c,Ot(c),c;var m=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Ot(c),ia(c,"style",m),Lh(c,o.precedence,r),s.instance=c;case"stylesheet":m=sc(o.href);var y=r.querySelector(Au(m));if(y)return s.state.loading|=4,s.instance=y,Ot(y),y;c=pb(o),(m=ls.get(m))&&ig(c,m),y=(r.ownerDocument||r).createElement("link"),Ot(y);var T=y;return T._p=new Promise(function(S,F){T.onload=S,T.onerror=F}),ia(y,"link",c),s.state.loading|=4,Lh(y,o.precedence,r),s.instance=y;case"script":return y=ic(o.src),(m=r.querySelector(Ru(y)))?(s.instance=m,Ot(m),m):(c=o,(m=ls.get(y))&&(c=b({},o),og(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),Ot(m),ia(m,"link",c),r.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Lh(c,o.precedence,r));return s.instance}function Lh(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===s)y=S;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function ig(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function og(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Uh=null;function yb(r,s,o){if(Uh===null){var c=new Map,m=Uh=new Map;m.set(o,c)}else m=Uh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var y=o[m];if(!(y[ot]||y[ve]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(s)||"";T=r+T;var S=c.get(T);S?S.push(y):c.set(T,[y])}}return c}function vb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function aS(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function xb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ju=null;function sS(){}function iS(r,s,o){if(ju===null)throw Error(a(475));var c=ju;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=sc(o.href),y=r.querySelector(Au(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=zh.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,Ot(y);return}y=r.ownerDocument||r,o=pb(o),(m=ls.get(m))&&ig(o,m),y=y.createElement("link"),Ot(y);var T=y;T._p=new Promise(function(S,F){T.onload=S,T.onerror=F}),ia(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=zh.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function oS(){if(ju===null)throw Error(a(475));var r=ju;return r.stylesheets&&r.count===0&&lg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&lg(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function zh(){if(this.count--,this.count===0){if(this.stylesheets)lg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Bh=null;function lg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Bh=new Map,s.forEach(lS,r),Bh=null,zh.call(r))}function lS(r,s){if(!(s.state.loading&4)){var o=Bh.get(r);if(o)var c=o.get(null);else{o=new Map,Bh.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}m=s.instance,T=m.getAttribute("data-precedence"),y=o.get(T)||c,y===c&&o.set(null,m),o.set(T,m),this.count++,c=zh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),s.state.loading|=4}}var Du={$$typeof:se,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function cS(r,s,o,c,m,y,T,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rn(0),this.hiddenUpdates=Rn(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function bb(r,s,o,c,m,y,T,S,F,ie,be,Te){return r=new cS(r,s,o,T,S,F,ie,Te),s=1,y===!0&&(s|=24),y=Ha(3,null,null,s),r.current=y,y.stateNode=r,s=Hm(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},Wm(y),r}function _b(r){return r?(r=Vl,r):Vl}function wb(r,s,o,c,m,y){m=_b(m),c.context===null?c.context=m:c.pendingContext=m,c=Fi(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Hi(r,c,s),o!==null&&(Ga(o,r,s),ou(o,r,s))}function Eb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function cg(r,s){Eb(r,s),(r=r.alternate)&&Eb(r,s)}function Tb(r){if(r.tag===13){var s=kl(r,67108864);s!==null&&Ga(s,r,67108864),cg(r,67108864)}}var Fh=!0;function uS(r,s,o,c){var m=B.T;B.T=null;var y=le.p;try{le.p=2,ug(r,s,o,c)}finally{le.p=y,B.T=m}}function dS(r,s,o,c){var m=B.T;B.T=null;var y=le.p;try{le.p=8,ug(r,s,o,c)}finally{le.p=y,B.T=m}}function ug(r,s,o,c){if(Fh){var m=dg(c);if(m===null)Xp(r,s,c,Hh,o),Sb(r,c);else if(fS(m,r,s,o,c))c.stopPropagation();else if(Sb(r,c),s&4&&-1<hS.indexOf(r)){for(;m!==null;){var y=tt(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=ir(y.pendingLanes);if(T!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var F=1<<31-vn(T);S.entanglements[1]|=F,T&=~F}Ls(y),(Nn&6)===0&&(Sh=Pn()+500,Tu(0))}}break;case 13:S=kl(y,2),S!==null&&Ga(S,y,2),Ah(),cg(y,2)}if(y=dg(c),y===null&&Xp(r,s,c,Hh,o),y===m)break;m=y}m!==null&&c.stopPropagation()}else Xp(r,s,c,null,o)}}function dg(r){return r=Re(r),hg(r)}var Hh=null;function hg(r){if(Hh=null,r=lt(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=d(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Hh=r,null}function Nb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yr()){case br:return 2;case _r:return 8;case Or:case sr:return 32;case Ln:return 268435456;default:return 32}default:return 32}}var fg=!1,no=null,ro=null,ao=null,Mu=new Map,Iu=new Map,so=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sb(r,s){switch(r){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":Mu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(s.pointerId)}}function Ou(r,s,o,c,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},s!==null&&(s=tt(s),s!==null&&Tb(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function fS(r,s,o,c,m){switch(s){case"focusin":return no=Ou(no,r,s,o,c,m),!0;case"dragenter":return ro=Ou(ro,r,s,o,c,m),!0;case"mouseover":return ao=Ou(ao,r,s,o,c,m),!0;case"pointerover":var y=m.pointerId;return Mu.set(y,Ou(Mu.get(y)||null,r,s,o,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Iu.set(y,Ou(Iu.get(y)||null,r,s,o,c,m)),!0}return!1}function Cb(r){var s=lt(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=d(o),s!==null){r.blockedOn=s,ee(r.priority,function(){if(o.tag===13){var c=Wa();c=wt(c);var m=kl(o,c);m!==null&&Ga(m,o,c),cg(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=dg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);De=c,o.target.dispatchEvent(c),De=null}else return s=tt(o),s!==null&&Tb(s),r.blockedOn=o,!1;s.shift()}return!0}function Ab(r,s,o){qh(r)&&o.delete(s)}function mS(){fg=!1,no!==null&&qh(no)&&(no=null),ro!==null&&qh(ro)&&(ro=null),ao!==null&&qh(ao)&&(ao=null),Mu.forEach(Ab),Iu.forEach(Ab)}function $h(r,s){r.blockedOn===s&&(r.blockedOn=null,fg||(fg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,mS)))}var Yh=null;function Rb(r){Yh!==r&&(Yh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yh===r&&(Yh=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],m=r[s+2];if(typeof c!="function"){if(hg(c||o)===null)continue;break}var y=tt(o);y!==null&&(r.splice(s,3),s-=3,hp(y,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Pu(r){function s(F){return $h(F,r)}no!==null&&$h(no,r),ro!==null&&$h(ro,r),ao!==null&&$h(ao,r),Mu.forEach(s),Iu.forEach(s);for(var o=0;o<so.length;o++){var c=so[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<so.length&&(o=so[0],o.blockedOn===null);)Cb(o),o.blockedOn===null&&so.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],y=o[c+1],T=m[je]||null;if(typeof y=="function")T||Rb(o);else if(T){var S=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[je]||null)S=T.formAction;else if(hg(m)!==null)continue}else S=T.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),Rb(o)}}}function mg(r){this._internalRoot=r}Wh.prototype.render=mg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,c=Wa();wb(o,c,r,s,null,null)},Wh.prototype.unmount=mg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;wb(r.current,2,null,r,null,null),Ah(),s[ke]=null}};function Wh(r){this._internalRoot=r}Wh.prototype.unstable_scheduleHydration=function(r){if(r){var s=q();r={blockedOn:null,target:r,priority:s};for(var o=0;o<so.length&&s!==0&&s<so[o].priority;o++);so.splice(o,0,r),o===0&&Cb(r)}};var jb=e.version;if(jb!=="19.1.0")throw Error(a(527,jb,"19.1.0"));le.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var pS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{jt=Gh.inject(pS),Ze=Gh}catch{}}return Vu.createRoot=function(r,s){if(!i(r))throw Error(a(299));var o=!1,c="",m=Yv,y=Wv,T=Gv,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=bb(r,1,!1,null,null,o,c,m,y,T,S,null),r[ke]=s.current,Kp(r),new mg(s)},Vu.hydrateRoot=function(r,s,o){if(!i(r))throw Error(a(299));var c=!1,m="",y=Yv,T=Wv,S=Gv,F=null,ie=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(F=o.unstable_transitionCallbacks),o.formState!==void 0&&(ie=o.formState)),s=bb(r,1,!0,s,o??null,c,m,y,T,S,F,ie),s.context=_b(null),o=s.current,c=Wa(),c=wt(c),m=Fi(c),m.callback=null,Hi(o,m,c),o=c,s.current.lanes=o,En(s,o),Ls(s),r[ke]=s.current,Kp(r),new Wh(s)},Vu.version="19.1.0",Vu}var zb;function TS(){if(zb)return yg.exports;zb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yg.exports=ES(),yg.exports}var NS=TS();const SS=tm(NS);var Lu={},Bb;function CS(){if(Bb)return Lu;Bb=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.parse=d,Lu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function d(E,D){const P=new l,U=E.length;if(U<2)return P;const $=D?.decode||b;let Q=0;do{const pe=E.indexOf("=",Q);if(pe===-1)break;const se=E.indexOf(";",Q),ge=se===-1?U:se;if(pe>ge){Q=E.lastIndexOf(";",pe-1)+1;continue}const de=f(E,Q,pe),H=p(E,pe,de),k=E.slice(de,H);if(P[k]===void 0){let R=f(E,pe+1,ge),I=p(E,ge,R);const j=$(E.slice(R,I));P[k]=j}Q=ge+1}while(Q<U);return P}function f(E,D,P){do{const U=E.charCodeAt(D);if(U!==32&&U!==9)return D}while(++D<P);return P}function p(E,D,P){for(;D>P;){const U=E.charCodeAt(--D);if(U!==32&&U!==9)return D+1}return P}function g(E,D,P){const U=P?.encode||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const $=U(D);if(!e.test($))throw new TypeError(`argument val is invalid: ${D}`);let Q=E+"="+$;if(!P)return Q;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);Q+="; Max-Age="+P.maxAge}if(P.domain){if(!t.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);Q+="; Domain="+P.domain}if(P.path){if(!a.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);Q+="; Path="+P.path}if(P.expires){if(!_(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);Q+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(Q+="; HttpOnly"),P.secure&&(Q+="; Secure"),P.partitioned&&(Q+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return Q}function b(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return i.call(E)==="[object Date]"}return Lu}CS();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nw=n=>{throw TypeError(n)},AS=(n,e,t)=>e.has(n)||Nw("Cannot "+t),_g=(n,e,t)=>(AS(n,e,"read from private field"),t?t.call(n):e.get(n)),RS=(n,e,t)=>e.has(n)?Nw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Fb="popstate";function jS(n={}){function e(a,i){let{pathname:l,search:d,hash:f}=a.location;return ld("",{pathname:l,search:d,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(a,i){return typeof i=="string"?i:So(i)}return MS(e,t,null,n)}function Gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DS(){return Math.random().toString(36).substring(2,10)}function Hb(n,e){return{usr:n.state,key:n.key,idx:e}}function ld(n,e,t=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Oo(e):e,state:t,key:e&&e.key||a||DS()}}function So({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Oo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function MS(n,e,t,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,d=i.history,f="POP",p=null,g=b();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function b(){return(d.state||{idx:null}).idx}function _(){f="POP";let $=b(),Q=$==null?null:$-g;g=$,p&&p({action:f,location:U.location,delta:Q})}function E($,Q){f="PUSH";let pe=ld(U.location,$,Q);g=b()+1;let se=Hb(pe,g),ge=U.createHref(pe);try{d.pushState(se,"",ge)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;i.location.assign(ge)}l&&p&&p({action:f,location:U.location,delta:1})}function D($,Q){f="REPLACE";let pe=ld(U.location,$,Q);g=b();let se=Hb(pe,g),ge=U.createHref(pe);d.replaceState(se,"",ge),l&&p&&p({action:f,location:U.location,delta:0})}function P($){return Sw($)}let U={get action(){return f},get location(){return n(i,d)},listen($){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(Fb,_),p=$,()=>{i.removeEventListener(Fb,_),p=null}},createHref($){return e(i,$)},createURL:P,encodeLocation($){let Q=P($);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:E,replace:D,go($){return d.go($)}};return U}function Sw(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(t,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:So(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}var $u,qb=class{constructor(n){if(RS(this,$u,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(_g(this,$u).has(n))return _g(this,$u).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){_g(this,$u).set(n,e)}};$u=new WeakMap;var IS=new Set(["lazy","caseSensitive","path","id","index","children"]);function OS(n){return IS.has(n)}var PS=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function kS(n){return PS.has(n)}function VS(n){return n.index===!0}function Af(n,e,t=[],a={}){return n.map((i,l)=>{let d=[...t,String(l)],f=typeof i.id=="string"?i.id:d.join("-");if(Gt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Gt(!a[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),VS(i)){let p={...i,...e(i),id:f};return a[f]=p,p}else{let p={...i,...e(i),id:f,children:void 0};return a[f]=p,i.children&&(p.children=Af(i.children,e,d,a)),p}})}function ho(n,e,t="/"){return hf(n,e,t,!1)}function hf(n,e,t,a){let i=typeof e=="string"?Oo(e):e,l=ds(i.pathname||"/",t);if(l==null)return null;let d=Cw(n);US(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let g=KS(l);f=GS(d[p],g,a)}return f}function LS(n,e){let{route:t,pathname:a,params:i}=n;return{id:t.id,pathname:a,params:i,data:e[t.id],handle:t.handle}}function Cw(n,e=[],t=[],a=""){let i=(l,d,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};p.relativePath.startsWith("/")&&(Gt(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=Ws([a,p.relativePath]),b=t.concat(p);l.children&&l.children.length>0&&(Gt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Cw(l.children,e,b,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:YS(g,l.index),routesMeta:b})};return n.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))i(l,d);else for(let f of Aw(l.path))i(l,d,f)}),e}function Aw(n){let e=n.split("/");if(e.length===0)return[];let[t,...a]=e,i=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let d=Aw(a.join("/")),f=[];return f.push(...d.map(p=>p===""?l:[l,p].join("/"))),i&&f.push(...d),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function US(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WS(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var zS=/^:[\w-]+$/,BS=3,FS=2,HS=1,qS=10,$S=-2,$b=n=>n==="*";function YS(n,e){let t=n.split("/"),a=t.length;return t.some($b)&&(a+=$S),e&&(a+=FS),t.filter(i=>!$b(i)).reduce((i,l)=>i+(zS.test(l)?BS:l===""?HS:qS),a)}function WS(n,e){return n.length===e.length&&n.slice(0,-1).every((a,i)=>a===e[i])?n[n.length-1]-e[e.length-1]:0}function GS(n,e,t=!1){let{routesMeta:a}=n,i={},l="/",d=[];for(let f=0;f<a.length;++f){let p=a[f],g=f===a.length-1,b=l==="/"?e:e.slice(l.length)||"/",_=Rf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),E=p.route;if(!_&&g&&t&&!a[a.length-1].route.index&&(_=Rf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!_)return null;Object.assign(i,_.params),d.push({params:i,pathname:Ws([l,_.pathname]),pathnameBase:JS(Ws([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Ws([l,_.pathnameBase]))}return d}function Rf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,a]=QS(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let l=i[0],d=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:a.reduce((g,{paramName:b,isOptional:_},E)=>{if(b==="*"){let P=f[E]||"";d=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const D=f[E];return _&&!D?g[b]=void 0:g[b]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:d,pattern:n}}function QS(n,e=!1,t=!0){xr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(a.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(a.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function KS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ds(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=n.charAt(t);return a&&a!=="/"?null:n.slice(t)||"/"}function XS(n,e="/"){let{pathname:t,search:a="",hash:i=""}=typeof n=="string"?Oo(n):n;return{pathname:t?t.startsWith("/")?t:ZS(t,e):e,search:eC(a),hash:tC(i)}}function ZS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function wg(n,e,t,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rw(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nm(n){let e=Rw(n);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function rm(n,e,t,a=!1){let i;typeof n=="string"?i=Oo(n):(i={...n},Gt(!i.pathname||!i.pathname.includes("?"),wg("?","pathname","search",i)),Gt(!i.pathname||!i.pathname.includes("#"),wg("#","pathname","hash",i)),Gt(!i.search||!i.search.includes("#"),wg("#","search","hash",i)));let l=n===""||i.pathname==="",d=l?"/":i.pathname,f;if(d==null)f=t;else{let _=e.length-1;if(!a&&d.startsWith("..")){let E=d.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}f=_>=0?e[_]:"/"}let p=XS(i,f),g=d&&d!=="/"&&d.endsWith("/"),b=(l||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var Ws=n=>n.join("/").replace(/\/\/+/g,"/"),JS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),eC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,tC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,jf=class{constructor(n,e,t,a=!1){this.status=n,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function cd(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var jw=["POST","PUT","PATCH","DELETE"],nC=new Set(jw),rC=["GET",...jw],aC=new Set(rC),sC=new Set([301,302,303,307,308]),iC=new Set([307,308]),Eg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Uu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},j0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lC=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Dw="remix-router-transitions",Mw=Symbol("ResetLoaderData");function cC(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Gt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=n.hydrationRouteProperties||[],i=n.mapRouteProperties||lC,l={},d=Af(n.routes,i,void 0,l),f,p=n.basename||"/",g=n.dataStrategy||mC,b={unstable_middleware:!1,...n.future},_=null,E=new Set,D=null,P=null,U=null,$=n.hydrationData!=null,Q=ho(d,n.history.location,p),pe=!1,se=null,ge;if(Q==null&&!n.patchRoutesOnNavigation){let q=cs(404,{pathname:n.history.location.pathname}),{matches:ee,route:X}=r_(d);ge=!0,Q=ee,se={[X.id]:q}}else if(Q&&!n.hydrationData&&zt(Q,d,n.history.location.pathname).active&&(Q=null),Q)if(Q.some(q=>q.route.lazy))ge=!1;else if(!Q.some(q=>q.route.loader))ge=!0;else{let q=n.hydrationData?n.hydrationData.loaderData:null,ee=n.hydrationData?n.hydrationData.errors:null;if(ee){let X=Q.findIndex(ve=>ee[ve.route.id]!==void 0);ge=Q.slice(0,X+1).every(ve=>!Kg(ve.route,q,ee))}else ge=Q.every(X=>!Kg(X.route,q,ee))}else{ge=!1,Q=[];let q=zt(null,d,n.history.location.pathname);q.active&&q.matches&&(pe=!0,Q=q.matches)}let de,H={historyAction:n.history.action,location:n.history.location,matches:Q,initialized:ge,navigation:Eg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||se,fetchers:new Map,blockers:new Map},k="POP",R=!1,I,j=!1,z=new Map,W=null,V=!1,Se=!1,ye=new Set,B=new Map,le=0,oe=-1,Ce=new Map,O=new Set,ne=new Map,_e=new Map,me=new Set,Me=new Map,Be,qe=null;function Lt(){if(_=n.history.listen(({action:q,location:ee,delta:X})=>{if(Be){Be(),Be=void 0;return}xr(Me.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ve=ft({currentLocation:H.location,nextLocation:ee,historyAction:q});if(ve&&X!=null){let je=new Promise(ke=>{Be=ke});n.history.go(X*-1),dr(ve,{state:"blocked",location:ee,proceed(){dr(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),je.then(()=>n.history.go(X))},reset(){let ke=new Map(H.blockers);ke.set(ve,Uu),_t({blockers:ke})}});return}return Rt(q,ee)}),t){NC(e,z);let q=()=>SC(e,z);e.addEventListener("pagehide",q),W=()=>e.removeEventListener("pagehide",q)}return H.initialized||Rt("POP",H.location,{initialHydration:!0}),de}function At(){_&&_(),W&&W(),E.clear(),I&&I.abort(),H.fetchers.forEach((q,ee)=>vn(ee)),H.blockers.forEach((q,ee)=>Gr(ee))}function ht(q){return E.add(q),()=>E.delete(q)}function _t(q,ee={}){H={...H,...q};let X=[],ve=[];H.fetchers.forEach((je,ke)=>{je.state==="idle"&&(me.has(ke)?X.push(ke):ve.push(ke))}),me.forEach(je=>{!H.fetchers.has(je)&&!B.has(je)&&X.push(je)}),[...E].forEach(je=>je(H,{deletedFetchers:X,viewTransitionOpts:ee.viewTransitionOpts,flushSync:ee.flushSync===!0})),X.forEach(je=>vn(je)),ve.forEach(je=>H.fetchers.delete(je))}function It(q,ee,{flushSync:X}={}){let ve=H.actionData!=null&&H.navigation.formMethod!=null&&Xa(H.navigation.formMethod)&&H.navigation.state==="loading"&&q.state?._isRedirect!==!0,je;ee.actionData?Object.keys(ee.actionData).length>0?je=ee.actionData:je=null:ve?je=H.actionData:je=null;let ke=ee.loaderData?t_(H.loaderData,ee.loaderData,ee.matches||[],ee.errors):H.loaderData,Qe=H.blockers;Qe.size>0&&(Qe=new Map(Qe),Qe.forEach((Ye,ot)=>Qe.set(ot,Uu)));let Ue=R===!0||H.navigation.formMethod!=null&&Xa(H.navigation.formMethod)&&q.state?._isRedirect!==!0;f&&(d=f,f=void 0),V||k==="POP"||(k==="PUSH"?n.history.push(q,q.state):k==="REPLACE"&&n.history.replace(q,q.state));let $e;if(k==="POP"){let Ye=z.get(H.location.pathname);Ye&&Ye.has(q.pathname)?$e={currentLocation:H.location,nextLocation:q}:z.has(q.pathname)&&($e={currentLocation:q,nextLocation:H.location})}else if(j){let Ye=z.get(H.location.pathname);Ye?Ye.add(q.pathname):(Ye=new Set([q.pathname]),z.set(H.location.pathname,Ye)),$e={currentLocation:H.location,nextLocation:q}}_t({...ee,actionData:je,loaderData:ke,historyAction:k,location:q,initialized:!0,navigation:Eg,revalidation:"idle",restoreScrollPosition:Er(q,ee.matches||H.matches),preventScrollReset:Ue,blockers:Qe},{viewTransitionOpts:$e,flushSync:X===!0}),k="POP",R=!1,j=!1,V=!1,Se=!1,qe?.resolve(),qe=null}async function mn(q,ee){if(typeof q=="number"){n.history.go(q);return}let X=Qg(H.location,H.matches,p,q,ee?.fromRouteId,ee?.relative),{path:ve,submission:je,error:ke}=Yb(!1,X,ee),Qe=H.location,Ue=ld(H.location,ve,ee&&ee.state);Ue={...Ue,...n.history.encodeLocation(Ue)};let $e=ee&&ee.replace!=null?ee.replace:void 0,Ye="PUSH";$e===!0?Ye="REPLACE":$e===!1||je!=null&&Xa(je.formMethod)&&je.formAction===H.location.pathname+H.location.search&&(Ye="REPLACE");let ot=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,Ke=(ee&&ee.flushSync)===!0,lt=ft({currentLocation:Qe,nextLocation:Ue,historyAction:Ye});if(lt){dr(lt,{state:"blocked",location:Ue,proceed(){dr(lt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ue}),mn(q,ee)},reset(){let tt=new Map(H.blockers);tt.set(lt,Uu),_t({blockers:tt})}});return}await Rt(Ye,Ue,{submission:je,pendingError:ke,preventScrollReset:ot,replace:ee&&ee.replace,enableViewTransition:ee&&ee.viewTransition,flushSync:Ke})}function rt(){qe||(qe=CC()),fa(),_t({revalidation:"loading"});let q=qe.promise;return H.navigation.state==="submitting"?q:H.navigation.state==="idle"?(Rt(H.historyAction,H.location,{startUninterruptedRevalidation:!0}),q):(Rt(k||H.historyAction,H.navigation.location,{overrideNavigation:H.navigation,enableViewTransition:j===!0}),q)}async function Rt(q,ee,X){I&&I.abort(),I=null,k=q,V=(X&&X.startUninterruptedRevalidation)===!0,En(H.location,H.matches),R=(X&&X.preventScrollReset)===!0,j=(X&&X.enableViewTransition)===!0;let ve=f||d,je=X&&X.overrideNavigation,ke=X?.initialHydration&&H.matches&&H.matches.length>0&&!pe?H.matches:ho(ve,ee,p),Qe=(X&&X.flushSync)===!0;if(ke&&H.initialized&&!Se&&bC(H.location,ee)&&!(X&&X.submission&&Xa(X.submission.formMethod))){It(ee,{matches:ke},{flushSync:Qe});return}let Ue=zt(ke,ve,ee.pathname);if(Ue.active&&Ue.matches&&(ke=Ue.matches),!ke){let{error:We,notFoundMatches:Ot,route:Et}=Ut(ee.pathname);It(ee,{matches:Ot,loaderData:{},errors:{[Et.id]:We}},{flushSync:Qe});return}I=new AbortController;let $e=pc(n.history,ee,I.signal,X&&X.submission),Ye=new qb(n.unstable_getContext?await n.unstable_getContext():void 0),ot;if(X&&X.pendingError)ot=[dl(ke).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&Xa(X.submission.formMethod)){let We=await ha($e,ee,X.submission,ke,Ye,Ue.active,X&&X.initialHydration===!0,{replace:X.replace,flushSync:Qe});if(We.shortCircuited)return;if(We.pendingActionResult){let[Ot,Et]=We.pendingActionResult;if(Ka(Et)&&cd(Et.error)&&Et.error.status===404){I=null,It(ee,{matches:We.matches,loaderData:{},errors:{[Ot]:Et.error}});return}}ke=We.matches||ke,ot=We.pendingActionResult,je=Tg(ee,X.submission),Qe=!1,Ue.active=!1,$e=pc(n.history,$e.url,$e.signal)}let{shortCircuited:Ke,matches:lt,loaderData:tt,errors:Je}=await ja($e,ee,ke,Ye,Ue.active,je,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Qe,ot);Ke||(I=null,It(ee,{matches:lt||ke,...n_(ot),loaderData:tt,errors:Je}))}async function ha(q,ee,X,ve,je,ke,Qe,Ue={}){fa();let $e=EC(ee,X);if(_t({navigation:$e},{flushSync:Ue.flushSync===!0}),ke){let Ke=await Tn(ve,ee.pathname,q.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let lt=dl(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,pendingActionResult:[lt,{type:"error",error:Ke.error}]}}else if(Ke.matches)ve=Ke.matches;else{let{notFoundMatches:lt,error:tt,route:Je}=Ut(ee.pathname);return{matches:lt,pendingActionResult:[Je.id,{type:"error",error:tt}]}}}let Ye,ot=Yu(ve,ee);if(!ot.route.action&&!ot.route.lazy)Ye={type:"error",error:cs(405,{method:q.method,pathname:ee.pathname,routeId:ot.route.id})};else{let Ke=Tc(i,l,q,ve,ot,Qe?[]:a,je),lt=await Ln(q,Ke,je,null);if(Ye=lt[ot.route.id],!Ye){for(let tt of ve)if(lt[tt.route.id]){Ye=lt[tt.route.id];break}}if(q.signal.aborted)return{shortCircuited:!0}}if(fl(Ye)){let Ke;return Ue&&Ue.replace!=null?Ke=Ue.replace:Ke=Zb(Ye.response.headers.get("Location"),new URL(q.url),p)===H.location.pathname+H.location.search,await sr(q,Ye,!0,{submission:X,replace:Ke}),{shortCircuited:!0}}if(Ka(Ye)){let Ke=dl(ve,ot.route.id);return(Ue&&Ue.replace)!==!0&&(k="PUSH"),{matches:ve,pendingActionResult:[Ke.route.id,Ye,ot.route.id]}}return{matches:ve,pendingActionResult:[ot.route.id,Ye]}}async function ja(q,ee,X,ve,je,ke,Qe,Ue,$e,Ye,ot,Ke){let lt=ke||Tg(ee,Qe),tt=Qe||Ue||s_(lt),Je=!V&&!Ye;if(je){if(Je){let xn=Pn(Ke);_t({navigation:lt,...xn!==void 0?{actionData:xn}:{}},{flushSync:ot})}let dt=await Tn(X,ee.pathname,q.signal);if(dt.type==="aborted")return{shortCircuited:!0};if(dt.type==="error"){let xn=dl(dt.partialMatches).route.id;return{matches:dt.partialMatches,loaderData:{},errors:{[xn]:dt.error}}}else if(dt.matches)X=dt.matches;else{let{error:xn,notFoundMatches:Xe,route:Tr}=Ut(ee.pathname);return{matches:Xe,loaderData:{},errors:{[Tr.id]:xn}}}}let We=f||d,{dsMatches:Ot,revalidatingFetchers:Et}=Wb(q,ve,i,l,n.history,H,X,tt,ee,Ye?[]:a,Ye===!0,Se,ye,me,ne,O,We,p,n.patchRoutesOnNavigation!=null,Ke);if(oe=++le,!n.dataStrategy&&!Ot.some(dt=>dt.shouldLoad)&&Et.length===0){let dt=wr();return It(ee,{matches:X,loaderData:{},errors:Ke&&Ka(Ke[1])?{[Ke[0]]:Ke[1].error}:null,...n_(Ke),...dt?{fetchers:new Map(H.fetchers)}:{}},{flushSync:ot}),{shortCircuited:!0}}if(Je){let dt={};if(!je){dt.navigation=lt;let xn=Pn(Ke);xn!==void 0&&(dt.actionData=xn)}Et.length>0&&(dt.fetchers=Yr(Et)),_t(dt,{flushSync:ot})}Et.forEach(dt=>{at(dt.key),dt.controller&&B.set(dt.key,dt.controller)});let hr=()=>Et.forEach(dt=>at(dt.key));I&&I.signal.addEventListener("abort",hr);let{loaderResults:jn,fetcherResults:un}=await Wr(Ot,Et,q,ve);if(q.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",hr),Et.forEach(dt=>B.delete(dt.key));let Un=Qh(jn);if(Un)return await sr(q,Un.result,!0,{replace:$e}),{shortCircuited:!0};if(Un=Qh(un),Un)return O.add(Un.key),await sr(q,Un.result,!0,{replace:$e}),{shortCircuited:!0};let{loaderData:Yn,errors:mt}=e_(H,X,jn,Ke,Et,un);Ye&&H.errors&&(mt={...H.errors,...mt});let Na=wr(),zn=ur(oe),or=Na||zn||Et.length>0;return{matches:X,loaderData:Yn,errors:mt,...or?{fetchers:new Map(H.fetchers)}:{}}}function Pn(q){if(q&&!Ka(q[1]))return{[q[0]]:q[1].data};if(H.actionData)return Object.keys(H.actionData).length===0?null:H.actionData}function Yr(q){return q.forEach(ee=>{let X=H.fetchers.get(ee.key),ve=zu(void 0,X?X.data:void 0);H.fetchers.set(ee.key,ve)}),new Map(H.fetchers)}async function br(q,ee,X,ve){at(q);let je=(ve&&ve.flushSync)===!0,ke=f||d,Qe=Qg(H.location,H.matches,p,X,ee,ve?.relative),Ue=ho(ke,Qe,p),$e=zt(Ue,ke,Qe);if($e.active&&$e.matches&&(Ue=$e.matches),!Ue){Ze(q,ee,cs(404,{pathname:Qe}),{flushSync:je});return}let{path:Ye,submission:ot,error:Ke}=Yb(!0,Qe,ve);if(Ke){Ze(q,ee,Ke,{flushSync:je});return}let lt=Yu(Ue,Ye),tt=new qb(n.unstable_getContext?await n.unstable_getContext():void 0),Je=(ve&&ve.preventScrollReset)===!0;if(ot&&Xa(ot.formMethod)){await _r(q,ee,Ye,lt,Ue,tt,$e.active,je,Je,ot);return}ne.set(q,{routeId:ee,path:Ye}),await Or(q,ee,Ye,lt,Ue,tt,$e.active,je,Je,ot)}async function _r(q,ee,X,ve,je,ke,Qe,Ue,$e,Ye){fa(),ne.delete(q);function ot($t){if(!$t.route.action&&!$t.route.lazy){let Bt=cs(405,{method:Ye.formMethod,pathname:X,routeId:ee});return Ze(q,ee,Bt,{flushSync:Ue}),!0}return!1}if(!Qe&&ot(ve))return;let Ke=H.fetchers.get(q);jt(q,TC(Ye,Ke),{flushSync:Ue});let lt=new AbortController,tt=pc(n.history,X,lt.signal,Ye);if(Qe){let $t=await Tn(je,X,tt.signal,q);if($t.type==="aborted")return;if($t.type==="error"){Ze(q,ee,$t.error,{flushSync:Ue});return}else if($t.matches){if(je=$t.matches,ve=Yu(je,X),ot(ve))return}else{Ze(q,ee,cs(404,{pathname:X}),{flushSync:Ue});return}}B.set(q,lt);let Je=le,We=Tc(i,l,tt,je,ve,a,ke),Et=(await Ln(tt,We,ke,q))[ve.route.id];if(tt.signal.aborted){B.get(q)===lt&&B.delete(q);return}if(me.has(q)){if(fl(Et)||Ka(Et)){jt(q,co(void 0));return}}else{if(fl(Et))if(B.delete(q),oe>Je){jt(q,co(void 0));return}else return O.add(q),jt(q,zu(Ye)),sr(tt,Et,!1,{fetcherSubmission:Ye,preventScrollReset:$e});if(Ka(Et)){Ze(q,ee,Et.error);return}}let hr=H.navigation.location||H.location,jn=pc(n.history,hr,lt.signal),un=f||d,Un=H.navigation.state!=="idle"?ho(un,H.navigation.location,p):H.matches;Gt(Un,"Didn't find any matches after fetcher action");let Yn=++le;Ce.set(q,Yn);let mt=zu(Ye,Et.data);H.fetchers.set(q,mt);let{dsMatches:Na,revalidatingFetchers:zn}=Wb(jn,ke,i,l,n.history,H,Un,Ye,hr,a,!1,Se,ye,me,ne,O,un,p,n.patchRoutesOnNavigation!=null,[ve.route.id,Et]);zn.filter($t=>$t.key!==q).forEach($t=>{let Bt=$t.key,na=H.fetchers.get(Bt),bn=zu(void 0,na?na.data:void 0);H.fetchers.set(Bt,bn),at(Bt),$t.controller&&B.set(Bt,$t.controller)}),_t({fetchers:new Map(H.fetchers)});let or=()=>zn.forEach($t=>at($t.key));lt.signal.addEventListener("abort",or);let{loaderResults:dt,fetcherResults:xn}=await Wr(Na,zn,jn,ke);if(lt.signal.aborted)return;if(lt.signal.removeEventListener("abort",or),Ce.delete(q),B.delete(q),zn.forEach($t=>B.delete($t.key)),H.fetchers.has(q)){let $t=co(Et.data);H.fetchers.set(q,$t)}let Xe=Qh(dt);if(Xe)return sr(jn,Xe.result,!1,{preventScrollReset:$e});if(Xe=Qh(xn),Xe)return O.add(Xe.key),sr(jn,Xe.result,!1,{preventScrollReset:$e});let{loaderData:Tr,errors:kr}=e_(H,Un,dt,void 0,zn,xn);ur(Yn),H.navigation.state==="loading"&&Yn>oe?(Gt(k,"Expected pending action"),I&&I.abort(),It(H.navigation.location,{matches:Un,loaderData:Tr,errors:kr,fetchers:new Map(H.fetchers)})):(_t({errors:kr,loaderData:t_(H.loaderData,Tr,Un,kr),fetchers:new Map(H.fetchers)}),Se=!1)}async function Or(q,ee,X,ve,je,ke,Qe,Ue,$e,Ye){let ot=H.fetchers.get(q);jt(q,zu(Ye,ot?ot.data:void 0),{flushSync:Ue});let Ke=new AbortController,lt=pc(n.history,X,Ke.signal);if(Qe){let Et=await Tn(je,X,lt.signal,q);if(Et.type==="aborted")return;if(Et.type==="error"){Ze(q,ee,Et.error,{flushSync:Ue});return}else if(Et.matches)je=Et.matches,ve=Yu(je,X);else{Ze(q,ee,cs(404,{pathname:X}),{flushSync:Ue});return}}B.set(q,Ke);let tt=le,Je=Tc(i,l,lt,je,ve,a,ke),Ot=(await Ln(lt,Je,ke,q))[ve.route.id];if(B.get(q)===Ke&&B.delete(q),!lt.signal.aborted){if(me.has(q)){jt(q,co(void 0));return}if(fl(Ot))if(oe>tt){jt(q,co(void 0));return}else{O.add(q),await sr(lt,Ot,!1,{preventScrollReset:$e});return}if(Ka(Ot)){Ze(q,ee,Ot.error);return}jt(q,co(Ot.data))}}async function sr(q,ee,X,{submission:ve,fetcherSubmission:je,preventScrollReset:ke,replace:Qe}={}){ee.response.headers.has("X-Remix-Revalidate")&&(Se=!0);let Ue=ee.response.headers.get("Location");Gt(Ue,"Expected a Location header on the redirect Response"),Ue=Zb(Ue,new URL(q.url),p);let $e=ld(H.location,Ue,{_isRedirect:!0});if(t){let Je=!1;if(ee.response.headers.has("X-Remix-Reload-Document"))Je=!0;else if(j0.test(Ue)){const We=Sw(Ue,!0);Je=We.origin!==e.location.origin||ds(We.pathname,p)==null}if(Je){Qe?e.location.replace(Ue):e.location.assign(Ue);return}}I=null;let Ye=Qe===!0||ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ot,formAction:Ke,formEncType:lt}=H.navigation;!ve&&!je&&ot&&Ke&&lt&&(ve=s_(H.navigation));let tt=ve||je;if(iC.has(ee.response.status)&&tt&&Xa(tt.formMethod))await Rt(Ye,$e,{submission:{...tt,formAction:Ue},preventScrollReset:ke||R,enableViewTransition:X?j:void 0});else{let Je=Tg($e,ve);await Rt(Ye,$e,{overrideNavigation:Je,fetcherSubmission:je,preventScrollReset:ke||R,enableViewTransition:X?j:void 0})}}async function Ln(q,ee,X,ve){let je,ke={};try{je=await pC(g,q,ee,ve,X,!1)}catch(Qe){return ee.filter(Ue=>Ue.shouldLoad).forEach(Ue=>{ke[Ue.route.id]={type:"error",error:Qe}}),ke}if(q.signal.aborted)return ke;for(let[Qe,Ue]of Object.entries(je))if(_C(Ue)){let $e=Ue.result;ke[Qe]={type:"redirect",response:vC($e,q,Qe,ee,p)}}else ke[Qe]=await yC(Ue);return ke}async function Wr(q,ee,X,ve){let je=Ln(X,q,ve,null),ke=Promise.all(ee.map(async $e=>{if($e.matches&&$e.match&&$e.request&&$e.controller){let ot=(await Ln($e.request,$e.matches,ve,$e.key))[$e.match.route.id];return{[$e.key]:ot}}else return Promise.resolve({[$e.key]:{type:"error",error:cs(404,{pathname:$e.path})}})})),Qe=await je,Ue=(await ke).reduce(($e,Ye)=>Object.assign($e,Ye),{});return{loaderResults:Qe,fetcherResults:Ue}}function fa(){Se=!0,ne.forEach((q,ee)=>{B.has(ee)&&ye.add(ee),at(ee)})}function jt(q,ee,X={}){H.fetchers.set(q,ee),_t({fetchers:new Map(H.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function Ze(q,ee,X,ve={}){let je=dl(H.matches,ee);vn(q),_t({errors:{[je.route.id]:X},fetchers:new Map(H.fetchers)},{flushSync:(ve&&ve.flushSync)===!0})}function sn(q){return _e.set(q,(_e.get(q)||0)+1),me.has(q)&&me.delete(q),H.fetchers.get(q)||oC}function vn(q){let ee=H.fetchers.get(q);B.has(q)&&!(ee&&ee.state==="loading"&&Ce.has(q))&&at(q),ne.delete(q),Ce.delete(q),O.delete(q),me.delete(q),ye.delete(q),H.fetchers.delete(q)}function ma(q){let ee=(_e.get(q)||0)-1;ee<=0?(_e.delete(q),me.add(q)):_e.set(q,ee),_t({fetchers:new Map(H.fetchers)})}function at(q){let ee=B.get(q);ee&&(ee.abort(),B.delete(q))}function Pr(q){for(let ee of q){let X=sn(ee),ve=co(X.data);H.fetchers.set(ee,ve)}}function wr(){let q=[],ee=!1;for(let X of O){let ve=H.fetchers.get(X);Gt(ve,`Expected fetcher: ${X}`),ve.state==="loading"&&(O.delete(X),q.push(X),ee=!0)}return Pr(q),ee}function ur(q){let ee=[];for(let[X,ve]of Ce)if(ve<q){let je=H.fetchers.get(X);Gt(je,`Expected fetcher: ${X}`),je.state==="loading"&&(at(X),Ce.delete(X),ee.push(X))}return Pr(ee),ee.length>0}function ir(q,ee){let X=H.blockers.get(q)||Uu;return Me.get(q)!==ee&&Me.set(q,ee),X}function Gr(q){H.blockers.delete(q),Me.delete(q)}function dr(q,ee){let X=H.blockers.get(q)||Uu;Gt(X.state==="unblocked"&&ee.state==="blocked"||X.state==="blocked"&&ee.state==="blocked"||X.state==="blocked"&&ee.state==="proceeding"||X.state==="blocked"&&ee.state==="unblocked"||X.state==="proceeding"&&ee.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${ee.state}`);let ve=new Map(H.blockers);ve.set(q,ee),_t({blockers:ve})}function ft({currentLocation:q,nextLocation:ee,historyAction:X}){if(Me.size===0)return;Me.size>1&&xr(!1,"A router only supports one blocker at a time");let ve=Array.from(Me.entries()),[je,ke]=ve[ve.length-1],Qe=H.blockers.get(je);if(!(Qe&&Qe.state==="proceeding")&&ke({currentLocation:q,nextLocation:ee,historyAction:X}))return je}function Ut(q){let ee=cs(404,{pathname:q}),X=f||d,{matches:ve,route:je}=r_(X);return{notFoundMatches:ve,route:je,error:ee}}function Tt(q,ee,X){if(D=q,U=ee,P=X||null,!$&&H.navigation===Eg){$=!0;let ve=Er(H.location,H.matches);ve!=null&&_t({restoreScrollPosition:ve})}return()=>{D=null,U=null,P=null}}function Rn(q,ee){return P&&P(q,ee.map(ve=>LS(ve,H.loaderData)))||q.key}function En(q,ee){if(D&&U){let X=Rn(q,ee);D[X]=U()}}function Er(q,ee){if(D){let X=Rn(q,ee),ve=D[X];if(typeof ve=="number")return ve}return null}function zt(q,ee,X){if(n.patchRoutesOnNavigation)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:hf(ee,X,p,!0)}}else return{active:!0,matches:hf(ee,X,p,!0)||[]};return{active:!1,matches:null}}async function Tn(q,ee,X,ve){if(!n.patchRoutesOnNavigation)return{type:"success",matches:q};let je=q;for(;;){let ke=f==null,Qe=f||d,Ue=l;try{await n.patchRoutesOnNavigation({signal:X,path:ee,matches:je,fetcherKey:ve,patch:(ot,Ke)=>{X.aborted||Gb(ot,Ke,Qe,Ue,i)}})}catch(ot){return{type:"error",error:ot,partialMatches:je}}finally{ke&&!X.aborted&&(d=[...d])}if(X.aborted)return{type:"aborted"};let $e=ho(Qe,ee,p);if($e)return{type:"success",matches:$e};let Ye=hf(Qe,ee,p,!0);if(!Ye||je.length===Ye.length&&je.every((ot,Ke)=>ot.route.id===Ye[Ke].route.id))return{type:"success",matches:null};je=Ye}}function wt(q){l={},f=Af(q,i,void 0,l)}function ta(q,ee){let X=f==null;Gb(q,ee,f||d,l,i),X&&(d=[...d],_t({}))}return de={get basename(){return p},get future(){return b},get state(){return H},get routes(){return d},get window(){return e},initialize:Lt,subscribe:ht,enableScrollRestoration:Tt,navigate:mn,fetch:br,revalidate:rt,createHref:q=>n.history.createHref(q),encodeLocation:q=>n.history.encodeLocation(q),getFetcher:sn,deleteFetcher:ma,dispose:At,getBlocker:ir,deleteBlocker:Gr,patchRoutes:ta,_internalFetchControllers:B,_internalSetRoutes:wt},de}function uC(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Qg(n,e,t,a,i,l){let d,f;if(i){d=[];for(let g of e)if(d.push(g),g.route.id===i){f=g;break}}else d=e,f=e[e.length-1];let p=rm(a||".",nm(d),ds(n.pathname,t)||n.pathname,l==="path");if(a==null&&(p.search=n.search,p.hash=n.hash),(a==null||a===""||a===".")&&f){let g=D0(p.search);if(f.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&g){let b=new URLSearchParams(p.search),_=b.getAll("index");b.delete("index"),_.filter(D=>D).forEach(D=>b.append("index",D));let E=b.toString();p.search=E?`?${E}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:Ws([t,p.pathname])),So(p)}function Yb(n,e,t){if(!t||!uC(t))return{path:e};if(t.formMethod&&!wC(t.formMethod))return{path:e,error:cs(405,{method:t.formMethod})};let a=()=>({path:e,error:cs(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),d=Lw(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Xa(l))return a();let _=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((E,[D,P])=>`${E}${D}=${P}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:d,formEncType:t.formEncType,formData:void 0,json:void 0,text:_}}}else if(t.formEncType==="application/json"){if(!Xa(l))return a();try{let _=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:d,formEncType:t.formEncType,formData:void 0,json:_,text:void 0}}}catch{return a()}}}Gt(typeof FormData=="function","FormData is not available in this environment");let f,p;if(t.formData)f=Zg(t.formData),p=t.formData;else if(t.body instanceof FormData)f=Zg(t.body),p=t.body;else if(t.body instanceof URLSearchParams)f=t.body,p=Jb(f);else if(t.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(t.body),p=Jb(f)}catch{return a()}let g={formMethod:l,formAction:d,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Xa(g.formMethod))return{path:e,submission:g};let b=Oo(e);return n&&b.search&&D0(b.search)&&f.append("index",""),b.search=`?${f}`,{path:So(b),submission:g}}function Wb(n,e,t,a,i,l,d,f,p,g,b,_,E,D,P,U,$,Q,pe,se){let ge=se?Ka(se[1])?se[1].error:se[1].data:void 0,de=i.createURL(l.location),H=i.createURL(p),k;if(b&&l.errors){let V=Object.keys(l.errors)[0];k=d.findIndex(Se=>Se.route.id===V)}else if(se&&Ka(se[1])){let V=se[0];k=d.findIndex(Se=>Se.route.id===V)-1}let R=se?se[1].statusCode:void 0,I=R&&R>=400,j={currentUrl:de,currentParams:l.matches[0]?.params||{},nextUrl:H,nextParams:d[0].params,...f,actionResult:ge,actionStatus:R},z=d.map((V,Se)=>{let{route:ye}=V,B=null;if(k!=null&&Se>k?B=!1:ye.lazy?B=!0:ye.loader==null?B=!1:b?B=Kg(ye,l.loaderData,l.errors):dC(l.loaderData,l.matches[Se],V)&&(B=!0),B!==null)return Xg(t,a,n,V,g,e,B);let le=I?!1:_||de.pathname+de.search===H.pathname+H.search||de.search!==H.search||hC(l.matches[Se],V),oe={...j,defaultShouldRevalidate:le},Ce=Df(V,oe);return Xg(t,a,n,V,g,e,Ce,oe)}),W=[];return P.forEach((V,Se)=>{if(b||!d.some(_e=>_e.route.id===V.routeId)||D.has(Se))return;let ye=l.fetchers.get(Se),B=ye&&ye.state!=="idle"&&ye.data===void 0,le=ho($,V.path,Q);if(!le){if(pe&&B)return;W.push({key:Se,routeId:V.routeId,path:V.path,matches:null,match:null,request:null,controller:null});return}if(U.has(Se))return;let oe=Yu(le,V.path),Ce=new AbortController,O=pc(i,V.path,Ce.signal),ne=null;if(E.has(Se))E.delete(Se),ne=Tc(t,a,O,le,oe,g,e);else if(B)_&&(ne=Tc(t,a,O,le,oe,g,e));else{let _e={...j,defaultShouldRevalidate:I?!1:_};Df(oe,_e)&&(ne=Tc(t,a,O,le,oe,g,e,_e))}ne&&W.push({key:Se,routeId:V.routeId,path:V.path,matches:ne,match:oe,request:O,controller:Ce})}),{dsMatches:z,revalidatingFetchers:W}}function Kg(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let a=e!=null&&n.id in e,i=t!=null&&t[n.id]!==void 0;return!a&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!a&&!i}function dC(n,e,t){let a=!e||t.route.id!==e.route.id,i=!n.hasOwnProperty(t.route.id);return a||i}function hC(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Df(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Gb(n,e,t,a,i){let l;if(n){let p=a[n];Gt(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let d=e.filter(p=>!l.some(g=>Iw(p,g))),f=Af(d,i,[n||"_","patch",String(l?.length||"0")],a);l.push(...f)}function Iw(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,a)=>e.children?.some(i=>Iw(t,i))):!1}var Qb=new WeakMap,Ow=({key:n,route:e,manifest:t,mapRouteProperties:a})=>{let i=t[e.id];if(Gt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let l=i.lazy[n];if(!l)return;let d=Qb.get(i);d||(d={},Qb.set(i,d));let f=d[n];if(f)return f;let p=(async()=>{let g=OS(n),_=i[n]!==void 0&&n!=="hasErrorBoundary";if(g)xr(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),d[n]=Promise.resolve();else if(_)xr(!1,`Route "${i.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let E=await l();E!=null&&(Object.assign(i,{[n]:E}),Object.assign(i,a(i)))}typeof i.lazy=="object"&&(i.lazy[n]=void 0,Object.values(i.lazy).every(E=>E===void 0)&&(i.lazy=void 0))})();return d[n]=p,p},Kb=new WeakMap;function fC(n,e,t,a,i){let l=t[n.id];if(Gt(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let b=Kb.get(l);if(b)return{lazyRoutePromise:b,lazyHandlerPromise:b};let _=(async()=>{Gt(typeof n.lazy=="function","No lazy route function found");let E=await n.lazy(),D={};for(let P in E){let U=E[P];if(U===void 0)continue;let $=kS(P),pe=l[P]!==void 0&&P!=="hasErrorBoundary";$?xr(!$,"Route property "+P+" is not a supported property to be returned from a lazy route function. This property will be ignored."):pe?xr(!pe,`Route "${l.id}" has a static property "${P}" defined but its lazy function is also returning a value for this property. The lazy route property "${P}" will be ignored.`):D[P]=U}Object.assign(l,D),Object.assign(l,{...a(l),lazy:void 0})})();return Kb.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let d=Object.keys(n.lazy),f=[],p;for(let b of d){if(i&&i.includes(b))continue;let _=Ow({key:b,route:n,manifest:t,mapRouteProperties:a});_&&(f.push(_),b===e&&(p=_))}let g=f.length>0?Promise.all(f).then(()=>{}):void 0;return g?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function Xb(n){let e=n.matches.filter(i=>i.shouldLoad),t={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,l)=>{t[e[l].route.id]=i}),t}async function mC(n){return n.matches.some(e=>e.route.unstable_middleware)?Pw(n,!1,()=>Xb(n),(e,t)=>({[t]:{type:"error",result:e}})):Xb(n)}async function Pw(n,e,t,a){let{matches:i,request:l,params:d,context:f}=n,p={handlerResult:void 0};try{let g=i.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(E=>[_.route.id,E]):[]),b=await kw({request:l,params:d,context:f},g,e,p,t);return e?b:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let b=await a(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,b):b}}async function kw(n,e,t,a,i,l=0){let{request:d}=n;if(d.signal.aborted)throw d.signal.reason?d.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${d.method} ${d.url}`);let f=e[l];if(!f)return a.handlerResult=await i(),a.handlerResult;let[p,g]=f,b=!1,_,E=async()=>{if(b)throw new Error("You may only call `next()` once per middleware");b=!0,await kw(n,e,t,a,i,l+1)};try{let D=await g({request:n.request,params:n.params,context:n.context},E);return b?D===void 0?_:D:E()}catch(D){throw a.middlewareError?a.middlewareError.error!==D&&(a.middlewareError={routeId:p,error:D}):a.middlewareError={routeId:p,error:D},D}}function Vw(n,e,t,a,i){let l=Ow({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:n}),d=fC(a.route,Xa(t.method)?"action":"loader",e,n,i);return{middleware:l,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function Xg(n,e,t,a,i,l,d,f=null){let p=!1,g=Vw(n,e,t,a,i);return{...a,_lazyPromises:g,shouldLoad:d,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(b){return p=!0,f?typeof b=="boolean"?Df(a,{...f,defaultShouldRevalidate:b}):Df(a,f):d},resolve(b){return p||d||b&&t.method==="GET"&&(a.route.lazy||a.route.loader)?gC({request:t,match:a,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:b,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Tc(n,e,t,a,i,l,d,f=null){return a.map(p=>p.route.id!==i.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:Vw(n,e,t,p,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Xg(n,e,t,p,l,d,!0,f))}async function pC(n,e,t,a,i,l){t.some(g=>g._lazyPromises?.middleware)&&await Promise.all(t.map(g=>g._lazyPromises?.middleware));let d={request:e,params:t[0].params,context:i,matches:t},p=await n({...d,fetcherKey:a,unstable_runClientMiddleware:g=>{let b=d;return Pw(b,!1,()=>g({...b,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(_,E)=>({[E]:{type:"error",result:_}}))}});try{await Promise.all(t.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return p}async function gC({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:a,handlerOverride:i,scopedContext:l}){let d,f,p=Xa(n.method),g=p?"action":"loader",b=_=>{let E,D=new Promise(($,Q)=>E=Q);f=()=>E(),n.signal.addEventListener("abort",f);let P=$=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):_({request:n,params:e.params,context:l},...$!==void 0?[$]:[]),U=(async()=>{try{return{type:"data",result:await(i?i(Q=>P(Q)):P())}}catch($){return{type:"error",result:$}}})();return Promise.race([U,D])};try{let _=p?e.route.action:e.route.loader;if(t||a)if(_){let E,[D]=await Promise.all([b(_).catch(P=>{E=P}),t,a]);if(E!==void 0)throw E;d=D}else{await t;let E=p?e.route.action:e.route.loader;if(E)[d]=await Promise.all([b(E),a]);else if(g==="action"){let D=new URL(n.url),P=D.pathname+D.search;throw cs(405,{method:n.method,pathname:P,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)d=await b(_);else{let E=new URL(n.url),D=E.pathname+E.search;throw cs(404,{pathname:D})}}catch(_){return{type:"error",result:_}}finally{f&&n.signal.removeEventListener("abort",f)}return d}async function yC(n){let{result:e,type:t}=n;if(Uw(e)){let a;try{let i=e.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?e.body==null?a=null:a=await e.json():a=await e.text()}catch(i){return{type:"error",error:i}}return t==="error"?{type:"error",error:new jf(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return t==="error"?a_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new jf(e.init?.status||500,void 0,e.data),statusCode:cd(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:cd(e)?e.status:void 0}:a_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function vC(n,e,t,a,i){let l=n.headers.get("Location");if(Gt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!j0.test(l)){let d=a.slice(0,a.findIndex(f=>f.route.id===t)+1);l=Qg(new URL(e.url),d,i,l),n.headers.set("Location",l)}return n}function Zb(n,e,t){if(j0.test(n)){let a=n,i=a.startsWith("//")?new URL(e.protocol+a):new URL(a),l=ds(i.pathname,t)!=null;if(i.origin===e.origin&&l)return i.pathname+i.search+i.hash}return n}function pc(n,e,t,a){let i=n.createURL(Lw(e)).toString(),l={signal:t};if(a&&Xa(a.formMethod)){let{formMethod:d,formEncType:f}=a;l.method=d.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(a.json)):f==="text/plain"?l.body=a.text:f==="application/x-www-form-urlencoded"&&a.formData?l.body=Zg(a.formData):l.body=a.formData}return new Request(i,l)}function Zg(n){let e=new URLSearchParams;for(let[t,a]of n.entries())e.append(t,typeof a=="string"?a:a.name);return e}function Jb(n){let e=new FormData;for(let[t,a]of n.entries())e.append(t,a);return e}function xC(n,e,t,a=!1,i=!1){let l={},d=null,f,p=!1,g={},b=t&&Ka(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let E=_.route.id,D=e[E];if(Gt(!fl(D),"Cannot handle redirect results in processLoaderData"),Ka(D)){let P=D.error;if(b!==void 0&&(P=b,b=void 0),d=d||{},i)d[E]=P;else{let U=dl(n,E);d[U.route.id]==null&&(d[U.route.id]=P)}a||(l[E]=Mw),p||(p=!0,f=cd(D.error)?D.error.status:500),D.headers&&(g[E]=D.headers)}else l[E]=D.data,D.statusCode&&D.statusCode!==200&&!p&&(f=D.statusCode),D.headers&&(g[E]=D.headers)}),b!==void 0&&t&&(d={[t[0]]:b},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:d,statusCode:f||200,loaderHeaders:g}}function e_(n,e,t,a,i,l){let{loaderData:d,errors:f}=xC(e,t,a);return i.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:b,controller:_}=p,E=l[g];if(Gt(E,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(Ka(E)){let D=dl(n.matches,b?.route.id);f&&f[D.route.id]||(f={...f,[D.route.id]:E.error}),n.fetchers.delete(g)}else if(fl(E))Gt(!1,"Unhandled fetcher revalidation redirect");else{let D=co(E.data);n.fetchers.set(g,D)}}),{loaderData:d,errors:f}}function t_(n,e,t,a){let i=Object.entries(e).filter(([,l])=>l!==Mw).reduce((l,[d,f])=>(l[d]=f,l),{});for(let l of t){let d=l.route.id;if(!e.hasOwnProperty(d)&&n.hasOwnProperty(d)&&l.route.loader&&(i[d]=n[d]),a&&a.hasOwnProperty(d))break}return i}function n_(n){return n?Ka(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function dl(n,e){return(e?n.slice(0,n.findIndex(a=>a.route.id===e)+1):[...n]).reverse().find(a=>a.route.hasErrorBoundary===!0)||n[0]}function r_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function cs(n,{pathname:e,routeId:t,method:a,type:i,message:l}={}){let d="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(d="Bad Request",a&&e&&t?f=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(f="Unable to encode submission body")):n===403?(d="Forbidden",f=`Route "${t}" does not match URL "${e}"`):n===404?(d="Not Found",f=`No route matches URL "${e}"`):n===405&&(d="Method Not Allowed",a&&e&&t?f=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:a&&(f=`Invalid request method "${a.toUpperCase()}"`)),new jf(n||500,d,new Error(f),!0)}function Qh(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[a,i]=e[t];if(fl(i))return{key:a,result:i}}}function Lw(n){let e=typeof n=="string"?Oo(n):n;return So({...e,hash:""})}function bC(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function _C(n){return Uw(n.result)&&sC.has(n.result.status)}function Ka(n){return n.type==="error"}function fl(n){return(n&&n.type)==="redirect"}function a_(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Uw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function wC(n){return aC.has(n.toUpperCase())}function Xa(n){return nC.has(n.toUpperCase())}function D0(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Yu(n,e){let t=typeof e=="string"?Oo(e).search:e.search;if(n[n.length-1].route.index&&D0(t||""))return n[n.length-1];let a=Rw(n);return a[a.length-1]}function s_(n){let{formMethod:e,formAction:t,formEncType:a,text:i,formData:l,json:d}=n;if(!(!e||!t||!a)){if(i!=null)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:void 0,text:i};if(l!=null)return{formMethod:e,formAction:t,formEncType:a,formData:l,json:void 0,text:void 0};if(d!==void 0)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:d,text:void 0}}}function Tg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function EC(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function TC(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function co(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function NC(n,e){try{let t=n.sessionStorage.getItem(Dw);if(t){let a=JSON.parse(t);for(let[i,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(i,new Set(l||[]))}}catch{}}function SC(n,e){if(e.size>0){let t={};for(let[a,i]of e)t[a]=[...i];try{n.sessionStorage.setItem(Dw,JSON.stringify(t))}catch(a){xr(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function CC(){let n,e,t=new Promise((a,i)=>{n=async l=>{a(l);try{await t}catch{}},e=async l=>{i(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var El=N.createContext(null);El.displayName="DataRouter";var _d=N.createContext(null);_d.displayName="DataRouterState";var M0=N.createContext({isTransitioning:!1});M0.displayName="ViewTransition";var zw=N.createContext(new Map);zw.displayName="Fetchers";var AC=N.createContext(null);AC.displayName="Await";var Cs=N.createContext(null);Cs.displayName="Navigation";var am=N.createContext(null);am.displayName="Location";var ti=N.createContext({outlet:null,matches:[],isDataRoute:!1});ti.displayName="Route";var I0=N.createContext(null);I0.displayName="RouteError";function RC(n,{relative:e}={}){Gt(zc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=N.useContext(Cs),{hash:i,pathname:l,search:d}=wd(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Ws([t,l])),a.createHref({pathname:f,search:d,hash:i})}function zc(){return N.useContext(am)!=null}function Po(){return Gt(zc(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(am).location}var Bw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fw(n){N.useContext(Cs).static||N.useLayoutEffect(n)}function O0(){let{isDataRoute:n}=N.useContext(ti);return n?FC():jC()}function jC(){Gt(zc(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(El),{basename:e,navigator:t}=N.useContext(Cs),{matches:a}=N.useContext(ti),{pathname:i}=Po(),l=JSON.stringify(nm(a)),d=N.useRef(!1);return Fw(()=>{d.current=!0}),N.useCallback((p,g={})=>{if(xr(d.current,Bw),!d.current)return;if(typeof p=="number"){t.go(p);return}let b=rm(p,JSON.parse(l),i,g.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Ws([e,b.pathname])),(g.replace?t.replace:t.push)(b,g.state,g)},[e,t,l,i,n])}N.createContext(null);function wd(n,{relative:e}={}){let{matches:t}=N.useContext(ti),{pathname:a}=Po(),i=JSON.stringify(nm(t));return N.useMemo(()=>rm(n,JSON.parse(i),a,e==="path"),[n,i,a,e])}function DC(n,e,t,a){Gt(zc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(Cs),{matches:l}=N.useContext(ti),d=l[l.length-1],f=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",b=d&&d.route;{let Q=b&&b.path||"";Hw(p,!b||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let _=Po(),E;E=_;let D=E.pathname||"/",P=D;if(g!=="/"){let Q=g.replace(/^\//,"").split("/");P="/"+D.replace(/^\//,"").split("/").slice(Q.length).join("/")}let U=ho(n,{pathname:P});return xr(b||U!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),xr(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),kC(U&&U.map(Q=>Object.assign({},Q,{params:Object.assign({},f,Q.params),pathname:Ws([g,i.encodeLocation?i.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?g:Ws([g,i.encodeLocation?i.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),l,t,a)}function MC(){let n=BC(),e=cd(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:i},t):null,d)}var IC=N.createElement(MC,null),OC=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?N.createElement(ti.Provider,{value:this.props.routeContext},N.createElement(I0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PC({routeContext:n,match:e,children:t}){let a=N.useContext(El);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(ti.Provider,{value:n},t)}function kC(n,e=[],t=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,l=t?.errors;if(l!=null){let p=i.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);Gt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,p+1))}let d=!1,f=-1;if(t)for(let p=0;p<i.length;p++){let g=i[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:b,errors:_}=t,E=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||E){d=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((p,g,b)=>{let _,E=!1,D=null,P=null;t&&(_=l&&g.route.id?l[g.route.id]:void 0,D=g.route.errorElement||IC,d&&(f<0&&b===0?(Hw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,P=null):f===b&&(E=!0,P=g.route.hydrateFallbackElement||null)));let U=e.concat(i.slice(0,b+1)),$=()=>{let Q;return _?Q=D:E?Q=P:g.route.Component?Q=N.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=p,N.createElement(PC,{match:g,routeContext:{outlet:p,matches:U,isDataRoute:t!=null},children:Q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?N.createElement(OC,{location:t.location,revalidation:t.revalidation,component:D,error:_,children:$(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):$()},null)}function P0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VC(n){let e=N.useContext(El);return Gt(e,P0(n)),e}function LC(n){let e=N.useContext(_d);return Gt(e,P0(n)),e}function UC(n){let e=N.useContext(ti);return Gt(e,P0(n)),e}function k0(n){let e=UC(n),t=e.matches[e.matches.length-1];return Gt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function zC(){return k0("useRouteId")}function BC(){let n=N.useContext(I0),e=LC("useRouteError"),t=k0("useRouteError");return n!==void 0?n:e.errors?.[t]}function FC(){let{router:n}=VC("useNavigate"),e=k0("useNavigate"),t=N.useRef(!1);return Fw(()=>{t.current=!0}),N.useCallback(async(i,l={})=>{xr(t.current,Bw),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...l}))},[n,e])}var i_={};function Hw(n,e,t){!e&&!i_[n]&&(i_[n]=!0,xr(!1,t))}var o_={};function l_(n,e){!n&&!o_[e]&&(o_[e]=!0,console.warn(e))}function HC(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&xr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&xr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&xr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var qC=["HydrateFallback","hydrateFallbackElement"],$C=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}};function YC({router:n,flushSync:e}){let[t,a]=N.useState(n.state),[i,l]=N.useState(),[d,f]=N.useState({isTransitioning:!1}),[p,g]=N.useState(),[b,_]=N.useState(),[E,D]=N.useState(),P=N.useRef(new Map),U=N.useCallback((se,{deletedFetchers:ge,flushSync:de,viewTransitionOpts:H})=>{se.fetchers.forEach((R,I)=>{R.data!==void 0&&P.current.set(I,R.data)}),ge.forEach(R=>P.current.delete(R)),l_(de===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(l_(H==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!H||!k){e&&de?e(()=>a(se)):N.startTransition(()=>a(se));return}if(e&&de){e(()=>{b&&(p&&p.resolve(),b.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let R=n.window.document.startViewTransition(()=>{e(()=>a(se))});R.finished.finally(()=>{e(()=>{g(void 0),_(void 0),l(void 0),f({isTransitioning:!1})})}),e(()=>_(R));return}b?(p&&p.resolve(),b.skipTransition(),D({state:se,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(l(se),f({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[n.window,e,b,p]);N.useLayoutEffect(()=>n.subscribe(U),[n,U]),N.useEffect(()=>{d.isTransitioning&&!d.flushSync&&g(new $C)},[d]),N.useEffect(()=>{if(p&&i&&n.window){let se=i,ge=p.promise,de=n.window.document.startViewTransition(async()=>{N.startTransition(()=>a(se)),await ge});de.finished.finally(()=>{g(void 0),_(void 0),l(void 0),f({isTransitioning:!1})}),_(de)}},[i,p,n.window]),N.useEffect(()=>{p&&i&&t.location.key===i.location.key&&p.resolve()},[p,b,t.location,i]),N.useEffect(()=>{!d.isTransitioning&&E&&(l(E.state),f({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),D(void 0))},[d.isTransitioning,E]);let $=N.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:se=>n.navigate(se),push:(se,ge,de)=>n.navigate(se,{state:ge,preventScrollReset:de?.preventScrollReset}),replace:(se,ge,de)=>n.navigate(se,{replace:!0,state:ge,preventScrollReset:de?.preventScrollReset})}),[n]),Q=n.basename||"/",pe=N.useMemo(()=>({router:n,navigator:$,static:!1,basename:Q}),[n,$,Q]);return N.createElement(N.Fragment,null,N.createElement(El.Provider,{value:pe},N.createElement(_d.Provider,{value:t},N.createElement(zw.Provider,{value:P.current},N.createElement(M0.Provider,{value:d},N.createElement(KC,{basename:Q,location:t.location,navigationType:t.historyAction,navigator:$},N.createElement(WC,{routes:n.routes,future:n.future,state:t})))))),null)}var WC=N.memo(GC);function GC({routes:n,future:e,state:t}){return DC(n,void 0,t,e)}function QC({to:n,replace:e,state:t,relative:a}){Gt(zc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(Cs);xr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(ti),{pathname:d}=Po(),f=O0(),p=rm(n,nm(l),d,a==="path"),g=JSON.stringify(p);return N.useEffect(()=>{f(JSON.parse(g),{replace:e,state:t,relative:a})},[f,g,a,e,t]),null}function KC({basename:n="/",children:e=null,location:t,navigationType:a="POP",navigator:i,static:l=!1}){Gt(!zc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:d,navigator:i,static:l,future:{}}),[d,i,l]);typeof t=="string"&&(t=Oo(t));let{pathname:p="/",search:g="",hash:b="",state:_=null,key:E="default"}=t,D=N.useMemo(()=>{let P=ds(p,d);return P==null?null:{location:{pathname:P,search:g,hash:b,state:_,key:E},navigationType:a}},[d,p,g,b,_,E,a]);return xr(D!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:N.createElement(Cs.Provider,{value:f},N.createElement(am.Provider,{children:e,value:D}))}var ff="get",mf="application/x-www-form-urlencoded";function sm(n){return n!=null&&typeof n.tagName=="string"}function XC(n){return sm(n)&&n.tagName.toLowerCase()==="button"}function ZC(n){return sm(n)&&n.tagName.toLowerCase()==="form"}function JC(n){return sm(n)&&n.tagName.toLowerCase()==="input"}function eA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tA(n,e){return n.button===0&&(!e||e==="_self")&&!eA(n)}var Kh=null;function nA(){if(Kh===null)try{new FormData(document.createElement("form"),0),Kh=!1}catch{Kh=!0}return Kh}var rA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ng(n){return n!=null&&!rA.has(n)?(xr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mf}"`),null):n}function aA(n,e){let t,a,i,l,d;if(ZC(n)){let f=n.getAttribute("action");a=f?ds(f,e):null,t=n.getAttribute("method")||ff,i=Ng(n.getAttribute("enctype"))||mf,l=new FormData(n)}else if(XC(n)||JC(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(a=p?ds(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||ff,i=Ng(n.getAttribute("formenctype"))||Ng(f.getAttribute("enctype"))||mf,l=new FormData(f,n),!nA()){let{name:g,type:b,value:_}=n;if(b==="image"){let E=g?`${g}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else g&&l.append(g,_)}}else{if(sm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ff,a=null,i=mf,d=n}return l&&i==="text/plain"&&(d=l,l=void 0),{action:a,method:t.toLowerCase(),encType:i,formData:l,body:d}}function V0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function sA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function oA(n,e,t){let a=await Promise.all(n.map(async i=>{let l=e.routes[i.route.id];if(l){let d=await sA(l,t);return d.links?d.links():[]}return[]}));return dA(a.flat(1).filter(iA).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function c_(n,e,t,a,i,l){let d=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,f=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>d(p,g)||f(p,g)):l==="data"?e.filter((p,g)=>{let b=a.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(d(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function lA(n,e,{includeHydrateFallback:t}={}){return cA(n.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function cA(n){return[...new Set(n)]}function uA(n){let e={},t=Object.keys(n).sort();for(let a of t)e[a]=n[a];return e}function dA(n,e){let t=new Set;return new Set(e),n.reduce((a,i)=>{let l=JSON.stringify(uA(i));return t.has(l)||(t.add(l),a.push({key:l,link:i})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hA=new Set([100,101,204,205]);function fA(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ds(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function qw(){let n=N.useContext(El);return V0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function mA(){let n=N.useContext(_d);return V0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var L0=N.createContext(void 0);L0.displayName="FrameworkContext";function $w(){let n=N.useContext(L0);return V0(n,"You must render this element inside a <HydratedRouter> element"),n}function pA(n,e){let t=N.useContext(L0),[a,i]=N.useState(!1),[l,d]=N.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:_}=e,E=N.useRef(null);N.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let U=Q=>{Q.forEach(pe=>{d(pe.isIntersecting)})},$=new IntersectionObserver(U,{threshold:.5});return E.current&&$.observe(E.current),()=>{$.disconnect()}}},[n]),N.useEffect(()=>{if(a){let U=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(U)}}},[a]);let D=()=>{i(!0)},P=()=>{i(!1),d(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:Bu(f,D),onBlur:Bu(p,P),onMouseEnter:Bu(g,D),onMouseLeave:Bu(b,P),onTouchStart:Bu(_,D)}]:[!1,E,{}]}function Bu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function gA({page:n,...e}){let{router:t}=qw(),a=N.useMemo(()=>ho(t.routes,n,t.basename),[t.routes,n,t.basename]);return a?N.createElement(vA,{page:n,matches:a,...e}):null}function yA(n){let{manifest:e,routeModules:t}=$w(),[a,i]=N.useState([]);return N.useEffect(()=>{let l=!1;return oA(n,e,t).then(d=>{l||i(d)}),()=>{l=!0}},[n,e,t]),a}function vA({page:n,matches:e,...t}){let a=Po(),{manifest:i,routeModules:l}=$w(),{basename:d}=qw(),{loaderData:f,matches:p}=mA(),g=N.useMemo(()=>c_(n,e,p,i,a,"data"),[n,e,p,i,a]),b=N.useMemo(()=>c_(n,e,p,i,a,"assets"),[n,e,p,i,a]),_=N.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let P=new Set,U=!1;if(e.forEach(Q=>{let pe=i.routes[Q.route.id];!pe||!pe.hasLoader||(!g.some(se=>se.route.id===Q.route.id)&&Q.route.id in f&&l[Q.route.id]?.shouldRevalidate||pe.hasClientLoader?U=!0:P.add(Q.route.id))}),P.size===0)return[];let $=fA(n,d);return U&&P.size>0&&$.searchParams.set("_routes",e.filter(Q=>P.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[$.pathname+$.search]},[d,f,a,i,g,e,n,l]),E=N.useMemo(()=>lA(b,i),[b,i]),D=yA(b);return N.createElement(N.Fragment,null,_.map(P=>N.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),E.map(P=>N.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),D.map(({key:P,link:U})=>N.createElement("link",{key:P,...U})))}function xA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Yw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yw&&(window.__reactRouterVersion="7.6.3")}catch{}function bA(n,e){return cC({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:jS({window:e?.window}),hydrationData:_A(),routes:n,mapRouteProperties:HC,hydrationRouteProperties:qC,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function _A(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:wA(n.errors)}),n}function wA(n){if(!n)return null;let e=Object.entries(n),t={};for(let[a,i]of e)if(i&&i.__type==="RouteErrorResponse")t[a]=new jf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let l=window[i.__subType];if(typeof l=="function")try{let d=new l(i.message);d.stack="",t[a]=d}catch{}}if(t[a]==null){let l=new Error(i.message);l.stack="",t[a]=l}}else t[a]=i;return t}var Ww=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gw=N.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:i,reloadDocument:l,replace:d,state:f,target:p,to:g,preventScrollReset:b,viewTransition:_,...E},D){let{basename:P}=N.useContext(Cs),U=typeof g=="string"&&Ww.test(g),$,Q=!1;if(typeof g=="string"&&U&&($=g,Yw))try{let I=new URL(window.location.href),j=g.startsWith("//")?new URL(I.protocol+g):new URL(g),z=ds(j.pathname,P);j.origin===I.origin&&z!=null?g=z+j.search+j.hash:Q=!0}catch{xr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let pe=RC(g,{relative:i}),[se,ge,de]=pA(a,E),H=SA(g,{replace:d,state:f,target:p,preventScrollReset:b,relative:i,viewTransition:_});function k(I){e&&e(I),I.defaultPrevented||H(I)}let R=N.createElement("a",{...E,...de,href:$||pe,onClick:Q||l?e:k,ref:xA(D,ge),target:p,"data-discover":!U&&t==="render"?"true":void 0});return se&&!U?N.createElement(N.Fragment,null,R,N.createElement(gA,{page:pe})):R});Gw.displayName="Link";var EA=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:i=!1,style:l,to:d,viewTransition:f,children:p,...g},b){let _=wd(d,{relative:g.relative}),E=Po(),D=N.useContext(_d),{navigator:P,basename:U}=N.useContext(Cs),$=D!=null&&DA(_)&&f===!0,Q=P.encodeLocation?P.encodeLocation(_).pathname:_.pathname,pe=E.pathname,se=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(pe=pe.toLowerCase(),se=se?se.toLowerCase():null,Q=Q.toLowerCase()),se&&U&&(se=ds(se,U)||se);const ge=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let de=pe===Q||!i&&pe.startsWith(Q)&&pe.charAt(ge)==="/",H=se!=null&&(se===Q||!i&&se.startsWith(Q)&&se.charAt(Q.length)==="/"),k={isActive:de,isPending:H,isTransitioning:$},R=de?e:void 0,I;typeof a=="function"?I=a(k):I=[a,de?"active":null,H?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(k):l;return N.createElement(Gw,{...g,"aria-current":R,className:I,ref:b,style:j,to:d,viewTransition:f},typeof p=="function"?p(k):p)});EA.displayName="NavLink";var TA=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:i,state:l,method:d=ff,action:f,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:_,...E},D)=>{let P=RA(),U=jA(f,{relative:g}),$=d.toLowerCase()==="get"?"get":"post",Q=typeof f=="string"&&Ww.test(f),pe=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let ge=se.nativeEvent.submitter,de=ge?.getAttribute("formmethod")||d;P(ge||se.currentTarget,{fetcherKey:e,method:de,navigate:t,replace:i,state:l,relative:g,preventScrollReset:b,viewTransition:_})};return N.createElement("form",{ref:D,method:$,action:U,onSubmit:a?p:pe,...E,"data-discover":!Q&&n==="render"?"true":void 0})});TA.displayName="Form";function NA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qw(n){let e=N.useContext(El);return Gt(e,NA(n)),e}function SA(n,{target:e,replace:t,state:a,preventScrollReset:i,relative:l,viewTransition:d}={}){let f=O0(),p=Po(),g=wd(n,{relative:l});return N.useCallback(b=>{if(tA(b,e)){b.preventDefault();let _=t!==void 0?t:So(p)===So(g);f(n,{replace:_,state:a,preventScrollReset:i,relative:l,viewTransition:d})}},[p,f,g,t,a,e,n,i,l,d])}var CA=0,AA=()=>`__${String(++CA)}__`;function RA(){let{router:n}=Qw("useSubmit"),{basename:e}=N.useContext(Cs),t=zC();return N.useCallback(async(a,i={})=>{let{action:l,method:d,encType:f,formData:p,body:g}=aA(a,e);if(i.navigate===!1){let b=i.fetcherKey||AA();await n.fetch(b,t,i.action||l,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||d,formEncType:i.encType||f,flushSync:i.flushSync})}else await n.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||d,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function jA(n,{relative:e}={}){let{basename:t}=N.useContext(Cs),a=N.useContext(ti);Gt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...wd(n||".",{relative:e})},d=Po();if(n==null){l.search=d.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(b=>b==="")){f.delete("index"),p.filter(_=>_).forEach(_=>f.append("index",_));let b=f.toString();l.search=b?`?${b}`:""}}return(!n||n===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ws([t,l.pathname])),So(l)}function DA(n,e={}){let t=N.useContext(M0);Gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Qw("useViewTransitionState"),i=wd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ds(t.currentLocation.pathname,a)||t.currentLocation.pathname,d=ds(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Rf(i.pathname,d)!=null||Rf(i.pathname,l)!=null}[...hA];var MA=Tw();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function IA(n){return N.createElement(YC,{flushSync:MA.flushSync,...n})}const Kw="/assets/logo-Di_XZ8sh.jpg";function OA(){const[n,e]=N.useState(!1);return u.jsxs("header",{className:"fixed top-0 left-0 w-full bg-white shadow z-50",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center min-w-[180px]",children:[u.jsx("img",{src:Kw,alt:"Logo Vagafogo",className:"w-12 h-12 rounded-full object-cover border border-gray-300",loading:"lazy"}),u.jsx("span",{className:"ml-4 font-bold text-2xl text-[#8B4F23] tracking-wide",children:"VAGAFOGO"})]}),u.jsxs("nav",{className:"hidden lg:flex flex-1 justify-center gap-10",children:[u.jsx("a",{href:"#inicio",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Incio"}),u.jsx("a",{href:"#brunch",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Brunch"}),u.jsx("a",{href:"#trilha",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Trilha"}),u.jsx("a",{href:"#educacao",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Educao"})]}),u.jsx("a",{href:"#reservas",className:"hidden md:block bg-[#8B4F23] text-white font-bold px-8 py-2 rounded-full text-lg shadow hover:bg-[#A05D2B] transition min-w-[170px] text-center",children:"Reservar Agora"}),u.jsx("button",{onClick:()=>e(!n),className:"lg:hidden text-3xl ml-2 text-[#8B4F23]","aria-label":"Abrir menu",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]}),n&&u.jsx("div",{className:"lg:hidden absolute top-full left-0 w-full bg-white shadow-md py-5 z-40",children:u.jsxs("div",{className:"flex flex-col gap-4 px-6",children:[u.jsx("a",{href:"#inicio",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Incio"}),u.jsx("a",{href:"#brunch",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Brunch"}),u.jsx("a",{href:"#trilha",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Trilha"}),u.jsx("a",{href:"#educacao",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Educao"}),u.jsx("a",{href:"#reservas",className:"bg-[#8B4F23] text-white font-bold px-6 py-2 rounded-full mt-2 text-center",children:"Reservar Agora"})]})})]})}const PA="/assets/hero-1-DYW6Kti2.jpg";function kA(){return u.jsxs("section",{id:"inicio",className:"relative min-h-screen flex items-center justify-center pt-20 md:pt-0",style:{backgroundImage:`linear-gradient(rgba(45,30,15,0.7), rgba(45,30,15,0.7)), url(${PA})`,backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[u.jsx("div",{className:"absolute inset-0 bg-black/40"})," ",u.jsx("div",{className:"relative z-10 mx-auto flex w-full max-w-screen-2xl flex-col items-center px-4 py-16 md:py-0 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"w-full max-w-4xl text-center lg:max-w-5xl",children:[u.jsx("h1",{className:"font-heading text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight drop-shadow-lg",children:"Descubra o Santurio Vagafogo"}),u.jsx("p",{className:"text-lg md:text-xl text-white mb-8 drop-shadow",children:"Uma experincia gastronmica nica, aliada s maravilhas do cerrado brasileiro. Sabores que emocionam com uma natureza que encanta."}),u.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[u.jsxs("a",{href:"#reservas",className:"flex items-center bg-yellow-600 text-white font-semibold px-8 py-4 rounded-full shadow hover:bg-yellow-700 transition duration-300 text-lg",children:[u.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Faa sua reserva"]}),u.jsxs("a",{href:"#brunch",className:"flex items-center border-2 border-white text-white font-semibold px-8 py-4 rounded-full hover:bg-white hover:text-yellow-700 transition duration-300 text-lg",children:[u.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01"})]}),"Saiba mais"]})]})]})})]})}function VA(){return u.jsx("section",{className:"py-16 bg-gray-100",children:u.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("span",{className:"text-green-600 font-semibold tracking-widest uppercase text-sm",children:"POR QUE ESCOLHER O VAGAFOGO"}),u.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-[#8B4F23] mt-2 mb-6",children:"Uma Experincia que Transforma"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center border-t-4 border-accent scroll-reveal show",style:{borderTopColor:"#E0B13C"},children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),u.jsxs("h3",{className:"font-heading text-xl font-bold text-[#8B4F23] mb-3",children:["Brunch Gastronmico  ",u.jsx("a",{href:"#reservas",className:"inline-flex items-center justify-center rounded-full bg-[#8B4F23] px-3 py-1 text-xs font-semibold text-white shadow-sm transition hover:bg-[#A05D2B] focus:ring-2 focus:ring-[#8B4F23] focus:ring-offset-2",children:"Consultar preos atualizados"})]}),u.jsx("p",{className:"text-gray-600 text-base",children:"45 itens e 14 harmonizaes nicas com derivados do leite local e frutas do cerrado em manejo sustentvel."})]}),u.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center border-t-4",style:{borderTopColor:"#E0B13C"},children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v20m6-6l-6 6-6-6"})})}),u.jsxs("h3",{className:"font-heading text-xl font-bold text-[#8B4F23] mb-3",children:["Trilha Me da Floresta  ",u.jsx("a",{href:"#reservas",className:"inline-flex items-center justify-center rounded-full bg-[#8B4F23] px-3 py-1 text-xs font-semibold text-white shadow-sm transition hover:bg-[#A05D2B] focus:ring-2 focus:ring-[#8B4F23] focus:ring-offset-2",children:"Consultar preos atualizados"})]}),u.jsx("p",{className:"text-gray-600 text-base",children:"1.530m por mata ciliar primria margeando o rio Vagafogo, com 182 espcies de pssaros catalogadas."})]}),u.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center border-t-4",style:{borderTopColor:"#E0B13C"},children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3l8 4-8 4-8-4 8-4zm0 7v6m0 6a2 2 0 002-2h-4a2 2 0 002 2z"})})}),u.jsxs("h3",{className:"font-heading text-xl font-bold text-[#8B4F23] mb-3",children:["Educao Ambiental  ",u.jsx("span",{className:"whitespace-nowrap",children:"Agendamento via WhatsApp"})]}),u.jsx("p",{className:"text-gray-600 text-base",children:"Projeto voltado para escolas, faculdades e grupos especficos, promovendo compreenso sobre flora, fauna e sustentabilidade."})]})]})]})})}const LA="/assets/hero-2-DE6uD2w4.jpg",UA="/assets/brunch-1-BOp_1ZCE.jpg",zA="/assets/brunch-2-BJEw1Xdm.jpg",BA="/assets/brunch-3-CFPzufog.jpg";function FA(){return u.jsx("section",{id:"brunch",className:"py-16 md:py-24",style:{backgroundImage:`linear-gradient(rgba(45, 30, 15, 0.7), rgba(45, 30, 15, 0.7)), url(${LA})`,backgroundPosition:"center",backgroundSize:"cover"},children:u.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"max-w-5xl mx-auto text-center mb-12",children:[u.jsx("span",{className:"text-white font-semibold uppercase tracking-wider",children:"DESCUBRA A GASTRONOMIA"}),u.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-white mt-2 mb-4 drop-shadow-lg",children:"Brunch Vagafogo"}),u.jsx("p",{className:"text-gray-200 text-lg",children:"Um maravilhoso festival gastronmico com derivados do leite produzido na fazenda e frutas do cerrado cultivadas no local, proveniente de manejo sustentvel."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:u.jsxs("div",{className:"relative h-64",children:[u.jsx("div",{className:"h-full w-full bg-cover bg-center",style:{backgroundImage:`url(${UA})`}}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:u.jsx("h3",{className:"font-heading text-xl font-bold text-white drop-shadow",children:"Laticnios Artesanais"})})]})}),u.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:u.jsxs("div",{className:"relative h-64",children:[u.jsx("div",{className:"h-full w-full bg-cover bg-center",style:{backgroundImage:`url(${zA})`}}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:u.jsx("h3",{className:"font-heading text-xl font-bold text-white drop-shadow",children:"Frutas do Cerrado"})})]})}),u.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:u.jsxs("div",{className:"relative h-64",children:[u.jsx("div",{className:"h-full w-full bg-cover bg-center",style:{backgroundImage:`url(${BA})`}}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:u.jsx("h3",{className:"font-heading text-xl font-bold text-white drop-shadow",children:"Harmonizaes Exclusivas"})})]})})]}),u.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[u.jsx("span",{className:"w-2 h-2 bg-white rounded-full inline-block opacity-80"}),u.jsx("span",{className:"w-2 h-2 bg-white/60 rounded-full inline-block opacity-80"}),u.jsx("span",{className:"w-2 h-2 bg-white/60 rounded-full inline-block opacity-80"})]}),u.jsx("div",{className:"text-center mt-12",children:u.jsxs("a",{href:"#reservas",className:"bg-[#8B4F23] text-white font-semibold px-6 py-3 sm:px-8 sm:py-4 rounded-full shadow-lg hover:bg-[#A05D2B] text-base sm:text-lg transition duration-300 focus:ring-2 focus:ring-offset-2 focus:ring-[#8B4F23] inline-block w-full sm:w-auto max-w-md",children:[u.jsx("i",{className:"fas fa-bookmark mr-2"})," Reservar Experincia Gastronmica"]})})]})})}const HA="/assets/trilhaecologica-1-DZvapW0k.jpg",qA="/assets/trilhaecologica-2-ByLTFY3j.jpg";function $A(){return u.jsx("section",{id:"trilha",className:"py-16 md:py-24",style:{background:`linear-gradient(rgba(45,30,15,0.7),rgba(45,30,15,0.7)), url(${HA})`,backgroundPosition:"center",backgroundSize:"cover"},children:u.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"max-w-5xl mx-auto text-center mb-12",children:[u.jsx("span",{className:"text-white font-semibold uppercase tracking-widest",children:"CONEXO COM A NATUREZA"}),u.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-white mt-2 mb-4",children:"Trilha Ecolgica"})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-10 max-w-7xl mx-auto",children:[u.jsx("div",{className:"lg:w-1/2 mb-6 lg:mb-0",children:u.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:u.jsxs("div",{className:"relative h-96",children:[u.jsx("div",{className:"h-full w-full bg-cover bg-center rounded-2xl",style:{backgroundImage:`url(${qA})`}}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:u.jsx("h3",{className:"font-heading text-xl font-bold text-white",children:"Trilha Me da Floresta"})})]})})}),u.jsxs("div",{className:"lg:w-1/2 text-white",children:[u.jsx("h3",{className:"font-heading text-2xl font-bold mb-4",children:"Caminhada Imersiva de 1500m"}),u.jsx("p",{className:"mb-6 text-gray-200",children:"Nossa trilha ecolgica atravessa uma belssima mata ciliar primria preservada. A trilha  completamente protegida por madeiramento, oferecendo conforto e segurana ao visitante."}),u.jsxs("ul",{className:"space-y-4 mb-8 text-base",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{children:"Espaos estratgicos para descanso e meditao"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{children:"Corrimes para segurana em reas mais ngremes"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{children:"Piscina natural e uma pequena cachoeira "})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{children:"Placas informativas sobre flora e fauna do cerrado"})]})]}),u.jsxs("a",{href:"#reservas",className:"bg-white text-[#8B4F23] font-semibold px-8 py-3 rounded-full shadow hover:bg-gray-100 text-lg transition duration-300 focus:ring-2 focus:ring-offset-2 focus:ring-white flex items-center justify-center w-max",children:[u.jsx("i",{className:"fas fa-hiking mr-2"})," Agendar Trilha"]})]})]})]})})}const YA="/assets/educacaoambiental-1-DE8jViqV.jpg";function WA(){return u.jsx("section",{id:"educacao",className:"py-16 bg-[#F7FAEF]",children:u.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("span",{className:"text-green-600 font-semibold uppercase tracking-widest",children:"APRENDIZADO E INTEGRAO"}),u.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-[#8B4F23] mt-2 mb-4",children:"Educao Ambiental"}),u.jsx("p",{className:"max-w-4xl mx-auto text-gray-700 mt-4 text-lg",children:"Demonstramos a relao de interdependncia do ser humano com a natureza, promovendo proteo e preservao ambiental."})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 max-w-7xl mx-auto",children:[u.jsx("div",{className:"lg:w-1/2 w-full h-72 object-cover rounded-2xl shadow-lg",style:{backgroundImage:`url(${YA})`}}),u.jsxs("div",{className:"lg:w-1/2",children:[u.jsx("h3",{className:"font-heading text-2xl font-bold text-[#8B4F23] mb-2",children:"Projeto para Escolas e Grupos"}),u.jsx("p",{className:"mb-6 text-gray-700 text-base",children:"Atividade realizada nas trilhas promovendo interpretao sobre flora, fauna, recursos naturais e sustentabilidade."}),u.jsxs("ul",{className:"space-y-4 mb-8",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{className:"text-gray-700",children:"Para escolas, faculdades e grupos especficos"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{className:"text-gray-700",children:"Mostra a importncia da proteo ambiental local e global"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{className:"text-gray-700",children:"Atividade principal realizada nas trilhas"})]})]}),u.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-8",children:u.jsxs("p",{className:"text-yellow-700 flex items-start",children:[u.jsxs("svg",{className:"w-5 h-5 text-yellow-500 mt-1 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01"})]}),u.jsx("span",{children:"Esta atividade requer agendamento prvio via WhatsApp"})]})}),u.jsx("div",{className:"mt-4",children:u.jsxs("a",{href:"https://wa.me/+5562992225471",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-[#8B4F23] text-white font-bold px-8 py-3 rounded-full shadow hover:bg-[#A05D2B] text-lg transition duration-300 focus:ring-2 focus:ring-offset-2 focus:ring-[#8B4F23]",children:[u.jsx("svg",{className:"w-6 h-6 mr-2 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12.01 2C6.48 2 2 6.477 2 12.006c0 1.937.512 3.775 1.482 5.39L2.04 22l4.716-1.248A9.949 9.949 0 0 0 12.01 22c5.523 0 10.01-4.478 10.01-9.994C22.02 6.478 17.533 2 12.01 2zm5.236 14.395c-.242.683-1.406 1.35-1.924 1.38-.517.03-1.013.255-2.826-.607-2.38-.99-3.904-3.408-4.024-3.568-.12-.16-.96-1.277-.96-2.436s.608-1.728.824-1.963c.217-.234.48-.293.64-.293s.32-.005.459.007c.144.012.337-.055.528.407.192.462.652 1.595.711 1.71.06.115.096.257.018.413-.08.157-.12.256-.238.394-.12.138-.252.306-.36.412-.12.117-.243.244-.105.478.137.233.607 1.003 1.305 1.625.897.803 1.656 1.05 1.89 1.17.235.12.373.103.509-.06.136-.164.58-.675.734-.908.154-.232.308-.194.519-.117.211.076 1.335.63 1.565.744.23.115.384.17.442.266.06.096.06.554-.183 1.237z"})}),"Agendar por WhatsApp"]})})]})]})]})})}const GA=()=>{};var u_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=function(n){const e=[];let t=0;for(let a=0;a<n.length;a++){let i=n.charCodeAt(a);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++a)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},QA=function(n){const e=[];let t=0,a=0;for(;t<n.length;){const i=n[t++];if(i<128)e[a++]=String.fromCharCode(i);else if(i>191&&i<224){const l=n[t++];e[a++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=n[t++],d=n[t++],f=n[t++],p=((i&7)<<18|(l&63)<<12|(d&63)<<6|f&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],d=n[t++];e[a++]=String.fromCharCode((i&15)<<12|(l&63)<<6|d&63)}}return e.join("")},Zw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let i=0;i<n.length;i+=3){const l=n[i],d=i+1<n.length,f=d?n[i+1]:0,p=i+2<n.length,g=p?n[i+2]:0,b=l>>2,_=(l&3)<<4|f>>4;let E=(f&15)<<2|g>>6,D=g&63;p||(D=64,d||(E=64)),a.push(t[b],t[_],t[E],t[D])}return a.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Xw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):QA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let i=0;i<n.length;){const l=t[n.charAt(i++)],f=i<n.length?t[n.charAt(i)]:0;++i;const g=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,l==null||f==null||g==null||_==null)throw new KA;const E=l<<2|f>>4;if(a.push(E),g!==64){const D=f<<4&240|g>>2;if(a.push(D),_!==64){const P=g<<6&192|_;a.push(P)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XA=function(n){const e=Xw(n);return Zw.encodeByteArray(e,!0)},Mf=function(n){return XA(n).replace(/\./g,"")},Jw=function(n){try{return Zw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=()=>ZA().__FIREBASE_DEFAULTS__,e4=()=>{if(typeof process>"u"||typeof u_>"u")return;const n=u_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},t4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Jw(n[1]);return e&&JSON.parse(e)},im=()=>{try{return GA()||JA()||e4()||t4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},e2=n=>{var e,t;return(t=(e=im())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},n4=n=>{const e=e2(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},t2=()=>{var n;return(n=im())===null||n===void 0?void 0:n.config},n2=n=>{var e;return(e=im())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r2(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",i=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Mf(JSON.stringify(t)),Mf(JSON.stringify(d)),""].join(".")}const td={};function s4(){const n={prod:[],emulator:[]};for(const e of Object.keys(td))td[e]?n.emulator.push(e):n.prod.push(e);return n}function i4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let d_=!1;function a2(n,e){if(typeof window>"u"||typeof document>"u"||!Bc(window.location.host)||td[n]===e||td[n]||d_)return;td[n]=e;function t(E){return`__firebase__banner__${E}`}const a="__firebase__banner",l=s4().prod.length>0;function d(){const E=document.getElementById(a);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,D){E.setAttribute("width","24"),E.setAttribute("id",D),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{d_=!0,d()},E}function b(E,D){E.setAttribute("id",D),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=i4(a),D=t("text"),P=document.getElementById(D)||document.createElement("span"),U=t("learnmore"),$=document.getElementById(U)||document.createElement("a"),Q=t("preprendIcon"),pe=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const se=E.element;f(se),b($,U);const ge=g();p(pe,Q),se.append(pe,P,$,ge),document.body.appendChild(se)}l?(P.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ta())}function l4(){var n;const e=(n=im())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function d4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h4(){const n=Ta();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function f4(){return!l4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m4(){try{return typeof indexedDB=="object"}catch{return!1}}function p4(){return new Promise((n,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(a),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var l;e(((l=i.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="FirebaseError";class Mi extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=g4,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ed.prototype.create)}}class Ed{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},i=`${this.service}/${e}`,l=this.errors[e],d=l?y4(l,a):"Error",f=`${this.serviceName}: ${d} (${i}).`;return new Mi(i,f,a)}}function y4(n,e){return n.replace(v4,(t,a)=>{const i=e[a];return i!=null?String(i):`<${a}?>`})}const v4=/\{\$([^}]+)}/g;function x4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yl(n,e){if(n===e)return!0;const t=Object.keys(n),a=Object.keys(e);for(const i of t){if(!a.includes(i))return!1;const l=n[i],d=e[i];if(h_(l)&&h_(d)){if(!yl(l,d))return!1}else if(l!==d)return!1}for(const i of a)if(!t.includes(i))return!1;return!0}function h_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(n){const e=[];for(const[t,a]of Object.entries(n))Array.isArray(a)?a.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Wu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[i,l]=a.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function Gu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function b4(n,e){const t=new _4(n,e);return t.subscribe.bind(t)}class _4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let i;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");w4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:a},i.next===void 0&&(i.next=Sg),i.error===void 0&&(i.error=Sg),i.complete===void 0&&(i.complete=Sg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(n){return n&&n._delegate?n._delegate:n}class vl{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new r4;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&a.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N4(e))try{this.getOrInitializeService({instanceIdentifier:cl})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:i});a.resolve(l)}catch{}}}}clearInstance(e=cl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cl){return this.instances.has(e)}getOptions(e=cl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);a===f&&d.resolve(i)}return i}onInit(e,t){var a;const i=this.normalizeInstanceIdentifier(t),l=(a=this.onInitCallbacks.get(i))!==null&&a!==void 0?a:new Set;l.add(e),this.onInitCallbacks.set(i,l);const d=this.instances.get(i);return d&&e(d,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const i of a)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:T4(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=cl){return this.component?this.component.multipleInstances?e:cl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T4(n){return n===cl?void 0:n}function N4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new E4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(tn||(tn={}));const C4={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},A4=tn.INFO,R4={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},j4=(n,e,...t)=>{if(e<n.logLevel)return;const a=new Date().toISOString(),i=R4[e];if(i)console[i](`[${a}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U0{constructor(e){this.name=e,this._logLevel=A4,this._logHandler=j4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...e),this._logHandler(this,tn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...e),this._logHandler(this,tn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tn.INFO,...e),this._logHandler(this,tn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tn.WARN,...e),this._logHandler(this,tn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...e),this._logHandler(this,tn.ERROR,...e)}}const D4=(n,e)=>e.some(t=>n instanceof t);let f_,m_;function M4(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I4(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s2=new WeakMap,Jg=new WeakMap,i2=new WeakMap,Cg=new WeakMap,z0=new WeakMap;function O4(n){const e=new Promise((t,a)=>{const i=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{t(bo(n.result)),i()},d=()=>{a(n.error),i()};n.addEventListener("success",l),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&s2.set(t,n)}).catch(()=>{}),z0.set(e,n),e}function P4(n){if(Jg.has(n))return;const e=new Promise((t,a)=>{const i=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{t(),i()},d=()=>{a(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});Jg.set(n,e)}let e0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||i2.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function k4(n){e0=n(e0)}function V4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=n.call(Ag(this),e,...t);return i2.set(a,e.sort?e.sort():[e]),bo(a)}:I4().includes(n)?function(...e){return n.apply(Ag(this),e),bo(s2.get(this))}:function(...e){return bo(n.apply(Ag(this),e))}}function L4(n){return typeof n=="function"?V4(n):(n instanceof IDBTransaction&&P4(n),D4(n,M4())?new Proxy(n,e0):n)}function bo(n){if(n instanceof IDBRequest)return O4(n);if(Cg.has(n))return Cg.get(n);const e=L4(n);return e!==n&&(Cg.set(n,e),z0.set(e,n)),e}const Ag=n=>z0.get(n);function U4(n,e,{blocked:t,upgrade:a,blocking:i,terminated:l}={}){const d=indexedDB.open(n,e),f=bo(d);return a&&d.addEventListener("upgradeneeded",p=>{a(bo(d.result),p.oldVersion,p.newVersion,bo(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),i&&p.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const z4=["get","getKey","getAll","getAllKeys","count"],B4=["put","add","delete","clear"],Rg=new Map;function p_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rg.get(e))return Rg.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,i=B4.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(i||z4.includes(t)))return;const l=async function(d,...f){const p=this.transaction(d,i?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),i&&p.done]))[0]};return Rg.set(e,l),l}k4(n=>({...n,get:(e,t,a)=>p_(e,t)||n.get(e,t,a),has:(e,t)=>!!p_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(H4(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function H4(n){const e=n.getComponent();return e?.type==="VERSION"}const t0="@firebase/app",g_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new U0("@firebase/app"),q4="@firebase/app-compat",$4="@firebase/analytics-compat",Y4="@firebase/analytics",W4="@firebase/app-check-compat",G4="@firebase/app-check",Q4="@firebase/auth",K4="@firebase/auth-compat",X4="@firebase/database",Z4="@firebase/data-connect",J4="@firebase/database-compat",eR="@firebase/functions",tR="@firebase/functions-compat",nR="@firebase/installations",rR="@firebase/installations-compat",aR="@firebase/messaging",sR="@firebase/messaging-compat",iR="@firebase/performance",oR="@firebase/performance-compat",lR="@firebase/remote-config",cR="@firebase/remote-config-compat",uR="@firebase/storage",dR="@firebase/storage-compat",hR="@firebase/firestore",fR="@firebase/ai",mR="@firebase/firestore-compat",pR="firebase",gR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="[DEFAULT]",yR={[t0]:"fire-core",[q4]:"fire-core-compat",[Y4]:"fire-analytics",[$4]:"fire-analytics-compat",[G4]:"fire-app-check",[W4]:"fire-app-check-compat",[Q4]:"fire-auth",[K4]:"fire-auth-compat",[X4]:"fire-rtdb",[Z4]:"fire-data-connect",[J4]:"fire-rtdb-compat",[eR]:"fire-fn",[tR]:"fire-fn-compat",[nR]:"fire-iid",[rR]:"fire-iid-compat",[aR]:"fire-fcm",[sR]:"fire-fcm-compat",[iR]:"fire-perf",[oR]:"fire-perf-compat",[lR]:"fire-rc",[cR]:"fire-rc-compat",[uR]:"fire-gcs",[dR]:"fire-gcs-compat",[hR]:"fire-fst",[mR]:"fire-fst-compat",[fR]:"fire-vertex","fire-js":"fire-js",[pR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new Map,vR=new Map,r0=new Map;function y_(n,e){try{n.container.addComponent(e)}catch(t){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Dc(n){const e=n.name;if(r0.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;r0.set(e,n);for(const t of If.values())y_(t,n);for(const t of vR.values())y_(t,n);return!0}function B0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _s(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new Ed("app","Firebase",xR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new vl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=gR;function o2(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const a=Object.assign({name:n0,automaticDataCollectionEnabled:!0},e),i=a.name;if(typeof i!="string"||!i)throw _o.create("bad-app-name",{appName:String(i)});if(t||(t=t2()),!t)throw _o.create("no-options");const l=If.get(i);if(l){if(yl(t,l.options)&&yl(a,l.config))return l;throw _o.create("duplicate-app",{appName:i})}const d=new S4(i);for(const p of r0.values())d.addComponent(p);const f=new bR(t,a,d);return If.set(i,f),f}function l2(n=n0){const e=If.get(n);if(!e&&n===n0&&t2())return o2();if(!e)throw _o.create("no-app",{appName:n});return e}function wo(n,e,t){var a;let i=(a=yR[n])!==null&&a!==void 0?a:n;t&&(i+=`-${t}`);const l=i.match(/\s|\//),d=e.match(/\s|\//);if(l||d){const f=[`Unable to register library "${i}" with version "${e}":`];l&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&d&&f.push("and"),d&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(f.join(" "));return}Dc(new vl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="firebase-heartbeat-database",wR=1,ud="firebase-heartbeat-store";let jg=null;function c2(){return jg||(jg=U4(_R,wR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ud)}catch(t){console.warn(t)}}}}).catch(n=>{throw _o.create("idb-open",{originalErrorMessage:n.message})})),jg}async function ER(n){try{const t=(await c2()).transaction(ud),a=await t.objectStore(ud).get(u2(n));return await t.done,a}catch(e){if(e instanceof Mi)Ai.warn(e.message);else{const t=_o.create("idb-get",{originalErrorMessage:e?.message});Ai.warn(t.message)}}}async function v_(n,e){try{const a=(await c2()).transaction(ud,"readwrite");await a.objectStore(ud).put(e,u2(n)),await a.done}catch(t){if(t instanceof Mi)Ai.warn(t.message);else{const a=_o.create("idb-set",{originalErrorMessage:t?.message});Ai.warn(a.message)}}}function u2(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=1024,NR=30;class SR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AR(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=x_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(d=>d.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>NR){const d=RR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ai.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=x_(),{heartbeatsToSend:a,unsentEntries:i}=CR(this._heartbeatsCache.heartbeats),l=Mf(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ai.warn(t),""}}}function x_(){return new Date().toISOString().substring(0,10)}function CR(n,e=TR){const t=[];let a=n.slice();for(const i of n){const l=t.find(d=>d.agent===i.agent);if(l){if(l.dates.push(i.date),b_(t)>e){l.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),b_(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class AR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m4()?p4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ER(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return v_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return v_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function b_(n){return Mf(JSON.stringify({version:2,heartbeats:n})).length}function RR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let a=1;a<n.length;a++)n[a].date<t&&(t=n[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(n){Dc(new vl("platform-logger",e=>new F4(e),"PRIVATE")),Dc(new vl("heartbeat",e=>new SR(e),"PRIVATE")),wo(t0,g_,n),wo(t0,g_,"esm2017"),wo("fire-js","")}jR("");var __=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eo,d2;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function I(){}I.prototype=R.prototype,k.D=R.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(j,z,W){for(var V=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)V[Se-2]=arguments[Se];return R.prototype[z].apply(j,V)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,R,I){I||(I=0);var j=Array(16);if(typeof R=="string")for(var z=0;16>z;++z)j[z]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(z=0;16>z;++z)j[z]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=k.g[0],I=k.g[1],z=k.g[2];var W=k.g[3],V=R+(W^I&(z^W))+j[0]+3614090360&4294967295;R=I+(V<<7&4294967295|V>>>25),V=W+(z^R&(I^z))+j[1]+3905402710&4294967295,W=R+(V<<12&4294967295|V>>>20),V=z+(I^W&(R^I))+j[2]+606105819&4294967295,z=W+(V<<17&4294967295|V>>>15),V=I+(R^z&(W^R))+j[3]+3250441966&4294967295,I=z+(V<<22&4294967295|V>>>10),V=R+(W^I&(z^W))+j[4]+4118548399&4294967295,R=I+(V<<7&4294967295|V>>>25),V=W+(z^R&(I^z))+j[5]+1200080426&4294967295,W=R+(V<<12&4294967295|V>>>20),V=z+(I^W&(R^I))+j[6]+2821735955&4294967295,z=W+(V<<17&4294967295|V>>>15),V=I+(R^z&(W^R))+j[7]+4249261313&4294967295,I=z+(V<<22&4294967295|V>>>10),V=R+(W^I&(z^W))+j[8]+1770035416&4294967295,R=I+(V<<7&4294967295|V>>>25),V=W+(z^R&(I^z))+j[9]+2336552879&4294967295,W=R+(V<<12&4294967295|V>>>20),V=z+(I^W&(R^I))+j[10]+4294925233&4294967295,z=W+(V<<17&4294967295|V>>>15),V=I+(R^z&(W^R))+j[11]+2304563134&4294967295,I=z+(V<<22&4294967295|V>>>10),V=R+(W^I&(z^W))+j[12]+1804603682&4294967295,R=I+(V<<7&4294967295|V>>>25),V=W+(z^R&(I^z))+j[13]+4254626195&4294967295,W=R+(V<<12&4294967295|V>>>20),V=z+(I^W&(R^I))+j[14]+2792965006&4294967295,z=W+(V<<17&4294967295|V>>>15),V=I+(R^z&(W^R))+j[15]+1236535329&4294967295,I=z+(V<<22&4294967295|V>>>10),V=R+(z^W&(I^z))+j[1]+4129170786&4294967295,R=I+(V<<5&4294967295|V>>>27),V=W+(I^z&(R^I))+j[6]+3225465664&4294967295,W=R+(V<<9&4294967295|V>>>23),V=z+(R^I&(W^R))+j[11]+643717713&4294967295,z=W+(V<<14&4294967295|V>>>18),V=I+(W^R&(z^W))+j[0]+3921069994&4294967295,I=z+(V<<20&4294967295|V>>>12),V=R+(z^W&(I^z))+j[5]+3593408605&4294967295,R=I+(V<<5&4294967295|V>>>27),V=W+(I^z&(R^I))+j[10]+38016083&4294967295,W=R+(V<<9&4294967295|V>>>23),V=z+(R^I&(W^R))+j[15]+3634488961&4294967295,z=W+(V<<14&4294967295|V>>>18),V=I+(W^R&(z^W))+j[4]+3889429448&4294967295,I=z+(V<<20&4294967295|V>>>12),V=R+(z^W&(I^z))+j[9]+568446438&4294967295,R=I+(V<<5&4294967295|V>>>27),V=W+(I^z&(R^I))+j[14]+3275163606&4294967295,W=R+(V<<9&4294967295|V>>>23),V=z+(R^I&(W^R))+j[3]+4107603335&4294967295,z=W+(V<<14&4294967295|V>>>18),V=I+(W^R&(z^W))+j[8]+1163531501&4294967295,I=z+(V<<20&4294967295|V>>>12),V=R+(z^W&(I^z))+j[13]+2850285829&4294967295,R=I+(V<<5&4294967295|V>>>27),V=W+(I^z&(R^I))+j[2]+4243563512&4294967295,W=R+(V<<9&4294967295|V>>>23),V=z+(R^I&(W^R))+j[7]+1735328473&4294967295,z=W+(V<<14&4294967295|V>>>18),V=I+(W^R&(z^W))+j[12]+2368359562&4294967295,I=z+(V<<20&4294967295|V>>>12),V=R+(I^z^W)+j[5]+4294588738&4294967295,R=I+(V<<4&4294967295|V>>>28),V=W+(R^I^z)+j[8]+2272392833&4294967295,W=R+(V<<11&4294967295|V>>>21),V=z+(W^R^I)+j[11]+1839030562&4294967295,z=W+(V<<16&4294967295|V>>>16),V=I+(z^W^R)+j[14]+4259657740&4294967295,I=z+(V<<23&4294967295|V>>>9),V=R+(I^z^W)+j[1]+2763975236&4294967295,R=I+(V<<4&4294967295|V>>>28),V=W+(R^I^z)+j[4]+1272893353&4294967295,W=R+(V<<11&4294967295|V>>>21),V=z+(W^R^I)+j[7]+4139469664&4294967295,z=W+(V<<16&4294967295|V>>>16),V=I+(z^W^R)+j[10]+3200236656&4294967295,I=z+(V<<23&4294967295|V>>>9),V=R+(I^z^W)+j[13]+681279174&4294967295,R=I+(V<<4&4294967295|V>>>28),V=W+(R^I^z)+j[0]+3936430074&4294967295,W=R+(V<<11&4294967295|V>>>21),V=z+(W^R^I)+j[3]+3572445317&4294967295,z=W+(V<<16&4294967295|V>>>16),V=I+(z^W^R)+j[6]+76029189&4294967295,I=z+(V<<23&4294967295|V>>>9),V=R+(I^z^W)+j[9]+3654602809&4294967295,R=I+(V<<4&4294967295|V>>>28),V=W+(R^I^z)+j[12]+3873151461&4294967295,W=R+(V<<11&4294967295|V>>>21),V=z+(W^R^I)+j[15]+530742520&4294967295,z=W+(V<<16&4294967295|V>>>16),V=I+(z^W^R)+j[2]+3299628645&4294967295,I=z+(V<<23&4294967295|V>>>9),V=R+(z^(I|~W))+j[0]+4096336452&4294967295,R=I+(V<<6&4294967295|V>>>26),V=W+(I^(R|~z))+j[7]+1126891415&4294967295,W=R+(V<<10&4294967295|V>>>22),V=z+(R^(W|~I))+j[14]+2878612391&4294967295,z=W+(V<<15&4294967295|V>>>17),V=I+(W^(z|~R))+j[5]+4237533241&4294967295,I=z+(V<<21&4294967295|V>>>11),V=R+(z^(I|~W))+j[12]+1700485571&4294967295,R=I+(V<<6&4294967295|V>>>26),V=W+(I^(R|~z))+j[3]+2399980690&4294967295,W=R+(V<<10&4294967295|V>>>22),V=z+(R^(W|~I))+j[10]+4293915773&4294967295,z=W+(V<<15&4294967295|V>>>17),V=I+(W^(z|~R))+j[1]+2240044497&4294967295,I=z+(V<<21&4294967295|V>>>11),V=R+(z^(I|~W))+j[8]+1873313359&4294967295,R=I+(V<<6&4294967295|V>>>26),V=W+(I^(R|~z))+j[15]+4264355552&4294967295,W=R+(V<<10&4294967295|V>>>22),V=z+(R^(W|~I))+j[6]+2734768916&4294967295,z=W+(V<<15&4294967295|V>>>17),V=I+(W^(z|~R))+j[13]+1309151649&4294967295,I=z+(V<<21&4294967295|V>>>11),V=R+(z^(I|~W))+j[4]+4149444226&4294967295,R=I+(V<<6&4294967295|V>>>26),V=W+(I^(R|~z))+j[11]+3174756917&4294967295,W=R+(V<<10&4294967295|V>>>22),V=z+(R^(W|~I))+j[2]+718787259&4294967295,z=W+(V<<15&4294967295|V>>>17),V=I+(W^(z|~R))+j[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(z+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+z&4294967295,k.g[3]=k.g[3]+W&4294967295}a.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var I=R-this.blockSize,j=this.B,z=this.h,W=0;W<R;){if(z==0)for(;W<=I;)i(this,k,W),W+=this.blockSize;if(typeof k=="string"){for(;W<R;)if(j[z++]=k.charCodeAt(W++),z==this.blockSize){i(this,j),z=0;break}}else for(;W<R;)if(j[z++]=k[W++],z==this.blockSize){i(this,j),z=0;break}}this.h=z,this.o+=R},a.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var I=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=I&255,I/=256;for(this.u(k),k=Array(16),R=I=0;4>R;++R)for(var j=0;32>j;j+=8)k[I++]=this.g[R]>>>j&255;return k};function l(k,R){var I=f;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=R(k)}function d(k,R){this.h=R;for(var I=[],j=!0,z=k.length-1;0<=z;z--){var W=k[z]|0;j&&W==R||(I[z]=W,j=!1)}this.g=I}var f={};function p(k){return-128<=k&&128>k?l(k,function(R){return new d([R|0],0>R?-1:0)}):new d([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return $(g(-k));for(var R=[],I=1,j=0;k>=I;j++)R[j]=k/I|0,I*=4294967296;return new d(R,0)}function b(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return $(b(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),j=_,z=0;z<k.length;z+=8){var W=Math.min(8,k.length-z),V=parseInt(k.substring(z,z+W),R);8>W?(W=g(Math.pow(R,W)),j=j.j(W).add(g(V))):(j=j.j(I),j=j.add(g(V)))}return j}var _=p(0),E=p(1),D=p(16777216);n=d.prototype,n.m=function(){if(U(this))return-$(this).m();for(var k=0,R=1,I=0;I<this.g.length;I++){var j=this.i(I);k+=(0<=j?j:4294967296+j)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(P(this))return"0";if(U(this))return"-"+$(this).toString(k);for(var R=g(Math.pow(k,6)),I=this,j="";;){var z=ge(I,R).g;I=Q(I,z.j(R));var W=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=z,P(I))return W+j;for(;6>W.length;)W="0"+W;j=W+j}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function P(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function U(k){return k.h==-1}n.l=function(k){return k=Q(this,k),U(k)?-1:P(k)?0:1};function $(k){for(var R=k.g.length,I=[],j=0;j<R;j++)I[j]=~k.g[j];return new d(I,~k.h).add(E)}n.abs=function(){return U(this)?$(this):this},n.add=function(k){for(var R=Math.max(this.g.length,k.g.length),I=[],j=0,z=0;z<=R;z++){var W=j+(this.i(z)&65535)+(k.i(z)&65535),V=(W>>>16)+(this.i(z)>>>16)+(k.i(z)>>>16);j=V>>>16,W&=65535,V&=65535,I[z]=V<<16|W}return new d(I,I[I.length-1]&-2147483648?-1:0)};function Q(k,R){return k.add($(R))}n.j=function(k){if(P(this)||P(k))return _;if(U(this))return U(k)?$(this).j($(k)):$($(this).j(k));if(U(k))return $(this.j($(k)));if(0>this.l(D)&&0>k.l(D))return g(this.m()*k.m());for(var R=this.g.length+k.g.length,I=[],j=0;j<2*R;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(var z=0;z<k.g.length;z++){var W=this.i(j)>>>16,V=this.i(j)&65535,Se=k.i(z)>>>16,ye=k.i(z)&65535;I[2*j+2*z]+=V*ye,pe(I,2*j+2*z),I[2*j+2*z+1]+=W*ye,pe(I,2*j+2*z+1),I[2*j+2*z+1]+=V*Se,pe(I,2*j+2*z+1),I[2*j+2*z+2]+=W*Se,pe(I,2*j+2*z+2)}for(j=0;j<R;j++)I[j]=I[2*j+1]<<16|I[2*j];for(j=R;j<2*R;j++)I[j]=0;return new d(I,0)};function pe(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function se(k,R){this.g=k,this.h=R}function ge(k,R){if(P(R))throw Error("division by zero");if(P(k))return new se(_,_);if(U(k))return R=ge($(k),R),new se($(R.g),$(R.h));if(U(R))return R=ge(k,$(R)),new se($(R.g),R.h);if(30<k.g.length){if(U(k)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var I=E,j=R;0>=j.l(k);)I=de(I),j=de(j);var z=H(I,1),W=H(j,1);for(j=H(j,2),I=H(I,2);!P(j);){var V=W.add(j);0>=V.l(k)&&(z=z.add(I),W=V),j=H(j,1),I=H(I,1)}return R=Q(k,z.j(R)),new se(z,R)}for(z=_;0<=k.l(R);){for(I=Math.max(1,Math.floor(k.m()/R.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),W=g(I),V=W.j(R);U(V)||0<V.l(k);)I-=j,W=g(I),V=W.j(R);P(W)&&(W=E),z=z.add(W),k=Q(k,V)}return new se(z,k)}n.A=function(k){return ge(this,k).h},n.and=function(k){for(var R=Math.max(this.g.length,k.g.length),I=[],j=0;j<R;j++)I[j]=this.i(j)&k.i(j);return new d(I,this.h&k.h)},n.or=function(k){for(var R=Math.max(this.g.length,k.g.length),I=[],j=0;j<R;j++)I[j]=this.i(j)|k.i(j);return new d(I,this.h|k.h)},n.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),I=[],j=0;j<R;j++)I[j]=this.i(j)^k.i(j);return new d(I,this.h^k.h)};function de(k){for(var R=k.g.length+1,I=[],j=0;j<R;j++)I[j]=k.i(j)<<1|k.i(j-1)>>>31;return new d(I,k.h)}function H(k,R){var I=R>>5;R%=32;for(var j=k.g.length-I,z=[],W=0;W<j;W++)z[W]=0<R?k.i(W+I)>>>R|k.i(W+I+1)<<32-R:k.i(W+I);return new d(z,k.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,d2=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=b,Eo=d}).apply(typeof __<"u"?__:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h2,Qu,f2,pf,a0,m2,p2,g2;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,w){return h==Array.prototype||h==Object.prototype||(h[x]=w.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var x=0;x<h.length;++x){var w=h[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var a=t(this);function i(h,x){if(x)e:{var w=a;h=h.split(".");for(var A=0;A<h.length-1;A++){var re=h[A];if(!(re in w))break e;w=w[re]}h=h[h.length-1],A=w[h],x=x(A),x!=A&&x!=null&&e(w,h,{configurable:!0,writable:!0,value:x})}}function l(h,x){h instanceof String&&(h+="");var w=0,A=!1,re={next:function(){if(!A&&w<h.length){var he=w++;return{value:x(he,h[he]),done:!1}}return A=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}i("Array.prototype.values",function(h){return h||function(){return l(this,function(x,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},f=this||self;function p(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function g(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function b(h,x,w){return h.call.apply(h.bind,arguments)}function _(h,x,w){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,A),h.apply(x,re)}}return function(){return h.apply(x,arguments)}}function E(h,x,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:_,E.apply(null,arguments)}function D(h,x){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function P(h,x){function w(){}w.prototype=x.prototype,h.aa=x.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(A,re,he){for(var Ie=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)Ie[Yt-2]=arguments[Yt];return x.prototype[re].apply(A,Ie)}}function U(h){const x=h.length;if(0<x){const w=Array(x);for(let A=0;A<x;A++)w[A]=h[A];return w}return[]}function $(h,x){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(p(A)){const re=h.length||0,he=A.length||0;h.length=re+he;for(let Ie=0;Ie<he;Ie++)h[re+Ie]=A[Ie]}else h.push(A)}}class Q{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function pe(h){return/^[\s\xa0]*$/.test(h)}function se(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ge(h){return ge[" "](h),h}ge[" "]=function(){};var de=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function H(h,x,w){for(const A in h)x.call(w,h[A],A,h)}function k(h,x){for(const w in h)x.call(void 0,h[w],w,h)}function R(h){const x={};for(const w in h)x[w]=h[w];return x}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(h,x){let w,A;for(let re=1;re<arguments.length;re++){A=arguments[re];for(w in A)h[w]=A[w];for(let he=0;he<I.length;he++)w=I[he],Object.prototype.hasOwnProperty.call(A,w)&&(h[w]=A[w])}}function z(h){var x=1;h=h.split(":");const w=[];for(;0<x&&h.length;)w.push(h.shift()),x--;return h.length&&w.push(h.join(":")),w}function W(h){f.setTimeout(()=>{throw h},0)}function V(){var h=Ce;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class Se{constructor(){this.h=this.g=null}add(x,w){const A=ye.get();A.set(x,w),this.h?this.h.next=A:this.g=A,this.h=A}}var ye=new Q(()=>new B,h=>h.reset());class B{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let le,oe=!1,Ce=new Se,O=()=>{const h=f.Promise.resolve(void 0);le=()=>{h.then(ne)}};var ne=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(w){W(w)}var x=ye;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}oe=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Me=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};f.addEventListener("test",w,x),f.removeEventListener("test",w,x)}catch{}return h}();function Be(h,x){if(me.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(de){e:{try{ge(x.nodeName);var re=!0;break e}catch{}re=!1}re||(x=null)}}else w=="mouseover"?x=h.fromElement:w=="mouseout"&&(x=h.toElement);this.relatedTarget=x,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:qe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Be.aa.h.call(this)}}P(Be,me);var qe={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),At=0;function ht(h,x,w,A,re){this.listener=h,this.proxy=null,this.src=x,this.type=w,this.capture=!!A,this.ha=re,this.key=++At,this.da=this.fa=!1}function _t(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h){this.src=h,this.g={},this.h=0}It.prototype.add=function(h,x,w,A,re){var he=h.toString();h=this.g[he],h||(h=this.g[he]=[],this.h++);var Ie=rt(h,x,A,re);return-1<Ie?(x=h[Ie],w||(x.fa=!1)):(x=new ht(x,this.src,he,!!A,re),x.fa=w,h.push(x)),x};function mn(h,x){var w=x.type;if(w in h.g){var A=h.g[w],re=Array.prototype.indexOf.call(A,x,void 0),he;(he=0<=re)&&Array.prototype.splice.call(A,re,1),he&&(_t(x),h.g[w].length==0&&(delete h.g[w],h.h--))}}function rt(h,x,w,A){for(var re=0;re<h.length;++re){var he=h[re];if(!he.da&&he.listener==x&&he.capture==!!w&&he.ha==A)return re}return-1}var Rt="closure_lm_"+(1e6*Math.random()|0),ha={};function ja(h,x,w,A,re){if(Array.isArray(x)){for(var he=0;he<x.length;he++)ja(h,x[he],w,A,re);return null}return w=fa(w),h&&h[Lt]?h.K(x,w,g(A)?!!A.capture:!1,re):Pn(h,x,w,!1,A,re)}function Pn(h,x,w,A,re,he){if(!x)throw Error("Invalid event type");var Ie=g(re)?!!re.capture:!!re,Yt=Ln(h);if(Yt||(h[Rt]=Yt=new It(h)),w=Yt.add(x,w,A,Ie,he),w.proxy)return w;if(A=Yr(),w.proxy=A,A.src=h,A.listener=w,h.addEventListener)Me||(re=Ie),re===void 0&&(re=!1),h.addEventListener(x.toString(),A,re);else if(h.attachEvent)h.attachEvent(Or(x.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Yr(){function h(w){return x.call(h.src,h.listener,w)}const x=sr;return h}function br(h,x,w,A,re){if(Array.isArray(x))for(var he=0;he<x.length;he++)br(h,x[he],w,A,re);else A=g(A)?!!A.capture:!!A,w=fa(w),h&&h[Lt]?(h=h.i,x=String(x).toString(),x in h.g&&(he=h.g[x],w=rt(he,w,A,re),-1<w&&(_t(he[w]),Array.prototype.splice.call(he,w,1),he.length==0&&(delete h.g[x],h.h--)))):h&&(h=Ln(h))&&(x=h.g[x.toString()],h=-1,x&&(h=rt(x,w,A,re)),(w=-1<h?x[h]:null)&&_r(w))}function _r(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Lt])mn(x.i,h);else{var w=h.type,A=h.proxy;x.removeEventListener?x.removeEventListener(w,A,h.capture):x.detachEvent?x.detachEvent(Or(w),A):x.addListener&&x.removeListener&&x.removeListener(A),(w=Ln(x))?(mn(w,h),w.h==0&&(w.src=null,x[Rt]=null)):_t(h)}}}function Or(h){return h in ha?ha[h]:ha[h]="on"+h}function sr(h,x){if(h.da)h=!0;else{x=new Be(x,this);var w=h.listener,A=h.ha||h.src;h.fa&&_r(h),h=w.call(A,x)}return h}function Ln(h){return h=h[Rt],h instanceof It?h:null}var Wr="__closure_events_fn_"+(1e9*Math.random()>>>0);function fa(h){return typeof h=="function"?h:(h[Wr]||(h[Wr]=function(x){return h.handleEvent(x)}),h[Wr])}function jt(){_e.call(this),this.i=new It(this),this.M=this,this.F=null}P(jt,_e),jt.prototype[Lt]=!0,jt.prototype.removeEventListener=function(h,x,w,A){br(this,h,x,w,A)};function Ze(h,x){var w,A=h.F;if(A)for(w=[];A;A=A.F)w.push(A);if(h=h.M,A=x.type||x,typeof x=="string")x=new me(x,h);else if(x instanceof me)x.target=x.target||h;else{var re=x;x=new me(A,h),j(x,re)}if(re=!0,w)for(var he=w.length-1;0<=he;he--){var Ie=x.g=w[he];re=sn(Ie,A,!0,x)&&re}if(Ie=x.g=h,re=sn(Ie,A,!0,x)&&re,re=sn(Ie,A,!1,x)&&re,w)for(he=0;he<w.length;he++)Ie=x.g=w[he],re=sn(Ie,A,!1,x)&&re}jt.prototype.N=function(){if(jt.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var w=h.g[x],A=0;A<w.length;A++)_t(w[A]);delete h.g[x],h.h--}}this.F=null},jt.prototype.K=function(h,x,w,A){return this.i.add(String(h),x,!1,w,A)},jt.prototype.L=function(h,x,w,A){return this.i.add(String(h),x,!0,w,A)};function sn(h,x,w,A){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var re=!0,he=0;he<x.length;++he){var Ie=x[he];if(Ie&&!Ie.da&&Ie.capture==w){var Yt=Ie.listener,Jn=Ie.ha||Ie.src;Ie.fa&&mn(h.i,Ie),re=Yt.call(Jn,A)!==!1&&re}}return re&&!A.defaultPrevented}function vn(h,x,w){if(typeof h=="function")w&&(h=E(h,w));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:f.setTimeout(h,x||0)}function ma(h){h.g=vn(()=>{h.g=null,h.i&&(h.i=!1,ma(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class at extends _e{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ma(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(h){_e.call(this),this.h=h,this.g={}}P(Pr,_e);var wr=[];function ur(h){H(h.g,function(x,w){this.g.hasOwnProperty(w)&&_r(x)},h),h.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),ur(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=f.JSON.stringify,Gr=f.JSON.parse,dr=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function ft(){}ft.prototype.h=null;function Ut(h){return h.h||(h.h=h.i())}function Tt(){}var Rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function En(){me.call(this,"d")}P(En,me);function Er(){me.call(this,"c")}P(Er,me);var zt={},Tn=null;function wt(){return Tn=Tn||new jt}zt.La="serverreachability";function ta(h){me.call(this,zt.La,h)}P(ta,me);function q(h){const x=wt();Ze(x,new ta(x))}zt.STAT_EVENT="statevent";function ee(h,x){me.call(this,zt.STAT_EVENT,h),this.stat=x}P(ee,me);function X(h){const x=wt();Ze(x,new ee(x,h))}zt.Ma="timingevent";function ve(h,x){me.call(this,zt.Ma,h),this.size=x}P(ve,me);function je(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},x)}function ke(){this.g=!0}ke.prototype.xa=function(){this.g=!1};function Qe(h,x,w,A,re,he){h.info(function(){if(h.g)if(he)for(var Ie="",Yt=he.split("&"),Jn=0;Jn<Yt.length;Jn++){var Jt=Yt[Jn].split("=");if(1<Jt.length){var $n=Jt[0];Jt=Jt[1];var Gn=$n.split("_");Ie=2<=Gn.length&&Gn[1]=="type"?Ie+($n+"="+Jt+"&"):Ie+($n+"=redacted&")}}else Ie=null;else Ie=he;return"XMLHTTP REQ ("+A+") [attempt "+re+"]: "+x+`
`+w+`
`+Ie})}function Ue(h,x,w,A,re,he,Ie){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+re+"]: "+x+`
`+w+`
`+he+" "+Ie})}function $e(h,x,w,A){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+ot(h,w)+(A?" "+A:"")})}function Ye(h,x){h.info(function(){return"TIMEOUT: "+x})}ke.prototype.info=function(){};function ot(h,x){if(!h.g)return x;if(!x)return null;try{var w=JSON.parse(x);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var A=w[h];if(!(2>A.length)){var re=A[1];if(Array.isArray(re)&&!(1>re.length)){var he=re[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Ie=1;Ie<re.length;Ie++)re[Ie]=""}}}}return ir(w)}catch{return x}}var Ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tt;function Je(){}P(Je,ft),Je.prototype.g=function(){return new XMLHttpRequest},Je.prototype.i=function(){return{}},tt=new Je;function We(h,x,w,A){this.j=h,this.i=x,this.l=w,this.R=A||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}var Et={},hr={};function jn(h,x,w){h.L=1,h.v=ga(Sr(x)),h.m=w,h.P=!0,un(h,null)}function un(h,x){h.F=Date.now(),mt(h),h.A=Sr(h.v);var w=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Le(w.i,"t",A),h.C=0,w=h.j.J,h.h=new Ot,h.g=gs(h.j,w?x:null,!h.m),0<h.O&&(h.M=new at(E(h.Y,h,h.g),h.O)),x=h.U,w=h.g,A=h.ca;var re="readystatechange";Array.isArray(re)||(re&&(wr[0]=re.toString()),re=wr);for(var he=0;he<re.length;he++){var Ie=ja(w,re[he],A||x.handleEvent,!1,x.h||x);if(!Ie)break;x.g[Ie.key]=Ie}x=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),q(),Qe(h.i,h.u,h.A,h.l,h.R,h.m)}We.prototype.ca=function(h){h=h.target;const x=this.M;x&&Vr(h)==3?x.j():this.Y(h)},We.prototype.Y=function(h){try{if(h==this.g)e:{const Gn=Vr(this.g);var x=this.g.Ba();const ys=this.g.Z();if(!(3>Gn)&&(Gn!=3||this.g&&(this.h.h||this.g.oa()||Al(this.g)))){this.J||Gn!=4||x==7||(x==8||0>=ys?q(3):q(2)),zn(this);var w=this.g.Z();this.X=w;t:if(Un(this)){var A=Al(this.g);h="";var re=A.length,he=Vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dt(this),or(this);var Ie="";break t}this.h.i=new f.TextDecoder}for(x=0;x<re;x++)this.h.h=!0,h+=this.h.i.decode(A[x],{stream:!(he&&x==re-1)});A.length=0,this.h.g+=h,this.C=0,Ie=this.h.g}else Ie=this.g.oa();if(this.o=w==200,Ue(this.i,this.u,this.A,this.l,this.R,Gn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Yt,Jn=this.g;if((Yt=Jn.g?Jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pe(Yt)){var Jt=Yt;break t}}Jt=null}if(w=Jt)$e(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xn(this,w);else{this.o=!1,this.s=3,X(12),dt(this),or(this);break e}}if(this.P){w=!0;let Ur;for(;!this.J&&this.C<Ie.length;)if(Ur=Yn(this,Ie),Ur==hr){Gn==4&&(this.s=4,X(14),w=!1),$e(this.i,this.l,null,"[Incomplete Response]");break}else if(Ur==Et){this.s=4,X(15),$e(this.i,this.l,Ie,"[Invalid Chunk]"),w=!1;break}else $e(this.i,this.l,Ur,null),xn(this,Ur);if(Un(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gn!=4||Ie.length!=0||this.h.h||(this.s=1,X(16),w=!1),this.o=this.o&&w,!w)$e(this.i,this.l,Ie,"[Invalid Chunked Response]"),dt(this),or(this);else if(0<Ie.length&&!this.W){this.W=!0;var $n=this.j;$n.g==this&&$n.ba&&!$n.M&&($n.j.info("Great, no buffering proxy detected. Bytes received: "+Ie.length),Is($n),$n.M=!0,X(11))}}else $e(this.i,this.l,Ie,null),xn(this,Ie);Gn==4&&dt(this),this.o&&!this.J&&(Gn==4?Li(this.j,this):(this.o=!1,mt(this)))}else Ds(this.g),w==400&&0<Ie.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),dt(this),or(this)}}}catch{}finally{}};function Un(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Yn(h,x){var w=h.C,A=x.indexOf(`
`,w);return A==-1?hr:(w=Number(x.substring(w,A)),isNaN(w)?Et:(A+=1,A+w>x.length?hr:(x=x.slice(A,A+w),h.C=A+w,x)))}We.prototype.cancel=function(){this.J=!0,dt(this)};function mt(h){h.S=Date.now()+h.I,Na(h,h.I)}function Na(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=je(E(h.ba,h),x)}function zn(h){h.B&&(f.clearTimeout(h.B),h.B=null)}We.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ye(this.i,this.A),this.L!=2&&(q(),X(17)),dt(this),this.s=2,or(this)):Na(this,this.S-h)};function or(h){h.j.G==0||h.J||Li(h.j,h)}function dt(h){zn(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,ur(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function xn(h,x){try{var w=h.j;if(w.G!=0&&(w.g==h||Bt(w.h,h))){if(!h.K&&Bt(w.h,h)&&w.G==3){try{var A=w.Da.g.parse(x)}catch{A=null}if(Array.isArray(A)&&A.length==3){var re=A;if(re[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)li(w),Vi(w);else break e;oi(w),X(18)}}else w.za=re[1],0<w.za-w.T&&37500>re[2]&&w.F&&w.v==0&&!w.C&&(w.C=je(E(w.Za,w),6e3));if(1>=$t(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Fa(w,11)}else if((h.K||w.g==h)&&li(w),!pe(x))for(re=w.Da.g.parse(x),x=0;x<re.length;x++){let Jt=re[x];if(w.T=Jt[0],Jt=Jt[1],w.G==2)if(Jt[0]=="c"){w.K=Jt[1],w.ia=Jt[2];const $n=Jt[3];$n!=null&&(w.la=$n,w.j.info("VER="+w.la));const Gn=Jt[4];Gn!=null&&(w.Aa=Gn,w.j.info("SVER="+w.Aa));const ys=Jt[5];ys!=null&&typeof ys=="number"&&0<ys&&(A=1.5*ys,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const Ur=h.g;if(Ur){const ts=Ur.g?Ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ts){var he=A.h;he.g||ts.indexOf("spdy")==-1&&ts.indexOf("quic")==-1&&ts.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(na(he,he.h),he.h=null))}if(A.D){const Wo=Ur.g?Ur.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(A.ya=Wo,dn(A.I,A.D,Wo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var Ie=h;if(A.qa=ps(A,A.J?A.ia:null,A.W),Ie.K){bn(A.h,Ie);var Yt=Ie,Jn=A.L;Jn&&(Yt.I=Jn),Yt.B&&(zn(Yt),mt(Yt)),A.g=Ie}else jl(A);0<w.i.length&&ii(w)}else Jt[0]!="stop"&&Jt[0]!="close"||Fa(w,7);else w.G==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?Fa(w,7):Bo(w):Jt[0]!="noop"&&w.l&&w.l.ta(Jt),w.v=0)}}q(4)}catch{}}var Xe=class{constructor(h,x){this.g=h,this.map=x}};function Tr(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $t(h){return h.h?1:h.g?h.g.size:0}function Bt(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function na(h,x){h.g?h.g.add(x):h.h=x}function bn(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Tr.prototype.cancel=function(){if(this.i=Da(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Da(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const w of h.g.values())x=x.concat(w.D);return x}return U(h.i)}function Nr(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var x=[],w=h.length,A=0;A<w;A++)x.push(h[A]);return x}x=[],w=0;for(A in h)x[w++]=h[A];return x}function Ma(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var x=[];h=h.length;for(var w=0;w<h;w++)x.push(w);return x}x=[],w=0;for(const A in h)x[w++]=A;return x}}}function fr(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var w=Ma(h),A=Nr(h),re=A.length,he=0;he<re;he++)x.call(void 0,A[he],w&&w[he],h)}var Ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(h,x){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var A=h[w].indexOf("="),re=null;if(0<=A){var he=h[w].substring(0,A);re=h[w].substring(A+1)}else he=h[w];x(he,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Bn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Bn){this.h=h.h,hs(this,h.j),this.o=h.o,this.g=h.g,za(this,h.s),this.l=h.l;var x=h.i,w=new De;w.i=x.i,x.g&&(w.g=new Map(x.g),w.h=x.h),pa(this,w),this.m=h.m}else h&&(x=String(h).match(Ia))?(this.h=!1,hs(this,x[1]||"",!0),this.o=Wn(x[2]||""),this.g=Wn(x[3]||"",!0),za(this,x[4]),this.l=Wn(x[5]||"",!0),pa(this,x[6]||"",!0),this.m=Wn(x[7]||"")):(this.h=!1,this.i=new De(null,this.h))}Bn.prototype.toString=function(){var h=[],x=this.j;x&&h.push(fs(x,ri,!0),":");var w=this.g;return(w||x=="file")&&(h.push("//"),(x=this.o)&&h.push(fs(x,ri,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(fs(w,w.charAt(0)=="/"?te:M,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",fs(w,fe)),h.join("")};function Sr(h){return new Bn(h)}function hs(h,x,w){h.j=w?Wn(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function za(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function pa(h,x,w){x instanceof De?(h.i=x,kn(h.i,h.h)):(w||(x=fs(x,xe)),h.i=new De(x,h.h))}function dn(h,x,w){h.i.set(x,w)}function ga(h){return dn(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Wn(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function fs(h,x,w){return typeof h=="string"?(h=encodeURI(h).replace(x,As),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function As(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ri=/[#\/\?@]/g,M=/[#\?:]/g,te=/[#\?]/g,xe=/[#\?@]/g,fe=/#/g;function De(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Re(h){h.g||(h.g=new Map,h.h=0,h.i&&Sa(h.i,function(x,w){h.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}n=De.prototype,n.add=function(h,x){Re(this),this.i=null,h=et(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(x),this.h+=1,this};function Ae(h,x){Re(h),x=et(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Fe(h,x){return Re(h),x=et(h,x),h.g.has(x)}n.forEach=function(h,x){Re(this),this.g.forEach(function(w,A){w.forEach(function(re){h.call(x,re,A,this)},this)},this)},n.na=function(){Re(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),w=[];for(let A=0;A<x.length;A++){const re=h[A];for(let he=0;he<re.length;he++)w.push(x[A])}return w},n.V=function(h){Re(this);let x=[];if(typeof h=="string")Fe(this,h)&&(x=x.concat(this.g.get(et(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)x=x.concat(h[w])}return x},n.set=function(h,x){return Re(this),this.i=null,h=et(this,h),Fe(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},n.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function Le(h,x,w){Ae(h,x),0<w.length&&(h.i=null,h.g.set(et(h,x),U(w)),h.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var w=0;w<x.length;w++){var A=x[w];const he=encodeURIComponent(String(A)),Ie=this.V(A);for(A=0;A<Ie.length;A++){var re=he;Ie[A]!==""&&(re+="="+encodeURIComponent(String(Ie[A]))),h.push(re)}}return this.i=h.join("&")};function et(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function kn(h,x){x&&!h.j&&(Re(h),h.i=null,h.g.forEach(function(w,A){var re=A.toLowerCase();A!=re&&(Ae(this,A),Le(this,re,w))},h)),h.j=x}function Pt(h,x){const w=new ke;if(f.Image){const A=new Image;A.onload=D(Cr,w,"TestLoadImage: loaded",!0,x,A),A.onerror=D(Cr,w,"TestLoadImage: error",!1,x,A),A.onabort=D(Cr,w,"TestLoadImage: abort",!1,x,A),A.ontimeout=D(Cr,w,"TestLoadImage: timeout",!1,x,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else x(!1)}function qn(h,x){const w=new ke,A=new AbortController,re=setTimeout(()=>{A.abort(),Cr(w,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:A.signal}).then(he=>{clearTimeout(re),he.ok?Cr(w,"TestPingServer: ok",!0,x):Cr(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(re),Cr(w,"TestPingServer: error",!1,x)})}function Cr(h,x,w,A,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),A(w)}catch{}}function Ba(){this.g=new dr}function _n(h,x,w){const A=w||"";try{fr(h,function(re,he){let Ie=re;g(re)&&(Ie=ir(re)),x.push(A+he+"="+encodeURIComponent(Ie))})}catch(re){throw x.push(A+"type="+encodeURIComponent("_badmap")),re}}function Zn(h){this.l=h.Ub||null,this.j=h.eb||!1}P(Zn,ft),Zn.prototype.g=function(){return new Dt(this.l,this.j)},Zn.prototype.i=function(h){return function(){return h}}({});function Dt(h,x){jt.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Dt,jt),n=Dt.prototype,n.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,Oa(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||f).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ra(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Oa(this)),this.g&&(this.readyState=3,Oa(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ms(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ms(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?ra(this):Oa(this),this.readyState==3&&ms(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,ra(this))},n.Qa=function(h){this.g&&(this.response=h,ra(this))},n.ga=function(){this.g&&ra(this)};function ra(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Oa(h)}n.setRequestHeader=function(h,x){this.u.append(h,x)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=x.next();return h.join(`\r
`)};function Oa(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Dt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Uo(h){let x="";return H(h,function(w,A){x+=A,x+=":",x+=w,x+=`\r
`}),x}function mr(h,x,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=Uo(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):dn(h,x,w))}function Zt(h){jt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Zt,jt);var Oi=/^https?$/i,Rs=["POST","PUT"];n=Zt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,x,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tt.g(),this.v=this.o?Ut(this.o):Ut(tt),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(he){zo(this,he);return}if(h=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var re in A)w.set(re,A[re]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const he of A.keys())w.set(he,A.get(he));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(he=>he.toLowerCase()=="content-type"),re=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Rs,x,void 0))||A||re||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Ie]of w)this.g.setRequestHeader(he,Ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(h),this.u=!1}catch(he){zo(this,he)}};function zo(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,Pi(h),Ja(h)}function Pi(h){h.A||(h.A=!0,Ze(h,"complete"),Ze(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ze(this,"complete"),Ze(this,"abort"),Ja(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ja(this,!0)),Zt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ai(this):this.bb())},n.bb=function(){ai(this)};function ai(h){if(h.h&&typeof d<"u"&&(!h.v[1]||Vr(h)!=4||h.Z()!=2)){if(h.u&&Vr(h)==4)vn(h.Ea,0,h);else if(Ze(h,"readystatechange"),Vr(h)==4){h.h=!1;try{const Ie=h.Z();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var A;if(A=Ie===0){var re=String(h.D).match(Ia)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),A=!Oi.test(re?re.toLowerCase():"")}w=A}if(w)Ze(h,"complete"),Ze(h,"success");else{h.m=6;try{var he=2<Vr(h)?h.g.statusText:""}catch{he=""}h.l=he+" ["+h.Z()+"]",Pi(h)}}finally{Ja(h)}}}}function Ja(h,x){if(h.g){js(h);const w=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||Ze(h,"ready");try{w.onreadystatechange=A}catch{}}}function js(h){h.I&&(f.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Vr(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),Gr(x)}};function Al(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ds(h){const x={};h=(h.g&&2<=Vr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(pe(h[A]))continue;var w=z(h[A]);const re=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const he=x[re]||[];x[re]=he,he.push(w)}k(x,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function si(h,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||x}function ki(h){this.Aa=0,this.i=[],this.j=new ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=si("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=si("baseRetryDelayMs",5e3,h),this.cb=si("retryDelaySeedMs",1e4,h),this.Wa=si("forwardChannelMaxRetries",2,h),this.wa=si("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Tr(h&&h.concurrentRequestLimit),this.Da=new Ba,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ki.prototype,n.la=8,n.G=1,n.connect=function(h,x,w,A){X(0),this.W=h,this.H=x||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=ps(this,null,this.W),ii(this)};function Bo(h){if(Fo(h),h.G==3){var x=h.U++,w=Sr(h.I);if(dn(w,"SID",h.K),dn(w,"RID",x),dn(w,"TYPE","terminate"),Ms(h,w),x=new We(h,h.j,x),x.L=2,x.v=ga(Sr(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(x.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=x.v,w=!0),w||(x.g=gs(x.j,null),x.g.ea(x.v)),x.F=Date.now(),mt(x)}Dl(h)}function Vi(h){h.g&&(Is(h),h.g.cancel(),h.g=null)}function Fo(h){Vi(h),h.u&&(f.clearTimeout(h.u),h.u=null),li(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function ii(h){if(!kr(h.h)&&!h.s){h.s=!0;var x=h.Ga;le||O(),oe||(le(),oe=!0),Ce.add(x,h),h.B=0}}function Rl(h,x){return $t(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=je(E(h.Ga,h,x),$o(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const re=new We(this,this.j,h);let he=this.o;if(this.S&&(he?(he=R(he),j(he,this.S)):he=this.S),this.m!==null||this.O||(re.H=he,he=null),this.P)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(x+=A,4096<x){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=qo(this,re,x),w=Sr(this.I),dn(w,"RID",h),dn(w,"CVER",22),this.D&&dn(w,"X-HTTP-Session-Id",this.D),Ms(this,w),he&&(this.O?x="headers="+encodeURIComponent(String(Uo(he)))+"&"+x:this.m&&mr(w,this.m,he)),na(this.h,re),this.Ua&&dn(w,"TYPE","init"),this.P?(dn(w,"$req",x),dn(w,"SID","null"),re.T=!0,jn(re,w,null)):jn(re,w,x),this.G=2}}else this.G==3&&(h?Ho(this,h):this.i.length==0||kr(this.h)||Ho(this))};function Ho(h,x){var w;x?w=x.l:w=h.U++;const A=Sr(h.I);dn(A,"SID",h.K),dn(A,"RID",w),dn(A,"AID",h.T),Ms(h,A),h.m&&h.o&&mr(A,h.m,h.o),w=new We(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),x&&(h.i=x.D.concat(h.i)),x=qo(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),na(h.h,w),jn(w,A,x)}function Ms(h,x){h.H&&H(h.H,function(w,A){dn(x,A,w)}),h.l&&fr({},function(w,A){dn(x,A,w)})}function qo(h,x,w){w=Math.min(h.i.length,w);var A=h.l?E(h.l.Na,h.l,h):null;e:{var re=h.i;let he=-1;for(;;){const Ie=["count="+w];he==-1?0<w?(he=re[0].g,Ie.push("ofs="+he)):he=0:Ie.push("ofs="+he);let Yt=!0;for(let Jn=0;Jn<w;Jn++){let Jt=re[Jn].g;const $n=re[Jn].map;if(Jt-=he,0>Jt)he=Math.max(0,re[Jn].g-100),Yt=!1;else try{_n($n,Ie,"req"+Jt+"_")}catch{A&&A($n)}}if(Yt){A=Ie.join("&");break e}}}return h=h.i.splice(0,w),x.D=h,A}function jl(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;le||O(),oe||(le(),oe=!0),Ce.add(x,h),h.v=0}}function oi(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=je(E(h.Fa,h),$o(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,pr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=je(E(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),Vi(this),pr(this))};function Is(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function pr(h){h.g=new We(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=Sr(h.qa);dn(x,"RID","rpc"),dn(x,"SID",h.K),dn(x,"AID",h.T),dn(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&dn(x,"TO",h.ja),dn(x,"TYPE","xmlhttp"),Ms(h,x),h.m&&h.o&&mr(x,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=ga(Sr(x)),w.m=null,w.P=!0,un(w,h)}n.Za=function(){this.C!=null&&(this.C=null,Vi(this),oi(this),X(19))};function li(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Li(h,x){var w=null;if(h.g==x){li(h),Is(h),h.g=null;var A=2}else if(Bt(h.h,x))w=x.D,bn(h.h,x),A=1;else return;if(h.G!=0){if(x.o)if(A==1){w=x.m?x.m.length:0,x=Date.now()-x.F;var re=h.B;A=wt(),Ze(A,new ve(A,w)),ii(h)}else jl(h);else if(re=x.s,re==3||re==0&&0<x.X||!(A==1&&Rl(h,x)||A==2&&oi(h)))switch(w&&0<w.length&&(x=h.h,x.i=x.i.concat(w)),re){case 1:Fa(h,5);break;case 4:Fa(h,10);break;case 3:Fa(h,6);break;default:Fa(h,2)}}}function $o(h,x){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*x}function Fa(h,x){if(h.j.info("Error code "+x),x==2){var w=E(h.fb,h),A=h.Xa;const re=!A;A=new Bn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||hs(A,"https"),ga(A),re?Pt(A.toString(),w):qn(A.toString(),w)}else X(2);h.G=0,h.l&&h.l.sa(x),Dl(h),Fo(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function Dl(h){if(h.G=0,h.ka=[],h.l){const x=Da(h.h);(x.length!=0||h.i.length!=0)&&($(h.ka,x),$(h.ka,h.i),h.h.i.length=0,U(h.i),h.i.length=0),h.l.ra()}}function ps(h,x,w){var A=w instanceof Bn?Sr(w):new Bn(w);if(A.g!="")x&&(A.g=x+"."+A.g),za(A,A.s);else{var re=f.location;A=re.protocol,x=x?x+"."+re.hostname:re.hostname,re=+re.port;var he=new Bn(null);A&&hs(he,A),x&&(he.g=x),re&&za(he,re),w&&(he.l=w),A=he}return w=h.D,x=h.ya,w&&x&&dn(A,w,x),dn(A,"VER",h.la),Ms(h,A),A}function gs(h,x,w){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new Zt(new Zn({eb:w})):new Zt(h.pa),x.Ha(h.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}n=Yo.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ui(){}Ui.prototype.g=function(h,x){return new Lr(h,x)};function Lr(h,x){jt.call(this),this.g=new ki(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!pe(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!pe(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new es(this)}P(Lr,jt),Lr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lr.prototype.close=function(){Bo(this.g)},Lr.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=ir(h),h=w);x.i.push(new Xe(x.Ya++,h)),x.G==3&&ii(x)},Lr.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,Lr.aa.N.call(this)};function Ml(h){En.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const w in x){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}P(Ml,En);function Il(){Er.call(this),this.status=1}P(Il,Er);function es(h){this.g=h}P(es,Yo),es.prototype.ua=function(){Ze(this.g,"a")},es.prototype.ta=function(h){Ze(this.g,new Ml(h))},es.prototype.sa=function(h){Ze(this.g,new Il)},es.prototype.ra=function(){Ze(this.g,"b")},Ui.prototype.createWebChannel=Ui.prototype.g,Lr.prototype.send=Lr.prototype.o,Lr.prototype.open=Lr.prototype.m,Lr.prototype.close=Lr.prototype.close,g2=function(){return new Ui},p2=function(){return wt()},m2=zt,a0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ke.NO_ERROR=0,Ke.TIMEOUT=8,Ke.HTTP_ERROR=6,pf=Ke,lt.COMPLETE="complete",f2=lt,Tt.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",jt.prototype.listen=jt.prototype.K,Qu=Tt,Zt.prototype.listenOnce=Zt.prototype.L,Zt.prototype.getLastError=Zt.prototype.Ka,Zt.prototype.getLastErrorCode=Zt.prototype.Ba,Zt.prototype.getStatus=Zt.prototype.Z,Zt.prototype.getResponseJson=Zt.prototype.Oa,Zt.prototype.getResponseText=Zt.prototype.oa,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Ha,h2=Zt}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});const w_="@firebase/firestore",E_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wa.UNAUTHENTICATED=new wa(null),wa.GOOGLE_CREDENTIALS=new wa("google-credentials-uid"),wa.FIRST_PARTY=new wa("first-party-uid"),wa.MOCK_USER=new wa("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new U0("@firebase/firestore");function gc(){return xl.logLevel}function He(n,...e){if(xl.logLevel<=tn.DEBUG){const t=e.map(F0);xl.debug(`Firestore (${Hc}): ${n}`,...t)}}function Ri(n,...e){if(xl.logLevel<=tn.ERROR){const t=e.map(F0);xl.error(`Firestore (${Hc}): ${n}`,...t)}}function Co(n,...e){if(xl.logLevel<=tn.WARN){const t=e.map(F0);xl.warn(`Firestore (${Hc}): ${n}`,...t)}}function F0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(n,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,y2(n,a,t)}function y2(n,e,t){let a=`FIRESTORE (${Hc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw Ri(a),new Error(a)}function wn(n,e,t,a){let i="Unexpected state";typeof t=="string"?i=t:a=t,n||y2(e,i,a)}function Ct(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends Mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wa.UNAUTHENTICATED))}shutdown(){}}class MR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class IR{constructor(e){this.t=e,this.currentUser=wa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wn(this.o===void 0,42304);let a=this.i;const i=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let l=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ci,e.enqueueRetryable(()=>i(this.currentUser))};const d=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await i(this.currentUser)})},f=p=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ci)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(wn(typeof a.accessToken=="string",31837,{l:a}),new v2(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wn(e===null||typeof e=="string",2055,{h:e}),new wa(e)}}class OR{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=wa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PR{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new OR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(wa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_s(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){wn(this.o===void 0,3512);const a=l=>{l.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.m;return this.m=l.token,He("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>a(l))};const i=l=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?i(l):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new T_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new T_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<n;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const i=VR(40);for(let l=0;l<i.length;++l)a.length<20&&i[l]<t&&(a+=e.charAt(i[l]%62))}return a}}function qt(n,e){return n<e?-1:n>e?1:0}function s0(n,e){let t=0;for(;t<n.length&&t<e.length;){const a=n.codePointAt(t),i=e.codePointAt(t);if(a!==i){if(a<128&&i<128)return qt(a,i);{const l=x2(),d=LR(l.encode(N_(n,t)),l.encode(N_(e,t)));return d!==0?d:qt(a,i)}}t+=a>65535?2:1}return qt(n.length,e.length)}function N_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function LR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return qt(n[t],e[t]);return qt(n.length,e.length)}function Mc(n,e,t){return n.length===e.length&&n.every((a,i)=>t(a,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="__name__";class Fs{constructor(e,t,a){t===void 0?t=0:t>e.length&&xt(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&xt(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Fs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fs?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let i=0;i<a;i++){const l=Fs.compareSegments(e.get(i),t.get(i));if(l!==0)return l}return qt(e.length,t.length)}static compareSegments(e,t){const a=Fs.isNumericId(e),i=Fs.isNumericId(t);return a&&!i?-1:!a&&i?1:a&&i?Fs.extractNumericId(e).compare(Fs.extractNumericId(t)):s0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eo.fromString(e.substring(4,e.length-2))}}class Hn extends Fs{construct(e,t,a){return new Hn(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new ze(Ee.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(i=>i.length>0))}return new Hn(t)}static emptyPath(){return new Hn([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ca extends Fs{construct(e,t,a){return new ca(e,t,a)}static isValidIdentifier(e){return UR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ca.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S_}static keyField(){return new ca([S_])}static fromServerFormat(e){const t=[];let a="",i=0;const l=()=>{if(a.length===0)throw new ze(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let d=!1;for(;i<e.length;){const f=e[i];if(f==="\\"){if(i+1===e.length)throw new ze(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ze(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,i+=2}else f==="`"?(d=!d,i++):f!=="."||d?(a+=f,i++):(l(),i++)}if(l(),d)throw new ze(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ca(t)}static emptyPath(){return new ca([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Hn.fromString(e))}static fromName(e){return new ut(Hn.fromString(e).popFirst(5))}static empty(){return new ut(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Hn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Hn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(n,e,t){if(!t)throw new ze(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zR(n,e,t,a){if(e===!0&&a===!0)throw new ze(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function C_(n){if(!ut.isDocumentKey(n))throw new ze(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function A_(n){if(ut.isDocumentKey(n))throw new ze(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _2(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function om(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xt(12329,{type:typeof n})}function ua(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ze(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=om(n);throw new ze(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(n,e){const t={typeString:n};return e&&(t.value=e),t}function Nd(n,e){if(!_2(n))throw new ze(Ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const i=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in n)){t=`JSON missing required field: '${a}'`;break}const d=n[a];if(i&&typeof d!==i){t=`JSON field '${a}' must be a ${i}.`;break}if(l!==void 0&&d!==l.value){t=`Expected '${a}' field to equal '${l.value}'`;break}}if(t)throw new ze(Ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=-62135596800,j_=1e6;class An{static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*j_);return new An(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ze(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ze(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<R_)throw new ze(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j_}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:An._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nd(e,An._jsonSchema))return new An(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}An._jsonSchemaVersion="firestore/timestamp/1.0",An._jsonSchema={type:Mr("string",An._jsonSchemaVersion),seconds:Mr("number"),nanoseconds:Mr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new An(0,0))}static max(){return new St(new An(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=-1;function BR(n,e){const t=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,i=St.fromTimestamp(a===1e9?new An(t+1,0):new An(t,a));return new Ao(i,ut.empty(),e)}function FR(n){return new Ao(n.readTime,n.key,dd)}class Ao{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Ao(St.min(),ut.empty(),dd)}static max(){return new Ao(St.max(),ut.empty(),dd)}}function HR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ut.comparator(n.documentKey,e.documentKey),t!==0?t:qt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==qR)throw n;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ne((a,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ne?t:Ne.resolve(t)}catch(t){return Ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.reject(t)}static resolve(e){return new Ne((t,a)=>{t(e)})}static reject(e){return new Ne((t,a)=>{a(e)})}static waitFor(e){return new Ne((t,a)=>{let i=0,l=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++l,d&&l===i&&t()},p=>a(p))}),d=!0,l===i&&t()})}static or(e){let t=Ne.resolve(!1);for(const a of e)t=t.next(i=>i?Ne.resolve(i):a());return t}static forEach(e,t){const a=[];return e.forEach((i,l)=>{a.push(t.call(this,i,l))}),this.waitFor(a)}static mapArray(e,t){return new Ne((a,i)=>{const l=e.length,d=new Array(l);let f=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(b=>{d[g]=b,++f,f===l&&a(d)},b=>i(b))}})}static doWhile(e,t){return new Ne((a,i)=>{const l=()=>{e()===!0?t().next(()=>{l()},i):a()};l()})}}function YR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $c(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this._e(a),this.ae=a=>t.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}lm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=-1;function cm(n){return n==null}function Of(n){return n===0&&1/n==-1/0}function WR(n){return typeof n=="number"&&Number.isInteger(n)&&!Of(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="";function GR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=D_(e)),e=QR(n.get(t),e);return D_(e)}function QR(n,e){let t=e;const a=n.length;for(let i=0;i<a;i++){const l=n.charAt(i);switch(l){case"\0":t+="";break;case w2:t+="";break;default:t+=l}}return t}function D_(n){return n+w2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ko(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function E2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t){this.comparator=e,this.root=t||la.EMPTY}insert(e,t){return new ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,la.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,la.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const i=this.comparator(e,a.key);if(i===0)return t+a.left.size;i<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zh(this.root,e,this.comparator,!0)}}class Zh{constructor(e,t,a,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class la{constructor(e,t,a,i,l){this.key=e,this.value=t,this.color=a??la.RED,this.left=i??la.EMPTY,this.right=l??la.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,i,l){return new la(e??this.key,t??this.value,a??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let i=this;const l=a(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,a),null):l===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,a)),i.fixUp()}removeMin(){if(this.left.isEmpty())return la.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return la.EMPTY;a=i.right.min(),i=i.copy(a.key,a.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,la.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,la.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xt(27949);return e+(this.isRed()?0:1)}}la.EMPTY=null,la.RED=!0,la.BLACK=!1;la.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(e,t,a,i,l){return this}insert(e,t,a){return new la(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const i=a.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new I_(this.data.getIterator())}getIteratorFrom(e){return new I_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof Hr)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=a.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hr(this.comparator);return t.data=e,t}}class I_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.fields=e,e.sort(ca.comparator)}static empty(){return new Za([])}unionWith(e){let t=new Hr(ca.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Za(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mc(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new T2("Invalid base64 string: "+l):l}}(e);return new da(t)}static fromUint8Array(e){const t=function(i){let l="";for(let d=0;d<i.length;++d)l+=String.fromCharCode(i[d]);return l}(e);return new da(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let i=0;i<t.length;i++)a[i]=t.charCodeAt(i);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}da.EMPTY_BYTE_STRING=new da("");const KR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(n){if(wn(!!n,39018),typeof n=="string"){let e=0;const t=KR.exec(n);if(wn(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:vr(n.seconds),nanos:vr(n.nanos)}}function vr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function jo(n){return typeof n=="string"?da.fromBase64String(n):da.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="server_timestamp",S2="__type__",C2="__previous_value__",A2="__local_write_time__";function $0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[S2])===null||t===void 0?void 0:t.stringValue)===N2}function um(n){const e=n.mapValue.fields[C2];return $0(e)?um(e):e}function hd(n){const e=Ro(n.mapValue.fields[A2].timestampValue);return new An(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t,a,i,l,d,f,p,g,b){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b}}const Pf="(default)";class fd{constructor(e,t){this.projectId=e,this.database=t||Pf}static empty(){return new fd("","")}get isDefaultDatabase(){return this.database===Pf}isEqual(e){return e instanceof fd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="__type__",ZR="__max__",Jh={mapValue:{}},j2="__vector__",kf="value";function Do(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$0(n)?4:ej(n)?9007199254740991:JR(n)?10:11:xt(28295,{value:n})}function ei(n,e){if(n===e)return!0;const t=Do(n);if(t!==Do(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hd(n).isEqual(hd(e));case 3:return function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const d=Ro(i.timestampValue),f=Ro(l.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,l){return jo(i.bytesValue).isEqual(jo(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,l){return vr(i.geoPointValue.latitude)===vr(l.geoPointValue.latitude)&&vr(i.geoPointValue.longitude)===vr(l.geoPointValue.longitude)}(n,e);case 2:return function(i,l){if("integerValue"in i&&"integerValue"in l)return vr(i.integerValue)===vr(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const d=vr(i.doubleValue),f=vr(l.doubleValue);return d===f?Of(d)===Of(f):isNaN(d)&&isNaN(f)}return!1}(n,e);case 9:return Mc(n.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(i,l){const d=i.mapValue.fields||{},f=l.mapValue.fields||{};if(M_(d)!==M_(f))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(f[p]===void 0||!ei(d[p],f[p])))return!1;return!0}(n,e);default:return xt(52216,{left:n})}}function md(n,e){return(n.values||[]).find(t=>ei(t,e))!==void 0}function Ic(n,e){if(n===e)return 0;const t=Do(n),a=Do(e);if(t!==a)return qt(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,e.booleanValue);case 2:return function(l,d){const f=vr(l.integerValue||l.doubleValue),p=vr(d.integerValue||d.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return O_(n.timestampValue,e.timestampValue);case 4:return O_(hd(n),hd(e));case 5:return s0(n.stringValue,e.stringValue);case 6:return function(l,d){const f=jo(l),p=jo(d);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,d){const f=l.split("/"),p=d.split("/");for(let g=0;g<f.length&&g<p.length;g++){const b=qt(f[g],p[g]);if(b!==0)return b}return qt(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,d){const f=qt(vr(l.latitude),vr(d.latitude));return f!==0?f:qt(vr(l.longitude),vr(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return P_(n.arrayValue,e.arrayValue);case 10:return function(l,d){var f,p,g,b;const _=l.fields||{},E=d.fields||{},D=(f=_[kf])===null||f===void 0?void 0:f.arrayValue,P=(p=E[kf])===null||p===void 0?void 0:p.arrayValue,U=qt(((g=D?.values)===null||g===void 0?void 0:g.length)||0,((b=P?.values)===null||b===void 0?void 0:b.length)||0);return U!==0?U:P_(D,P)}(n.mapValue,e.mapValue);case 11:return function(l,d){if(l===Jh.mapValue&&d===Jh.mapValue)return 0;if(l===Jh.mapValue)return 1;if(d===Jh.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),g=d.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let _=0;_<p.length&&_<b.length;++_){const E=s0(p[_],b[_]);if(E!==0)return E;const D=Ic(f[p[_]],g[b[_]]);if(D!==0)return D}return qt(p.length,b.length)}(n.mapValue,e.mapValue);default:throw xt(23264,{le:t})}}function O_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qt(n,e);const t=Ro(n),a=Ro(e),i=qt(t.seconds,a.seconds);return i!==0?i:qt(t.nanos,a.nanos)}function P_(n,e){const t=n.values||[],a=e.values||[];for(let i=0;i<t.length&&i<a.length;++i){const l=Ic(t[i],a[i]);if(l)return l}return qt(t.length,a.length)}function Oc(n){return i0(n)}function i0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const a=Ro(t);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return jo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ut.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let a="[",i=!0;for(const l of t.values||[])i?i=!1:a+=",",a+=i0(l);return a+"]"}(n.arrayValue):"mapValue"in n?function(t){const a=Object.keys(t.fields||{}).sort();let i="{",l=!0;for(const d of a)l?l=!1:i+=",",i+=`${d}:${i0(t.fields[d])}`;return i+"}"}(n.mapValue):xt(61005,{value:n})}function gf(n){switch(Do(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=um(n);return e?16+gf(e):16;case 5:return 2*n.stringValue.length;case 6:return jo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((i,l)=>i+gf(l),0)}(n.arrayValue);case 10:case 11:return function(a){let i=0;return ko(a.fields,(l,d)=>{i+=l.length+gf(d)}),i}(n.mapValue);default:throw xt(13486,{value:n})}}function k_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function o0(n){return!!n&&"integerValue"in n}function Y0(n){return!!n&&"arrayValue"in n}function V_(n){return!!n&&"nullValue"in n}function L_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yf(n){return!!n&&"mapValue"in n}function JR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[R2])===null||t===void 0?void 0:t.stringValue)===j2}function nd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ko(n.mapValue.fields,(t,a)=>e.mapValue.fields[t]=nd(a)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ej(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ZR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.value=e}static empty(){return new Ua({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!yf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nd(t)}setAll(e){let t=ca.emptyPath(),a={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,a,i),a={},i=[],t=f.popLast()}d?a[f.lastSegment()]=nd(d):i.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,a,i)}delete(e){const t=this.field(e.popLast());yf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let i=t.mapValue.fields[e.get(a)];yf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,a){ko(t,(i,l)=>e[i]=l);for(const i of a)delete e[i]}clone(){return new Ua(nd(this.value))}}function D2(n){const e=[];return ko(n.fields,(t,a)=>{const i=new ca([t]);if(yf(a)){const l=D2(a.mapValue).fields;if(l.length===0)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new Za(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t,a,i,l,d,f){this.key=e,this.documentType=t,this.version=a,this.readTime=i,this.createTime=l,this.data=d,this.documentState=f}static newInvalidDocument(e){return new Ea(e,0,St.min(),St.min(),St.min(),Ua.empty(),0)}static newFoundDocument(e,t,a,i){return new Ea(e,1,t,St.min(),a,i,0)}static newNoDocument(e,t){return new Ea(e,2,t,St.min(),St.min(),Ua.empty(),0)}static newUnknownDocument(e,t){return new Ea(e,3,t,St.min(),St.min(),Ua.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ua.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ua.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ea&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ea(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t){this.position=e,this.inclusive=t}}function U_(n,e,t){let a=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(l.field.isKeyField()?a=ut.comparator(ut.fromName(d.referenceValue),t.key):a=Ic(d,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function z_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ei(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t="asc"){this.field=e,this.dir=t}}function tj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{}class Dr extends M2{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new rj(e,t,a):t==="array-contains"?new ij(e,a):t==="in"?new oj(e,a):t==="not-in"?new lj(e,a):t==="array-contains-any"?new cj(e,a):new Dr(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new aj(e,a):new sj(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ic(t,this.value)):t!==null&&Do(this.value)===Do(t)&&this.matchesComparison(Ic(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ts extends M2{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Ts(e,t)}matches(e){return I2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function I2(n){return n.op==="and"}function O2(n){return nj(n)&&I2(n)}function nj(n){for(const e of n.filters)if(e instanceof Ts)return!1;return!0}function l0(n){if(n instanceof Dr)return n.field.canonicalString()+n.op.toString()+Oc(n.value);if(O2(n))return n.filters.map(e=>l0(e)).join(",");{const e=n.filters.map(t=>l0(t)).join(",");return`${n.op}(${e})`}}function P2(n,e){return n instanceof Dr?function(a,i){return i instanceof Dr&&a.op===i.op&&a.field.isEqual(i.field)&&ei(a.value,i.value)}(n,e):n instanceof Ts?function(a,i){return i instanceof Ts&&a.op===i.op&&a.filters.length===i.filters.length?a.filters.reduce((l,d,f)=>l&&P2(d,i.filters[f]),!0):!1}(n,e):void xt(19439)}function k2(n){return n instanceof Dr?function(t){return`${t.field.canonicalString()} ${t.op} ${Oc(t.value)}`}(n):n instanceof Ts?function(t){return t.op.toString()+" {"+t.getFilters().map(k2).join(" ,")+"}"}(n):"Filter"}class rj extends Dr{constructor(e,t,a){super(e,t,a),this.key=ut.fromName(a.referenceValue)}matches(e){const t=ut.comparator(e.key,this.key);return this.matchesComparison(t)}}class aj extends Dr{constructor(e,t){super(e,"in",t),this.keys=V2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sj extends Dr{constructor(e,t){super(e,"not-in",t),this.keys=V2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function V2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>ut.fromName(a.referenceValue))}class ij extends Dr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Y0(t)&&md(t.arrayValue,this.value)}}class oj extends Dr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&md(this.value.arrayValue,t)}}class lj extends Dr{constructor(e,t){super(e,"not-in",t)}matches(e){if(md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!md(this.value.arrayValue,t)}}class cj extends Dr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Y0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>md(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,t=null,a=[],i=[],l=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=i,this.limit=l,this.startAt=d,this.endAt=f,this.Pe=null}}function B_(n,e=null,t=[],a=[],i=null,l=null,d=null){return new uj(n,e,t,a,i,l,d)}function W0(n){const e=Ct(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>l0(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(l){return l.field.canonicalString()+l.dir}(a)).join(","),cm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Oc(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Oc(a)).join(",")),e.Pe=t}return e.Pe}function G0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!P2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!z_(n.startAt,e.startAt)&&z_(n.endAt,e.endAt)}function c0(n){return ut.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t=null,a=[],i=[],l=null,d="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=i,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function dj(n,e,t,a,i,l,d,f){return new Sd(n,e,t,a,i,l,d,f)}function dm(n){return new Sd(n)}function F_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function L2(n){return n.collectionGroup!==null}function rd(n){const e=Ct(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new Hr(ca.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Lf(l,a))}),t.has(ca.keyField().canonicalString())||e.Te.push(new Lf(ca.keyField(),a))}return e.Te}function Gs(n){const e=Ct(n);return e.Ie||(e.Ie=hj(e,rd(n))),e.Ie}function hj(n,e){if(n.limitType==="F")return B_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const l=i.dir==="desc"?"asc":"desc";return new Lf(i.field,l)});const t=n.endAt?new Vf(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new Vf(n.startAt.position,n.startAt.inclusive):null;return B_(n.path,n.collectionGroup,e,n.filters,n.limit,t,a)}}function u0(n,e){const t=n.filters.concat([e]);return new Sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function d0(n,e,t){return new Sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hm(n,e){return G0(Gs(n),Gs(e))&&n.limitType===e.limitType}function U2(n){return`${W0(Gs(n))}|lt:${n.limitType}`}function yc(n){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(i=>k2(i)).join(", ")}]`),cm(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(i=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(i)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(i=>Oc(i)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(i=>Oc(i)).join(",")),`Target(${a})`}(Gs(n))}; limitType=${n.limitType})`}function fm(n,e){return e.isFoundDocument()&&function(a,i){const l=i.key.path;return a.collectionGroup!==null?i.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):ut.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)}(n,e)&&function(a,i){for(const l of rd(a))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0}(n,e)&&function(a,i){for(const l of a.filters)if(!l.matches(i))return!1;return!0}(n,e)&&function(a,i){return!(a.startAt&&!function(d,f,p){const g=U_(d,f,p);return d.inclusive?g<=0:g<0}(a.startAt,rd(a),i)||a.endAt&&!function(d,f,p){const g=U_(d,f,p);return d.inclusive?g>=0:g>0}(a.endAt,rd(a),i))}(n,e)}function fj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function z2(n){return(e,t)=>{let a=!1;for(const i of rd(n)){const l=mj(i,e,t);if(l!==0)return l;a=a||i.field.isKeyField()}return 0}}function mj(n,e,t){const a=n.field.isKeyField()?ut.comparator(e.key,t.key):function(l,d,f){const p=d.data.field(l),g=f.data.field(l);return p!==null&&g!==null?Ic(p,g):xt(42886)}(n.field,e,t);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return xt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[i,l]of a)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),i=this.inner[a];if(i===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return a.length===1?delete this.inner[t]:a.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,(t,a)=>{for(const[i,l]of a)e(i,l)})}isEmpty(){return E2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=new ar(ut.comparator);function ji(){return pj}const B2=new ar(ut.comparator);function Ku(...n){let e=B2;for(const t of n)e=e.insert(t.key,t);return e}function F2(n){let e=B2;return n.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function ml(){return ad()}function H2(){return ad()}function ad(){return new Tl(n=>n.toString(),(n,e)=>n.isEqual(e))}const gj=new ar(ut.comparator),yj=new Hr(ut.comparator);function nn(...n){let e=yj;for(const t of n)e=e.add(t);return e}const vj=new Hr(qt);function xj(){return vj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(e)?"-0":e}}function q2(n){return{integerValue:""+n}}function bj(n,e){return WR(e)?q2(e):Q0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this._=void 0}}function _j(n,e,t){return n instanceof Uf?function(i,l){const d={fields:{[S2]:{stringValue:N2},[A2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&$0(l)&&(l=um(l)),l&&(d.fields[C2]=l),{mapValue:d}}(t,e):n instanceof pd?Y2(n,e):n instanceof gd?W2(n,e):function(i,l){const d=$2(i,l),f=H_(d)+H_(i.Ee);return o0(d)&&o0(i.Ee)?q2(f):Q0(i.serializer,f)}(n,e)}function wj(n,e,t){return n instanceof pd?Y2(n,e):n instanceof gd?W2(n,e):t}function $2(n,e){return n instanceof zf?function(a){return o0(a)||function(l){return!!l&&"doubleValue"in l}(a)}(e)?e:{integerValue:0}:null}class Uf extends mm{}class pd extends mm{constructor(e){super(),this.elements=e}}function Y2(n,e){const t=G2(e);for(const a of n.elements)t.some(i=>ei(i,a))||t.push(a);return{arrayValue:{values:t}}}class gd extends mm{constructor(e){super(),this.elements=e}}function W2(n,e){let t=G2(e);for(const a of n.elements)t=t.filter(i=>!ei(i,a));return{arrayValue:{values:t}}}class zf extends mm{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function H_(n){return vr(n.integerValue||n.doubleValue)}function G2(n){return Y0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Ej(n,e){return n.field.isEqual(e.field)&&function(a,i){return a instanceof pd&&i instanceof pd||a instanceof gd&&i instanceof gd?Mc(a.elements,i.elements,ei):a instanceof zf&&i instanceof zf?ei(a.Ee,i.Ee):a instanceof Uf&&i instanceof Uf}(n.transform,e.transform)}class Tj{constructor(e,t){this.version=e,this.transformResults=t}}class Ra{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ra}static exists(e){return new Ra(void 0,e)}static updateTime(e){return new Ra(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class pm{}function Q2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new gm(n.key,Ra.none()):new Cd(n.key,n.data,Ra.none());{const t=n.data,a=Ua.empty();let i=new Hr(ca.comparator);for(let l of e.fields)if(!i.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?a.delete(l):a.set(l,d),i=i.add(l)}return new Vo(n.key,a,new Za(i.toArray()),Ra.none())}}function Nj(n,e,t){n instanceof Cd?function(i,l,d){const f=i.value.clone(),p=$_(i.fieldTransforms,l,d.transformResults);f.setAll(p),l.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Vo?function(i,l,d){if(!vf(i.precondition,l))return void l.convertToUnknownDocument(d.version);const f=$_(i.fieldTransforms,l,d.transformResults),p=l.data;p.setAll(K2(i)),p.setAll(f),l.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,e,t):function(i,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function sd(n,e,t,a){return n instanceof Cd?function(l,d,f,p){if(!vf(l.precondition,d))return f;const g=l.value.clone(),b=Y_(l.fieldTransforms,p,d);return g.setAll(b),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(n,e,t,a):n instanceof Vo?function(l,d,f,p){if(!vf(l.precondition,d))return f;const g=Y_(l.fieldTransforms,p,d),b=d.data;return b.setAll(K2(l)),b.setAll(g),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,a):function(l,d,f){return vf(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f}(n,e,t)}function Sj(n,e){let t=null;for(const a of n.fieldTransforms){const i=e.data.field(a.field),l=$2(a.transform,i||null);l!=null&&(t===null&&(t=Ua.empty()),t.set(a.field,l))}return t||null}function q_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(a,i){return a===void 0&&i===void 0||!(!a||!i)&&Mc(a,i,(l,d)=>Ej(l,d))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Cd extends pm{constructor(e,t,a,i=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vo extends pm{constructor(e,t,a,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function K2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=n.data.field(t);e.set(t,a)}}),e}function $_(n,e,t){const a=new Map;wn(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,f=e.data.field(l.field);a.set(l.field,wj(d,f,t[i]))}return a}function Y_(n,e,t){const a=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);a.set(i.field,_j(l,d,e))}return a}class gm extends pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cj extends pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,t,a,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=i}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&Nj(l,e,a[i])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=sd(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=sd(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=H2();return this.mutations.forEach(i=>{const l=e.get(i.key),d=l.overlayedDocument;let f=this.applyToLocalView(d,l.mutatedFields);f=t.has(i.key)?null:f;const p=Q2(d,f);p!==null&&a.set(i.key,p),d.isValidDocument()||d.convertToNoDocument(St.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nn())}isEqual(e){return this.batchId===e.batchId&&Mc(this.mutations,e.mutations,(t,a)=>q_(t,a))&&Mc(this.baseMutations,e.baseMutations,(t,a)=>q_(t,a))}}class K0{constructor(e,t,a,i){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=i}static from(e,t,a){wn(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let i=function(){return gj}();const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,a[d].version);return new K0(e,t,a,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jr,cn;function Dj(n){switch(n){case Ee.OK:return xt(64938);case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0;default:return xt(15467,{code:n})}}function X2(n){if(n===void 0)return Ri("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case jr.OK:return Ee.OK;case jr.CANCELLED:return Ee.CANCELLED;case jr.UNKNOWN:return Ee.UNKNOWN;case jr.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case jr.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case jr.INTERNAL:return Ee.INTERNAL;case jr.UNAVAILABLE:return Ee.UNAVAILABLE;case jr.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case jr.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case jr.NOT_FOUND:return Ee.NOT_FOUND;case jr.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case jr.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case jr.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case jr.ABORTED:return Ee.ABORTED;case jr.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case jr.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case jr.DATA_LOSS:return Ee.DATA_LOSS;default:return xt(39323,{code:n})}}(cn=jr||(jr={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=new Eo([4294967295,4294967295],0);function W_(n){const e=x2().encode(n),t=new d2;return t.update(e),new Uint8Array(t.digest())}function G_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Eo([t,a],0),new Eo([i,l],0)]}class X0{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new Xu(`Invalid padding: ${t}`);if(a<0)throw new Xu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Eo.fromNumber(this.fe)}pe(e,t,a){let i=e.add(t.multiply(Eo.fromNumber(a)));return i.compare(Mj)===1&&(i=new Eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=W_(e),[a,i]=G_(t);for(let l=0;l<this.hashCount;l++){const d=this.pe(a,i,l);if(!this.ye(d))return!1}return!0}static create(e,t,a){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new X0(l,i,t);return a.forEach(f=>d.insert(f)),d}insert(e){if(this.fe===0)return;const t=W_(e),[a,i]=G_(t);for(let l=0;l<this.hashCount;l++){const d=this.pe(a,i,l);this.we(d)}}we(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t,a,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const i=new Map;return i.set(e,Ad.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new ym(St.min(),i,new ar(qt),ji(),nn())}}class Ad{constructor(e,t,a,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Ad(a,t,nn(),nn(),nn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t,a,i){this.Se=e,this.removedTargetIds=t,this.key=a,this.be=i}}class Z2{constructor(e,t){this.targetId=e,this.De=t}}class J2{constructor(e,t,a=da.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=i}}class Q_{constructor(){this.ve=0,this.Ce=K_(),this.Fe=da.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=nn(),t=nn(),a=nn();return this.Ce.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:a=a.add(i);break;default:xt(38017,{changeType:l})}}),new Ad(this.Fe,this.Me,e,t,a)}ke(){this.xe=!1,this.Ce=K_()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,wn(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Ij{constructor(e){this.We=e,this.Ge=new Map,this.ze=ji(),this.je=ef(),this.Je=ef(),this.He=new ar(qt)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const a=this.tt(t);switch(e.state){case 0:this.nt(t)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),a.Be(e.resumeToken));break;default:xt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((a,i)=>{this.nt(i)&&t(i)})}it(e){const t=e.targetId,a=e.De.count,i=this.st(t);if(i){const l=i.target;if(c0(l))if(a===0){const d=new ut(l.path);this.Xe(t,d,Ea.newNoDocument(d,St.min()))}else wn(a===1,20013,{expectedCount:a});else{const d=this.ot(t);if(d!==a){const f=this._t(e),p=f?this.ut(f,e,d):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:i=0},hashCount:l=0}=t;let d,f;try{d=jo(a).toUint8Array()}catch(p){if(p instanceof T2)return Co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new X0(d,i,l)}catch(p){return Co(p instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.fe===0?null:f}ut(e,t,a){return t.De.count===a-this.ht(e,t.targetId)?0:2}ht(e,t){const a=this.We.getRemoteKeysForTarget(t);let i=0;return a.forEach(l=>{const d=this.We.lt(),f=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.Xe(t,l,null),i++)}),i}Pt(e){const t=new Map;this.Ge.forEach((l,d)=>{const f=this.st(d);if(f){if(l.current&&c0(f.target)){const p=new ut(f.target.path);this.Tt(p).has(d)||this.It(d,p)||this.Xe(d,p,Ea.newNoDocument(p,e))}l.Ne&&(t.set(d,l.Le()),l.ke())}});let a=nn();this.Je.forEach((l,d)=>{let f=!0;d.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(a=a.add(l))}),this.ze.forEach((l,d)=>d.setReadTime(e));const i=new ym(e,t,this.He,this.ze,a);return this.ze=ji(),this.je=ef(),this.Je=ef(),this.He=new ar(qt),i}Ze(e,t){if(!this.nt(e))return;const a=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,a),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,a){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),a&&(this.ze=this.ze.insert(t,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Q_,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Hr(qt),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Hr(qt),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||He("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Q_),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function ef(){return new ar(ut.comparator)}function K_(){return new ar(ut.comparator)}const Oj={asc:"ASCENDING",desc:"DESCENDING"},Pj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kj={and:"AND",or:"OR"};class Vj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function h0(n,e){return n.useProto3Json||cm(e)?e:{value:e}}function Bf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Lj(n,e){return Bf(n,e.toTimestamp())}function Qs(n){return wn(!!n,49232),St.fromTimestamp(function(t){const a=Ro(t);return new An(a.seconds,a.nanos)}(n))}function Z0(n,e){return f0(n,e).canonicalString()}function f0(n,e){const t=function(i){return new Hn(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function tE(n){const e=Hn.fromString(n);return wn(iE(e),10190,{key:e.toString()}),e}function m0(n,e){return Z0(n.databaseId,e.path)}function Dg(n,e){const t=tE(e);if(t.get(1)!==n.databaseId.projectId)throw new ze(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ze(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ut(rE(t))}function nE(n,e){return Z0(n.databaseId,e)}function Uj(n){const e=tE(n);return e.length===4?Hn.emptyPath():rE(e)}function p0(n){return new Hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rE(n){return wn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function X_(n,e,t){return{name:m0(n,e),fields:t.value.mapValue.fields}}function zj(n,e){let t;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xt(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=function(g,b){return g.useProto3Json?(wn(b===void 0||typeof b=="string",58123),da.fromBase64String(b||"")):(wn(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),da.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(g){const b=g.code===void 0?Ee.UNKNOWN:X2(g.code);return new ze(b,g.message||"")}(d);t=new J2(a,i,l,f||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const i=Dg(n,a.document.name),l=Qs(a.document.updateTime),d=a.document.createTime?Qs(a.document.createTime):St.min(),f=new Ua({mapValue:{fields:a.document.fields}}),p=Ea.newFoundDocument(i,l,d,f),g=a.targetIds||[],b=a.removedTargetIds||[];t=new xf(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const i=Dg(n,a.document),l=a.readTime?Qs(a.readTime):St.min(),d=Ea.newNoDocument(i,l),f=a.removedTargetIds||[];t=new xf([],f,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const i=Dg(n,a.document),l=a.removedTargetIds||[];t=new xf([],l,i,null)}else{if(!("filter"in e))return xt(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:i=0,unchangedNames:l}=a,d=new jj(i,l),f=a.targetId;t=new Z2(f,d)}}return t}function Bj(n,e){let t;if(e instanceof Cd)t={update:X_(n,e.key,e.value)};else if(e instanceof gm)t={delete:m0(n,e.key)};else if(e instanceof Vo)t={update:X_(n,e.key,e.data),updateMask:Kj(e.fieldMask)};else{if(!(e instanceof Cj))return xt(16599,{Rt:e.type});t={verify:m0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(l,d){const f=d.transform;if(f instanceof Uf)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof pd)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof gd)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof zf)return{fieldPath:d.field.canonicalString(),increment:f.Ee};throw xt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(t.currentDocument=function(i,l){return l.updateTime!==void 0?{updateTime:Lj(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xt(27497)}(n,e.precondition)),t}function Fj(n,e){return n&&n.length>0?(wn(e!==void 0,14353),n.map(t=>function(i,l){let d=i.updateTime?Qs(i.updateTime):Qs(l);return d.isEqual(St.min())&&(d=Qs(l)),new Tj(d,i.transformResults||[])}(t,e))):[]}function Hj(n,e){return{documents:[nE(n,e.path)]}}function qj(n,e){const t={structuredQuery:{}},a=e.path;let i;e.collectionGroup!==null?(i=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=nE(n,i);const l=function(g){if(g.length!==0)return sE(Ts.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(g){if(g.length!==0)return g.map(b=>function(E){return{field:vc(E.field),direction:Wj(E.dir)}}(b))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const f=h0(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:i}}function $j(n){let e=Uj(n.parent);const t=n.structuredQuery,a=t.from?t.from.length:0;let i=null;if(a>0){wn(a===1,65062);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=function(_){const E=aE(_);return E instanceof Ts&&O2(E)?E.getFilters():[E]}(t.where));let d=[];t.orderBy&&(d=function(_){return _.map(E=>function(P){return new Lf(xc(P.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(_){let E;return E=typeof _=="object"?_.value:_,cm(E)?null:E}(t.limit));let p=null;t.startAt&&(p=function(_){const E=!!_.before,D=_.values||[];return new Vf(D,E)}(t.startAt));let g=null;return t.endAt&&(g=function(_){const E=!_.before,D=_.values||[];return new Vf(D,E)}(t.endAt)),dj(e,i,d,l,f,"F",p,g)}function Yj(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function aE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=xc(t.unaryFilter.field);return Dr.create(a,"==",{doubleValue:NaN});case"IS_NULL":const i=xc(t.unaryFilter.field);return Dr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=xc(t.unaryFilter.field);return Dr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=xc(t.unaryFilter.field);return Dr.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}}(n):n.fieldFilter!==void 0?function(t){return Dr.create(xc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ts.create(t.compositeFilter.filters.map(a=>aE(a)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xt(1026)}}(t.compositeFilter.op))}(n):xt(30097,{filter:n})}function Wj(n){return Oj[n]}function Gj(n){return Pj[n]}function Qj(n){return kj[n]}function vc(n){return{fieldPath:n.canonicalString()}}function xc(n){return ca.fromServerFormat(n.fieldPath)}function sE(n){return n instanceof Dr?function(t){if(t.op==="=="){if(L_(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NAN"}};if(V_(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(L_(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NOT_NAN"}};if(V_(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(t.field),op:Gj(t.op),value:t.value}}}(n):n instanceof Ts?function(t){const a=t.getFilters().map(i=>sE(i));return a.length===1?a[0]:{compositeFilter:{op:Qj(t.op),filters:a}}}(n):xt(54877,{filter:n})}function Kj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,t,a,i,l=St.min(),d=St.min(),f=da.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.gt=e}}function Zj(n){const e=$j({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?d0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.Dn=new eD}addToCollectionParentIndex(e,t){return this.Dn.add(t),Ne.resolve()}getCollectionParents(e,t){return Ne.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Ne.resolve()}deleteFieldIndex(e,t){return Ne.resolve()}deleteAllFieldIndexes(e){return Ne.resolve()}createTargetIndexes(e,t){return Ne.resolve()}getDocumentsMatchingTarget(e,t){return Ne.resolve(null)}getIndexType(e,t){return Ne.resolve(0)}getFieldIndexes(e,t){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,t){return Ne.resolve(Ao.min())}getMinOffsetFromCollectionGroup(e,t){return Ne.resolve(Ao.min())}updateCollectionGroup(e,t,a){return Ne.resolve()}updateIndexEntries(e,t){return Ne.resolve()}}class eD{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),i=this.index[t]||new Hr(Hn.comparator),l=!i.has(a);return this.index[t]=i.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),i=this.index[t];return i&&i.has(a)}getEntries(e){return(this.index[e]||new Hr(Hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oE=41943040;class La{static withCacheSize(e){return new La(e,La.DEFAULT_COLLECTION_PERCENTILE,La.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */La.DEFAULT_COLLECTION_PERCENTILE=10,La.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,La.DEFAULT=new La(oE,La.DEFAULT_COLLECTION_PERCENTILE,La.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),La.DISABLED=new La(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Pc(0)}static ur(){return new Pc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="LruGarbageCollector",tD=1048576;function e1([n,e],[t,a]){const i=qt(n,t);return i===0?qt(e,a):i}class nD{constructor(e){this.Tr=e,this.buffer=new Hr(e1),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();e1(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rD{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){He(J_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){$c(t)?He(J_,"Ignoring IndexedDB error during garbage collection: ",t):await qc(t)}await this.Rr(3e5)})}}class aD{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return Ne.resolve(lm.ue);const a=new nD(t);return this.Vr.forEachTarget(e,i=>a.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>a.Er(i))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.Vr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(He("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(Z_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z_):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let a,i,l,d,f,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,d=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(a=_,f=Date.now(),this.removeTargets(e,a,t))).next(_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(_=>(g=Date.now(),gc()<=tn.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${i} in `+(f-d)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:_})))}}function sD(n,e){return new aD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.changes=new Tl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ea.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?Ne.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t,a,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=i}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(a=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(a!==null&&sd(a.mutation,i,Za.empty(),An.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,nn()).next(()=>a))}getLocalViewOfDocuments(e,t,a=nn()){const i=ml();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,a).next(l=>{let d=Ku();return l.forEach((f,p)=>{d=d.insert(f,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const a=ml();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,nn()))}populateOverlays(e,t,a){const i=[];return a.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,a,i){let l=ji();const d=ad(),f=function(){return ad()}();return t.forEach((p,g)=>{const b=a.get(g.key);i.has(g.key)&&(b===void 0||b.mutation instanceof Vo)?l=l.insert(g.key,g):b!==void 0?(d.set(g.key,b.mutation.getFieldMask()),sd(b.mutation,g,b.mutation.getFieldMask(),An.now())):d.set(g.key,Za.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,b)=>d.set(g,b)),t.forEach((g,b)=>{var _;return f.set(g,new oD(b,(_=d.get(g))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,t){const a=ad();let i=new ar((d,f)=>d-f),l=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let b=a.get(p)||Za.empty();b=f.applyToLocalView(g,b),a.set(p,b);const _=(i.get(f.batchId)||nn()).add(p);i=i.insert(f.batchId,_)})}).next(()=>{const d=[],f=i.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,b=p.value,_=H2();b.forEach(E=>{if(!l.has(E)){const D=Q2(t.get(E),a.get(E));D!==null&&_.set(E,D),l=l.add(E)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,_))}return Ne.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,i){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):L2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,i):this.getDocumentsMatchingCollectionQuery(e,t,a,i)}getNextDocuments(e,t,a,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,i).next(l=>{const d=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,i-l.size):Ne.resolve(ml());let f=dd,p=l;return d.next(g=>Ne.forEach(g,(b,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(b)?Ne.resolve():this.remoteDocumentCache.getEntry(e,b).next(E=>{p=p.insert(b,E)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,nn())).next(b=>({batchId:f,changes:F2(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ut(t)).next(a=>{let i=Ku();return a.isFoundDocument()&&(i=i.insert(a.key,a)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,a,i){const l=t.collectionGroup;let d=Ku();return this.indexManager.getCollectionParents(e,l).next(f=>Ne.forEach(f,p=>{const g=function(_,E){return new Sd(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,i).next(b=>{b.forEach((_,E)=>{d=d.insert(_,E)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,a,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,i))).next(d=>{l.forEach((p,g)=>{const b=g.getKey();d.get(b)===null&&(d=d.insert(b,Ea.newInvalidDocument(b)))});let f=Ku();return d.forEach((p,g)=>{const b=l.get(p);b!==void 0&&sd(b.mutation,g,Za.empty(),An.now()),fm(t,g)&&(f=f.insert(p,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Ne.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Qs(i.createTime)}}(t)),Ne.resolve()}getNamedQuery(e,t){return Ne.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:Zj(i.bundledQuery),readTime:Qs(i.readTime)}}(t)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.overlays=new ar(ut.comparator),this.kr=new Map}getOverlay(e,t){return Ne.resolve(this.overlays.get(t))}getOverlays(e,t){const a=ml();return Ne.forEach(t,i=>this.getOverlay(e,i).next(l=>{l!==null&&a.set(i,l)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((i,l)=>{this.wt(e,t,l)}),Ne.resolve()}removeOverlaysForBatchId(e,t,a){const i=this.kr.get(a);return i!==void 0&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(a)),Ne.resolve()}getOverlaysForCollection(e,t,a){const i=ml(),l=t.length+1,d=new ut(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>a&&i.set(p.getKey(),p)}return Ne.resolve(i)}getOverlaysForCollectionGroup(e,t,a,i){let l=new ar((g,b)=>g-b);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let b=l.get(g.largestBatchId);b===null&&(b=ml(),l=l.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const f=ml(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,b)=>f.set(g,b)),!(f.size()>=i)););return Ne.resolve(f)}wt(e,t,a){const i=this.overlays.get(a.key);if(i!==null){const d=this.kr.get(i.largestBatchId).delete(a.key);this.kr.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Rj(t,a));let l=this.kr.get(t);l===void 0&&(l=nn(),this.kr.set(t,l)),this.kr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.sessionToken=da.EMPTY_BYTE_STRING}getSessionToken(e){return Ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.qr=new Hr(Jr.Qr),this.$r=new Hr(Jr.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const a=new Jr(e,t);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.Wr(new Jr(e,t))}Gr(e,t){e.forEach(a=>this.removeReference(a,t))}zr(e){const t=new ut(new Hn([])),a=new Jr(t,e),i=new Jr(t,e+1),l=[];return this.$r.forEachInRange([a,i],d=>{this.Wr(d),l.push(d.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ut(new Hn([])),a=new Jr(t,e),i=new Jr(t,e+1);let l=nn();return this.$r.forEachInRange([a,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Jr(e,0),a=this.qr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class Jr{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ut.comparator(e.key,t.key)||qt(e.Hr,t.Hr)}static Ur(e,t){return qt(e.Hr,t.Hr)||ut.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Hr(Jr.Qr)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,i){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Aj(l,t,a,i);this.mutationQueue.push(d);for(const f of i)this.Yr=this.Yr.add(new Jr(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Ne.resolve(d)}lookupMutationBatch(e,t){return Ne.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,i=this.Xr(a),l=i<0?0:i;return Ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?q0:this.er-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Jr(t,0),i=new Jr(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([a,i],d=>{const f=this.Zr(d.Hr);l.push(f)}),Ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Hr(qt);return t.forEach(i=>{const l=new Jr(i,0),d=new Jr(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,d],f=>{a=a.add(f.Hr)})}),Ne.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,i=a.length+1;let l=a;ut.isDocumentKey(l)||(l=l.child(""));const d=new Jr(new ut(l),0);let f=new Hr(qt);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===i&&(f=f.add(p.Hr)),!0)},d),Ne.resolve(this.ei(f))}ei(e){const t=[];return e.forEach(a=>{const i=this.Zr(a);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){wn(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return Ne.forEach(t.mutations,i=>{const l=new Jr(i.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,t){const a=new Jr(t,0),i=this.Yr.firstAfterOrEqual(a);return Ne.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.ni=e,this.docs=function(){return new ar(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,i=this.docs.get(a),l=i?i.size:0,d=this.ni(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return Ne.resolve(a?a.document.mutableCopy():Ea.newInvalidDocument(t))}getEntries(e,t){let a=ji();return t.forEach(i=>{const l=this.docs.get(i);a=a.insert(i,l?l.document.mutableCopy():Ea.newInvalidDocument(i))}),Ne.resolve(a)}getDocumentsMatchingQuery(e,t,a,i){let l=ji();const d=t.path,f=new ut(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||HR(FR(b),a)<=0||(i.has(b.key)||fm(t,b))&&(l=l.insert(b.key,b.mutableCopy()))}return Ne.resolve(l)}getAllFromCollectionGroup(e,t,a,i){xt(9500)}ri(e,t){return Ne.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new mD(this)}getSize(e){return Ne.resolve(this.size)}}class mD extends iD{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((a,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(a)}),Ne.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.persistence=e,this.ii=new Tl(t=>W0(t),G0),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new J0,this.targetCount=0,this._i=Pc.ar()}forEachTarget(e,t){return this.ii.forEach((a,i)=>t(i)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.si&&(this.si=t),Ne.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Pc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Ne.resolve()}updateTargetData(e,t){return this.hr(t),Ne.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,t,a){let i=0;const l=[];return this.ii.forEach((d,f)=>{f.sequenceNumber<=t&&a.get(f.targetId)===null&&(this.ii.delete(d),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),Ne.waitFor(l).next(()=>i)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,t){const a=this.ii.get(t)||null;return Ne.resolve(a)}addMatchingKeys(e,t,a){return this.oi.Kr(t,a),Ne.resolve()}removeMatchingKeys(e,t,a){this.oi.Gr(t,a);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),Ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Ne.resolve()}getMatchingKeysForTargetId(e,t){const a=this.oi.Jr(t);return Ne.resolve(a)}containsKey(e,t){return Ne.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,t){this.ai={},this.overlays={},this.ui=new lm(0),this.ci=!1,this.ci=!0,this.li=new dD,this.referenceDelegate=e(this),this.hi=new pD(this),this.indexManager=new Jj,this.remoteDocumentCache=function(i){return new fD(i)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new Xj(t),this.Ti=new cD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ai[e.toKey()];return a||(a=new hD(t,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,a){He("MemoryPersistence","Starting transaction:",e);const i=new gD(this.ui.next());return this.referenceDelegate.Ii(),a(i).next(l=>this.referenceDelegate.di(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ei(e,t){return Ne.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,t)))}}class gD extends $R{constructor(e){super(),this.currentSequenceNumber=e}}class ey{constructor(e){this.persistence=e,this.Ai=new J0,this.Ri=null}static Vi(e){return new ey(e)}get mi(){if(this.Ri)return this.Ri;throw xt(60996)}addReference(e,t,a){return this.Ai.addReference(a,t),this.mi.delete(a.toString()),Ne.resolve()}removeReference(e,t,a){return this.Ai.removeReference(a,t),this.mi.add(a.toString()),Ne.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Ne.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.mi.add(l.toString()))}).next(()=>a.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.mi,a=>{const i=ut.fromPath(a);return this.fi(e,i).next(l=>{l||t.removeEntry(i,St.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(a=>{a?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Ne.or([()=>Ne.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Ff{constructor(e,t){this.persistence=e,this.gi=new Tl(a=>GR(a.path),(a,i)=>a.isEqual(i)),this.garbageCollector=sD(this,t)}static Vi(e,t){return new Ff(e,t)}Ii(){}di(e){return Ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(i=>a+i))}yr(e){let t=0;return this.gr(e,a=>{t++}).next(()=>t)}gr(e,t){return Ne.forEach(this.gi,(a,i)=>this.Sr(e,a,i).next(l=>l?Ne.resolve():t(i)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const i=this.persistence.getRemoteDocumentCache(),l=i.newChangeBuffer();return i.ri(e,d=>this.Sr(e,d,t).next(f=>{f||(a++,l.removeEntry(d,St.min()))})).next(()=>l.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Ne.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.gi.set(a,e.currentSequenceNumber),Ne.resolve()}removeReference(e,t,a){return this.gi.set(a,e.currentSequenceNumber),Ne.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Ne.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gf(e.data.value)),t}Sr(e,t,a){return Ne.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.gi.get(t);return Ne.resolve(i!==void 0&&i>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,t,a,i){this.targetId=e,this.fromCache=t,this.Is=a,this.ds=i}static Es(e,t){let a=nn(),i=nn();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new ty(e,t.fromCache,a,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return f4()?8:YR(Ta())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,a,i){const l={result:null};return this.ps(e,t).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.ys(e,t,i,a).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new yD;return this.ws(e,t,d).next(f=>{if(l.result=f,this.Rs)return this.Ss(e,t,d,f.size)})}).next(()=>l.result)}Ss(e,t,a,i){return a.documentReadCount<this.Vs?(gc()<=tn.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",yc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ne.resolve()):(gc()<=tn.DEBUG&&He("QueryEngine","Query:",yc(t),"scans",a.documentReadCount,"local documents and returns",i,"documents as results."),a.documentReadCount>this.fs*i?(gc()<=tn.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",yc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gs(t))):Ne.resolve())}ps(e,t){if(F_(t))return Ne.resolve(null);let a=Gs(t);return this.indexManager.getIndexType(e,a).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=d0(t,null,"F"),a=Gs(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(l=>{const d=nn(...l);return this.gs.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.bs(t,f);return this.Ds(t,g,d,p.readTime)?this.ps(e,d0(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,a,i){return F_(t)||i.isEqual(St.min())?Ne.resolve(null):this.gs.getDocuments(e,a).next(l=>{const d=this.bs(t,l);return this.Ds(t,d,a,i)?Ne.resolve(null):(gc()<=tn.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yc(t)),this.vs(e,d,t,BR(i,dd)).next(f=>f))})}bs(e,t){let a=new Hr(z2(e));return t.forEach((i,l)=>{fm(e,l)&&(a=a.add(l))}),a}Ds(e,t,a,i){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ws(e,t,a){return gc()<=tn.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",yc(t)),this.gs.getDocumentsMatchingQuery(e,t,Ao.min(),a)}vs(e,t,a,i){return this.gs.getDocumentsMatchingQuery(e,a,i).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="LocalStore",xD=3e8;class bD{constructor(e,t,a,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new ar(qt),this.Ms=new Tl(l=>W0(l),G0),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function _D(n,e,t,a){return new bD(n,e,t,a)}async function cE(n,e){const t=Ct(n);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let i;return t.mutationQueue.getAllMutationBatches(a).next(l=>(i=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(a))).next(l=>{const d=[],f=[];let p=nn();for(const g of i){d.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of l){f.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return t.localDocuments.getDocuments(a,p).next(g=>({Bs:g,removedBatchIds:d,addedBatchIds:f}))})})}function wD(n,e){const t=Ct(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const i=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(f,p,g,b){const _=g.batch,E=_.keys();let D=Ne.resolve();return E.forEach(P=>{D=D.next(()=>b.getEntry(p,P)).next(U=>{const $=g.docVersions.get(P);wn($!==null,48541),U.version.compareTo($)<0&&(_.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),b.addEntry(U)))})}),D.next(()=>f.mutationQueue.removeMutationBatch(p,_))}(t,a,e,l).next(()=>l.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(f){let p=nn();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(a,i))})}function uE(n){const e=Ct(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function ED(n,e){const t=Ct(n),a=e.snapshotVersion;let i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;const f=[];e.targetChanges.forEach((b,_)=>{const E=i.get(_);if(!E)return;f.push(t.hi.removeMatchingKeys(l,b.removedDocuments,_).next(()=>t.hi.addMatchingKeys(l,b.addedDocuments,_)));let D=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?D=D.withResumeToken(da.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):b.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(b.resumeToken,a)),i=i.insert(_,D),function(U,$,Q){return U.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=xD?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(E,D,b)&&f.push(t.hi.updateTargetData(l,D))});let p=ji(),g=nn();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,b))}),f.push(TD(l,d,e.documentUpdates).next(b=>{p=b.Ls,g=b.ks})),!a.isEqual(St.min())){const b=t.hi.getLastRemoteSnapshotVersion(l).next(_=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,a));f.push(b)}return Ne.waitFor(f).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Fs=i,l))}function TD(n,e,t){let a=nn(),i=nn();return t.forEach(l=>a=a.add(l)),e.getEntries(n,a).next(l=>{let d=ji();return t.forEach((f,p)=>{const g=l.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(f)),p.isNoDocument()&&p.version.isEqual(St.min())?(e.removeEntry(f,p.readTime),d=d.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),d=d.insert(f,p)):He(ny,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),{Ls:d,ks:i}})}function ND(n,e){const t=Ct(n);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=q0),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function SD(n,e){const t=Ct(n);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let i;return t.hi.getTargetData(a,e).next(l=>l?(i=l,Ne.resolve(i)):t.hi.allocateTargetId(a).next(d=>(i=new xo(e,d,"TargetPurposeListen",a.currentSequenceNumber),t.hi.addTargetData(a,i).next(()=>i))))}).then(a=>{const i=t.Fs.get(a.targetId);return(i===null||a.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(a.targetId,a),t.Ms.set(e,a.targetId)),a})}async function g0(n,e,t){const a=Ct(n),i=a.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,d=>a.persistence.referenceDelegate.removeTarget(d,i))}catch(d){if(!$c(d))throw d;He(ny,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(i.target)}function t1(n,e,t){const a=Ct(n);let i=St.min(),l=nn();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,g,b){const _=Ct(p),E=_.Ms.get(b);return E!==void 0?Ne.resolve(_.Fs.get(E)):_.hi.getTargetData(g,b)}(a,d,Gs(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(d,f.targetId).next(p=>{l=p})}).next(()=>a.Cs.getDocumentsMatchingQuery(d,e,t?i:St.min(),t?l:nn())).next(f=>(CD(a,fj(e),f),{documents:f,qs:l})))}function CD(n,e,t){let a=n.xs.get(e)||St.min();t.forEach((i,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)}),n.xs.set(e,a)}class n1{constructor(){this.activeTargetIds=xj()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AD{constructor(){this.Fo=new n1,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,a){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new n1,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="ConnectivityMonitor";class a1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){He(r1,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){He(r1,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf=null;function y0(){return tf===null?tf=function(){return 268435456+Math.round(2147483648*Math.random())}():tf++,"0x"+tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="RestConnection",jD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${a}/databases/${i}`,this.Ko=this.databaseId.database===Pf?`project_id=${a}`:`project_id=${a}&database_id=${i}`}Wo(e,t,a,i,l){const d=y0(),f=this.Go(e,t.toUriEncodedString());He(Mg,`Sending RPC '${e}' ${d}:`,f,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,i,l);const{host:g}=new URL(f),b=Bc(g);return this.jo(e,f,p,a,b).then(_=>(He(Mg,`Received RPC '${e}' ${d}: `,_),_),_=>{throw Co(Mg,`RPC '${e}' ${d} failed with error: `,_,"url: ",f,"request:",a),_})}Jo(e,t,a,i,l,d){return this.Wo(e,t,a,i,l)}zo(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),a&&a.headers.forEach((i,l)=>e[l]=i)}Go(e,t){const a=jD[e];return`${this.$o}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="WebChannelConnection";class ID extends DD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,a,i,l){const d=y0();return new Promise((f,p)=>{const g=new h2;g.setWithCredentials(!0),g.listenOnce(f2.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case pf.NO_ERROR:const _=g.getResponseJson();He(xa,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(_)),f(_);break;case pf.TIMEOUT:He(xa,`RPC '${e}' ${d} timed out`),p(new ze(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case pf.HTTP_ERROR:const E=g.getStatus();if(He(xa,`RPC '${e}' ${d} failed with status:`,E,"response text:",g.getResponseText()),E>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const P=D?.error;if(P&&P.status&&P.message){const U=function(Q){const pe=Q.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(pe)>=0?pe:Ee.UNKNOWN}(P.status);p(new ze(U,P.message))}else p(new ze(Ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ze(Ee.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{c_:e,streamId:d,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{He(xa,`RPC '${e}' ${d} completed.`)}});const b=JSON.stringify(i);He(xa,`RPC '${e}' ${d} sending request:`,i),g.send(t,"POST",b,a,15)})}P_(e,t,a){const i=y0(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=g2(),f=p2(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,a),p.encodeInitMessageHeaders=!0;const b=l.join("");He(xa,`Creating RPC '${e}' stream ${i}: ${b}`,p);const _=d.createWebChannel(b,p);this.T_(_);let E=!1,D=!1;const P=new MD({Ho:$=>{D?He(xa,`Not sending because RPC '${e}' stream ${i} is closed:`,$):(E||(He(xa,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),He(xa,`RPC '${e}' stream ${i} sending:`,$),_.send($))},Yo:()=>_.close()}),U=($,Q,pe)=>{$.listen(Q,se=>{try{pe(se)}catch(ge){setTimeout(()=>{throw ge},0)}})};return U(_,Qu.EventType.OPEN,()=>{D||(He(xa,`RPC '${e}' stream ${i} transport opened.`),P.s_())}),U(_,Qu.EventType.CLOSE,()=>{D||(D=!0,He(xa,`RPC '${e}' stream ${i} transport closed`),P.__(),this.I_(_))}),U(_,Qu.EventType.ERROR,$=>{D||(D=!0,Co(xa,`RPC '${e}' stream ${i} transport errored. Name:`,$.name,"Message:",$.message),P.__(new ze(Ee.UNAVAILABLE,"The operation could not be completed")))}),U(_,Qu.EventType.MESSAGE,$=>{var Q;if(!D){const pe=$.data[0];wn(!!pe,16349);const se=pe,ge=se?.error||((Q=se[0])===null||Q===void 0?void 0:Q.error);if(ge){He(xa,`RPC '${e}' stream ${i} received error:`,ge);const de=ge.status;let H=function(I){const j=jr[I];if(j!==void 0)return X2(j)}(de),k=ge.message;H===void 0&&(H=Ee.INTERNAL,k="Unknown error status: "+de+" with message "+ge.message),D=!0,P.__(new ze(H,k)),_.close()}else He(xa,`RPC '${e}' stream ${i} received:`,pe),P.a_(pe)}}),U(f,m2.STAT_EVENT,$=>{$.stat===a0.PROXY?He(xa,`RPC '${e}' stream ${i} detected buffering proxy`):$.stat===a0.NOPROXY&&He(xa,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.o_()},0),P}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(n){return new Vj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,t,a=1e3,i=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=a,this.E_=i,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-a);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="PersistentStream";class hE{constructor(e,t,a,i,l,d,f,p){this.Fi=e,this.w_=a,this.S_=i,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new dE(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,i])=>{this.b_===t&&this.W_(a,i)},a=>{e(()=>{const i=new ze(Ee.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(i)})})}W_(e,t){const a=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{a(()=>this.G_(i))}),this.stream.onMessage(i=>{a(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return He(s1,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(He(s1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OD extends hE{constructor(e,t,a,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,i,d),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=zj(this.serializer,e),a=function(l){if(!("targetChange"in l))return St.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Qs(d.readTime):St.min()}(e);return this.listener.J_(t,a)}H_(e){const t={};t.database=p0(this.serializer),t.addTarget=function(l,d){let f;const p=d.target;if(f=c0(p)?{documents:Hj(l,p)}:{query:qj(l,p).Vt},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=eE(l,d.resumeToken);const g=h0(l,d.expectedCount);g!==null&&(f.expectedCount=g)}else if(d.snapshotVersion.compareTo(St.min())>0){f.readTime=Bf(l,d.snapshotVersion.toTimestamp());const g=h0(l,d.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const a=Yj(this.serializer,e);a&&(t.labels=a),this.k_(t)}Y_(e){const t={};t.database=p0(this.serializer),t.removeTarget=e,this.k_(t)}}class PD extends hE{constructor(e,t,a,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,i,d),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return wn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){wn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=Fj(e.writeResults,e.commitTime),a=Qs(e.commitTime);return this.listener.ta(a,t)}na(){const e={};e.database=p0(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>Bj(this.serializer,a))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{}class VD extends kD{constructor(e,t,a,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new ze(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,a,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Wo(e,f0(t,a),i,l,d)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ze(Ee.UNKNOWN,l.toString())})}Jo(e,t,a,i,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.Jo(e,f0(t,a),i,d,f,l)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ze(Ee.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class LD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ri(t),this._a=!1):He("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="RemoteStore";class UD{constructor(e,t,a,i,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(d=>{a.enqueueAndForget(async()=>{Nl(this)&&(He(bl,"Restarting streams for network reachability change."),await async function(p){const g=Ct(p);g.Ia.add(4),await Rd(g),g.Aa.set("Unknown"),g.Ia.delete(4),await xm(g)}(this))})}),this.Aa=new LD(a,i)}}async function xm(n){if(Nl(n))for(const e of n.da)await e(!0)}async function Rd(n){for(const e of n.da)await e(!1)}function fE(n,e){const t=Ct(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),iy(t)?sy(t):Yc(t).x_()&&ay(t,e))}function ry(n,e){const t=Ct(n),a=Yc(t);t.Ta.delete(e),a.x_()&&mE(t,e),t.Ta.size===0&&(a.x_()?a.B_():Nl(t)&&t.Aa.set("Unknown"))}function ay(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yc(n).H_(e)}function mE(n,e){n.Ra.$e(e),Yc(n).Y_(e)}function sy(n){n.Ra=new Ij({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Yc(n).start(),n.Aa.aa()}function iy(n){return Nl(n)&&!Yc(n).M_()&&n.Ta.size>0}function Nl(n){return Ct(n).Ia.size===0}function pE(n){n.Ra=void 0}async function zD(n){n.Aa.set("Online")}async function BD(n){n.Ta.forEach((e,t)=>{ay(n,e)})}async function FD(n,e){pE(n),iy(n)?(n.Aa.la(e),sy(n)):n.Aa.set("Unknown")}async function HD(n,e,t){if(n.Aa.set("Online"),e instanceof J2&&e.state===2&&e.cause)try{await async function(i,l){const d=l.cause;for(const f of l.targetIds)i.Ta.has(f)&&(await i.remoteSyncer.rejectListen(f,d),i.Ta.delete(f),i.Ra.removeTarget(f))}(n,e)}catch(a){He(bl,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Hf(n,a)}else if(e instanceof xf?n.Ra.Ye(e):e instanceof Z2?n.Ra.it(e):n.Ra.et(e),!t.isEqual(St.min()))try{const a=await uE(n.localStore);t.compareTo(a)>=0&&await function(l,d){const f=l.Ra.Pt(d);return f.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=l.Ta.get(g);b&&l.Ta.set(g,b.withResumeToken(p.resumeToken,d))}}),f.targetMismatches.forEach((p,g)=>{const b=l.Ta.get(p);if(!b)return;l.Ta.set(p,b.withResumeToken(da.EMPTY_BYTE_STRING,b.snapshotVersion)),mE(l,p);const _=new xo(b.target,p,g,b.sequenceNumber);ay(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(a){He(bl,"Failed to raise snapshot:",a),await Hf(n,a)}}async function Hf(n,e,t){if(!$c(e))throw e;n.Ia.add(1),await Rd(n),n.Aa.set("Offline"),t||(t=()=>uE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{He(bl,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await xm(n)})}function gE(n,e){return e().catch(t=>Hf(n,t,e))}async function bm(n){const e=Ct(n),t=Mo(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:q0;for(;qD(e);)try{const i=await ND(e.localStore,a);if(i===null){e.Pa.length===0&&t.B_();break}a=i.batchId,$D(e,i)}catch(i){await Hf(e,i)}yE(e)&&vE(e)}function qD(n){return Nl(n)&&n.Pa.length<10}function $D(n,e){n.Pa.push(e);const t=Mo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function yE(n){return Nl(n)&&!Mo(n).M_()&&n.Pa.length>0}function vE(n){Mo(n).start()}async function YD(n){Mo(n).na()}async function WD(n){const e=Mo(n);for(const t of n.Pa)e.X_(t.mutations)}async function GD(n,e,t){const a=n.Pa.shift(),i=K0.from(a,e,t);await gE(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await bm(n)}async function QD(n,e){e&&Mo(n).Z_&&await async function(a,i){if(function(d){return Dj(d)&&d!==Ee.ABORTED}(i.code)){const l=a.Pa.shift();Mo(a).N_(),await gE(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,i)),await bm(a)}}(n,e),yE(n)&&vE(n)}async function i1(n,e){const t=Ct(n);t.asyncQueue.verifyOperationInProgress(),He(bl,"RemoteStore received new credentials");const a=Nl(t);t.Ia.add(3),await Rd(t),a&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await xm(t)}async function KD(n,e){const t=Ct(n);e?(t.Ia.delete(2),await xm(t)):e||(t.Ia.add(2),await Rd(t),t.Aa.set("Unknown"))}function Yc(n){return n.Va||(n.Va=function(t,a,i){const l=Ct(t);return l.ia(),new OD(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(n.datastore,n.asyncQueue,{Zo:zD.bind(null,n),e_:BD.bind(null,n),n_:FD.bind(null,n),J_:HD.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),iy(n)?sy(n):n.Aa.set("Unknown")):(await n.Va.stop(),pE(n))})),n.Va}function Mo(n){return n.ma||(n.ma=function(t,a,i){const l=Ct(t);return l.ia(),new PD(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:YD.bind(null,n),n_:QD.bind(null,n),ea:WD.bind(null,n),ta:GD.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await bm(n)):(await n.ma.stop(),n.Pa.length>0&&(He(bl,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t,a,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=i,this.removalCallback=l,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,i,l){const d=Date.now()+a,f=new oy(e,t,d,i,l);return f.start(a),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),$c(n))return new ze(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{static emptySet(e){return new Nc(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||ut.comparator(t.key,a.key):(t,a)=>ut.comparator(t.key,a.key),this.keyedMap=Ku(),this.sortedSet=new ar(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=a.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new Nc;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.fa=new ar(ut.comparator)}track(e){const t=e.doc.key,a=this.fa.get(t);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(t,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(t):e.type===1&&a.type===2?this.fa=this.fa.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):xt(63341,{At:e,ga:a}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,a)=>{e.push(a)}),e}}class kc{constructor(e,t,a,i,l,d,f,p,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,i,l){const d=[];return t.forEach(f=>{d.push({type:0,doc:f})}),new kc(e,t,Nc.emptySet(t),d,a,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==a[i].type||!t[i].doc.isEqual(a[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class ZD{constructor(){this.queries=l1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,a){const i=Ct(t),l=i.queries;i.queries=l1(),l.forEach((d,f)=>{for(const p of f.wa)p.onError(a)})})(this,new ze(Ee.ABORTED,"Firestore shutting down"))}}function l1(){return new Tl(n=>U2(n),hm)}async function cy(n,e){const t=Ct(n);let a=3;const i=e.query;let l=t.queries.get(i);l?!l.Sa()&&e.ba()&&(a=2):(l=new XD,a=e.ba()?0:1);try{switch(a){case 0:l.ya=await t.onListen(i,!0);break;case 1:l.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(d){const f=ly(d,`Initialization of query '${yc(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&dy(t)}async function uy(n,e){const t=Ct(n),a=e.query;let i=3;const l=t.queries.get(a);if(l){const d=l.wa.indexOf(e);d>=0&&(l.wa.splice(d,1),l.wa.length===0?i=e.ba()?0:1:!l.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function JD(n,e){const t=Ct(n);let a=!1;for(const i of e){const l=i.query,d=t.queries.get(l);if(d){for(const f of d.wa)f.Ca(i)&&(a=!0);d.ya=i}}a&&dy(t)}function eM(n,e,t){const a=Ct(n),i=a.queries.get(e);if(i)for(const l of i.wa)l.onError(t);a.queries.delete(e)}function dy(n){n.Da.forEach(e=>{e.next()})}var v0,c1;(c1=v0||(v0={})).Fa="default",c1.Cache="cache";class hy{constructor(e,t,a){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const i of e.docChanges)i.type!==3&&a.push(i);e=new kc(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const a=t!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==v0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.key=e}}class bE{constructor(e){this.key=e}}class tM{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=nn(),this.mutatedKeys=nn(),this.Xa=z2(e),this.eu=new Nc(this.Xa)}get tu(){return this.Ha}nu(e,t){const a=t?t.ru:new o1,i=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,_)=>{const E=i.get(b),D=fm(this.query,_)?_:null,P=!!E&&this.mutatedKeys.has(E.key),U=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let $=!1;E&&D?E.data.isEqual(D.data)?P!==U&&(a.track({type:3,doc:D}),$=!0):this.iu(E,D)||(a.track({type:2,doc:D}),$=!0,(p&&this.Xa(D,p)>0||g&&this.Xa(D,g)<0)&&(f=!0)):!E&&D?(a.track({type:0,doc:D}),$=!0):E&&!D&&(a.track({type:1,doc:E}),$=!0,(p||g)&&(f=!0)),$&&(D?(d=d.add(D),l=U?l.add(b):l.delete(b)):(d=d.delete(b),l=l.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),l=l.delete(b.key),a.track({type:1,doc:b})}return{eu:d,ru:a,Ds:f,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,i){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((b,_)=>function(D,P){const U=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{At:$})}};return U(D)-U(P)}(b.type,_.type)||this.Xa(b.doc,_.doc)),this.su(a),i=i!=null&&i;const f=t&&!i?this.ou():[],p=this.Za.size===0&&this.current&&!i?1:0,g=p!==this.Ya;return this.Ya=p,d.length!==0||g?{snapshot:new kc(this.query,e.eu,l,d,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new o1,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=nn(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const t=[];return e.forEach(a=>{this.Za.has(a)||t.push(new bE(a))}),this.Za.forEach(a=>{e.has(a)||t.push(new xE(a))}),t}uu(e){this.Ha=e.qs,this.Za=nn();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return kc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const fy="SyncEngine";class nM{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class rM{constructor(e){this.key=e,this.lu=!1}}class aM{constructor(e,t,a,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Tl(f=>U2(f),hm),this.Tu=new Map,this.Iu=new Set,this.du=new ar(ut.comparator),this.Eu=new Map,this.Au=new J0,this.Ru={},this.Vu=new Map,this.mu=Pc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function sM(n,e,t=!0){const a=SE(n);let i;const l=a.Pu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.cu()):i=await _E(a,e,t,!0),i}async function iM(n,e){const t=SE(n);await _E(t,e,!0,!1)}async function _E(n,e,t,a){const i=await SD(n.localStore,Gs(e)),l=i.targetId,d=n.sharedClientState.addLocalQueryTarget(l,t);let f;return a&&(f=await oM(n,e,l,d==="current",i.resumeToken)),n.isPrimaryClient&&t&&fE(n.remoteStore,i),f}async function oM(n,e,t,a,i){n.gu=(_,E,D)=>async function(U,$,Q,pe){let se=$.view.nu(Q);se.Ds&&(se=await t1(U.localStore,$.query,!1).then(({documents:k})=>$.view.nu(k,se)));const ge=pe&&pe.targetChanges.get($.targetId),de=pe&&pe.targetMismatches.get($.targetId)!=null,H=$.view.applyChanges(se,U.isPrimaryClient,ge,de);return d1(U,$.targetId,H._u),H.snapshot}(n,_,E,D);const l=await t1(n.localStore,e,!0),d=new tM(e,l.qs),f=d.nu(l.documents),p=Ad.createSynthesizedTargetChangeForCurrentChange(t,a&&n.onlineState!=="Offline",i),g=d.applyChanges(f,n.isPrimaryClient,p);d1(n,t,g._u);const b=new nM(e,t,d);return n.Pu.set(e,b),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),g.snapshot}async function lM(n,e,t){const a=Ct(n),i=a.Pu.get(e),l=a.Tu.get(i.targetId);if(l.length>1)return a.Tu.set(i.targetId,l.filter(d=>!hm(d,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(i.targetId),a.sharedClientState.isActiveQueryTarget(i.targetId)||await g0(a.localStore,i.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(i.targetId),t&&ry(a.remoteStore,i.targetId),x0(a,i.targetId)}).catch(qc)):(x0(a,i.targetId),await g0(a.localStore,i.targetId,!0))}async function cM(n,e){const t=Ct(n),a=t.Pu.get(e),i=t.Tu.get(a.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),ry(t.remoteStore,a.targetId))}async function uM(n,e,t){const a=yM(n);try{const i=await function(d,f){const p=Ct(d),g=An.now(),b=f.reduce((D,P)=>D.add(P.key),nn());let _,E;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let P=ji(),U=nn();return p.Os.getEntries(D,b).next($=>{P=$,P.forEach((Q,pe)=>{pe.isValidDocument()||(U=U.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,P)).next($=>{_=$;const Q=[];for(const pe of f){const se=Sj(pe,_.get(pe.key).overlayedDocument);se!=null&&Q.push(new Vo(pe.key,se,D2(se.value.mapValue),Ra.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,Q,f)}).next($=>{E=$;const Q=$.applyToLocalDocumentSet(_,U);return p.documentOverlayCache.saveOverlays(D,$.batchId,Q)})}).then(()=>({batchId:E.batchId,changes:F2(_)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(i.batchId),function(d,f,p){let g=d.Ru[d.currentUser.toKey()];g||(g=new ar(qt)),g=g.insert(f,p),d.Ru[d.currentUser.toKey()]=g}(a,i.batchId,t),await jd(a,i.changes),await bm(a.remoteStore)}catch(i){const l=ly(i,"Failed to persist write");t.reject(l)}}async function wE(n,e){const t=Ct(n);try{const a=await ED(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.Eu.get(l);d&&(wn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?d.lu=!0:i.modifiedDocuments.size>0?wn(d.lu,14607):i.removedDocuments.size>0&&(wn(d.lu,42227),d.lu=!1))}),await jd(t,a,e)}catch(a){await qc(a)}}function u1(n,e,t){const a=Ct(n);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const i=[];a.Pu.forEach((l,d)=>{const f=d.view.va(e);f.snapshot&&i.push(f.snapshot)}),function(d,f){const p=Ct(d);p.onlineState=f;let g=!1;p.queries.forEach((b,_)=>{for(const E of _.wa)E.va(f)&&(g=!0)}),g&&dy(p)}(a.eventManager,e),i.length&&a.hu.J_(i),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function dM(n,e,t){const a=Ct(n);a.sharedClientState.updateQueryState(e,"rejected",t);const i=a.Eu.get(e),l=i&&i.key;if(l){let d=new ar(ut.comparator);d=d.insert(l,Ea.newNoDocument(l,St.min()));const f=nn().add(l),p=new ym(St.min(),new Map,new ar(qt),d,f);await wE(a,p),a.du=a.du.remove(l),a.Eu.delete(e),my(a)}else await g0(a.localStore,e,!1).then(()=>x0(a,e,t)).catch(qc)}async function hM(n,e){const t=Ct(n),a=e.batch.batchId;try{const i=await wD(t.localStore,e);TE(t,a,null),EE(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await jd(t,i)}catch(i){await qc(i)}}async function fM(n,e,t){const a=Ct(n);try{const i=await function(d,f){const p=Ct(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return p.mutationQueue.lookupMutationBatch(g,f).next(_=>(wn(_!==null,37113),b=_.keys(),p.mutationQueue.removeMutationBatch(g,_))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>p.localDocuments.getDocuments(g,b))})}(a.localStore,e);TE(a,e,t),EE(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await jd(a,i)}catch(i){await qc(i)}}function EE(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function TE(n,e,t){const a=Ct(n);let i=a.Ru[a.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),a.Ru[a.currentUser.toKey()]=i}}function x0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const a of n.Tu.get(e))n.Pu.delete(a),t&&n.hu.pu(a,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(a=>{n.Au.containsKey(a)||NE(n,a)})}function NE(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(ry(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),my(n))}function d1(n,e,t){for(const a of t)a instanceof xE?(n.Au.addReference(a.key,e),mM(n,a)):a instanceof bE?(He(fy,"Document no longer in limbo: "+a.key),n.Au.removeReference(a.key,e),n.Au.containsKey(a.key)||NE(n,a.key)):xt(19791,{yu:a})}function mM(n,e){const t=e.key,a=t.path.canonicalString();n.du.get(t)||n.Iu.has(a)||(He(fy,"New document in limbo: "+t),n.Iu.add(a),my(n))}function my(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new ut(Hn.fromString(e)),a=n.mu.next();n.Eu.set(a,new rM(t)),n.du=n.du.insert(t,a),fE(n.remoteStore,new xo(Gs(dm(t.path)),a,"TargetPurposeLimboResolution",lm.ue))}}async function jd(n,e,t){const a=Ct(n),i=[],l=[],d=[];a.Pu.isEmpty()||(a.Pu.forEach((f,p)=>{d.push(a.gu(p,e,t).then(g=>{var b;if((g||t)&&a.isPrimaryClient){const _=g?!g.fromCache:(b=t?.targetChanges.get(p.targetId))===null||b===void 0?void 0:b.current;a.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){i.push(g);const _=ty.Es(p.targetId,g);l.push(_)}}))}),await Promise.all(d),a.hu.J_(i),await async function(p,g){const b=Ct(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Ne.forEach(g,E=>Ne.forEach(E.Is,D=>b.persistence.referenceDelegate.addReference(_,E.targetId,D)).next(()=>Ne.forEach(E.ds,D=>b.persistence.referenceDelegate.removeReference(_,E.targetId,D)))))}catch(_){if(!$c(_))throw _;He(ny,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const D=b.Fs.get(E),P=D.snapshotVersion,U=D.withLastLimboFreeSnapshotVersion(P);b.Fs=b.Fs.insert(E,U)}}}(a.localStore,l))}async function pM(n,e){const t=Ct(n);if(!t.currentUser.isEqual(e)){He(fy,"User change. New user:",e.toKey());const a=await cE(t.localStore,e);t.currentUser=e,function(l,d){l.Vu.forEach(f=>{f.forEach(p=>{p.reject(new ze(Ee.CANCELLED,d))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await jd(t,a.Bs)}}function gM(n,e){const t=Ct(n),a=t.Eu.get(e);if(a&&a.lu)return nn().add(a.key);{let i=nn();const l=t.Tu.get(e);if(!l)return i;for(const d of l){const f=t.Pu.get(d);i=i.unionWith(f.view.tu)}return i}}function SE(n){const e=Ct(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dM.bind(null,e),e.hu.J_=JD.bind(null,e.eventManager),e.hu.pu=eM.bind(null,e.eventManager),e}function yM(n){const e=Ct(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fM.bind(null,e),e}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return _D(this.persistence,new vD,e.initialUser,this.serializer)}Du(e){return new lE(ey.Vi,this.serializer)}bu(e){return new AD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class vM extends qf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){wn(this.persistence.referenceDelegate instanceof Ff,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new rD(a,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?La.withCacheSize(this.cacheSizeBytes):La.DEFAULT;return new lE(a=>Ff.Vi(a,t),this.serializer)}}class b0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>u1(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=pM.bind(null,this.syncEngine),await KD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZD}()}createDatastore(e){const t=vm(e.databaseInfo.databaseId),a=function(l){return new ID(l)}(e.databaseInfo);return function(l,d,f,p){return new VD(l,d,f,p)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,i,l,d,f){return new UD(a,i,l,d,f)}(this.localStore,this.datastore,e.asyncQueue,t=>u1(this.syncEngine,t,0),function(){return a1.C()?new a1:new RD}())}createSyncEngine(e,t){return function(i,l,d,f,p,g,b){const _=new aM(i,l,d,f,p,g);return b&&(_.fu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const l=Ct(i);He(bl,"RemoteStore shutting down."),l.Ia.add(5),await Rd(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}b0.provider={build:()=>new b0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="FirestoreClient";class xM{constructor(e,t,a,i,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=i,this.user=wa.UNAUTHENTICATED,this.clientId=H0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,async d=>{He(Io,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(He(Io,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=ly(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Og(n,e){n.asyncQueue.verifyOperationInProgress(),He(Io,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let a=t.initialUser;n.setCredentialChangeListener(async i=>{a.isEqual(i)||(await cE(e.localStore,i),a=i)}),e.persistence.setDatabaseDeletedListener(()=>{Co("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{He("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Co("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function h1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bM(n);He(Io,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(a=>i1(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,i)=>i1(e.remoteStore,i)),n._onlineComponents=e}async function bM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){He(Io,"Using user provided OfflineComponentProvider");try{await Og(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ee.FAILED_PRECONDITION||i.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Co("Error using user provided cache. Falling back to memory cache: "+t),await Og(n,new qf)}}else He(Io,"Using default OfflineComponentProvider"),await Og(n,new vM(void 0));return n._offlineComponents}async function CE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(He(Io,"Using user provided OnlineComponentProvider"),await h1(n,n._uninitializedComponentsProvider._online)):(He(Io,"Using default OnlineComponentProvider"),await h1(n,new b0))),n._onlineComponents}function _M(n){return CE(n).then(e=>e.syncEngine)}async function $f(n){const e=await CE(n),t=e.eventManager;return t.onListen=sM.bind(null,e.syncEngine),t.onUnlisten=lM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cM.bind(null,e.syncEngine),t}function AE(n,e,t={}){const a=new Ci;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,f,p,g){const b=new py({next:E=>{b.Ou(),d.enqueueAndForget(()=>uy(l,_));const D=E.docs.has(f);!D&&E.fromCache?g.reject(new ze(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&E.fromCache&&p&&p.source==="server"?g.reject(new ze(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new hy(dm(f.path),b,{includeMetadataChanges:!0,ka:!0});return cy(l,_)}(await $f(n),n.asyncQueue,e,t,a)),a.promise}function wM(n,e,t={}){const a=new Ci;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,f,p,g){const b=new py({next:E=>{b.Ou(),d.enqueueAndForget(()=>uy(l,_)),E.fromCache&&p.source==="server"?g.reject(new ze(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new hy(f,b,{includeMetadataChanges:!0,ka:!0});return cy(l,_)}(await $f(n),n.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="firestore.googleapis.com",m1=!0;class p1{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ze(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jE,this.ssl=m1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:m1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tD)throw new ze(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RE((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ze(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ze(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ze(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,i){return a.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _m{constructor(e,t,a,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ze(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new DR;switch(a.type){case"firstParty":return new PR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ze(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=f1.get(t);a&&(He("ComponentProvider","Removing Datastore"),f1.delete(t),a.terminate())}(this),Promise.resolve()}}function EM(n,e,t,a={}){var i;n=ua(n,_m);const l=Bc(e),d=n._getSettings(),f=Object.assign(Object.assign({},d),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&(r2(`https://${p}`),a2("Firestore",!0)),d.host!==jE&&d.host!==p&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},d),{host:p,ssl:l,emulatorOptions:a});if(!yl(g,f)&&(n._setSettings(g),a.mockUserToken)){let b,_;if(typeof a.mockUserToken=="string")b=a.mockUserToken,_=wa.MOCK_USER;else{b=a4(a.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const E=a.mockUserToken.sub||a.mockUserToken.user_id;if(!E)throw new ze(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new wa(E)}n._authCredentials=new MR(new v2(b,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Sl(this.firestore,e,this._query)}}class rr{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}toJSON(){return{type:rr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(Nd(t,rr._jsonSchema))return new rr(e,a||null,new ut(Hn.fromString(t.referencePath)))}}rr._jsonSchemaVersion="firestore/documentReference/1.0",rr._jsonSchema={type:Mr("string",rr._jsonSchemaVersion),referencePath:Mr("string")};class To extends Sl{constructor(e,t,a){super(e,t,dm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new ut(e))}withConverter(e){return new To(this.firestore,e,this._path)}}function ba(n,e,...t){if(n=Ir(n),b2("collection","path",e),n instanceof _m){const a=Hn.fromString(e,...t);return A_(a),new To(n,null,a)}{if(!(n instanceof rr||n instanceof To))throw new ze(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(Hn.fromString(e,...t));return A_(a),new To(n.firestore,null,a)}}function oa(n,e,...t){if(n=Ir(n),arguments.length===1&&(e=H0.newId()),b2("doc","path",e),n instanceof _m){const a=Hn.fromString(e,...t);return C_(a),new rr(n,null,new ut(a))}{if(!(n instanceof rr||n instanceof To))throw new ze(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(Hn.fromString(e,...t));return C_(a),new rr(n.firestore,n instanceof To?n.converter:null,new ut(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="AsyncQueue";class y1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new dE(this,"async_queue_retry"),this.oc=()=>{const a=Ig();a&&He(g1,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const t=Ig();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Ig();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Ci;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!$c(e))throw e;He(g1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,Ri("INTERNAL UNHANDLED ERROR: ",v1(a)),a}).then(a=>(this.nc=!1,a))));return this._c=t,t}enqueueAfterDelay(e,t,a){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=oy.createAndSchedule(this,e,t,a,l=>this.lc(l));return this.ec.push(i),i}ac(){this.tc&&xt(47125,{hc:v1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function v1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(n){return function(t,a){if(typeof t!="object"||t===null)return!1;const i=t;for(const l of a)if(l in i&&typeof i[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Ns extends _m{constructor(e,t,a,i){super(e,t,a,i),this.type="firestore",this._queue=new y1,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y1(e),this._firestoreClient=void 0,await e}}}function TM(n,e){const t=typeof n=="object"?n:l2(),a=typeof n=="string"?n:Pf,i=B0(t,"firestore").getImmediate({identifier:a});if(!i._initialized){const l=n4("firestore");l&&EM(i,...l)}return i}function Wc(n){if(n._terminated)throw new ze(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||NM(n),n._firestoreClient}function NM(n){var e,t,a;const i=n._freezeSettings(),l=function(f,p,g,b){return new XR(f,p,g,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,RE(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=i.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new xM(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f?._online.build();return{_offline:f?._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new us(da.fromBase64String(e))}catch(t){throw new ze(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new us(da.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:us._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nd(e,us._jsonSchema))return us.fromBase64String(e.bytes)}}us._jsonSchemaVersion="firestore/bytes/1.0",us._jsonSchema={type:Mr("string",us._jsonSchemaVersion),bytes:Mr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ze(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ca(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ze(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ze(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ks._jsonSchemaVersion}}static fromJSON(e){if(Nd(e,Ks._jsonSchema))return new Ks(e.latitude,e.longitude)}}Ks._jsonSchemaVersion="firestore/geoPoint/1.0",Ks._jsonSchema={type:Mr("string",Ks._jsonSchemaVersion),latitude:Mr("number"),longitude:Mr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,i){if(a.length!==i.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==i[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nd(e,Xs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Xs(e.vectorValues);throw new ze(Ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xs._jsonSchemaVersion="firestore/vectorValue/1.0",Xs._jsonSchema={type:Mr("string",Xs._jsonSchemaVersion),vectorValues:Mr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=/^__.*__$/;class CM{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Vo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cd(e,this.data,t,this.fieldTransforms)}}class DE{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Vo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ME(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ec:n})}}class yy{constructor(e,t,a,i,l,d){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=i,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new yy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:a,mc:!1});return i.fc(e),i}gc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:a,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Yf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(ME(this.Ec)&&SM.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class AM{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||vm(e)}Dc(e,t,a,i=!1){return new yy({Ec:e,methodName:t,bc:a,path:ca.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(n){const e=n._freezeSettings(),t=vm(n._databaseId);return new AM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vy(n,e,t,a,i,l={}){const d=n.Dc(l.merge||l.mergeFields?2:0,e,t,i);xy("Data must be an object, but it was:",d,a);const f=PE(a,d);let p,g;if(l.merge)p=new Za(d.fieldMask),g=d.fieldTransforms;else if(l.mergeFields){const b=[];for(const _ of l.mergeFields){const E=_0(e,_,t);if(!d.contains(E))throw new ze(Ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);VE(b,E)||b.push(E)}p=new Za(b),g=d.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,g=d.fieldTransforms;return new CM(new Ua(f),p,g)}class Id extends gy{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Id}}function IE(n,e,t,a){const i=n.Dc(1,e,t);xy("Data must be an object, but it was:",i,a);const l=[],d=Ua.empty();ko(a,(p,g)=>{const b=by(e,p,t);g=Ir(g);const _=i.gc(b);if(g instanceof Id)l.push(b);else{const E=Od(g,_);E!=null&&(l.push(b),d.set(b,E))}});const f=new Za(l);return new DE(d,f,i.fieldTransforms)}function OE(n,e,t,a,i,l){const d=n.Dc(1,e,t),f=[_0(e,a,t)],p=[i];if(l.length%2!=0)throw new ze(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(_0(e,l[E])),p.push(l[E+1]);const g=[],b=Ua.empty();for(let E=f.length-1;E>=0;--E)if(!VE(g,f[E])){const D=f[E];let P=p[E];P=Ir(P);const U=d.gc(D);if(P instanceof Id)g.push(D);else{const $=Od(P,U);$!=null&&(g.push(D),b.set(D,$))}}const _=new Za(g);return new DE(b,_,d.fieldTransforms)}function RM(n,e,t,a=!1){return Od(t,n.Dc(a?4:3,e))}function Od(n,e){if(kE(n=Ir(n)))return xy("Unsupported field value:",e,n),PE(n,e);if(n instanceof gy)return function(a,i){if(!ME(i.Ec))throw i.wc(`${a._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(i);l&&i.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,i){const l=[];let d=0;for(const f of a){let p=Od(f,i.yc(d));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),d++}return{arrayValue:{values:l}}}(n,e)}return function(a,i){if((a=Ir(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return bj(i.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=An.fromDate(a);return{timestampValue:Bf(i.serializer,l)}}if(a instanceof An){const l=new An(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Bf(i.serializer,l)}}if(a instanceof Ks)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof us)return{bytesValue:eE(i.serializer,a._byteString)};if(a instanceof rr){const l=i.databaseId,d=a.firestore._databaseId;if(!d.isEqual(l))throw i.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Z0(a.firestore._databaseId||i.databaseId,a._key.path)}}if(a instanceof Xs)return function(d,f){return{mapValue:{fields:{[R2]:{stringValue:j2},[kf]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw f.wc("VectorValues must only contain numeric values.");return Q0(f.serializer,g)})}}}}}}(a,i);throw i.wc(`Unsupported field value: ${om(a)}`)}(n,e)}function PE(n,e){const t={};return E2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(n,(a,i)=>{const l=Od(i,e.Vc(a));l!=null&&(t[a]=l)}),{mapValue:{fields:t}}}function kE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof An||n instanceof Ks||n instanceof us||n instanceof rr||n instanceof gy||n instanceof Xs)}function xy(n,e,t){if(!kE(t)||!_2(t)){const a=om(t);throw a==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+a)}}function _0(n,e,t){if((e=Ir(e))instanceof Dd)return e._internalPath;if(typeof e=="string")return by(n,e);throw Yf("Field path arguments must be of type string or ",n,!1,void 0,t)}const jM=new RegExp("[~\\*/\\[\\]]");function by(n,e,t){if(e.search(jM)>=0)throw Yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dd(...e.split("."))._internalPath}catch{throw Yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yf(n,e,t,a,i){const l=a&&!a.isEmpty(),d=i!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||d)&&(p+=" (found",l&&(p+=` in field ${a}`),d&&(p+=` in document ${i}`),p+=")"),new ze(Ee.INVALID_ARGUMENT,f+n+p)}function VE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,t,a,i,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_y("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class DM extends LE{data(){return super.data()}}function _y(n,e){return typeof e=="string"?by(n,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ze(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wy{}class MM extends wy{}function hl(n,e,...t){let a=[];e instanceof wy&&a.push(e),a=a.concat(t),function(l){const d=l.filter(p=>p instanceof Ey).length,f=l.filter(p=>p instanceof wm).length;if(d>1||d>0&&f>0)throw new ze(Ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const i of a)n=i._apply(n);return n}class wm extends MM{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new wm(e,t,a)}_apply(e){const t=this._parse(e);return zE(e._query,t),new Sl(e.firestore,e.converter,u0(e._query,t))}_parse(e){const t=Md(e.firestore);return function(l,d,f,p,g,b,_){let E;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ze(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){_1(_,b);const P=[];for(const U of _)P.push(b1(p,l,U));E={arrayValue:{values:P}}}else E=b1(p,l,_)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||_1(_,b),E=RM(f,d,_,b==="in"||b==="not-in");return Dr.create(g,b,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function zs(n,e,t){const a=e,i=_y("where",n);return wm._create(i,a,t)}class Ey extends wy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ey(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return t.length===1?t[0]:Ts.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,l){let d=i;const f=l.getFlattenedFilters();for(const p of f)zE(d,p),d=u0(d,p)}(e._query,t),new Sl(e.firestore,e.converter,u0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function b1(n,e,t){if(typeof(t=Ir(t))=="string"){if(t==="")throw new ze(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L2(e)&&t.indexOf("/")!==-1)throw new ze(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(Hn.fromString(t));if(!ut.isDocumentKey(a))throw new ze(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return k_(n,new ut(a))}if(t instanceof rr)return k_(n,t._key);throw new ze(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${om(t)}.`)}function _1(n,e){if(!Array.isArray(n)||n.length===0)throw new ze(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zE(n,e){const t=function(i,l){for(const d of i)for(const f of d.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ze(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ze(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class IM{convertValue(e,t="none"){switch(Do(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return ko(e,(i,l)=>{a[i]=this.convertValue(l,t)}),a}convertVectorValue(e){var t,a,i;const l=(i=(a=(t=e.fields)===null||t===void 0?void 0:t[kf].arrayValue)===null||a===void 0?void 0:a.values)===null||i===void 0?void 0:i.map(d=>vr(d.doubleValue));return new Xs(l)}convertGeoPoint(e){return new Ks(vr(e.latitude),vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=um(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(hd(e));default:return null}}convertTimestamp(e){const t=Ro(e);return new An(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=Hn.fromString(e);wn(iE(a),9688,{name:e});const i=new fd(a.get(1),a.get(3)),l=new ut(a.popFirst(5));return i.isEqual(t)||Ri(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(n,e,t){let a;return a=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,a}class Zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pl extends LE{constructor(e,t,a,i,l,d){super(e,t,a,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(_y("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(Ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=pl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}pl._jsonSchemaVersion="firestore/documentSnapshot/1.0",pl._jsonSchema={type:Mr("string",pl._jsonSchemaVersion),bundleSource:Mr("string","DocumentSnapshot"),bundleName:Mr("string"),bundle:Mr("string")};class bf extends pl{data(e={}){return super.data(e)}}class gl{constructor(e,t,a,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Zu(i.hasPendingWrites,i.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new bf(this._firestore,this._userDataWriter,a.key,a,new Zu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ze(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,l){if(i._snapshot.oldDocs.isEmpty()){let d=0;return i._snapshot.docChanges.map(f=>{const p=new bf(i._firestore,i._userDataWriter,f.doc.key,f.doc,new Zu(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new bf(i._firestore,i._userDataWriter,f.doc.key,f.doc,new Zu(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,b=-1;return f.type!==0&&(g=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),f.type!==1&&(d=d.add(f.doc),b=d.indexOf(f.doc.key)),{type:OM(f.type),doc:p,oldIndex:g,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(Ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=H0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],i=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),i.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(n){n=ua(n,rr);const e=ua(n.firestore,Ns);return AE(Wc(e),n._key).then(t=>Sy(e,n,t))}gl._jsonSchemaVersion="firestore/querySnapshot/1.0",gl._jsonSchema={type:Mr("string",gl._jsonSchemaVersion),bundleSource:Mr("string","QuerySnapshot"),bundleName:Mr("string"),bundle:Mr("string")};class Ny extends IM{constructor(e){super(),this.firestore=e}convertBytes(e){return new us(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}function PM(n){n=ua(n,rr);const e=ua(n.firestore,Ns);return AE(Wc(e),n._key,{source:"server"}).then(t=>Sy(e,n,t))}function fo(n){n=ua(n,Sl);const e=ua(n.firestore,Ns),t=Wc(e),a=new Ny(e);return UE(n._query),wM(t,n._query).then(i=>new gl(e,a,n,i))}function w1(n,e,t){n=ua(n,rr);const a=ua(n.firestore,Ns),i=Ty(n.converter,e,t);return Pd(a,[vy(Md(a),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ra.none())])}function oc(n,e,t,...a){n=ua(n,rr);const i=ua(n.firestore,Ns),l=Md(i);let d;return d=typeof(e=Ir(e))=="string"||e instanceof Dd?OE(l,"updateDoc",n._key,e,t,a):IE(l,"updateDoc",n._key,e),Pd(i,[d.toMutation(n._key,Ra.exists(!0))])}function Fu(n){return Pd(ua(n.firestore,Ns),[new gm(n._key,Ra.none())])}function nf(n,e){const t=ua(n.firestore,Ns),a=oa(n),i=Ty(n.converter,e);return Pd(t,[vy(Md(n.firestore),"addDoc",a._key,i,n.converter!==null,{}).toMutation(a._key,Ra.exists(!1))]).then(()=>a)}function bc(n,...e){var t,a,i;n=Ir(n);let l={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||x1(e[d])||(l=e[d++]);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(x1(e[d])){const _=e[d];e[d]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[d+1]=(a=_.error)===null||a===void 0?void 0:a.bind(_),e[d+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let p,g,b;if(n instanceof rr)g=ua(n.firestore,Ns),b=dm(n._key.path),p={next:_=>{e[d]&&e[d](Sy(g,n,_))},error:e[d+1],complete:e[d+2]};else{const _=ua(n,Sl);g=ua(_.firestore,Ns),b=_._query;const E=new Ny(g);p={next:D=>{e[d]&&e[d](new gl(g,E,_,D))},error:e[d+1],complete:e[d+2]},UE(n._query)}return function(E,D,P,U){const $=new py(U),Q=new hy(D,$,P);return E.asyncQueue.enqueueAndForget(async()=>cy(await $f(E),Q)),()=>{$.Ou(),E.asyncQueue.enqueueAndForget(async()=>uy(await $f(E),Q))}}(Wc(g),b,f,p)}function Pd(n,e){return function(a,i){const l=new Ci;return a.asyncQueue.enqueueAndForget(async()=>uM(await _M(a),i,l)),l.promise}(Wc(n),e)}function Sy(n,e,t){const a=t.docs.get(e._key),i=new Ny(n);return new pl(n,i,e._key,a,new Zu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Md(e)}set(e,t,a){this._verifyNotCommitted();const i=Pg(e,this._firestore),l=Ty(i.converter,t,a),d=vy(this._dataReader,"WriteBatch.set",i._key,l,i.converter!==null,a);return this._mutations.push(d.toMutation(i._key,Ra.none())),this}update(e,t,a,...i){this._verifyNotCommitted();const l=Pg(e,this._firestore);let d;return d=typeof(t=Ir(t))=="string"||t instanceof Dd?OE(this._dataReader,"WriteBatch.update",l._key,t,a,i):IE(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Ra.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Pg(e,this._firestore);return this._mutations=this._mutations.concat(new gm(t._key,Ra.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(Ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pg(n,e){if((n=Ir(n)).firestore!==e)throw new ze(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(){return new Id("deleteField")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(n){return Wc(n=ua(n,Ns)),new kM(n,e=>Pd(n,e))}(function(e,t=!0){(function(i){Hc=i})(Fc),Dc(new vl("firestore",(a,{instanceIdentifier:i,options:l})=>{const d=a.getProvider("app").getImmediate(),f=new Ns(new IR(a.getProvider("auth-internal")),new kR(d,a.getProvider("app-check-internal")),function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ze(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fd(g.options.projectId,b)}(d,i),d);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),wo(w_,E_,e),wo(w_,E_,"esm2017")})();var LM="firebase",UM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo(LM,UM,"app");function Cy(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(n);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(n,a[i])&&(t[a[i]]=n[a[i]]);return t}function BE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zM=BE,FE=new Ed("auth","Firebase",BE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=new U0("@firebase/auth");function BM(n,...e){Wf.logLevel<=tn.WARN&&Wf.warn(`Auth (${Fc}): ${n}`,...e)}function _f(n,...e){Wf.logLevel<=tn.ERROR&&Wf.error(`Auth (${Fc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(n,...e){throw Ay(n,...e)}function Zs(n,...e){return Ay(n,...e)}function HE(n,e,t){const a=Object.assign(Object.assign({},zM()),{[e]:t});return new Ed("auth","Firebase",a).create(e,{appName:n.name})}function No(n){return HE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ay(n,...e){if(typeof n!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(t,...a)}return FE.create(n,...e)}function vt(n,e,...t){if(!n)throw Ay(e,...t)}function Ei(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _f(e),new Error(e)}function Di(n,e){n||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function FM(){return E1()==="http:"||E1()==="https:"}function E1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FM()||u4()||"connection"in navigator)?navigator.onLine:!0}function qM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Di(t>e,"Short delay should be less than long delay!"),this.isMobile=o4()||d4()}get(){return HM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(n,e){Di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WM=new kd(3e4,6e4);function Cl(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Lo(n,e,t,a,i={}){return $E(n,i,async()=>{let l={},d={};a&&(e==="GET"?d=a:l={body:JSON.stringify(a)});const f=Td(Object.assign({key:n.config.apiKey},d)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},l);return c4()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Bc(n.emulatorConfig.host)&&(g.credentials="include"),qE.fetch()(await YE(n,n.config.apiHost,t,f),g)})}async function $E(n,e,t){n._canInitEmulator=!1;const a=Object.assign(Object.assign({},$M),e);try{const i=new QM(n),l=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw rf(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const f=l.ok?d.errorMessage:d.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rf(n,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw rf(n,"email-already-in-use",d);if(p==="USER_DISABLED")throw rf(n,"user-disabled",d);const b=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw HE(n,b,g);Ss(n,b)}}catch(i){if(i instanceof Mi)throw i;Ss(n,"network-request-failed",{message:String(i)})}}async function Em(n,e,t,a,i={}){const l=await Lo(n,e,t,a,i);return"mfaPendingCredential"in l&&Ss(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function YE(n,e,t,a){const i=`${e}${t}?${a}`,l=n,d=l.config.emulator?Ry(n.config,i):`${n.config.apiScheme}://${i}`;return YM.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(d).toString():d}function GM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(Zs(this.auth,"network-request-failed")),WM.get())})}}function rf(n,e,t){const a={appName:n.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const i=Zs(n,e,a);return i.customData._tokenResponse=t,i}function T1(n){return n!==void 0&&n.enterprise!==void 0}class KM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return GM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XM(n,e){return Lo(n,"GET","/v2/recaptchaConfig",Cl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(n,e){return Lo(n,"POST","/v1/accounts:delete",e)}async function Gf(n,e){return Lo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JM(n,e=!1){const t=Ir(n),a=await t.getIdToken(e),i=jy(a);vt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,d=l?.sign_in_provider;return{claims:i,token:a,authTime:id(Vg(i.auth_time)),issuedAtTime:id(Vg(i.iat)),expirationTime:id(Vg(i.exp)),signInProvider:d||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Vg(n){return Number(n)*1e3}function jy(n){const[e,t,a]=n.split(".");if(e===void 0||t===void 0||a===void 0)return _f("JWT malformed, contained fewer than 3 sections"),null;try{const i=Jw(t);return i?JSON.parse(i):(_f("Failed to decode base64 JWT payload"),null)}catch(i){return _f("Caught error parsing JWT payload as JSON",i?.toString()),null}}function N1(n){const e=jy(n);return vt(e,"internal-error"),vt(typeof e.exp<"u","internal-error"),vt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yd(n,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof Mi&&e3(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function e3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=id(this.lastLoginAt),this.creationTime=id(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qf(n){var e;const t=n.auth,a=await n.getIdToken(),i=await yd(n,Gf(t,{idToken:a}));vt(i?.users.length,t,"internal-error");const l=i.users[0];n._notifyReloadListener(l);const d=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?WE(l.providerUserInfo):[],f=r3(n.providerData,d),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!f?.length,b=p?g:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new T0(l.createdAt,l.lastLoginAt),isAnonymous:b};Object.assign(n,_)}async function n3(n){const e=Ir(n);await Qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r3(n,e){return[...n.filter(a=>!e.some(i=>i.providerId===a.providerId)),...e]}function WE(n){return n.map(e=>{var{providerId:t}=e,a=Cy(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(n,e){const t=await $E(n,{},async()=>{const a=Td({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=n.config,d=await YE(n,i,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:a};return n.emulatorConfig&&Bc(n.emulatorConfig.host)&&(p.credentials="include"),qE.fetch()(d,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function s3(n,e){return Lo(n,"POST","/v2/accounts:revokeToken",Cl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vt(e.idToken,"internal-error"),vt(typeof e.idToken<"u","internal-error"),vt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){vt(e.length!==0,"internal-error");const t=N1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:i,expiresIn:l}=await a3(e,t);this.updateTokensAndExpiration(a,i,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:i,expirationTime:l}=t,d=new Sc;return a&&(vt(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),i&&(vt(typeof i=="string","internal-error",{appName:e}),d.accessToken=i),l&&(vt(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sc,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(n,e){vt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ws{constructor(e){var{uid:t,auth:a,stsTokenManager:i}=e,l=Cy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new T0(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await yd(this,this.stsTokenManager.getToken(this.auth,e));return vt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return JM(this,e)}reload(){return n3(this)}_assign(e){this!==e&&(vt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ws(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Qf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_s(this.auth.app))return Promise.reject(No(this.auth));const e=await this.getIdToken();return await yd(this,ZM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,i,l,d,f,p,g,b;const _=(a=t.displayName)!==null&&a!==void 0?a:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,D=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,P=(d=t.photoURL)!==null&&d!==void 0?d:void 0,U=(f=t.tenantId)!==null&&f!==void 0?f:void 0,$=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,pe=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:se,emailVerified:ge,isAnonymous:de,providerData:H,stsTokenManager:k}=t;vt(se&&k,e,"internal-error");const R=Sc.fromJSON(this.name,k);vt(typeof se=="string",e,"internal-error"),oo(_,e.name),oo(E,e.name),vt(typeof ge=="boolean",e,"internal-error"),vt(typeof de=="boolean",e,"internal-error"),oo(D,e.name),oo(P,e.name),oo(U,e.name),oo($,e.name),oo(Q,e.name),oo(pe,e.name);const I=new ws({uid:se,auth:e,email:E,emailVerified:ge,displayName:_,isAnonymous:de,photoURL:P,phoneNumber:D,tenantId:U,stsTokenManager:R,createdAt:Q,lastLoginAt:pe});return H&&Array.isArray(H)&&(I.providerData=H.map(j=>Object.assign({},j))),$&&(I._redirectEventId=$),I}static async _fromIdTokenResponse(e,t,a=!1){const i=new Sc;i.updateFromServerResponse(t);const l=new ws({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:a});return await Qf(l),l}static async _fromGetAccountInfoResponse(e,t,a){const i=t.users[0];vt(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?WE(i.providerUserInfo):[],d=!(i.email&&i.passwordHash)&&!l?.length,f=new Sc;f.updateFromIdToken(a);const p=new ws({uid:i.localId,auth:e,stsTokenManager:f,isAnonymous:d}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new T0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=new Map;function Ti(n){Di(n instanceof Function,"Expected a class definition");let e=S1.get(n);return e?(Di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,S1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}GE.type="NONE";const C1=GE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(n,e,t){return`firebase:${n}:${e}:${t}`}class Cc{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:i,name:l}=this.auth;this.fullUserKey=wf(this.userKey,i.apiKey,l),this.fullPersistenceKey=wf("persistence",i.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Gf(this.auth,{idToken:e}).catch(()=>{});return t?ws._fromGetAccountInfoResponse(this.auth,t,e):null}return ws._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Cc(Ti(C1),e,a);const i=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=i[0]||Ti(C1);const d=wf(a,e.config.apiKey,e.name);let f=null;for(const g of t)try{const b=await g._get(d);if(b){let _;if(typeof b=="string"){const E=await Gf(e,{idToken:b}).catch(()=>{});if(!E)break;_=await ws._fromGetAccountInfoResponse(e,E,b)}else _=ws._fromJSON(e,b);g!==l&&(f=_),l=g;break}}catch{}const p=i.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Cc(l,e,a):(l=p[0],f&&await l._set(d,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(d)}catch{}})),new Cc(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eT(e))return"Blackberry";if(tT(e))return"Webos";if(KE(e))return"Safari";if((e.includes("chrome/")||XE(e))&&!e.includes("edge/"))return"Chrome";if(JE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(t);if(a?.length===2)return a[1]}return"Other"}function QE(n=Ta()){return/firefox\//i.test(n)}function KE(n=Ta()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XE(n=Ta()){return/crios\//i.test(n)}function ZE(n=Ta()){return/iemobile/i.test(n)}function JE(n=Ta()){return/android/i.test(n)}function eT(n=Ta()){return/blackberry/i.test(n)}function tT(n=Ta()){return/webos/i.test(n)}function Dy(n=Ta()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function i3(n=Ta()){var e;return Dy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function o3(){return h4()&&document.documentMode===10}function nT(n=Ta()){return Dy(n)||JE(n)||tT(n)||eT(n)||/windows phone/i.test(n)||ZE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(n,e=[]){let t;switch(n){case"Browser":t=A1(Ta());break;case"Worker":t=`${A1(Ta())}-${n}`;break;default:t=n}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fc}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((d,f)=>{try{const p=e(l);d(p)}catch(p){f(p)}});a.onAbort=t,this.queue.push(a);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(n,e={}){return Lo(n,"GET","/v2/passwordPolicy",Cl(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=6;class d3{constructor(e){var t,a,i,l;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:u3,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,i,l,d,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(i=p.containsLowercaseLetter)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let i=0;i<e.length;i++)a=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,t,a,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R1(this),this.idTokenSubscription=new R1(this),this.beforeStateQueue=new l3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ti(t)),this._initializationPromise=this.queue(async()=>{var a,i,l;if(!this._deleted&&(this.persistenceManager=await Cc.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gf(this,{idToken:e}),a=await ws._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_s(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(f,f))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let i=a,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===f)&&p?.user&&(i=p.user,l=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(i)}catch(d){i=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_s(this.app))return Promise.reject(No(this));const t=e?Ir(e):null;return t&&vt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&vt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _s(this.app)?Promise.reject(No(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _s(this.app)?Promise.reject(No(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c3(this),t=new d3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ed("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await s3(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ti(e)||this._popupRedirectResolver;vt(t,this,"argument-error"),this.redirectPersistenceManager=await Cc.create(this,[Ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,i){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(f,this,"internal-error"),f.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,i);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(_s(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&BM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gc(n){return Ir(n)}class R1{constructor(e){this.auth=e,this.observer=null,this.addObserver=b4(t=>this.observer=t)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f3(n){Tm=n}function aT(n){return Tm.loadJS(n)}function m3(){return Tm.recaptchaEnterpriseScript}function p3(){return Tm.gapiScript}function g3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class y3{constructor(){this.enterprise=new v3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class v3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const x3="recaptcha-enterprise",sT="NO_RECAPTCHA";class b3{constructor(e){this.type=x3,this.auth=Gc(e)}async verify(e="verify",t=!1){async function a(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,f)=>{XM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new KM(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,d(g.siteKey)}}).catch(p=>{f(p)})})}function i(l,d,f){const p=window.grecaptcha;T1(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{d(g)}).catch(()=>{d(sT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y3().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{a(this.auth).then(f=>{if(!t&&T1(window.grecaptcha))i(f,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=m3();p.length!==0&&(p+=f),aT(p).then(()=>{i(f,l,d)}).catch(g=>{d(g)})}}).catch(f=>{d(f)})})}}async function j1(n,e,t,a=!1,i=!1){const l=new b3(n);let d;if(i)d=sT;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return a?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function D1(n,e,t,a,i){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await j1(n,e,t,t==="getOobCode");return a(n,d)}else return a(n,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await j1(n,e,t,t==="getOobCode");return a(n,f)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(n,e){const t=B0(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),l=t.getOptions();if(yl(l,e??{}))return i;Ss(i,"already-initialized")}return t.initialize({options:e})}function w3(n,e){const t=e?.persistence||[],a=(Array.isArray(t)?t:[t]).map(Ti);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(a,e?.popupRedirectResolver)}function E3(n,e,t){const a=Gc(n);vt(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const i=!1,l=iT(e),{host:d,port:f}=T3(e),p=f===null?"":`:${f}`,g={url:`${l}//${d}${p}/`},b=Object.freeze({host:d,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(yl(g,a.config.emulator)&&yl(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Bc(d)?(r2(`${l}//${d}${p}`),a2("Auth",!0)):N3()}function iT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function T3(n){const e=iT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(a);if(i){const l=i[1];return{host:l,port:M1(a.substr(l.length+1))}}else{const[l,d]=a.split(":");return{host:l,port:M1(d)}}}function M1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function N3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,t){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function S3(n,e){return Lo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(n,e){return Em(n,"POST","/v1/accounts:signInWithPassword",Cl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(n,e){return Em(n,"POST","/v1/accounts:signInWithEmailLink",Cl(n,e))}async function R3(n,e){return Em(n,"POST","/v1/accounts:signInWithEmailLink",Cl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends My{constructor(e,t,a,i=null){super("password",a),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new vd(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new vd(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D1(e,t,"signInWithPassword",C3);case"emailLink":return A3(e,{email:this._email,oobCode:this._password});default:Ss(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D1(e,a,"signUpPassword",S3);case"emailLink":return R3(e,{idToken:t,email:this._email,oobCode:this._password});default:Ss(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(n,e){return Em(n,"POST","/v1/accounts:signInWithIdp",Cl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3="http://localhost";class _l extends My{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _l(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ss("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:i}=t,l=Cy(t,["providerId","signInMethod"]);if(!a||!i)return null;const d=new _l(a,i);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Ac(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Ac(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ac(e,t)}buildRequest(){const e={requestUri:j3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Td(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M3(n){const e=Wu(Gu(n)).link,t=e?Wu(Gu(e)).deep_link_id:null,a=Wu(Gu(n)).deep_link_id;return(a?Wu(Gu(a)).link:null)||a||t||e||n}class Iy{constructor(e){var t,a,i,l,d,f;const p=Wu(Gu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,b=(a=p.oobCode)!==null&&a!==void 0?a:null,_=D3((i=p.mode)!==null&&i!==void 0?i:null);vt(g&&b&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=b,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(d=p.lang)!==null&&d!==void 0?d:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=M3(e);try{return new Iy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this.providerId=Qc.PROVIDER_ID}static credential(e,t){return vd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=Iy.parseLink(t);return vt(a,"argument-error"),vd._fromEmailAndCode(e,a.code,a.tenantId)}}Qc.PROVIDER_ID="password";Qc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends oT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends Vd{constructor(){super("facebook.com")}static credential(e){return _l._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";mo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends Vd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _l._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return po.credential(t,a)}catch{return null}}}po.GOOGLE_SIGN_IN_METHOD="google.com";po.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Vd{constructor(){super("github.com")}static credential(e){return _l._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.GITHUB_SIGN_IN_METHOD="github.com";go.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Vd{constructor(){super("twitter.com")}static credential(e,t){return _l._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return yo.credential(t,a)}catch{return null}}}yo.TWITTER_SIGN_IN_METHOD="twitter.com";yo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,i=!1){const l=await ws._fromIdTokenResponse(e,a,i),d=I1(a);return new Vc({user:l,providerId:d,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const i=I1(a);return new Vc({user:e,providerId:i,_tokenResponse:a,operationType:t})}}function I1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends Mi{constructor(e,t,a,i){var l;super(t.code,t.message),this.operationType=a,this.user=i,Object.setPrototypeOf(this,Kf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,i){return new Kf(e,t,a,i)}}function lT(n,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Kf._fromErrorAndOperation(n,l,e,a):l})}async function I3(n,e,t=!1){const a=await yd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vc._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(n,e,t=!1){const{auth:a}=n;if(_s(a.app))return Promise.reject(No(a));const i="reauthenticate";try{const l=await yd(n,lT(a,i,e,n),t);vt(l.idToken,a,"internal-error");const d=jy(l.idToken);vt(d,a,"internal-error");const{sub:f}=d;return vt(n.uid===f,a,"user-mismatch"),Vc._forOperation(n,i,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ss(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(n,e,t=!1){if(_s(n.app))return Promise.reject(No(n));const a="signIn",i=await lT(n,a,e),l=await Vc._fromIdTokenResponse(n,a,i);return t||await n._updateCurrentUser(l.user),l}async function P3(n,e){return cT(Gc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(n){const e=Gc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function V3(n,e,t){return _s(n.app)?Promise.reject(No(n)):P3(Ir(n),Qc.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&k3(n),a})}function L3(n,e,t,a){return Ir(n).onIdTokenChanged(e,t,a)}function U3(n,e,t){return Ir(n).beforeAuthStateChanged(e,t)}function z3(n,e,t,a){return Ir(n).onAuthStateChanged(e,t,a)}const Xf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xf,"1"),this.storage.removeItem(Xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=1e3,F3=10;class dT extends uT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),i=this.localCache[t];a!==i&&e(t,i,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,f,p)=>{this.notifyListeners(d,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const d=this.storage.getItem(a);!t&&this.localCache[a]===d||this.notifyListeners(a,d)},l=this.storage.getItem(a);o3()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,F3):i()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},B3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dT.type="LOCAL";const H3=dT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT extends uT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hT.type="SESSION";const fT=hT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const a=new Nm(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:i,data:l}=t.data,d=this.handlersMap[i];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:i});const f=Array.from(d).map(async g=>g(t.origin,l)),p=await q3(f);t.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,d;return new Promise((f,p)=>{const g=Oy("",20);i.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:i,onMessage(_){const E=_;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(b),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(d),i.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[i.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(){return window}function Y3(n){Js().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(){return typeof Js().WorkerGlobalScope<"u"&&typeof Js().importScripts=="function"}async function W3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G3(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Q3(){return mT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="firebaseLocalStorageDb",K3=1,Zf="firebaseLocalStorage",gT="fbase_key";class Ld{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sm(n,e){return n.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function X3(){const n=indexedDB.deleteDatabase(pT);return new Ld(n).toPromise()}function N0(){const n=indexedDB.open(pT,K3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(Zf,{keyPath:gT})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(Zf)?e(a):(a.close(),await X3(),e(await N0()))})})}async function O1(n,e,t){const a=Sm(n,!0).put({[gT]:e,value:t});return new Ld(a).toPromise()}async function Z3(n,e){const t=Sm(n,!1).get(e),a=await new Ld(t).toPromise();return a===void 0?null:a.value}function P1(n,e){const t=Sm(n,!0).delete(e);return new Ld(t).toPromise()}const J3=800,e6=3;class yT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await N0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>e6)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nm._getInstance(Q3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await W3(),!this.activeServiceWorker)return;this.sender=new $3(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await N0();return await O1(e,Xf,"1"),await P1(e,Xf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>O1(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>Z3(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>P1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=Sm(i,!1).getAll();return new Ld(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)a.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!a.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yT.type="LOCAL";const t6=yT;new kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(n,e){return e?Ti(e):(vt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py extends My{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ac(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ac(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ac(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function r6(n){return cT(n.auth,new Py(n),n.bypassAuthState)}function a6(n){const{auth:e,user:t}=n;return vt(t,e,"internal-error"),O3(t,new Py(n),n.bypassAuthState)}async function s6(n){const{auth:e,user:t}=n;return vt(t,e,"internal-error"),I3(t,new Py(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,t,a,i,l=!1){this.auth=e,this.resolver=a,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:i,tenantId:l,error:d,type:f}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r6;case"linkViaPopup":case"linkViaRedirect":return s6;case"reauthViaPopup":case"reauthViaRedirect":return a6;default:Ss(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=new kd(2e3,1e4);class _c extends vT{constructor(e,t,a,i,l){super(e,t,i,l),this.provider=a,this.authWindow=null,this.pollId=null,_c.currentPopupAction&&_c.currentPopupAction.cancel(),_c.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vt(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_c.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i6.get())};e()}}_c.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6="pendingRedirect",Ef=new Map;class l6 extends vT{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Ef.get(this.auth._key());if(!e){try{const a=await c6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Ef.set(this.auth._key(),e)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c6(n,e){const t=h6(e),a=d6(n);if(!await a._isAvailable())return!1;const i=await a._get(t)==="true";return await a._remove(t),i}function u6(n,e){Ef.set(n._key(),e)}function d6(n){return Ti(n._redirectPersistence)}function h6(n){return wf(o6,n.config.apiKey,n.name)}async function f6(n,e,t=!1){if(_s(n.app))return Promise.reject(No(n));const a=Gc(n),i=n6(a,e),d=await new l6(a,i,t).execute();return d&&!t&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=10*60*1e3;class p6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!g6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!xT(e)){const i=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(Zs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m6&&this.cachedEventUids.clear(),this.cachedEventUids.has(k1(e))}saveEventToCache(e){this.cachedEventUids.add(k1(e)),this.lastProcessedEventTime=Date.now()}}function k1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function xT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function g6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(n,e={}){return Lo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x6=/^https?/;async function b6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await y6(n);for(const t of e)try{if(_6(t))return}catch{}Ss(n,"unauthorized-domain")}function _6(n){const e=E0(),{protocol:t,hostname:a}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&a===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===a}if(!x6.test(t))return!1;if(v6.test(n))return a===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=new kd(3e4,6e4);function V1(){const n=Js().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function E6(n){return new Promise((e,t)=>{var a,i,l;function d(){V1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V1(),t(Zs(n,"network-request-failed"))},timeout:w6.get()})}if(!((i=(a=Js().gapi)===null||a===void 0?void 0:a.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((l=Js().gapi)===null||l===void 0)&&l.load)d();else{const f=g3("iframefcb");return Js()[f]=()=>{gapi.load?d():t(Zs(n,"network-request-failed"))},aT(`${p3()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Tf=null,e})}let Tf=null;function T6(n){return Tf=Tf||E6(n),Tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=new kd(5e3,15e3),S6="__/auth/iframe",C6="emulator/auth/iframe",A6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j6(n){const e=n.config;vt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ry(e,C6):`https://${n.config.authDomain}/${S6}`,a={apiKey:e.apiKey,appName:n.name,v:Fc},i=R6.get(n.config.apiHost);i&&(a.eid=i);const l=n._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${Td(a).slice(1)}`}async function D6(n){const e=await T6(n),t=Js().gapi;return vt(t,n,"internal-error"),e.open({where:document.body,url:j6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A6,dontclear:!0},a=>new Promise(async(i,l)=>{await a.restyle({setHideOnLeave:!1});const d=Zs(n,"network-request-failed"),f=Js().setTimeout(()=>{l(d)},N6.get());function p(){Js().clearTimeout(f),i(a)}a.ping(p).then(p,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I6=500,O6=600,P6="_blank",k6="http://localhost";class L1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V6(n,e,t,a=I6,i=O6){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let f="";const p=Object.assign(Object.assign({},M6),{width:a.toString(),height:i.toString(),top:l,left:d}),g=Ta().toLowerCase();t&&(f=XE(g)?P6:t),QE(g)&&(e=e||k6,p.scrollbars="yes");const b=Object.entries(p).reduce((E,[D,P])=>`${E}${D}=${P},`,"");if(i3(g)&&f!=="_self")return L6(e||"",f),new L1(null);const _=window.open(e||"",f,b);vt(_,n,"popup-blocked");try{_.focus()}catch{}return new L1(_)}function L6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="__/auth/handler",z6="emulator/auth/handler",B6=encodeURIComponent("fac");async function U1(n,e,t,a,i,l){vt(n.config.authDomain,n,"auth-domain-config-required"),vt(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:a,v:Fc,eventId:i};if(e instanceof oT){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",x4(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,_]of Object.entries({}))d[b]=_}if(e instanceof Vd){const b=e.getScopes().filter(_=>_!=="");b.length>0&&(d.scopes=b.join(","))}n.tenantId&&(d.tid=n.tenantId);const f=d;for(const b of Object.keys(f))f[b]===void 0&&delete f[b];const p=await n._getAppCheckToken(),g=p?`#${B6}=${encodeURIComponent(p)}`:"";return`${F6(n)}?${Td(f).slice(1)}${g}`}function F6({config:n}){return n.emulator?Ry(n,z6):`https://${n.authDomain}/${U6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="webStorageSupport";class H6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fT,this._completeRedirectFn=f6,this._overrideRedirectResult=u6}async _openPopup(e,t,a,i){var l;Di((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const d=await U1(e,t,a,E0(),i);return V6(e,d,Oy())}async _openRedirect(e,t,a,i){await this._originValidation(e);const l=await U1(e,t,a,E0(),i);return Y3(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:l}=this.eventManagers[t];return i?Promise.resolve(i):(Di(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await D6(e),a=new p6(e);return t.register("authEvent",i=>(vt(i?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lg,{type:Lg},i=>{var l;const d=(l=i?.[0])===null||l===void 0?void 0:l[Lg];d!==void 0&&t(!!d),Ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=b6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nT()||KE()||Dy()}}const q6=H6;var z1="@firebase/auth",B1="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W6(n){Dc(new vl("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rT(n)},g=new h3(a,i,l,p);return w3(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Dc(new vl("auth-internal",e=>{const t=Gc(e.getProvider("auth").getImmediate());return(a=>new $6(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wo(z1,B1,Y6(n)),wo(z1,B1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=5*60,Q6=n2("authIdTokenMaxAge")||G6;let F1=null;const K6=n=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>Q6)return;const i=t?.token;F1!==i&&(F1=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function X6(n=l2()){const e=B0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=_3(n,{popupRedirectResolver:q6,persistence:[t6,H3,fT]}),a=n2("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const d=K6(l.toString());U3(t,d,()=>d(t.currentUser)),L3(t,f=>d(f))}}const i=e2("auth");return i&&E3(t,`http://${i}`),t}function Z6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}f3({loadJS(n){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=e,a.onerror=i=>{const l=Zs("internal-error");l.customData=i,t(l)},a.type="text/javascript",a.charset="UTF-8",Z6().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W6("Browser");const J6={apiKey:"AIzaSyBBm3tDxQvD8SmB5AIerpe-QL-IXk1N1O4",authDomain:"banco-vagafogo.firebaseapp.com",projectId:"banco-vagafogo",storageBucket:"banco-vagafogo.firebasestorage.app",messagingSenderId:"1037581590966",appId:"1:1037581590966:web:35195eccc16e8f3c742117"},bT=o2(J6),fn=TM(bT),_T=X6(bT),eI={},Ju={};function od(n,e){try{const a=(eI[n]||=new Intl.DateTimeFormat("en-GB",{timeZone:n,hour:"numeric",timeZoneName:"longOffset"}).format)(e).split("GMT")[1]||"";return a in Ju?Ju[a]:H1(a,a.split(":"))}catch{if(n in Ju)return Ju[n];const t=n?.match(tI);return t?H1(n,t.slice(1)):NaN}}const tI=/([+-]\d\d):?(\d\d)?/;function H1(n,e){const t=+e[0],a=+(e[1]||0);return Ju[n]=t>0?t*60+a:t*60-a}class $s extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(od(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),wT(this),S0(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new $s(...t,e):new $s(Date.now(),e)}withTimeZone(e){return new $s(+this,e)}getTimezoneOffset(){return-od(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),S0(this),+this}[Symbol.for("constructDateFrom")](e){return new $s(+new Date(e),this.timeZone)}}const q1=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(n=>{if(!q1.test(n))return;const e=n.replace(q1,"$1UTC");$s.prototype[e]&&(n.startsWith("get")?$s.prototype[n]=function(){return this.internal[e]()}:($s.prototype[n]=function(){return Date.prototype[e].apply(this.internal,arguments),nI(this),+this},$s.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),S0(this),+this}))});function S0(n){n.internal.setTime(+n),n.internal.setUTCMinutes(n.internal.getUTCMinutes()-n.getTimezoneOffset())}function nI(n){Date.prototype.setFullYear.call(n,n.internal.getUTCFullYear(),n.internal.getUTCMonth(),n.internal.getUTCDate()),Date.prototype.setHours.call(n,n.internal.getUTCHours(),n.internal.getUTCMinutes(),n.internal.getUTCSeconds(),n.internal.getUTCMilliseconds()),wT(n)}function wT(n){const e=od(n.timeZone,n),t=new Date(+n);t.setUTCHours(t.getUTCHours()-1);const a=-new Date(+n).getTimezoneOffset(),i=-new Date(+t).getTimezoneOffset(),l=a-i,d=Date.prototype.getHours.apply(n)!==n.internal.getUTCHours();l&&d&&n.internal.setUTCMinutes(n.internal.getUTCMinutes()+l);const f=a-e;f&&Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+f);const p=od(n.timeZone,n),b=-new Date(+n).getTimezoneOffset()-p,_=p!==e,E=b-f;if(_&&E){Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+E);const D=od(n.timeZone,n),P=p-D;P&&(n.internal.setUTCMinutes(n.internal.getUTCMinutes()+P),Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+P))}}class _a extends $s{static tz(e,...t){return t.length?new _a(...t,e):new _a(Date.now(),e)}toISOString(){const[e,t,a]=this.tzComponents(),i=`${e}${t}:${a}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,a,i]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${a} ${t} ${i}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,a,i]=this.tzComponents();return`${e} GMT${t}${a}${i} (${rI(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),t=e>0?"-":"+",a=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),i=String(Math.abs(e)%60).padStart(2,"0");return[t,a,i]}withTimeZone(e){return new _a(+this,e)}[Symbol.for("constructDateFrom")](e){return new _a(+new Date(e),this.timeZone)}}function rI(n,e){return new Intl.DateTimeFormat("en-GB",{timeZone:n,timeZoneName:"long"}).format(e).slice(12)}var it;(function(n){n.Root="root",n.Chevron="chevron",n.Day="day",n.DayButton="day_button",n.CaptionLabel="caption_label",n.Dropdowns="dropdowns",n.Dropdown="dropdown",n.DropdownRoot="dropdown_root",n.Footer="footer",n.MonthGrid="month_grid",n.MonthCaption="month_caption",n.MonthsDropdown="months_dropdown",n.Month="month",n.Months="months",n.Nav="nav",n.NextMonthButton="button_next",n.PreviousMonthButton="button_previous",n.Week="week",n.Weeks="weeks",n.Weekday="weekday",n.Weekdays="weekdays",n.WeekNumber="week_number",n.WeekNumberHeader="week_number_header",n.YearsDropdown="years_dropdown"})(it||(it={}));var nr;(function(n){n.disabled="disabled",n.hidden="hidden",n.outside="outside",n.focused="focused",n.today="today"})(nr||(nr={}));var Es;(function(n){n.range_end="range_end",n.range_middle="range_middle",n.range_start="range_start",n.selected="selected"})(Es||(Es={}));var Qa;(function(n){n.weeks_before_enter="weeks_before_enter",n.weeks_before_exit="weeks_before_exit",n.weeks_after_enter="weeks_after_enter",n.weeks_after_exit="weeks_after_exit",n.caption_after_enter="caption_after_enter",n.caption_after_exit="caption_after_exit",n.caption_before_enter="caption_before_enter",n.caption_before_exit="caption_before_exit"})(Qa||(Qa={}));const ET=6048e5,aI=864e5,$1=Symbol.for("constructDateFrom");function qr(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&$1 in n?n[$1](e):n instanceof Date?new n.constructor(e):new Date(e)}function On(n,e){return qr(e||n,n)}function TT(n,e,t){const a=On(n,t?.in);return isNaN(e)?qr(n,NaN):(e&&a.setDate(a.getDate()+e),a)}function NT(n,e,t){const a=On(n,t?.in);if(isNaN(e))return qr(n,NaN);if(!e)return a;const i=a.getDate(),l=qr(n,a.getTime());l.setMonth(a.getMonth()+e+1,0);const d=l.getDate();return i>=d?l:(a.setFullYear(l.getFullYear(),l.getMonth(),i),a)}let sI={};function Ud(){return sI}function Lc(n,e){const t=Ud(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=On(n,e?.in),l=i.getDay(),d=(l<a?7:0)+l-a;return i.setDate(i.getDate()-d),i.setHours(0,0,0,0),i}function xd(n,e){return Lc(n,{...e,weekStartsOn:1})}function ST(n,e){const t=On(n,e?.in),a=t.getFullYear(),i=qr(t,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const l=xd(i),d=qr(t,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const f=xd(d);return t.getTime()>=l.getTime()?a+1:t.getTime()>=f.getTime()?a:a-1}function Y1(n){const e=On(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Kc(n,...e){const t=qr.bind(null,e.find(a=>typeof a=="object"));return e.map(t)}function bd(n,e){const t=On(n,e?.in);return t.setHours(0,0,0,0),t}function CT(n,e,t){const[a,i]=Kc(t?.in,n,e),l=bd(a),d=bd(i),f=+l-Y1(l),p=+d-Y1(d);return Math.round((f-p)/aI)}function iI(n,e){const t=ST(n,e),a=qr(n,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),xd(a)}function oI(n,e,t){return TT(n,e*7,t)}function lI(n,e,t){return NT(n,e*12,t)}function cI(n,e){let t,a=e?.in;return n.forEach(i=>{!a&&typeof i=="object"&&(a=qr.bind(null,i));const l=On(i,a);(!t||t<l||isNaN(+l))&&(t=l)}),qr(a,t||NaN)}function uI(n,e){let t,a=e?.in;return n.forEach(i=>{!a&&typeof i=="object"&&(a=qr.bind(null,i));const l=On(i,a);(!t||t>l||isNaN(+l))&&(t=l)}),qr(a,t||NaN)}function dI(n,e,t){const[a,i]=Kc(t?.in,n,e);return+bd(a)==+bd(i)}function AT(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function hI(n){return!(!AT(n)&&typeof n!="number"||isNaN(+On(n)))}function fI(n,e,t){const[a,i]=Kc(t?.in,n,e),l=a.getFullYear()-i.getFullYear(),d=a.getMonth()-i.getMonth();return l*12+d}function mI(n,e){const t=On(n,e?.in),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function pI(n,e){const[t,a]=Kc(n,e.start,e.end);return{start:t,end:a}}function gI(n,e){const{start:t,end:a}=pI(e?.in,n);let i=+t>+a;const l=i?+t:+a,d=i?a:t;d.setHours(0,0,0,0),d.setDate(1);let f=1;const p=[];for(;+d<=l;)p.push(qr(t,d)),d.setMonth(d.getMonth()+f);return i?p.reverse():p}function yI(n,e){const t=On(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function vI(n,e){const t=On(n,e?.in),a=t.getFullYear();return t.setFullYear(a+1,0,0),t.setHours(23,59,59,999),t}function RT(n,e){const t=On(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function jT(n,e){const t=Ud(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=On(n,e?.in),l=i.getDay(),d=(l<a?-7:0)+6-(l-a);return i.setDate(i.getDate()+d),i.setHours(23,59,59,999),i}function xI(n,e){return jT(n,{...e,weekStartsOn:1})}const bI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_I=(n,e,t)=>{let a;const i=bI[n];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function Rc(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const wI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},EI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},TI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},NI={date:Rc({formats:wI,defaultWidth:"full"}),time:Rc({formats:EI,defaultWidth:"full"}),dateTime:Rc({formats:TI,defaultWidth:"full"})},SI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},CI=(n,e,t,a)=>SI[n];function Hs(n){return(e,t)=>{const a=t?.context?String(t.context):"standalone";let i;if(a==="formatting"&&n.formattingValues){const d=n.defaultFormattingWidth||n.defaultWidth,f=t?.width?String(t.width):d;i=n.formattingValues[f]||n.formattingValues[d]}else{const d=n.defaultWidth,f=t?.width?String(t.width):n.defaultWidth;i=n.values[f]||n.values[d]}const l=n.argumentCallback?n.argumentCallback(e):e;return i[l]}}const AI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},RI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},DI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},MI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},II={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},OI=(n,e)=>{const t=Number(n),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},PI={ordinalNumber:OI,era:Hs({values:AI,defaultWidth:"wide"}),quarter:Hs({values:RI,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Hs({values:jI,defaultWidth:"wide"}),day:Hs({values:DI,defaultWidth:"wide"}),dayPeriod:Hs({values:MI,defaultWidth:"wide",formattingValues:II,defaultFormattingWidth:"wide"})};function qs(n){return(e,t={})=>{const a=t.width,i=a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth],l=e.match(i);if(!l)return null;const d=l[0],f=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],p=Array.isArray(f)?VI(f,_=>_.test(d)):kI(f,_=>_.test(d));let g;g=n.valueCallback?n.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const b=e.slice(d.length);return{value:g,rest:b}}}function kI(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function VI(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function DT(n){return(e,t={})=>{const a=e.match(n.matchPattern);if(!a)return null;const i=a[0],l=e.match(n.parsePattern);if(!l)return null;let d=n.valueCallback?n.valueCallback(l[0]):l[0];d=t.valueCallback?t.valueCallback(d):d;const f=e.slice(i.length);return{value:d,rest:f}}}const LI=/^(\d+)(th|st|nd|rd)?/i,UI=/\d+/i,zI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BI={any:[/^b/i,/^(a|c)/i]},FI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HI={any:[/1/i,/2/i,/3/i,/4/i]},qI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$I={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},YI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},WI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KI={ordinalNumber:DT({matchPattern:LI,parsePattern:UI,valueCallback:n=>parseInt(n,10)}),era:qs({matchPatterns:zI,defaultMatchWidth:"wide",parsePatterns:BI,defaultParseWidth:"any"}),quarter:qs({matchPatterns:FI,defaultMatchWidth:"wide",parsePatterns:HI,defaultParseWidth:"any",valueCallback:n=>n+1}),month:qs({matchPatterns:qI,defaultMatchWidth:"wide",parsePatterns:$I,defaultParseWidth:"any"}),day:qs({matchPatterns:YI,defaultMatchWidth:"wide",parsePatterns:WI,defaultParseWidth:"any"}),dayPeriod:qs({matchPatterns:GI,defaultMatchWidth:"any",parsePatterns:QI,defaultParseWidth:"any"})},ky={code:"en-US",formatDistance:_I,formatLong:NI,formatRelative:CI,localize:PI,match:KI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function XI(n,e){const t=On(n,e?.in);return CT(t,RT(t))+1}function MT(n,e){const t=On(n,e?.in),a=+xd(t)-+iI(t);return Math.round(a/ET)+1}function IT(n,e){const t=On(n,e?.in),a=t.getFullYear(),i=Ud(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,d=qr(e?.in||n,0);d.setFullYear(a+1,0,l),d.setHours(0,0,0,0);const f=Lc(d,e),p=qr(e?.in||n,0);p.setFullYear(a,0,l),p.setHours(0,0,0,0);const g=Lc(p,e);return+t>=+f?a+1:+t>=+g?a:a-1}function ZI(n,e){const t=Ud(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=IT(n,e),l=qr(e?.in||n,0);return l.setFullYear(i,0,a),l.setHours(0,0,0,0),Lc(l,e)}function OT(n,e){const t=On(n,e?.in),a=+Lc(t,e)-+ZI(t,e);return Math.round(a/ET)+1}function Cn(n,e){const t=n<0?"-":"",a=Math.abs(n).toString().padStart(e,"0");return t+a}const lo={y(n,e){const t=n.getFullYear(),a=t>0?t:1-t;return Cn(e==="yy"?a%100:a,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Cn(t+1,2)},d(n,e){return Cn(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Cn(n.getHours()%12||12,e.length)},H(n,e){return Cn(n.getHours(),e.length)},m(n,e){return Cn(n.getMinutes(),e.length)},s(n,e){return Cn(n.getSeconds(),e.length)},S(n,e){const t=e.length,a=n.getMilliseconds(),i=Math.trunc(a*Math.pow(10,t-3));return Cn(i,e.length)}},lc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},W1={G:function(n,e,t){const a=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const a=n.getFullYear(),i=a>0?a:1-a;return t.ordinalNumber(i,{unit:"year"})}return lo.y(n,e)},Y:function(n,e,t,a){const i=IT(n,a),l=i>0?i:1-i;if(e==="YY"){const d=l%100;return Cn(d,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):Cn(l,e.length)},R:function(n,e){const t=ST(n);return Cn(t,e.length)},u:function(n,e){const t=n.getFullYear();return Cn(t,e.length)},Q:function(n,e,t){const a=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Cn(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(n,e,t){const a=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Cn(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(n,e,t){const a=n.getMonth();switch(e){case"M":case"MM":return lo.M(n,e);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(n,e,t){const a=n.getMonth();switch(e){case"L":return String(a+1);case"LL":return Cn(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(n,e,t,a){const i=OT(n,a);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Cn(i,e.length)},I:function(n,e,t){const a=MT(n);return e==="Io"?t.ordinalNumber(a,{unit:"week"}):Cn(a,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):lo.d(n,e)},D:function(n,e,t){const a=XI(n);return e==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):Cn(a,e.length)},E:function(n,e,t){const a=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(n,e,t,a){const i=n.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Cn(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,a){const i=n.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Cn(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const a=n.getDay(),i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return Cn(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const a=n.getHours();let i;switch(a===12?i=lc.noon:a===0?i=lc.midnight:i=a/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const a=n.getHours();let i;switch(a>=17?i=lc.evening:a>=12?i=lc.afternoon:a>=4?i=lc.morning:i=lc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let a=n.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return lo.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):lo.H(n,e)},K:function(n,e,t){const a=n.getHours()%12;return e==="Ko"?t.ordinalNumber(a,{unit:"hour"}):Cn(a,e.length)},k:function(n,e,t){let a=n.getHours();return a===0&&(a=24),e==="ko"?t.ordinalNumber(a,{unit:"hour"}):Cn(a,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):lo.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):lo.s(n,e)},S:function(n,e){return lo.S(n,e)},X:function(n,e,t){const a=n.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return Q1(a);case"XXXX":case"XX":return ul(a);case"XXXXX":case"XXX":default:return ul(a,":")}},x:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"x":return Q1(a);case"xxxx":case"xx":return ul(a);case"xxxxx":case"xxx":default:return ul(a,":")}},O:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+G1(a,":");case"OOOO":default:return"GMT"+ul(a,":")}},z:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+G1(a,":");case"zzzz":default:return"GMT"+ul(a,":")}},t:function(n,e,t){const a=Math.trunc(+n/1e3);return Cn(a,e.length)},T:function(n,e,t){return Cn(+n,e.length)}};function G1(n,e=""){const t=n>0?"-":"+",a=Math.abs(n),i=Math.trunc(a/60),l=a%60;return l===0?t+String(i):t+String(i)+e+Cn(l,2)}function Q1(n,e){return n%60===0?(n>0?"-":"+")+Cn(Math.abs(n)/60,2):ul(n,e)}function ul(n,e=""){const t=n>0?"-":"+",a=Math.abs(n),i=Cn(Math.trunc(a/60),2),l=Cn(a%60,2);return t+i+e+l}const K1=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},PT=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},JI=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],a=t[1],i=t[2];if(!i)return K1(n,e);let l;switch(a){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",K1(a,e)).replace("{{time}}",PT(i,e))},e5={p:PT,P:JI},t5=/^D+$/,n5=/^Y+$/,r5=["D","DD","YY","YYYY"];function a5(n){return t5.test(n)}function s5(n){return n5.test(n)}function i5(n,e,t){const a=o5(n,e,t);if(console.warn(a),r5.includes(n))throw new RangeError(a)}function o5(n,e,t){const a=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const l5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u5=/^'([^]*?)'?$/,d5=/''/g,h5=/[a-zA-Z]/;function f5(n,e,t){const a=Ud(),i=t?.locale??a.locale??ky,l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,f=On(n,t?.in);if(!hI(f))throw new RangeError("Invalid time value");let p=e.match(c5).map(b=>{const _=b[0];if(_==="p"||_==="P"){const E=e5[_];return E(b,i.formatLong)}return b}).join("").match(l5).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const _=b[0];if(_==="'")return{isToken:!1,value:m5(b)};if(W1[_])return{isToken:!0,value:b};if(_.match(h5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(p=i.localize.preprocessor(f,p));const g={firstWeekContainsDate:l,weekStartsOn:d,locale:i};return p.map(b=>{if(!b.isToken)return b.value;const _=b.value;(!t?.useAdditionalWeekYearTokens&&s5(_)||!t?.useAdditionalDayOfYearTokens&&a5(_))&&i5(_,e,String(n));const E=W1[_[0]];return E(f,_,i.localize,g)}).join("")}function m5(n){const e=n.match(u5);return e?e[1].replace(d5,"'"):n}function p5(n,e){const t=On(n,e?.in),a=t.getFullYear(),i=t.getMonth(),l=qr(t,0);return l.setFullYear(a,i+1,0),l.setHours(0,0,0,0),l.getDate()}function g5(n,e){return On(n,e?.in).getMonth()}function y5(n,e){return On(n,e?.in).getFullYear()}function v5(n,e){return+On(n)>+On(e)}function x5(n,e){return+On(n)<+On(e)}function b5(n,e,t){const[a,i]=Kc(t?.in,n,e);return a.getFullYear()===i.getFullYear()&&a.getMonth()===i.getMonth()}function _5(n,e,t){const[a,i]=Kc(t?.in,n,e);return a.getFullYear()===i.getFullYear()}function w5(n,e,t){const a=On(n,t?.in),i=a.getFullYear(),l=a.getDate(),d=qr(n,0);d.setFullYear(i,e,15),d.setHours(0,0,0,0);const f=p5(d);return a.setMonth(e,Math.min(l,f)),a}function E5(n,e,t){const a=On(n,t?.in);return isNaN(+a)?qr(n,NaN):(a.setFullYear(e),a)}const X1=5,T5=4;function N5(n,e){const t=e.startOfMonth(n),a=t.getDay()>0?t.getDay():7,i=e.addDays(n,-a+1),l=e.addDays(i,X1*7-1);return e.getMonth(n)===e.getMonth(l)?X1:T5}function kT(n,e){const t=e.startOfMonth(n),a=t.getDay();return a===1?t:a===0?e.addDays(t,-1*6):e.addDays(t,-1*(a-1))}function S5(n,e){const t=kT(n,e),a=N5(n,e);return e.addDays(t,a*7-1)}class Ii{constructor(e,t){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?_a.tz(this.options.timeZone):new this.Date,this.newDate=(a,i,l)=>this.overrides?.newDate?this.overrides.newDate(a,i,l):this.options.timeZone?new _a(a,i,l,this.options.timeZone):new Date(a,i,l),this.addDays=(a,i)=>this.overrides?.addDays?this.overrides.addDays(a,i):TT(a,i),this.addMonths=(a,i)=>this.overrides?.addMonths?this.overrides.addMonths(a,i):NT(a,i),this.addWeeks=(a,i)=>this.overrides?.addWeeks?this.overrides.addWeeks(a,i):oI(a,i),this.addYears=(a,i)=>this.overrides?.addYears?this.overrides.addYears(a,i):lI(a,i),this.differenceInCalendarDays=(a,i)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(a,i):CT(a,i),this.differenceInCalendarMonths=(a,i)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(a,i):fI(a,i),this.eachMonthOfInterval=a=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(a):gI(a),this.endOfBroadcastWeek=a=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(a):S5(a,this),this.endOfISOWeek=a=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(a):xI(a),this.endOfMonth=a=>this.overrides?.endOfMonth?this.overrides.endOfMonth(a):mI(a),this.endOfWeek=(a,i)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(a,i):jT(a,this.options),this.endOfYear=a=>this.overrides?.endOfYear?this.overrides.endOfYear(a):vI(a),this.format=(a,i,l)=>{const d=this.overrides?.format?this.overrides.format(a,i,this.options):f5(a,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(d):d},this.getISOWeek=a=>this.overrides?.getISOWeek?this.overrides.getISOWeek(a):MT(a),this.getMonth=(a,i)=>this.overrides?.getMonth?this.overrides.getMonth(a,this.options):g5(a,this.options),this.getYear=(a,i)=>this.overrides?.getYear?this.overrides.getYear(a,this.options):y5(a,this.options),this.getWeek=(a,i)=>this.overrides?.getWeek?this.overrides.getWeek(a,this.options):OT(a,this.options),this.isAfter=(a,i)=>this.overrides?.isAfter?this.overrides.isAfter(a,i):v5(a,i),this.isBefore=(a,i)=>this.overrides?.isBefore?this.overrides.isBefore(a,i):x5(a,i),this.isDate=a=>this.overrides?.isDate?this.overrides.isDate(a):AT(a),this.isSameDay=(a,i)=>this.overrides?.isSameDay?this.overrides.isSameDay(a,i):dI(a,i),this.isSameMonth=(a,i)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(a,i):b5(a,i),this.isSameYear=(a,i)=>this.overrides?.isSameYear?this.overrides.isSameYear(a,i):_5(a,i),this.max=a=>this.overrides?.max?this.overrides.max(a):cI(a),this.min=a=>this.overrides?.min?this.overrides.min(a):uI(a),this.setMonth=(a,i)=>this.overrides?.setMonth?this.overrides.setMonth(a,i):w5(a,i),this.setYear=(a,i)=>this.overrides?.setYear?this.overrides.setYear(a,i):E5(a,i),this.startOfBroadcastWeek=(a,i)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(a,this):kT(a,this),this.startOfDay=a=>this.overrides?.startOfDay?this.overrides.startOfDay(a):bd(a),this.startOfISOWeek=a=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(a):xd(a),this.startOfMonth=a=>this.overrides?.startOfMonth?this.overrides.startOfMonth(a):yI(a),this.startOfWeek=(a,i)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(a,this.options):Lc(a,this.options),this.startOfYear=a=>this.overrides?.startOfYear?this.overrides.startOfYear(a):RT(a),this.options={locale:ky,...e},this.overrides=t}getDigitMap(){const{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),a={};for(let i=0;i<10;i++)a[i.toString()]=t.format(i);return a}replaceDigits(e){const t=this.getDigitMap();return e.replace(/\d/g,a=>t[a]||a)}formatNumber(e){return this.replaceDigits(e.toString())}}const ni=new Ii;class VT{constructor(e,t,a=ni){this.date=e,this.displayMonth=t,this.outside=!!(t&&!a.isSameMonth(e,t)),this.dateLib=a}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class C5{constructor(e,t){this.date=e,this.weeks=t}}class A5{constructor(e,t){this.days=t,this.weekNumber=e}}function Ni(n,e,t=!1,a=ni){let{from:i,to:l}=n;const{differenceInCalendarDays:d,isSameDay:f}=a;return i&&l?(d(l,i)<0&&([i,l]=[l,i]),d(e,i)>=(t?1:0)&&d(l,e)>=(t?1:0)):!t&&l?f(l,e):!t&&i?f(i,e):!1}function LT(n){return!!(n&&typeof n=="object"&&"before"in n&&"after"in n)}function Vy(n){return!!(n&&typeof n=="object"&&"from"in n)}function UT(n){return!!(n&&typeof n=="object"&&"after"in n)}function zT(n){return!!(n&&typeof n=="object"&&"before"in n)}function BT(n){return!!(n&&typeof n=="object"&&"dayOfWeek"in n)}function FT(n,e){return Array.isArray(n)&&n.every(e.isDate)}function Si(n,e,t=ni){const a=Array.isArray(e)?e:[e],{isSameDay:i,differenceInCalendarDays:l,isAfter:d}=t;return a.some(f=>{if(typeof f=="boolean")return f;if(t.isDate(f))return i(n,f);if(FT(f,t))return f.includes(n);if(Vy(f))return Ni(f,n,!1,t);if(BT(f))return Array.isArray(f.dayOfWeek)?f.dayOfWeek.includes(n.getDay()):f.dayOfWeek===n.getDay();if(LT(f)){const p=l(f.before,n),g=l(f.after,n),b=p>0,_=g<0;return d(f.before,f.after)?_&&b:b||_}return UT(f)?l(n,f.after)>0:zT(f)?l(f.before,n)>0:typeof f=="function"?f(n):!1})}function R5(n,e,t,a,i){const{disabled:l,hidden:d,modifiers:f,showOutsideDays:p,broadcastCalendar:g,today:b}=e,{isSameDay:_,isSameMonth:E,startOfMonth:D,isBefore:P,endOfMonth:U,isAfter:$}=i,Q=t&&D(t),pe=a&&U(a),se={[nr.focused]:[],[nr.outside]:[],[nr.disabled]:[],[nr.hidden]:[],[nr.today]:[]},ge={};for(const de of n){const{date:H,displayMonth:k}=de,R=!!(k&&!E(H,k)),I=!!(Q&&P(H,Q)),j=!!(pe&&$(H,pe)),z=!!(l&&Si(H,l,i)),W=!!(d&&Si(H,d,i))||I||j||!g&&!p&&R||g&&p===!1&&R,V=_(H,b??i.today());R&&se.outside.push(de),z&&se.disabled.push(de),W&&se.hidden.push(de),V&&se.today.push(de),f&&Object.keys(f).forEach(Se=>{const ye=f?.[Se];ye&&Si(H,ye,i)&&(ge[Se]?ge[Se].push(de):ge[Se]=[de])})}return de=>{const H={[nr.focused]:!1,[nr.disabled]:!1,[nr.hidden]:!1,[nr.outside]:!1,[nr.today]:!1},k={};for(const R in se){const I=se[R];H[R]=I.some(j=>j===de)}for(const R in ge)k[R]=ge[R].some(I=>I===de);return{...H,...k}}}function j5(n,e,t={}){return Object.entries(n).filter(([,i])=>i===!0).reduce((i,[l])=>(t[l]?i.push(t[l]):e[nr[l]]?i.push(e[nr[l]]):e[Es[l]]&&i.push(e[Es[l]]),i),[e[it.Day]])}function D5(n){return Ve.createElement("button",{...n})}function M5(n){return Ve.createElement("span",{...n})}function I5(n){const{size:e=24,orientation:t="left",className:a}=n;return Ve.createElement("svg",{className:a,width:e,height:e,viewBox:"0 0 24 24"},t==="up"&&Ve.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),t==="down"&&Ve.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),t==="left"&&Ve.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),t==="right"&&Ve.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function O5(n){const{day:e,modifiers:t,...a}=n;return Ve.createElement("td",{...a})}function P5(n){const{day:e,modifiers:t,...a}=n,i=Ve.useRef(null);return Ve.useEffect(()=>{t.focused&&i.current?.focus()},[t.focused]),Ve.createElement("button",{ref:i,...a})}function k5(n){const{options:e,className:t,components:a,classNames:i,...l}=n,d=[i[it.Dropdown],t].join(" "),f=e?.find(({value:p})=>p===l.value);return Ve.createElement("span",{"data-disabled":l.disabled,className:i[it.DropdownRoot]},Ve.createElement(a.Select,{className:d,...l},e?.map(({value:p,label:g,disabled:b})=>Ve.createElement(a.Option,{key:p,value:p,disabled:b},g))),Ve.createElement("span",{className:i[it.CaptionLabel],"aria-hidden":!0},f?.label,Ve.createElement(a.Chevron,{orientation:"down",size:18,className:i[it.Chevron]})))}function V5(n){return Ve.createElement("div",{...n})}function L5(n){return Ve.createElement("div",{...n})}function U5(n){const{calendarMonth:e,displayIndex:t,...a}=n;return Ve.createElement("div",{...a},n.children)}function z5(n){const{calendarMonth:e,displayIndex:t,...a}=n;return Ve.createElement("div",{...a})}function B5(n){return Ve.createElement("table",{...n})}function F5(n){return Ve.createElement("div",{...n})}const HT=N.createContext(void 0);function zd(){const n=N.useContext(HT);if(n===void 0)throw new Error("useDayPicker() must be used within a custom component.");return n}function H5(n){const{components:e}=zd();return Ve.createElement(e.Dropdown,{...n})}function q5(n){const{onPreviousClick:e,onNextClick:t,previousMonth:a,nextMonth:i,...l}=n,{components:d,classNames:f,labels:{labelPrevious:p,labelNext:g}}=zd(),b=N.useCallback(E=>{i&&t?.(E)},[i,t]),_=N.useCallback(E=>{a&&e?.(E)},[a,e]);return Ve.createElement("nav",{...l},Ve.createElement(d.PreviousMonthButton,{type:"button",className:f[it.PreviousMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":p(a),onClick:_},Ve.createElement(d.Chevron,{disabled:a?void 0:!0,className:f[it.Chevron],orientation:"left"})),Ve.createElement(d.NextMonthButton,{type:"button",className:f[it.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":g(i),onClick:b},Ve.createElement(d.Chevron,{disabled:i?void 0:!0,orientation:"right",className:f[it.Chevron]})))}function $5(n){const{components:e}=zd();return Ve.createElement(e.Button,{...n})}function Y5(n){return Ve.createElement("option",{...n})}function W5(n){const{components:e}=zd();return Ve.createElement(e.Button,{...n})}function G5(n){const{rootRef:e,...t}=n;return Ve.createElement("div",{...t,ref:e})}function Q5(n){return Ve.createElement("select",{...n})}function K5(n){const{week:e,...t}=n;return Ve.createElement("tr",{...t})}function X5(n){return Ve.createElement("th",{...n})}function Z5(n){return Ve.createElement("thead",{"aria-hidden":!0},Ve.createElement("tr",{...n}))}function J5(n){const{week:e,...t}=n;return Ve.createElement("th",{...t})}function eO(n){return Ve.createElement("th",{...n})}function tO(n){return Ve.createElement("tbody",{...n})}function nO(n){const{components:e}=zd();return Ve.createElement(e.Dropdown,{...n})}const rO=Object.freeze(Object.defineProperty({__proto__:null,Button:D5,CaptionLabel:M5,Chevron:I5,Day:O5,DayButton:P5,Dropdown:k5,DropdownNav:V5,Footer:L5,Month:U5,MonthCaption:z5,MonthGrid:B5,Months:F5,MonthsDropdown:H5,Nav:q5,NextMonthButton:$5,Option:Y5,PreviousMonthButton:W5,Root:G5,Select:Q5,Week:K5,WeekNumber:J5,WeekNumberHeader:eO,Weekday:X5,Weekdays:Z5,Weeks:tO,YearsDropdown:nO},Symbol.toStringTag,{value:"Module"}));function aO(n){return{...rO,...n}}function sO(n){const e={"data-mode":n.mode??void 0,"data-required":"required"in n?n.required:void 0,"data-multiple-months":n.numberOfMonths&&n.numberOfMonths>1||void 0,"data-week-numbers":n.showWeekNumber||void 0,"data-broadcast-calendar":n.broadcastCalendar||void 0,"data-nav-layout":n.navLayout||void 0};return Object.entries(n).forEach(([t,a])=>{t.startsWith("data-")&&(e[t]=a)}),e}function iO(){const n={};for(const e in it)n[it[e]]=`rdp-${it[e]}`;for(const e in nr)n[nr[e]]=`rdp-${nr[e]}`;for(const e in Es)n[Es[e]]=`rdp-${Es[e]}`;for(const e in Qa)n[Qa[e]]=`rdp-${Qa[e]}`;return n}function qT(n,e,t){return(t??new Ii(e)).format(n,"LLLL y")}const oO=qT;function lO(n,e,t){return(t??new Ii(e)).format(n,"d")}function cO(n,e=ni){return e.format(n,"LLLL")}function uO(n,e=ni){return n<10?e.formatNumber(`0${n.toLocaleString()}`):e.formatNumber(`${n.toLocaleString()}`)}function dO(){return""}function hO(n,e,t){return(t??new Ii(e)).format(n,"cccccc")}function $T(n,e=ni){return e.format(n,"yyyy")}const fO=$T,mO=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:qT,formatDay:lO,formatMonthCaption:oO,formatMonthDropdown:cO,formatWeekNumber:uO,formatWeekNumberHeader:dO,formatWeekdayName:hO,formatYearCaption:fO,formatYearDropdown:$T},Symbol.toStringTag,{value:"Module"}));function pO(n){return n?.formatMonthCaption&&!n.formatCaption&&(n.formatCaption=n.formatMonthCaption),n?.formatYearCaption&&!n.formatYearDropdown&&(n.formatYearDropdown=n.formatYearCaption),{...mO,...n}}function gO(n,e,t,a,i){const{startOfMonth:l,startOfYear:d,endOfYear:f,eachMonthOfInterval:p,getMonth:g}=i;return p({start:d(n),end:f(n)}).map(E=>{const D=a.formatMonthDropdown(E,i),P=g(E),U=e&&E<l(e)||t&&E>l(t)||!1;return{value:P,label:D,disabled:U}})}function yO(n,e={},t={}){let a={...e?.[it.Day]};return Object.entries(n).filter(([,i])=>i===!0).forEach(([i])=>{a={...a,...t?.[i]}}),a}function vO(n,e,t){const a=n.today(),i=e?n.startOfISOWeek(a):n.startOfWeek(a),l=[];for(let d=0;d<7;d++){const f=n.addDays(i,d);l.push(f)}return l}function xO(n,e,t,a){if(!n||!e)return;const{startOfYear:i,endOfYear:l,addYears:d,getYear:f,isBefore:p,isSameYear:g}=a,b=i(n),_=l(e),E=[];let D=b;for(;p(D,_)||g(D,_);)E.push(D),D=d(D,1);return E.map(P=>{const U=t.formatYearDropdown(P,a);return{value:f(P),label:U,disabled:!1}})}function YT(n,e,t){return(t??new Ii(e)).format(n,"LLLL y")}const bO=YT;function _O(n,e,t,a){let i=(a??new Ii(t)).format(n,"PPPP");return e?.today&&(i=`Today, ${i}`),i}function WT(n,e,t,a){let i=(a??new Ii(t)).format(n,"PPPP");return e.today&&(i=`Today, ${i}`),e.selected&&(i=`${i}, selected`),i}const wO=WT;function EO(){return""}function TO(n){return"Choose the Month"}function NO(n){return"Go to the Next Month"}function SO(n){return"Go to the Previous Month"}function CO(n,e,t){return(t??new Ii(e)).format(n,"cccc")}function AO(n,e){return`Week ${n}`}function RO(n){return"Week Number"}function jO(n){return"Choose the Year"}const DO=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:bO,labelDay:wO,labelDayButton:WT,labelGrid:YT,labelGridcell:_O,labelMonthDropdown:TO,labelNav:EO,labelNext:NO,labelPrevious:SO,labelWeekNumber:AO,labelWeekNumberHeader:RO,labelWeekday:CO,labelYearDropdown:jO},Symbol.toStringTag,{value:"Module"})),Bd=n=>n instanceof HTMLElement?n:null,Ug=n=>[...n.querySelectorAll("[data-animated-month]")??[]],MO=n=>Bd(n.querySelector("[data-animated-month]")),zg=n=>Bd(n.querySelector("[data-animated-caption]")),Bg=n=>Bd(n.querySelector("[data-animated-weeks]")),IO=n=>Bd(n.querySelector("[data-animated-nav]")),OO=n=>Bd(n.querySelector("[data-animated-weekdays]"));function PO(n,e,{classNames:t,months:a,focused:i,dateLib:l}){const d=N.useRef(null),f=N.useRef(a),p=N.useRef(!1);N.useLayoutEffect(()=>{const g=f.current;if(f.current=a,!e||!n.current||!(n.current instanceof HTMLElement)||a.length===0||g.length===0||a.length!==g.length)return;const b=l.isSameMonth(a[0].date,g[0].date),_=l.isAfter(a[0].date,g[0].date),E=_?t[Qa.caption_after_enter]:t[Qa.caption_before_enter],D=_?t[Qa.weeks_after_enter]:t[Qa.weeks_before_enter],P=d.current,U=n.current.cloneNode(!0);if(U instanceof HTMLElement?(Ug(U).forEach(se=>{if(!(se instanceof HTMLElement))return;const ge=MO(se);ge&&se.contains(ge)&&se.removeChild(ge);const de=zg(se);de&&de.classList.remove(E);const H=Bg(se);H&&H.classList.remove(D)}),d.current=U):d.current=null,p.current||b||i)return;const $=P instanceof HTMLElement?Ug(P):[],Q=Ug(n.current);if(Q&&Q.every(pe=>pe instanceof HTMLElement)&&$&&$.every(pe=>pe instanceof HTMLElement)){p.current=!0,n.current.style.isolation="isolate";const pe=IO(n.current);pe&&(pe.style.zIndex="1"),Q.forEach((se,ge)=>{const de=$[ge];if(!de)return;se.style.position="relative",se.style.overflow="hidden";const H=zg(se);H&&H.classList.add(E);const k=Bg(se);k&&k.classList.add(D);const R=()=>{p.current=!1,n.current&&(n.current.style.isolation=""),pe&&(pe.style.zIndex=""),H&&H.classList.remove(E),k&&k.classList.remove(D),se.style.position="",se.style.overflow="",se.contains(de)&&se.removeChild(de)};de.style.pointerEvents="none",de.style.position="absolute",de.style.overflow="hidden",de.setAttribute("aria-hidden","true");const I=OO(de);I&&(I.style.opacity="0");const j=zg(de);j&&(j.classList.add(_?t[Qa.caption_before_exit]:t[Qa.caption_after_exit]),j.addEventListener("animationend",R));const z=Bg(de);z&&z.classList.add(_?t[Qa.weeks_before_exit]:t[Qa.weeks_after_exit]),se.insertBefore(de,se.firstChild)})}})}function kO(n,e,t,a){const i=n[0],l=n[n.length-1],{ISOWeek:d,fixedWeeks:f,broadcastCalendar:p}=t??{},{addDays:g,differenceInCalendarDays:b,differenceInCalendarMonths:_,endOfBroadcastWeek:E,endOfISOWeek:D,endOfMonth:P,endOfWeek:U,isAfter:$,startOfBroadcastWeek:Q,startOfISOWeek:pe,startOfWeek:se}=a,ge=p?Q(i,a):d?pe(i):se(i),de=p?E(l):d?D(P(l)):U(P(l)),H=b(de,ge),k=_(l,i)+1,R=[];for(let z=0;z<=H;z++){const W=g(ge,z);if(e&&$(W,e))break;R.push(W)}const j=(p?35:42)*k;if(f&&R.length<j){const z=j-R.length;for(let W=0;W<z;W++){const V=g(R[R.length-1],1);R.push(V)}}return R}function VO(n){const e=[];return n.reduce((t,a)=>{const i=a.weeks.reduce((l,d)=>[...l,...d.days],e);return[...t,...i]},e)}function LO(n,e,t,a){const{numberOfMonths:i=1}=t,l=[];for(let d=0;d<i;d++){const f=a.addMonths(n,d);if(e&&f>e)break;l.push(f)}return l}function Z1(n,e,t,a){const{month:i,defaultMonth:l,today:d=a.today(),numberOfMonths:f=1}=n;let p=i||l||d;const{differenceInCalendarMonths:g,addMonths:b,startOfMonth:_}=a;if(t&&g(t,p)<f-1){const E=-1*(f-1);p=b(t,E)}return e&&g(p,e)<0&&(p=e),_(p)}function UO(n,e,t,a){const{addDays:i,endOfBroadcastWeek:l,endOfISOWeek:d,endOfMonth:f,endOfWeek:p,getISOWeek:g,getWeek:b,startOfBroadcastWeek:_,startOfISOWeek:E,startOfWeek:D}=a,P=n.reduce((U,$)=>{const Q=t.broadcastCalendar?_($,a):t.ISOWeek?E($):D($),pe=t.broadcastCalendar?l($):t.ISOWeek?d(f($)):p(f($)),se=e.filter(k=>k>=Q&&k<=pe),ge=t.broadcastCalendar?35:42;if(t.fixedWeeks&&se.length<ge){const k=e.filter(R=>{const I=ge-se.length;return R>pe&&R<=i(pe,I)});se.push(...k)}const de=se.reduce((k,R)=>{const I=t.ISOWeek?g(R):b(R),j=k.find(W=>W.weekNumber===I),z=new VT(R,$,a);return j?j.days.push(z):k.push(new A5(I,[z])),k},[]),H=new C5($,de);return U.push(H),U},[]);return t.reverseMonths?P.reverse():P}function zO(n,e){let{startMonth:t,endMonth:a}=n;const{startOfYear:i,startOfDay:l,startOfMonth:d,endOfMonth:f,addYears:p,endOfYear:g,newDate:b,today:_}=e,{fromYear:E,toYear:D,fromMonth:P,toMonth:U}=n;!t&&P&&(t=P),!t&&E&&(t=e.newDate(E,0,1)),!a&&U&&(a=U),!a&&D&&(a=b(D,11,31));const $=n.captionLayout==="dropdown"||n.captionLayout==="dropdown-years";return t?t=d(t):E?t=b(E,0,1):!t&&$&&(t=i(p(n.today??_(),-100))),a?a=f(a):D?a=b(D,11,31):!a&&$&&(a=g(n.today??_())),[t&&l(t),a&&l(a)]}function BO(n,e,t,a){if(t.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:l=1}=t,{startOfMonth:d,addMonths:f,differenceInCalendarMonths:p}=a,g=i?l:1,b=d(n);if(!e)return f(b,g);if(!(p(e,n)<l))return f(b,g)}function FO(n,e,t,a){if(t.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:l}=t,{startOfMonth:d,addMonths:f,differenceInCalendarMonths:p}=a,g=i?l??1:1,b=d(n);if(!e)return f(b,-g);if(!(p(b,e)<=0))return f(b,-g)}function HO(n){const e=[];return n.reduce((t,a)=>[...t,...a.weeks],e)}function Cm(n,e){const[t,a]=N.useState(n);return[e===void 0?t:e,a]}function qO(n,e){const[t,a]=zO(n,e),{startOfMonth:i,endOfMonth:l}=e,d=Z1(n,t,a,e),[f,p]=Cm(d,n.month?d:void 0);N.useEffect(()=>{const H=Z1(n,t,a,e);p(H)},[n.timeZone]);const g=LO(f,a,n,e),b=kO(g,n.endMonth?l(n.endMonth):void 0,n,e),_=UO(g,b,n,e),E=HO(_),D=VO(_),P=FO(f,t,n,e),U=BO(f,a,n,e),{disableNavigation:$,onMonthChange:Q}=n,pe=H=>E.some(k=>k.days.some(R=>R.isEqualTo(H))),se=H=>{if($)return;let k=i(H);t&&k<i(t)&&(k=i(t)),a&&k>i(a)&&(k=i(a)),p(k),Q?.(k)};return{months:_,weeks:E,days:D,navStart:t,navEnd:a,previousMonth:P,nextMonth:U,goToMonth:se,goToDay:H=>{pe(H)||se(H.date)}}}var Bs;(function(n){n[n.Today=0]="Today",n[n.Selected=1]="Selected",n[n.LastFocused=2]="LastFocused",n[n.FocusedModifier=3]="FocusedModifier"})(Bs||(Bs={}));function J1(n){return!n[nr.disabled]&&!n[nr.hidden]&&!n[nr.outside]}function $O(n,e,t,a){let i,l=-1;for(const d of n){const f=e(d);J1(f)&&(f[nr.focused]&&l<Bs.FocusedModifier?(i=d,l=Bs.FocusedModifier):a?.isEqualTo(d)&&l<Bs.LastFocused?(i=d,l=Bs.LastFocused):t(d.date)&&l<Bs.Selected?(i=d,l=Bs.Selected):f[nr.today]&&l<Bs.Today&&(i=d,l=Bs.Today))}return i||(i=n.find(d=>J1(e(d)))),i}function YO(n,e,t,a,i,l,d){const{ISOWeek:f,broadcastCalendar:p}=l,{addDays:g,addMonths:b,addWeeks:_,addYears:E,endOfBroadcastWeek:D,endOfISOWeek:P,endOfWeek:U,max:$,min:Q,startOfBroadcastWeek:pe,startOfISOWeek:se,startOfWeek:ge}=d;let H={day:g,week:_,month:b,year:E,startOfWeek:k=>p?pe(k,d):f?se(k):ge(k),endOfWeek:k=>p?D(k):f?P(k):U(k)}[n](t,e==="after"?1:-1);return e==="before"&&a?H=$([a,H]):e==="after"&&i&&(H=Q([i,H])),H}function GT(n,e,t,a,i,l,d,f=0){if(f>365)return;const p=YO(n,e,t.date,a,i,l,d),g=!!(l.disabled&&Si(p,l.disabled,d)),b=!!(l.hidden&&Si(p,l.hidden,d)),_=p,E=new VT(p,_,d);return!g&&!b?E:GT(n,e,E,a,i,l,d,f+1)}function WO(n,e,t,a,i){const{autoFocus:l}=n,[d,f]=N.useState(),p=$O(e.days,t,a||(()=>!1),d),[g,b]=N.useState(l?p:void 0);return{isFocusTarget:U=>!!p?.isEqualTo(U),setFocused:b,focused:g,blur:()=>{f(g),b(void 0)},moveFocus:(U,$)=>{if(!g)return;const Q=GT(U,$,g,e.navStart,e.navEnd,n,i);Q&&(e.goToDay(Q),b(Q))}}}function GO(n,e){const{selected:t,required:a,onSelect:i}=n,[l,d]=Cm(t,i?t:void 0),f=i?t:l,{isSameDay:p}=e,g=D=>f?.some(P=>p(P,D))??!1,{min:b,max:_}=n;return{selected:f,select:(D,P,U)=>{let $=[...f??[]];if(g(D)){if(f?.length===b||a&&f?.length===1)return;$=f?.filter(Q=>!p(Q,D))}else f?.length===_?$=[D]:$=[...$,D];return i||d($),i?.($,D,P,U),$},isSelected:g}}function QO(n,e,t=0,a=0,i=!1,l=ni){const{from:d,to:f}=e||{},{isSameDay:p,isAfter:g,isBefore:b}=l;let _;if(!d&&!f)_={from:n,to:t>0?void 0:n};else if(d&&!f)p(d,n)?i?_={from:d,to:void 0}:_=void 0:b(n,d)?_={from:n,to:d}:_={from:d,to:n};else if(d&&f)if(p(d,n)&&p(f,n))i?_={from:d,to:f}:_=void 0;else if(p(d,n))_={from:d,to:t>0?void 0:n};else if(p(f,n))_={from:n,to:t>0?void 0:n};else if(b(n,d))_={from:n,to:f};else if(g(n,d))_={from:d,to:n};else if(g(n,f))_={from:d,to:n};else throw new Error("Invalid range");if(_?.from&&_?.to){const E=l.differenceInCalendarDays(_.to,_.from);a>0&&E>a?_={from:n,to:void 0}:t>1&&E<t&&(_={from:n,to:void 0})}return _}function KO(n,e,t=ni){const a=Array.isArray(e)?e:[e];let i=n.from;const l=t.differenceInCalendarDays(n.to,n.from),d=Math.min(l,6);for(let f=0;f<=d;f++){if(a.includes(i.getDay()))return!0;i=t.addDays(i,1)}return!1}function ew(n,e,t=ni){return Ni(n,e.from,!1,t)||Ni(n,e.to,!1,t)||Ni(e,n.from,!1,t)||Ni(e,n.to,!1,t)}function XO(n,e,t=ni){const a=Array.isArray(e)?e:[e];if(a.filter(f=>typeof f!="function").some(f=>typeof f=="boolean"?f:t.isDate(f)?Ni(n,f,!1,t):FT(f,t)?f.some(p=>Ni(n,p,!1,t)):Vy(f)?f.from&&f.to?ew(n,{from:f.from,to:f.to},t):!1:BT(f)?KO(n,f.dayOfWeek,t):LT(f)?t.isAfter(f.before,f.after)?ew(n,{from:t.addDays(f.after,1),to:t.addDays(f.before,-1)},t):Si(n.from,f,t)||Si(n.to,f,t):UT(f)||zT(f)?Si(n.from,f,t)||Si(n.to,f,t):!1))return!0;const d=a.filter(f=>typeof f=="function");if(d.length){let f=n.from;const p=t.differenceInCalendarDays(n.to,n.from);for(let g=0;g<=p;g++){if(d.some(b=>b(f)))return!0;f=t.addDays(f,1)}}return!1}function ZO(n,e){const{disabled:t,excludeDisabled:a,selected:i,required:l,onSelect:d}=n,[f,p]=Cm(i,d?i:void 0),g=d?i:f;return{selected:g,select:(E,D,P)=>{const{min:U,max:$}=n,Q=E?QO(E,g,U,$,l,e):void 0;return a&&t&&Q?.from&&Q.to&&XO({from:Q.from,to:Q.to},t,e)&&(Q.from=E,Q.to=void 0),d||p(Q),d?.(Q,E,D,P),Q},isSelected:E=>g&&Ni(g,E,!1,e)}}function JO(n,e){const{selected:t,required:a,onSelect:i}=n,[l,d]=Cm(t,i?t:void 0),f=i?t:l,{isSameDay:p}=e;return{selected:f,select:(_,E,D)=>{let P=_;return!a&&f&&f&&p(_,f)&&(P=void 0),i||d(P),i?.(P,_,E,D),P},isSelected:_=>f?p(f,_):!1}}function eP(n,e){const t=JO(n,e),a=GO(n,e),i=ZO(n,e);switch(n.mode){case"single":return t;case"multiple":return a;case"range":return i;default:return}}function tP(n){let e=n;e.timeZone&&(e={...n},e.today&&(e.today=new _a(e.today,e.timeZone)),e.month&&(e.month=new _a(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new _a(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new _a(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new _a(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new _a(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(ft=>new _a(ft,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new _a(e.selected.from,e.timeZone):void 0,to:e.selected.to?new _a(e.selected.to,e.timeZone):void 0}));const{components:t,formatters:a,labels:i,dateLib:l,locale:d,classNames:f}=N.useMemo(()=>{const ft={...ky,...e.locale};return{dateLib:new Ii({locale:ft,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:aO(e.components),formatters:pO(e.formatters),labels:{...DO,...e.labels},locale:ft,classNames:{...iO(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:p,mode:g,navLayout:b,numberOfMonths:_=1,onDayBlur:E,onDayClick:D,onDayFocus:P,onDayKeyDown:U,onDayMouseEnter:$,onDayMouseLeave:Q,onNextClick:pe,onPrevClick:se,showWeekNumber:ge,styles:de}=e,{formatCaption:H,formatDay:k,formatMonthDropdown:R,formatWeekNumber:I,formatWeekNumberHeader:j,formatWeekdayName:z,formatYearDropdown:W}=a,V=qO(e,l),{days:Se,months:ye,navStart:B,navEnd:le,previousMonth:oe,nextMonth:Ce,goToMonth:O}=V,ne=R5(Se,e,B,le,l),{isSelected:_e,select:me,selected:Me}=eP(e,l)??{},{blur:Be,focused:qe,isFocusTarget:Lt,moveFocus:At,setFocused:ht}=WO(e,V,ne,_e??(()=>!1),l),{labelDayButton:_t,labelGridcell:It,labelGrid:mn,labelMonthDropdown:rt,labelNav:Rt,labelPrevious:ha,labelNext:ja,labelWeekday:Pn,labelWeekNumber:Yr,labelWeekNumberHeader:br,labelYearDropdown:_r}=i,Or=N.useMemo(()=>vO(l,e.ISOWeek),[l,e.ISOWeek]),sr=g!==void 0||D!==void 0,Ln=N.useCallback(()=>{oe&&(O(oe),se?.(oe))},[oe,O,se]),Wr=N.useCallback(()=>{Ce&&(O(Ce),pe?.(Ce))},[O,Ce,pe]),fa=N.useCallback((ft,Ut)=>Tt=>{Tt.preventDefault(),Tt.stopPropagation(),ht(ft),me?.(ft.date,Ut,Tt),D?.(ft.date,Ut,Tt)},[me,D,ht]),jt=N.useCallback((ft,Ut)=>Tt=>{ht(ft),P?.(ft.date,Ut,Tt)},[P,ht]),Ze=N.useCallback((ft,Ut)=>Tt=>{Be(),E?.(ft.date,Ut,Tt)},[Be,E]),sn=N.useCallback((ft,Ut)=>Tt=>{const Rn={ArrowLeft:[Tt.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[Tt.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[Tt.shiftKey?"year":"week","after"],ArrowUp:[Tt.shiftKey?"year":"week","before"],PageUp:[Tt.shiftKey?"year":"month","before"],PageDown:[Tt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Rn[Tt.key]){Tt.preventDefault(),Tt.stopPropagation();const[En,Er]=Rn[Tt.key];At(En,Er)}U?.(ft.date,Ut,Tt)},[At,U,e.dir]),vn=N.useCallback((ft,Ut)=>Tt=>{$?.(ft.date,Ut,Tt)},[$]),ma=N.useCallback((ft,Ut)=>Tt=>{Q?.(ft.date,Ut,Tt)},[Q]),at=N.useCallback(ft=>Ut=>{const Tt=Number(Ut.target.value),Rn=l.setMonth(l.startOfMonth(ft),Tt);O(Rn)},[l,O]),Pr=N.useCallback(ft=>Ut=>{const Tt=Number(Ut.target.value),Rn=l.setYear(l.startOfMonth(ft),Tt);O(Rn)},[l,O]),{className:wr,style:ur}=N.useMemo(()=>({className:[f[it.Root],e.className].filter(Boolean).join(" "),style:{...de?.[it.Root],...e.style}}),[f,e.className,e.style,de]),ir=sO(e),Gr=N.useRef(null);PO(Gr,!!e.animate,{classNames:f,months:ye,focused:qe,dateLib:l});const dr={dayPickerProps:e,selected:Me,select:me,isSelected:_e,months:ye,nextMonth:Ce,previousMonth:oe,goToMonth:O,getModifiers:ne,components:t,classNames:f,styles:de,labels:i,formatters:a};return Ve.createElement(HT.Provider,{value:dr},Ve.createElement(t.Root,{rootRef:e.animate?Gr:void 0,className:wr,style:ur,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...ir},Ve.createElement(t.Months,{className:f[it.Months],style:de?.[it.Months]},!e.hideNavigation&&!b&&Ve.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:f[it.Nav],style:de?.[it.Nav],"aria-label":Rt(),onPreviousClick:Ln,onNextClick:Wr,previousMonth:oe,nextMonth:Ce}),ye.map((ft,Ut)=>{const Tt=gO(ft.date,B,le,a,l),Rn=xO(B,le,a,l);return Ve.createElement(t.Month,{"data-animated-month":e.animate?"true":void 0,className:f[it.Month],style:de?.[it.Month],key:Ut,displayIndex:Ut,calendarMonth:ft},b==="around"&&!e.hideNavigation&&Ut===0&&Ve.createElement(t.PreviousMonthButton,{type:"button",className:f[it.PreviousMonthButton],tabIndex:oe?void 0:-1,"aria-disabled":oe?void 0:!0,"aria-label":ha(oe),onClick:Ln,"data-animated-button":e.animate?"true":void 0},Ve.createElement(t.Chevron,{disabled:oe?void 0:!0,className:f[it.Chevron],orientation:e.dir==="rtl"?"right":"left"})),Ve.createElement(t.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:f[it.MonthCaption],style:de?.[it.MonthCaption],calendarMonth:ft,displayIndex:Ut},p?.startsWith("dropdown")?Ve.createElement(t.DropdownNav,{className:f[it.Dropdowns],style:de?.[it.Dropdowns]},p==="dropdown"||p==="dropdown-months"?Ve.createElement(t.MonthsDropdown,{className:f[it.MonthsDropdown],"aria-label":rt(),classNames:f,components:t,disabled:!!e.disableNavigation,onChange:at(ft.date),options:Tt,style:de?.[it.Dropdown],value:l.getMonth(ft.date)}):Ve.createElement("span",null,R(ft.date,l)),p==="dropdown"||p==="dropdown-years"?Ve.createElement(t.YearsDropdown,{className:f[it.YearsDropdown],"aria-label":_r(l.options),classNames:f,components:t,disabled:!!e.disableNavigation,onChange:Pr(ft.date),options:Rn,style:de?.[it.Dropdown],value:l.getYear(ft.date)}):Ve.createElement("span",null,W(ft.date,l)),Ve.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},H(ft.date,l.options,l))):Ve.createElement(t.CaptionLabel,{className:f[it.CaptionLabel],role:"status","aria-live":"polite"},H(ft.date,l.options,l))),b==="around"&&!e.hideNavigation&&Ut===_-1&&Ve.createElement(t.NextMonthButton,{type:"button",className:f[it.NextMonthButton],tabIndex:Ce?void 0:-1,"aria-disabled":Ce?void 0:!0,"aria-label":ja(Ce),onClick:Wr,"data-animated-button":e.animate?"true":void 0},Ve.createElement(t.Chevron,{disabled:Ce?void 0:!0,className:f[it.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Ut===_-1&&b==="after"&&!e.hideNavigation&&Ve.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:f[it.Nav],style:de?.[it.Nav],"aria-label":Rt(),onPreviousClick:Ln,onNextClick:Wr,previousMonth:oe,nextMonth:Ce}),Ve.createElement(t.MonthGrid,{role:"grid","aria-multiselectable":g==="multiple"||g==="range","aria-label":mn(ft.date,l.options,l)||void 0,className:f[it.MonthGrid],style:de?.[it.MonthGrid]},!e.hideWeekdays&&Ve.createElement(t.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:f[it.Weekdays],style:de?.[it.Weekdays]},ge&&Ve.createElement(t.WeekNumberHeader,{"aria-label":br(l.options),className:f[it.WeekNumberHeader],style:de?.[it.WeekNumberHeader],scope:"col"},j()),Or.map((En,Er)=>Ve.createElement(t.Weekday,{"aria-label":Pn(En,l.options,l),className:f[it.Weekday],key:Er,style:de?.[it.Weekday],scope:"col"},z(En,l.options,l)))),Ve.createElement(t.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:f[it.Weeks],style:de?.[it.Weeks]},ft.weeks.map((En,Er)=>Ve.createElement(t.Week,{className:f[it.Week],key:En.weekNumber,style:de?.[it.Week],week:En},ge&&Ve.createElement(t.WeekNumber,{week:En,style:de?.[it.WeekNumber],"aria-label":Yr(En.weekNumber,{locale:d}),className:f[it.WeekNumber],scope:"row",role:"rowheader"},I(En.weekNumber,l)),En.days.map(zt=>{const{date:Tn}=zt,wt=ne(zt);if(wt[nr.focused]=!wt.hidden&&!!qe?.isEqualTo(zt),wt[Es.selected]=_e?.(Tn)||wt.selected,Vy(Me)){const{from:X,to:ve}=Me;wt[Es.range_start]=!!(X&&ve&&l.isSameDay(Tn,X)),wt[Es.range_end]=!!(X&&ve&&l.isSameDay(Tn,ve)),wt[Es.range_middle]=Ni(Me,Tn,!0,l)}const ta=yO(wt,de,e.modifiersStyles),q=j5(wt,f,e.modifiersClassNames),ee=!sr&&!wt.hidden?It(Tn,wt,l.options,l):void 0;return Ve.createElement(t.Day,{key:`${l.format(Tn,"yyyy-MM-dd")}_${l.format(zt.displayMonth,"yyyy-MM")}`,day:zt,modifiers:wt,className:q.join(" "),style:ta,role:"gridcell","aria-selected":wt.selected||void 0,"aria-label":ee,"data-day":l.format(Tn,"yyyy-MM-dd"),"data-month":zt.outside?l.format(Tn,"yyyy-MM"):void 0,"data-selected":wt.selected||void 0,"data-disabled":wt.disabled||void 0,"data-hidden":wt.hidden||void 0,"data-outside":zt.outside||void 0,"data-focused":wt.focused||void 0,"data-today":wt.today||void 0},!wt.hidden&&sr?Ve.createElement(t.DayButton,{className:f[it.DayButton],style:de?.[it.DayButton],type:"button",day:zt,modifiers:wt,disabled:wt.disabled||void 0,tabIndex:Lt(zt)?0:-1,"aria-label":_t(Tn,wt,l.options,l),onClick:fa(zt,wt),onBlur:Ze(zt,wt),onFocus:jt(zt,wt),onKeyDown:sn(zt,wt),onMouseEnter:vn(zt,wt),onMouseLeave:ma(zt,wt)},k(Tn,l.options,l)):!wt.hidden&&k(zt.date,l.options,l))}))))))})),e.footer&&Ve.createElement(t.Footer,{className:f[it.Footer],style:de?.[it.Footer],role:"status","aria-live":"polite"},e.footer)))}const nP={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},rP=(n,e,t)=>{let a;const i=nP[n];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",String(e)),t?.addSuffix?t.comparison&&t.comparison>0?"em "+a:"h "+a:a},aP={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},sP={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},iP={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oP={date:Rc({formats:aP,defaultWidth:"full"}),time:Rc({formats:sP,defaultWidth:"full"}),dateTime:Rc({formats:iP,defaultWidth:"full"})},lP={lastWeek:n=>{const e=n.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},cP=(n,e,t,a)=>{const i=lP[n];return typeof i=="function"?i(e):i},uP={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},dP={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},hP={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},fP={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},mP={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},pP={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},gP=(n,e)=>{const t=Number(n);return e?.unit==="week"?t+"":t+""},yP={ordinalNumber:gP,era:Hs({values:uP,defaultWidth:"wide"}),quarter:Hs({values:dP,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Hs({values:hP,defaultWidth:"wide"}),day:Hs({values:fP,defaultWidth:"wide"}),dayPeriod:Hs({values:mP,defaultWidth:"wide",formattingValues:pP,defaultFormattingWidth:"wide"})},vP=/^(\d+)[o]?/i,xP=/\d+/i,bP={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},_P={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},wP={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},EP={any:[/1/i,/2/i,/3/i,/4/i]},TP={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},NP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},SP={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},CP={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},AP={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},RP={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},jP={ordinalNumber:DT({matchPattern:vP,parsePattern:xP,valueCallback:n=>parseInt(n,10)}),era:qs({matchPatterns:bP,defaultMatchWidth:"wide",parsePatterns:_P,defaultParseWidth:"any"}),quarter:qs({matchPatterns:wP,defaultMatchWidth:"wide",parsePatterns:EP,defaultParseWidth:"any",valueCallback:n=>n+1}),month:qs({matchPatterns:TP,defaultMatchWidth:"wide",parsePatterns:NP,defaultParseWidth:"any"}),day:qs({matchPatterns:SP,defaultMatchWidth:"wide",parsePatterns:CP,defaultParseWidth:"any"}),dayPeriod:qs({matchPatterns:AP,defaultMatchWidth:"any",parsePatterns:RP,defaultParseWidth:"any"})},DP={code:"pt-BR",formatDistance:rP,formatLong:oP,formatRelative:cP,localize:yP,match:jP,options:{weekStartsOn:0,firstWeekContainsDate:1}},MP=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),Hu=n=>MP.format(Number.isFinite(n)?n:0),wl=n=>n.toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),IP=n=>(n??"").toString().trim().toLowerCase(),OP=n=>{const e=IP(n.status);return["pago","confirmado","pre_reserva"].includes(e)?!0:!e&&!!n.confirmada},Fg=n=>n.id??wl(n.nome),wc=(n,e)=>{if(!n)return;if(e.id&&e.id in n)return Number(n[e.id]);if(e.nome in n)return Number(n[e.nome]);const t=wl(e.nome);for(const[a,i]of Object.entries(n))if(wl(a)===t)return Number(i)},af=(n,e,t)=>{const a=e.find(l=>wl(l.nome).includes(t));if(!a)return;const i=wc(n,a);return Number.isFinite(i)?Number(i):void 0},PP=(n,e)=>{if(!e)return 0;const t=wl(n.nome);return t.includes("adult")?Number(e.precoAdulto??0):t.includes("crian")?Number(e.precoCrianca??0):t.includes("bariat")?Number(e.precoBariatrica??0):0},qu=(n,e,t)=>{const a=wc(n,e);return Number.isFinite(a)?Number(a):PP(e,t)},vo=n=>{const e=Number(n);return Number.isFinite(e)?Math.max(e,0):0},ed=n=>n?Object.values(n).reduce((e,t)=>e+vo(t),0):0,ea=n=>n.replace(/\D/g,""),C0=[{id:"visa",label:"Visa",pattern:/^4/,badgeClass:"bg-blue-600 text-white"},{id:"mastercard",label:"Mastercard",pattern:/^(5[1-5]|2[2-7])/,badgeClass:"bg-rose-600 text-white"},{id:"amex",label:"Amex",pattern:/^3[47]/,badgeClass:"bg-sky-600 text-white"},{id:"elo",label:"Elo",pattern:/^(4011(78|79)|431274|438935|451416|457393|45763[12]|504175|5067(0|1|2)|5090|627780|636297|636368|650)/,badgeClass:"bg-emerald-600 text-white"},{id:"hipercard",label:"Hipercard",pattern:/^(606282|3841)/,badgeClass:"bg-indigo-600 text-white"}],QT=n=>{const e=ea(n);return e?C0.find(a=>a.pattern.test(e))?.id??null:null},kP=n=>n==="amex"?15:19,VP=n=>{const e=ea(n).slice(0,11),t=e.slice(0,3),a=e.slice(3,6),i=e.slice(6,9),l=e.slice(9,11);let d=t;return a&&(d+=`.${a}`),i&&(d+=`.${i}`),l&&(d+=`-${l}`),d},LP=n=>{const e=ea(n).slice(0,11);return e.length===0?"":e.length<2?`(${e}`:e.length===2?`(${e})`:e.length<=6?`(${e.slice(0,2)}) ${e.slice(2)}`:e.length<=10?`(${e.slice(0,2)}) ${e.slice(2,6)}-${e.slice(6)}`:`(${e.slice(0,2)}) ${e.slice(2,7)}-${e.slice(7)}`},UP=n=>{const e=ea(n).slice(0,8);return e.length<=5?e:`${e.slice(0,5)}-${e.slice(5)}`},zP=n=>{const e=ea(n),t=QT(e),a=kP(t),i=e.slice(0,a);if(t==="amex"){const l=/^(\d{0,4})(\d{0,6})(\d{0,5})$/.exec(i);return l?[l[1],l[2],l[3]].filter(Boolean).join(" "):i}return i.replace(/(\d{4})(?=\d)/g,"$1 ")},BP=n=>{const e=ea(n).slice(0,6);return e.length<=2?e:`${e.slice(0,2)}/${e.slice(2)}`},FP=n=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.trim()),HP=n=>{const e=ea(n);if(e.length!==11||/^(\d)\1+$/.test(e))return!1;let t=0;for(let l=0;l<9;l+=1)t+=Number(e[l])*(10-l);let a=t*10%11;if(a===10&&(a=0),a!==Number(e[9]))return!1;t=0;for(let l=0;l<10;l+=1)t+=Number(e[l])*(11-l);let i=t*10%11;return i===10&&(i=0),i===Number(e[10])},tw=n=>{const e=ea(n);if(e.length<4)return null;const t=Number(e.slice(0,2));if(!Number.isFinite(t)||t<1||t>12)return null;let a=Number(e.slice(2));return!Number.isFinite(a)||(e.length===4&&(a+=2e3),e.length>=6&&(a=Number(e.slice(2,6))),!Number.isFinite(a)||a<2e3)?null:{month:t,year:a}},nw=(n,e)=>{const t=n?.error||n?.message||n?.details?.errors?.[0]?.description;return t?String(t):e},qP=n=>{const e=ea(n);if(e.length<13||e.length>19)return!1;let t=0,a=!1;for(let i=e.length-1;i>=0;i-=1){let l=Number(e[i]);a&&(l*=2,l>9&&(l-=9)),t+=l,a=!a}return t%10===0},rw=n=>{const e=/^(\d{1,2}):(\d{2})/.exec(n.trim());if(!e)return null;const t=Number(e[1]),a=Number(e[2]);return!Number.isFinite(t)||!Number.isFinite(a)?null:t*60+a},aw=n=>{const e=vo(n.participantes),t=n.participantesPorTipo&&Object.keys(n.participantesPorTipo).length>0?ed(n.participantesPorTipo):0,i=(t>0?t:vo(n.adultos)+vo(n.criancas)+vo(n.bariatrica))+vo(n.naoPagante);return Math.max(i,e)};function $P(){const[n,e]=N.useState([]),[t,a]=N.useState([]),[i,l]=N.useState([]),[d,f]=N.useState(!0),[p,g]=N.useState([]),[b,_]=N.useState([]),[E,D]=N.useState(""),[P,U]=N.useState(""),[$,Q]=N.useState(""),[pe,se]=N.useState(""),[ge,de]=N.useState(),[H,k]=N.useState(""),[R,I]=N.useState(new Set),[j,z]=N.useState(!1),[W,V]=N.useState({}),[Se]=N.useState(0),[ye,B]=N.useState(null),[le,oe]=N.useState(!1),[Ce,O]=N.useState(null),[ne,_e]=N.useState("CREDIT_CARD"),[me,Me]=N.useState(""),[Be,qe]=N.useState(""),[Lt,At]=N.useState(""),[ht,_t]=N.useState(""),[It,mn]=N.useState(null),[rt,Rt]=N.useState(""),[ha,ja]=N.useState(""),[Pn,Yr]=N.useState(""),[br,_r]=N.useState(""),[Or,sr]=N.useState(""),[Ln,Wr]=N.useState(""),[fa,jt]=N.useState(""),[Ze,sn]=N.useState({}),[vn,ma]=N.useState({}),[at,Pr]=N.useState({}),wr=N.useRef(null),ur=N.useRef(null),ir=N.useRef(null),Gr=N.useRef(null),dr=N.useRef(null),ft=N.useRef(null),Ut=N.useRef(null),Tt=N.useRef(null),Rn=N.useRef(null),En=N.useRef(null),[Er,zt]=N.useState(null),[Tn,wt]=N.useState(null),[ta,q]=N.useState(null),ee=N.useRef(null);N.useEffect(()=>{O(null),zt(null),wt(null),q(null),mn(null)},[ne]);const X=N.useMemo(()=>QT(Be),[Be]),ve=N.useMemo(()=>X?C0.find(M=>M.id===X)??null:null,[X]),je=X==="amex"?"0000 000000 00000":"0000 0000 0000 0000",ke=X==="amex"?17:23,Qe=X==="amex"?4:3,Ue=X==="amex"?"1234":"123",$e=Be.trim()?Be:je,Ye=me.trim()?me.trim().toUpperCase():"NOME NO CARTAO",ot=Lt.trim()?Lt:"MM/AA",Ke=ne==="CREDIT_CARD"&&["processing","pending"].includes(It?.status??"");N.useEffect(()=>{_t(M=>M.slice(0,Qe))},[Qe]);const lt=()=>{_([]),D(""),U(""),Q(""),se(""),de(void 0),k(""),V({}),B(null),O(null),_e("CREDIT_CARD"),Me(""),qe(""),At(""),_t(""),Rt(""),ja(""),Yr(""),_r(""),sr(""),Wr(""),jt(""),sn({}),Pr({}),zt(null),wt(null),q(null)},tt=(()=>{const M=new Date;return M.setHours(0,0,0,0),M})(),Je=M=>`w-full px-3 py-2 rounded-md border focus:outline-none focus:ring-2 ${at[M]?"border-red-400 focus:ring-red-500":"border-black focus:ring-black"}`,We=N.useCallback((M,te)=>{Pr(xe=>{if(te)return xe[M]===te?xe:{...xe,[M]:te};if(!(M in xe))return xe;const{[M]:fe,...De}=xe;return De})},[]),Ot=["nome","email","cpf","telefone"],Et=M=>{switch(M){case"nome":{const te=E.trim();return te?te.length<3?"Digite um nome vlido.":"":"Informe seu nome completo."}case"email":{const te=P.trim();return te?FP(te)?"":"Digite um e-mail vlido.":"Informe seu e-mail."}case"cpf":{const te=pe.trim();return te?HP(te)?"":"Digite um CPF vlido.":"Informe seu CPF."}case"telefone":{const te=$.trim();return te&&ea(te).length<10?"Digite um telefone vlido com DDD.":""}default:return""}},hr=N.useCallback(M=>{const te=["pacotes","nome","email","cpf","telefone","data","horario","participantes","pet","cartaoNome","cartaoNumero","cartaoValidade","cartaoCvv","enderecoCep","enderecoRua","enderecoNumero","enderecoBairro","enderecoCidade","enderecoEstado"],xe=fe=>{switch(fe){case"pacotes":return wr.current;case"nome":return ur.current;case"email":return ir.current;case"cpf":return Gr.current;case"telefone":return dr.current;case"data":return ft.current;case"horario":return Ut.current;case"participantes":return Tt.current;case"pet":return Rn.current;case"cartaoNome":case"cartaoNumero":case"cartaoValidade":case"cartaoCvv":case"enderecoCep":case"enderecoRua":case"enderecoNumero":case"enderecoBairro":case"enderecoCidade":case"enderecoEstado":return En.current;default:return null}};for(const fe of te)if(M[fe]){const De=xe(fe);if(De){De.scrollIntoView({behavior:"smooth",block:"center"});const Re=De;typeof Re.focus=="function"&&Re.focus()}break}},[]),jn=M=>{const te=Et(M);return We(M,te||void 0),!te};N.useEffect(()=>{async function M(){try{const xe=(await fo(ba(fn,"tipos_clientes"))).docs.map(Le=>{const et=Le.data();return{id:Le.id,nome:et.nome??"",descricao:et.descricao??""}}).filter(Le=>Le.nome.trim().length>0).sort((Le,et)=>Le.nome.localeCompare(et.nome,"pt-BR",{sensitivity:"base"})),De=(await fo(ba(fn,"pacotes"))).docs.map(Le=>({id:Le.id,...Le.data()})),Ae=(await fo(ba(fn,"combos"))).docs.map(Le=>{const et=Le.data(),kn=et.precosPorTipo&&typeof et.precosPorTipo=="object"?Object.fromEntries(Object.entries(et.precosPorTipo).map(([Pt,qn])=>[Pt,Number(qn)||0])):void 0;return{id:Le.id,nome:et.nome||"",pacoteIds:Array.isArray(et.pacoteIds)?et.pacoteIds.map(Pt=>(Pt??"").toString()).filter(Boolean):[],preco:Number(et.preco??0),precoAdulto:Number(et.precoAdulto??0),precoCrianca:Number(et.precoCrianca??0),precoBariatrica:Number(et.precoBariatrica??0),precosPorTipo:kn,desconto:Number(et.desconto??0),ativo:et.ativo!==!1}}).filter(Le=>Le.ativo&&Le.pacoteIds.length>0),Fe=De.map(Le=>({id:Le.id,nome:Le.nome,tipo:Le.tipo,emoji:Le.emoji,precoAdulto:Number(Le.precoAdulto),precoCrianca:Number(Le.precoCrianca),precoBariatrica:Number(Le.precoBariatrica),precosPorTipo:Le.precosPorTipo&&typeof Le.precosPorTipo=="object"?Object.fromEntries(Object.entries(Le.precosPorTipo).map(([et,kn])=>[et,Number(kn)||0])):void 0,horarios:Le.horarios??[],dias:Array.isArray(Le.dias)?Le.dias:[],limite:Le.limite!==void 0?Number(Le.limite):void 0,datasBloqueadas:Array.isArray(Le.datasBloqueadas)?Le.datasBloqueadas:[],aceitaPet:Le.aceitaPet!==!1,modoHorario:Le.modoHorario||"lista",horarioInicio:Le.horarioInicio||"",horarioFim:Le.horarioFim||"",perguntasPersonalizadas:Array.isArray(Le.perguntasPersonalizadas)?Le.perguntasPersonalizadas:[]}));l(xe),e(Fe),a(Ae),console.log(" Pacotes carregados:",Fe.map(Le=>({nome:Le.nome,datasBloqueadas:Le.datasBloqueadas})))}catch(te){console.error("Erro ao buscar dados:",te),e([]),a([]),l([])}finally{f(!1)}}M()},[]);const un=N.useMemo(()=>i,[i]);N.useEffect(()=>{V(M=>{const te={};return un.forEach((xe,fe)=>{const De=Fg(xe),Re=wc(M,xe);if(Number.isFinite(Re)){te[De]=Number(Re);return}if(Object.keys(M).length===0&&fe===0){te[De]=1;return}te[De]=0}),te})},[un]);const Un=N.useCallback(M=>M?un.some(te=>qu(M.precosPorTipo,te,M)>0):!1,[un]),Yn=N.useCallback(M=>un.map(xe=>{const fe=qu(M.precosPorTipo,xe,M);return fe>0?`${xe.nome} ${Hu(fe)}`:""}).filter(xe=>xe.length>0).join("  "),[un]);N.useEffect(()=>{const M=hl(ba(fn,"disponibilidade"),zs("fechado","==",!0)),te=bc(M,xe=>{const fe=new Set;xe.forEach(De=>{const Re=De.data(),Ae=typeof Re?.data=="string"?Re.data:De.id;fe.add(Ae)}),I(fe)},xe=>{console.error("Erro ao acompanhar dias bloqueados:",xe)});return()=>te()},[]);const mt=N.useMemo(()=>n.filter(M=>M.id&&b.includes(M.id)),[n,b]),Na=N.useMemo(()=>{const M=new Map;return n.forEach(te=>{te.id&&M.set(te.id,te)}),M},[n]),zn=N.useMemo(()=>{const M=new Map;return n.forEach(te=>{te.id&&M.set(wl(te.nome),te.id)}),M},[n]),or=N.useCallback(M=>{if(Array.isArray(M.pacoteIds)&&M.pacoteIds.length>0)return M.pacoteIds.map(fe=>fe?.toString()).filter(fe=>!!fe);if(!M.atividade)return[];const te=wl(M.atividade),xe=[];return zn.forEach((fe,De)=>{te.includes(De)&&xe.push(fe)}),xe},[zn]),dt=N.useMemo(()=>{const M={};return p.forEach(te=>{const xe=(te.horario??"").toString().trim();if(!xe)return;const fe=aw(te);if(fe<=0)return;const De=or(te);De.length!==0&&Array.from(new Set(De)).forEach(Re=>{const Ae=`${Re}__${xe}`;M[Ae]=(M[Ae]??0)+fe})}),M},[or,p]),xn=N.useMemo(()=>{const M={};return p.forEach(te=>{const xe=aw(te);if(xe<=0)return;const fe=or(te);fe.length!==0&&Array.from(new Set(fe)).forEach(De=>{M[De]=(M[De]??0)+xe})}),M},[or,p]),Xe=N.useMemo(()=>{if(b.length!==0)return t.find(M=>M.pacoteIds.length===b.length&&M.pacoteIds.every(te=>b.includes(te)))},[t,b]),Tr=M=>{if(Xe?.id===M.id)_([]);else{const xe=M.pacoteIds.filter(fe=>Na.has(fe));_(xe)}k(""),We("pacotes")},kr=N.useMemo(()=>mt.some(M=>M.modoHorario==="intervalo"||M.horarios&&M.horarios.length===0),[mt]);N.useEffect(()=>{if(!ge){g([]);return}const M=ge.toISOString().slice(0,10),te=hl(ba(fn,"reservas"),zs("data","==",M)),xe=bc(te,fe=>{const Re=fe.docs.map(Ae=>({id:Ae.id,...Ae.data()})).filter(OP);g(Re)},fe=>{console.error("Erro ao acompanhar reservas:",fe),g([])});return()=>xe()},[ge]),N.useEffect(()=>{if(!ge){ma({}),z(!1);return}let M=!0;const te=ge.toISOString().slice(0,10);return(async()=>{try{const fe=oa(fn,"disponibilidade",te),De=await w0(fe);if(!M)return;const Re=De.exists()?De.data():null;Re&&typeof Re.horarios=="object"?ma(Re.horarios):ma({}),z(!!Re?.fechado||R.has(te))}catch(fe){console.error("Erro ao carregar disponibilidade:",fe),M&&(ma({}),z(R.has(te)))}})(),()=>{M=!1}},[ge,R]),N.useEffect(()=>{if(mt.length===0){sn({});return}sn(M=>{const te=new Set;mt.forEach(fe=>{fe.id&&(fe.perguntasPersonalizadas??[]).forEach(De=>{te.add(`${fe.id}-${De.id}`)})});const xe={};return Object.entries(M).forEach(([fe,De])=>{te.has(fe)&&(xe[fe]=De)}),xe})},[mt]);const $t=N.useMemo(()=>{if(mt.length===0)return[];const M=[...new Set(mt.flatMap(Re=>Re.horarios||[]))];if(!ge)return M;if(j)return[];const te=ge.toISOString().slice(0,10);let xe=M.filter(Re=>mt.every(Ae=>{if(!Ae.id)return!0;const Fe=`${te}-${Ae.id}-${Re}`;return vn[Fe]!==!1}));const fe=new Date;if(ge.getFullYear()===fe.getFullYear()&&ge.getMonth()===fe.getMonth()&&ge.getDate()===fe.getDate()){const Re=fe.getHours()*60+fe.getMinutes();xe=xe.filter(Ae=>{const Fe=rw(Ae);return Fe===null?!0:Fe>=Re})}return xe},[ge,mt,vn,j]),Bt=N.useMemo(()=>{const M={};return mt.length===0||$t.forEach(te=>{let xe=null;mt.forEach(fe=>{if(!fe.id)return;const De=Number(fe.limite??0);if(!Number.isFinite(De)||De<=0)return;const Ae=fe.modoHorario==="intervalo"||(fe.horarios?.length??0)===0?xn[fe.id]??0:dt[`${fe.id}__${te}`]??0,Fe=De-Ae;xe=xe===null?Fe:Math.min(xe,Fe)}),M[te]=xe}),M},[$t,xn,dt,mt]),na=N.useMemo(()=>{let M=null;return mt.forEach(te=>{if(!te.id||!(te.modoHorario==="intervalo"||(te.horarios?.length??0)===0))return;const fe=Number(te.limite??0);if(!Number.isFinite(fe)||fe<=0)return;const De=xn[te.id]??0,Re=fe-De;M=M===null?Re:Math.min(M,Re)}),M},[xn,mt]),bn=N.useMemo(()=>ed(W)+Se,[Se,W]),Da=N.useMemo(()=>{if(!H)return null;const M=Bt[H];return typeof M=="number"?M:null},[H,Bt]),Nr=N.useMemo(()=>{let M=null;return typeof na=="number"&&(M=na),typeof Da=="number"&&(M=M===null?Da:Math.min(M,Da)),M},[Da,na]),Ma=N.useMemo(()=>$t.filter(M=>{const te=Bt[M];return te===null||typeof te!="number"?!0:Math.max(te,0)>0}),[$t,Bt]),fr=N.useMemo(()=>Ma.filter(M=>{const te=Bt[M];if(te===null||typeof te!="number")return!0;const xe=Math.max(te,0);return xe<=0?!1:bn<=0?!0:xe>=bn}),[Ma,Bt,bn]);N.useEffect(()=>{H&&(fr.includes(H)||k(""))},[fr,H]);const Ia=N.useMemo(()=>{const M={};if(!ge||j)return M;const te=ge.toISOString().slice(0,10),xe=new Date,fe=ge.getFullYear()===xe.getFullYear()&&ge.getMonth()===xe.getMonth()&&ge.getDate()===xe.getDate(),De=xe.getHours()*60+xe.getMinutes();return n.forEach(Re=>{if(!Re.id)return;if((Re.datasBloqueadas??[]).includes(te)){M[Re.id]=!1;return}const Ae=Re.modoHorario==="intervalo"||(Re.horarios?.length??0)===0,Fe=Number(Re.limite??0),Le=Number.isFinite(Fe)&&Fe>0;if(Ae){if(!Le){M[Re.id]=!0;return}const kn=xn[Re.id]??0;M[Re.id]=Fe-kn>0;return}let et=Array.isArray(Re.horarios)?Re.horarios:[];if(et.length===0){M[Re.id]=!1;return}if(et=et.filter(kn=>{const Pt=`${te}-${Re.id}-${kn}`;return vn[Pt]!==!1}),fe&&(et=et.filter(kn=>{const Pt=rw(kn);return Pt===null?!0:Pt>=De})),et.length===0){M[Re.id]=!1;return}if(!Le){M[Re.id]=!0;return}M[Re.id]=et.some(kn=>{const Pt=dt[`${Re.id}__${kn}`]??0;return Fe-Pt>0})}),M},[j,vn,n,xn,dt,ge]),Sa=N.useMemo(()=>{const M={};return!ge||j||t.forEach(te=>{if(!te.id)return;const xe=te.pacoteIds.map(fe=>Na.get(fe)).filter(Boolean);if(xe.length!==te.pacoteIds.length||xe.length===0){M[te.id]=!1;return}M[te.id]=xe.every(fe=>fe.id&&Ia[fe.id]!==!1)}),M},[t,j,Ia,Na,ge]);if(d)return u.jsx("section",{id:"reservas",className:"py-16 bg-[#F7FAEF]",children:u.jsx("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-10",children:[u.jsx("span",{className:"text-green-600 font-semibold text-xs uppercase tracking-widest",children:"RESERVE SEU PASSEIO"}),u.jsx("h2",{className:"font-heading text-3xl md:text-4xl font-bold text-[#8B4F23] mt-2 mb-1",children:"Carregando pacotes..."})]})})});if(n.length===0)return u.jsx("section",{id:"reservas",className:"py-16 bg-[#F7FAEF]",children:u.jsx("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-10",children:[u.jsx("span",{className:"text-green-600 font-semibold text-xs uppercase tracking-widest",children:"RESERVE SEU PASSEIO"}),u.jsx("h2",{className:"font-heading text-3xl md:text-4xl font-bold text-[#8B4F23] mt-2 mb-1",children:"Nenhum pacote disponvel para reserva."})]})})});const Bn=()=>{let M=0;if(mt.forEach(te=>{const xe=un.reduce((fe,De)=>{const Re=Number(wc(W,De)??0),Ae=qu(te.precosPorTipo,De,te);return fe+Re*Ae},0);M+=xe}),Xe)if(Un(Xe))M=un.reduce((te,xe)=>{const fe=Number(wc(W,xe)??0),De=qu(Xe.precosPorTipo,xe,Xe);return te+fe*De},0);else{const te=Number(Xe.preco);Number.isFinite(te)&&te>0?M=te:Xe.desconto&&Xe.desconto>0&&(M=M*(1-Xe.desconto/100))}return M},Sr=M=>{if(mt.length===0)return!1;const te=M.toISOString().slice(0,10);return R.has(te)?!1:mt.some(xe=>!(xe.datasBloqueadas??[]).includes(te))},hs=M=>{if(mt.length===0)return!1;const te=M.toISOString().slice(0,10);return R.has(te)?!0:mt.every(xe=>(xe.datasBloqueadas??[]).includes(te))},za=()=>{if(mt.length===0)return null;const M=mt.filter(xe=>xe.aceitaPet),te=mt.filter(xe=>!xe.aceitaPet);if(te.length>0&&M.length>0){const xe=te.map(De=>De.nome).join(", "),fe=M.map(De=>De.nome).join(", ");return`A atividade ${xe} no permite Pets, A ${fe} sim.`}return te.length>0&&M.length===0?`No  permitido pets na atividade: ${te.map(fe=>fe.nome).join(", ")}`:null},pa=M=>{de(M),k(""),We("data"),We("horario")},dn=M=>{_(te=>te.includes(M)?te.filter(xe=>xe!==M):[...te,M]),k(""),We("pacotes"),We("horario")},ga=(M,te,xe,fe)=>{sn(De=>{const Re={...De},Ae=fe?te.trim():te;if(!Ae)return Re[M]&&delete Re[M],Re;const Le={...Re[M]??{},resposta:Ae};return xe&&Ae!==xe&&Le.condicional!==void 0&&delete Le.condicional,Re[M]=Le,Re})},Wn=(M,te,xe)=>{sn(fe=>{const De={...fe},Re=xe?te.trim():te;if(!Re){if(De[M]){const Fe={...De[M]};delete Fe.condicional,De[M]=Fe}return De}const Ae=De[M]??{};return De[M]={...Ae,condicional:Re},De})},fs=()=>{const M=[];for(const te of mt){if(!te.id)continue;const xe=te.perguntasPersonalizadas??[];for(const fe of xe){const De=`${te.id}-${fe.id}`,Re=Ze[De];let Ae=Re?.resposta??"";if(fe.tipo==="texto"?Ae=Ae.toString().trim():fe.tipo==="sim_nao"&&(Ae=Ae.toString()),fe.obrigatoria){if(fe.tipo==="sim_nao"){if(Ae!=="sim"&&Ae!=="nao")return{respostas:[],erro:`Responda a pergunta "${fe.pergunta}" do pacote ${te.nome}.`}}else if(!Ae)return{respostas:[],erro:`Responda a pergunta "${fe.pergunta}" do pacote ${te.nome}.`}}if(!(fe.tipo==="sim_nao"?Ae==="sim"||Ae==="nao":!!Ae))continue;const Le={pacoteId:te.id,pacoteNome:te.nome,perguntaId:fe.id,pergunta:fe.pergunta,tipo:fe.tipo,obrigatoria:fe.obrigatoria,resposta:(fe.tipo==="texto",Ae)};if(fe.perguntaCondicional){const et=fe.perguntaCondicional;if(Ae===et.condicao){let Pt=Re?.condicional??"";if(et.tipo==="texto"?Pt=Pt.toString().trim():et.tipo==="sim_nao"&&(Pt=Pt.toString()),et.obrigatoria){if(et.tipo==="sim_nao"){if(Pt!=="sim"&&Pt!=="nao")return{respostas:[],erro:`Responda a pergunta complementar "${et.pergunta}" do pacote ${te.nome}.`}}else if(!Pt)return{respostas:[],erro:`Responda a pergunta complementar "${et.pergunta}" do pacote ${te.nome}.`}}(et.tipo==="sim_nao"?Pt==="sim"||Pt==="nao":!!Pt)&&(Le.perguntaCondicional={pergunta:et.pergunta,tipo:et.tipo,obrigatoria:et.obrigatoria,resposta:Pt})}}M.push(Le)}}return{respostas:M}},As=()=>{const M={};Ot.forEach(Fe=>{const Le=Et(Fe);Le&&(M[Fe]=Le)}),b.length===0&&(M.pacotes="Selecione pelo menos um pacote."),b.length>0&&(ge?j&&(M.data="Esta data est indisponvel. Escolha outra."):M.data="Selecione uma data disponvel.");const te=mt.some(Fe=>(Fe.horarios?.length??0)>0),xe=$t.length>0,fe=Ma.length>0,De=fr.length>0;ge&&xe&&!H&&(M.horario=De?"Escolha um horrio disponvel.":fe?"Nenhum horrio comporta a quantidade de participantes selecionada. Reduza os participantes ou escolha outra data.":"Todos os horrios esto lotados para os pacotes selecionados."),ge&&!xe&&!kr&&te&&(M.horario="No h horrios disponveis para os pacotes selecionados nesta data.");const Re=ed(W)+Se;Re<=0&&(M.participantes="Informe a quantidade de participantes.");const Ae=typeof Nr=="number"?Math.max(Nr,0):null;if(Ae!==null&&Re>Ae){const Fe=typeof Da=="number"?Math.max(Da,0):null,Le=typeof na=="number"?Math.max(na,0):null;Fe!==null&&Re>Fe?M.horario=`Restam apenas ${Fe} vaga(s) para este horrio.`:Le!==null?M.participantes=`Restam apenas ${Le} vaga(s) disponveis para esta data.`:M.participantes=`Restam apenas ${Ae} vaga(s) disponveis.`}if(ye===null&&(M.pet="Informe se vai levar pet."),ne==="CREDIT_CARD"){me.trim()||(M.cartaoNome="Informe o nome no cartao."),qP(Be)||(M.cartaoNumero="Informe um numero de cartao valido.");const Fe=tw(Lt);if(!Fe)M.cartaoValidade="Informe a validade (MM/AA).";else{const Pt=new Date,qn=new Date(Pt.getFullYear(),Pt.getMonth(),1);new Date(Fe.year,Fe.month,0)<qn&&(M.cartaoValidade="Cartao vencido.")}const Le=ea(ht);(Le.length<3||Le.length>4)&&(M.cartaoCvv="Informe o CVV."),ea(rt).length!==8&&(M.enderecoCep="Informe o CEP."),ha.trim()||(M.enderecoRua="Informe o endereco."),Pn.trim()||(M.enderecoNumero="Informe o numero."),Or.trim()||(M.enderecoBairro="Informe o bairro."),Ln.trim()||(M.enderecoCidade="Informe a cidade."),fa.trim().toUpperCase().length!==2&&(M.enderecoEstado="Informe o estado (UF).")}return Pr(M),Object.keys(M).length>0?(hr(M),!1):!0};async function ri(M){if(M.preventDefault(),le||Ke||!As()||!ge||b.length===0||ye===null)return;const{respostas:te,erro:xe}=fs();if(xe){alert(xe);return}oe(!0),O(null),zt(null),wt(null),q(null),mn(ne==="CREDIT_CARD"?{status:"processing",message:"Processando compra. Aguarde a confirmacao do cartao."}:null);try{const fe=ge.toISOString().slice(0,10),De=ed(W)+Se,Re=Bn(),Ae=fr.length>0&&H?H:"Sem horrio especfico",Fe=mt.map(Zn=>Zn.nome).join(" + "),Le=Xe?Un(Xe)?` (Combo: ${Xe.nome} - ${Yn(Xe)})`:Xe.preco&&Xe.preco>0?` (Combo: ${Xe.nome} - valor especial ${Hu(Xe.preco)})`:Xe.desconto&&Xe.desconto>0?` (Combo: ${Xe.nome} - ${Xe.desconto}% de desconto)`:` (Combo: ${Xe.nome})`:"",et=af(W,un,"adult")??0,kn=af(W,un,"crian")??0,Pt=af(W,un,"bariat")??0,qn=ne==="CREDIT_CARD"?tw(Lt):null,Cr={nome:E,email:P,valor:Re,cpf:pe,telefone:$,atividade:Fe+Le,data:fe,participantes:De,participantesPorTipo:W,adultos:et,bariatrica:Pt,criancas:kn,naoPagante:Se,billingType:ne,horario:Ae,temPet:ye,pacoteIds:b,comboId:Xe?.id||null};ne==="CREDIT_CARD"&&qn&&(Cr.creditCard={holderName:me.trim(),number:ea(Be),expiryMonth:String(qn.month).padStart(2,"0"),expiryYear:String(qn.year),ccv:ea(ht)},Cr.creditCardHolderInfo={name:me.trim(),email:P,cpfCnpj:ea(pe),postalCode:ea(rt),address:ha.trim(),addressNumber:Pn.trim(),addressComplement:br.trim(),province:Or.trim(),city:Ln.trim(),state:fa.trim().toUpperCase(),phone:ea($)}),te.length>0&&(Cr.perguntasPersonalizadas=te),console.log(" Enviando payload:",{nome:E,email:P,valor:Re,data:fe,billingType:ne});const Ba=await fetch("https://vagafogo-production.up.railway.app/criar-cobranca",{method:"POST",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(Cr)});console.log(" Status da resposta:",Ba.status);const _n=await Ba.json().catch(()=>({}));if(console.log(" Resposta completa:",_n),!Ba.ok){console.error(" Erro na resposta:",_n);const Zn=nw(_n,"Erro ao criar a cobranca.");ne==="CREDIT_CARD"?mn({status:"error",message:`Compra negada: ${Zn}`}):alert(`Erro ao criar a cobranca: ${Zn}`);return}if(_n?.status==="ok"){if(console.log(" Resposta OK recebida:",_n),console.log(" Invoice URL:",_n.cobranca?.invoiceUrl),console.log(" PIX Key:",_n.cobranca?.pixKey),ne==="PIX")O(_n.cobranca?.invoiceUrl||null),zt(_n.cobranca?.pixKey||null),wt(_n.cobranca?.qrCodeImage||null),q(_n.cobranca?.expirationDate||null);else{const Zn=String(_n.cobranca?.status??"").toUpperCase(),Dt=["CONFIRMED","RECEIVED","PAID"].includes(Zn),ms=["DECLINED","DENIED","REFUSED","FAILED","CANCELED","CANCELLED","CHARGEBACK"].includes(Zn),ra=Dt?"success":ms?"error":"pending",Oa=Dt?"Compra realizada com sucesso. Reserva confirmada.":ms?`Compra negada. Motivo: ${Zn||"NAO INFORMADO"}.`:"Pagamento em processamento. Aguarde a confirmacao do cartao.";mn({status:ra,message:Oa}),Dt&&lt()}setTimeout(()=>{ee.current?.scrollIntoView({behavior:"smooth",block:"center"})},100),Pt>0&&alert(" IMPORTANTE: Como voc selecionou opo baritrica, ser necessrio enviar a foto da carteirinha via WhatsApp aps realizar a reserva para validao.")}else{console.error(" Status no  OK:",_n?.status);const Zn=nw(_n,"Erro ao criar a cobranca. Verifique os dados ou tente novamente.");ne==="CREDIT_CARD"?mn({status:"error",message:`Compra negada: ${Zn}`}):alert(Zn)}}catch(fe){console.error("Erro ao processar reserva:",fe),ne==="CREDIT_CARD"?mn({status:"error",message:"Erro ao processar a compra. Tente novamente."}):alert("Erro ao processar reserva. Tente novamente.")}finally{oe(!1)}}return u.jsx("section",{id:"reservas",className:"py-16 bg-[#F7FAEF]",children:u.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-10",children:[u.jsx("span",{className:"text-green-600 font-semibold text-xs uppercase tracking-widest",children:"RESERVE SEU PASSEIO"}),u.jsx("h2",{className:"font-heading text-3xl md:text-4xl font-bold text-[#8B4F23] mt-2 mb-1",children:"Faa sua Reserva Agora"})]}),u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("form",{onSubmit:ri,noValidate:!0,className:"bg-white rounded-2xl shadow-xl p-6 md:p-8",children:[t.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Combos especiais"}),u.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:t.map(M=>{const te=M.pacoteIds.map(Fe=>Na.get(Fe)?.nome??"Pacote removido").filter(Boolean).join(", "),xe=Xe?.id===M.id,fe=!!(ge&&M.id&&Sa[M.id]===!1),De=fe&&!xe,Re=Un(M),Ae=Yn(M);return u.jsx("button",{type:"button",disabled:De,onClick:()=>Tr(M),className:`rounded-2xl border p-4 text-left transition ${De?"border-gray-200 bg-gray-50 text-gray-500 cursor-not-allowed opacity-60":xe?"border-green-500 bg-green-50 shadow-md":"border-gray-200 hover:border-green-300 hover:bg-green-50/40"}`,children:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-gray-800",children:M.nome}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Inclui: ",te||"Pacotes removidos"]})]}),u.jsx("span",{className:`text-xs font-semibold ${fe?"text-red-700":"text-green-700"}`,children:fe?"Esgotado":Re?"Tabela personalizada":M.preco&&M.preco>0?Hu(M.preco):M.desconto&&M.desconto>0?`${M.desconto}% off`:"Especial"})]}),Re&&u.jsx("div",{className:"text-xs text-gray-600",children:Ae||"Configurao por tipo"})]})},M.id)})}),u.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Ao selecionar um combo, os pacotes correspondentes so escolhidos automaticamente."})]}),u.jsxs("div",{ref:wr,className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Selecione os Pacotes *"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(M=>{const te=b.includes(M.id),xe=!!(ge&&M.id&&Ia[M.id]===!1),fe=xe&&!te;return u.jsx("div",{"aria-disabled":fe,className:`border-2 rounded-lg p-4 transition-all ${fe?"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed":te?"border-green-500 bg-green-50 cursor-pointer":"border-gray-200 hover:border-green-300 cursor-pointer"}`,onClick:()=>{fe||dn(M.id)},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[u.jsxs("span",{children:[M.emoji," ",M.nome]}),xe&&u.jsx("span",{className:"inline-flex items-center rounded-full bg-red-100 px-2 py-0.5 text-xs font-semibold text-red-700",children:"Esgotado"})]}),un.map(De=>u.jsxs("p",{className:"text-sm text-gray-600",children:[De.nome,": ",Hu(qu(M.precosPorTipo,De,M))]},Fg(De)))]}),u.jsx("input",{type:"checkbox",disabled:fe,checked:te,onChange:()=>dn(M.id),onClick:De=>De.stopPropagation(),className:"w-5 h-5 text-green-600"})]})},M.id)})}),Xe&&u.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:u.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[" Combo ativo: ",Xe.nome," "," ",Un(Xe)?Yn(Xe)||"valores personalizados":Xe.preco&&Xe.preco>0?`valor especial ${Hu(Xe.preco)}`:Xe.desconto&&Xe.desconto>0?`${Xe.desconto}% de desconto aplicado`:"condies especiais aplicadas"]})}),at.pacotes&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:at.pacotes})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),u.jsx("input",{type:"text",value:E,onChange:M=>{D(M.target.value),We("nome")},onBlur:()=>jn("nome"),className:Je("nome"),ref:ur,autoComplete:"name",required:!0}),at.nome&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:at.nome})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),u.jsx("input",{type:"email",value:P,onChange:M=>{U(M.target.value),We("email")},onBlur:()=>jn("email"),className:Je("email"),ref:ir,autoComplete:"email",required:!0}),at.email&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:at.email})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),u.jsx("input",{type:"text",value:pe,onChange:M=>{se(VP(M.target.value)),We("cpf")},onBlur:()=>jn("cpf"),className:Je("cpf"),ref:Gr,placeholder:"000.000.000-00",inputMode:"numeric",maxLength:14,autoComplete:"off",required:!0}),at.cpf&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:at.cpf})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),u.jsx("input",{type:"tel",value:$,onChange:M=>{Q(LP(M.target.value)),We("telefone")},onBlur:()=>jn("telefone"),className:Je("telefone"),ref:dr,placeholder:"(11) 99999-9999",inputMode:"tel",autoComplete:"tel",maxLength:15}),at.telefone&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:at.telefone})]})]}),b.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Selecione a Data *"}),u.jsx("div",{ref:ft,className:"flex justify-center",children:u.jsx(tP,{mode:"single",selected:ge,onSelect:pa,disabled:[{before:tt},M=>!Sr(M)],locale:DP,className:"border border-black rounded-lg p-4",modifiers:{blocked:M=>hs(M)},modifiersStyles:{blocked:{backgroundColor:"#fee2e2",color:"#dc2626",textDecoration:"line-through"}}})}),at.data&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:at.data})]}),ge&&mt.length>0&&u.jsx("div",{ref:Ut,className:"mb-6",children:j?u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-700",children:"Este dia esta fechado para todos os pacotes. Escolha outra data para continuar."})}):$t.length>0?u.jsxs(u.Fragment,{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horario *"}),u.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:$t.map(M=>{const te=Bt[M],xe=typeof te=="number"?Math.max(te,0):null,fe=typeof te=="number"&&te<=0,De=!fe&&typeof te=="number"&&bn>Math.max(te,0),Re=fe||De,Ae=H===M,Fe="flex flex-col items-center justify-center rounded-lg border px-3 py-2 text-sm font-medium transition",Le=fe?"border-red-300 bg-red-50 text-red-600 cursor-not-allowed":De?"border-yellow-300 bg-yellow-50 text-yellow-700 cursor-not-allowed":Ae?"border-black bg-black text-white":"border-black text-gray-900 hover:bg-black hover:text-white",et=fe?"text-red-500":De?"text-yellow-700":"text-gray-500",kn=xe===null?"Sem limite de vagas":fe?"Esgotado":De?`Insuficiente (${xe} vaga(s))`:`${xe} vaga(s)`;return u.jsxs("button",{type:"button",disabled:Re,onClick:()=>{k(M),We("horario")},className:`${Fe} ${Le}`,children:[u.jsx("span",{className:"text-base",children:M}),u.jsx("span",{className:`text-xs ${et}`,children:kn})]},M)})}),Ma.length>0&&fr.length===0&&u.jsxs("p",{className:"mt-2 text-sm text-yellow-700",children:["Nenhum horrio comporta ",bn," participante(s). Reduza a quantidade ou escolha outra data."]}),kr&&u.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:mt.filter(M=>M.modoHorario==="intervalo"&&M.horarioInicio&&M.horarioFim).map(M=>u.jsxs("p",{className:"text-sm text-blue-700 mb-1 last:mb-0",children:["A atividade ",M.nome," funciona em faixa de horario, ocorre das ",M.horarioInicio," ate ",M.horarioFim]},M.id))})]}):kr?u.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:mt.filter(M=>M.modoHorario==="intervalo"&&M.horarioInicio&&M.horarioFim).map(M=>u.jsxs("p",{className:"text-sm font-medium text-green-700 mb-1 last:mb-0",children:["A atividade ",M.nome," funciona em faixa de horario, ocorre das ",M.horarioInicio," ate ",M.horarioFim]},M.id))}):u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-700",children:"Nenhum horario disponivel para os pacotes selecionados nesta data. Escolha outra data ou ajuste os pacotes."})})}),at.horario&&!j&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:at.horario}),u.jsxs("div",{ref:Tt,className:"mb-6",children:[typeof Nr=="number"&&u.jsxs("p",{className:"mb-3 text-xs text-gray-600",children:["Vagas restantes: ",Math.max(Nr,0)," ",H?"para este horrio":"para esta data","."]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:un.map(M=>{const te=Fg(M),xe=Number(wc(W,M)??0),fe=typeof Nr=="number"?Math.max(Nr,0):null,De=fe===null?void 0:Math.max(fe-(bn-xe),0);return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[u.jsx("span",{children:M.nome}),M.descricao&&u.jsx("span",{className:"mt-1 block text-xs font-normal text-gray-500",children:M.descricao})]}),u.jsx("input",{type:"number",min:"0",step:1,max:typeof De=="number"?De:void 0,value:xe,onChange:Re=>{const Ae=Math.floor(vo(Re.target.value));V(Fe=>{if(fe===null)return{...Fe,[te]:Ae};const Le=Math.floor(vo(Fe[te])),et=ed(Fe)-Le+Se,kn=Math.max(fe-et,0);return{...Fe,[te]:Math.min(Ae,kn)}}),We("participantes"),We("horario")},className:"w-full px-3 py-2 border border-black rounded-md focus:outline-none focus:ring-2 focus:ring-black"})]},te)})}),at.participantes&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:at.participantes}),typeof Nr=="number"&&bn>Math.max(Nr,0)&&u.jsxs("p",{className:"mt-2 text-sm text-red-600",children:["Voc selecionou ",bn," participante(s), mas restam apenas"," ",Math.max(Nr,0)," vaga(s)"," ",H?"para este horrio":"para esta data","."]})]}),(af(W,un,"bariat")??0)>0&&u.jsx("div",{className:"mb-6 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-orange-700",children:[" ",u.jsx("strong",{children:"Importante:"}),"  obrigatrio apresentar a carteirinha baritrica via WhatsApp aps a reserva para validao."]})}),u.jsxs("div",{ref:Rn,className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Vai levar pet? *"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6",children:[u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"radio",name:"pet",checked:ye===!0,onChange:()=>{B(!0),We("pet")},className:"mr-3 w-4 h-4 text-green-600 focus:ring-green-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Sim"})]}),u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"radio",name:"pet",checked:ye===!1,onChange:()=>{B(!1),We("pet")},className:"mr-3 w-4 h-4 text-green-600 focus:ring-green-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"No"})]})]}),ye===!0&&za()&&u.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-red-700",children:[" ",za()]})}),at.pet&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:at.pet})]}),mt.some(M=>(M.perguntasPersonalizadas?.length??0)>0)&&u.jsx("div",{className:"mb-6 space-y-5",children:mt.map(M=>!M.id||(M.perguntasPersonalizadas?.length??0)===0?null:u.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50/60 p-4",children:[u.jsxs("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:["Informaes adicionais  ",M.nome]}),u.jsx("div",{className:"space-y-4",children:M.perguntasPersonalizadas.map(te=>{const xe=`${M.id}-${te.id}`,fe=Ze[xe]??{},De=fe.resposta??"",Re=te.perguntaCondicional,Ae=Re&&De===Re.condicao;return u.jsxs("div",{className:"space-y-3 rounded-md bg-white p-3 shadow-sm",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[te.pergunta,te.obrigatoria&&u.jsx("span",{className:"text-red-500",children:" *"})]}),u.jsx("p",{className:"text-xs text-gray-500",children:te.tipo==="sim_nao"?"Selecione Sim ou No conforme necessrio.":"Informe a resposta no campo abaixo."})]}),te.tipo==="sim_nao"?u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsxs("label",{className:"inline-flex items-center text-sm text-gray-700",children:[u.jsx("input",{type:"radio",name:`${xe}-base`,className:"mr-2",checked:De==="sim",onChange:()=>ga(xe,"sim",Re?.condicao)}),"Sim"]}),u.jsxs("label",{className:"inline-flex items-center text-sm text-gray-700",children:[u.jsx("input",{type:"radio",name:`${xe}-base`,className:"mr-2",checked:De==="nao",onChange:()=>ga(xe,"nao",Re?.condicao)}),"No"]}),u.jsx("button",{type:"button",onClick:()=>ga(xe,"",Re?.condicao),className:"text-xs text-gray-500 underline",children:"Limpar"})]}):u.jsx("textarea",{value:typeof De=="string"?De:"",onChange:Fe=>ga(xe,Fe.target.value,Re?.condicao,!0),className:"w-full rounded-md border border-black px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-black",rows:3,placeholder:"Digite sua resposta"}),Re&&u.jsxs("div",{className:`rounded-md border px-3 py-2 ${Ae?"border-green-200 bg-green-50":"border-gray-200 bg-gray-100"}`,children:[u.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[Re.pergunta,Re.obrigatoria&&u.jsx("span",{className:"text-red-500",children:" *"})]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Condicional exibida quando a resposta anterior for ",Re.condicao==="sim"?"Sim":"No","."]}),Re.tipo==="sim_nao"?u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-4",children:[u.jsxs("label",{className:"inline-flex items-center text-sm text-gray-700",children:[u.jsx("input",{type:"radio",name:`${xe}-condicional`,className:"mr-2",checked:fe.condicional==="sim",disabled:!Ae,onChange:()=>Wn(xe,"sim")}),"Sim"]}),u.jsxs("label",{className:"inline-flex items-center text-sm text-gray-700",children:[u.jsx("input",{type:"radio",name:`${xe}-condicional`,className:"mr-2",checked:fe.condicional==="nao",disabled:!Ae,onChange:()=>Wn(xe,"nao")}),"No"]}),u.jsx("button",{type:"button",onClick:()=>Wn(xe,""),className:"text-xs text-gray-500 underline",disabled:!Ae,children:"Limpar"})]}):u.jsx("textarea",{value:typeof fe.condicional=="string"?fe.condicional:"",onChange:Fe=>Wn(xe,Fe.target.value,!0),className:"mt-2 w-full rounded-md border border-black px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-black disabled:bg-gray-100",rows:2,placeholder:"Digite a resposta complementar",disabled:!Ae})]})]},te.id)})})]},`perguntas-${M.id}`))}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Forma de Pagamento"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6",children:[u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"radio",name:"pagamento",checked:ne==="CREDIT_CARD",onChange:()=>_e("CREDIT_CARD"),className:"mr-3 w-4 h-4 text-green-600 focus:ring-green-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Carto de Crdito"})]}),u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"radio",name:"pagamento",checked:ne==="PIX",onChange:()=>_e("PIX"),className:"mr-3 w-4 h-4 text-green-600 focus:ring-green-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"PIX"})]})]})]}),ne==="CREDIT_CARD"&&u.jsx("div",{ref:En,className:"mb-6 rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:u.jsxs("div",{className:"flex flex-col gap-6 lg:grid lg:grid-cols-[minmax(0,0.95fr)_minmax(0,1.05fr)] lg:items-start",children:[u.jsxs("div",{className:"relative mx-auto w-full max-w-[420px] aspect-[1.586/1] overflow-hidden rounded-2xl bg-gradient-to-br from-slate-900 via-slate-800 to-slate-700 p-5 text-white sm:p-6 lg:mx-0",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-white/70",children:"Credito"}),u.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-wide ${ve?ve.badgeClass:"bg-white/10 text-white/70"}`,children:ve?ve.label:"Bandeira"})]}),u.jsx("div",{className:"mt-8 whitespace-nowrap text-[0.95rem] font-semibold tracking-[0.18em] sm:text-lg sm:tracking-[0.25em]",children:$e}),u.jsxs("div",{className:"mt-6 flex items-end justify-between gap-4 text-xs uppercase tracking-widest text-white/70",children:[u.jsxs("div",{children:[u.jsx("span",{className:"block text-[10px] text-white/60",children:"Nome"}),u.jsx("span",{className:"text-sm font-semibold text-white",children:Ye})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"block text-[10px] text-white/60",children:"Validade"}),u.jsx("span",{className:"text-sm font-semibold text-white",children:ot})]})]}),u.jsx("div",{className:"absolute -right-10 -top-10 h-28 w-28 rounded-full bg-white/10 blur-2xl"}),u.jsx("div",{className:"absolute -bottom-10 -left-10 h-36 w-36 rounded-full bg-indigo-400/20 blur-2xl"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Dados do cartao"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Digite exatamente como no cartao."})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:C0.map(M=>{const te=X===M.id;return u.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-[10px] font-semibold uppercase tracking-wide ${te?M.badgeClass:"bg-slate-100 text-slate-500"}`,children:M.label},M.id)})})]}),u.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Nome no cartao",u.jsx("input",{type:"text",value:me,onChange:M=>{Me(M.target.value),We("cartaoNome")},className:`${Je("cartaoNome")} rounded-xl bg-white shadow-sm`,placeholder:"Nome impresso no cartao",autoComplete:"cc-name",autoCapitalize:"words"}),at.cartaoNome&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:at.cartaoNome})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Numero do cartao",u.jsx("input",{type:"text",value:Be,onChange:M=>{qe(zP(M.target.value)),We("cartaoNumero")},className:`${Je("cartaoNumero")} rounded-xl bg-white shadow-sm`,placeholder:je,inputMode:"numeric",autoComplete:"cc-number",maxLength:ke,spellCheck:!1}),at.cartaoNumero&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:at.cartaoNumero})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Validade",u.jsx("input",{type:"text",value:Lt,onChange:M=>{At(BP(M.target.value)),We("cartaoValidade")},className:`${Je("cartaoValidade")} rounded-xl bg-white shadow-sm`,placeholder:"MM/AA",inputMode:"numeric",autoComplete:"cc-exp",maxLength:5}),at.cartaoValidade&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:at.cartaoValidade})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["CVV",u.jsx("input",{type:"password",value:ht,onChange:M=>{_t(ea(M.target.value).slice(0,Qe)),We("cartaoCvv")},className:`${Je("cartaoCvv")} rounded-xl bg-white shadow-sm`,placeholder:Ue,inputMode:"numeric",autoComplete:"cc-csc",maxLength:Qe}),u.jsx("p",{className:"mt-1 text-[11px] text-slate-400",children:X==="amex"?"4 digitos na frente":"3 digitos no verso"}),at.cartaoCvv&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:at.cartaoCvv})]})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50/70 p-4",children:[u.jsx("h4",{className:"text-xs font-semibold uppercase text-slate-500",children:"Endereco de cobranca"}),u.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 mt-3",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["CEP",u.jsx("input",{type:"text",value:rt,onChange:M=>{Rt(UP(M.target.value)),We("enderecoCep")},className:`${Je("enderecoCep")} rounded-xl bg-white shadow-sm`,placeholder:"00000-000",inputMode:"numeric"}),at.enderecoCep&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:at.enderecoCep})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Rua",u.jsx("input",{type:"text",value:ha,onChange:M=>{ja(M.target.value),We("enderecoRua")},className:`${Je("enderecoRua")} rounded-xl bg-white shadow-sm`,placeholder:"Rua / Avenida"}),at.enderecoRua&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:at.enderecoRua})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Numero",u.jsx("input",{type:"text",value:Pn,onChange:M=>{Yr(M.target.value),We("enderecoNumero")},className:`${Je("enderecoNumero")} rounded-xl bg-white shadow-sm`,placeholder:"Numero"}),at.enderecoNumero&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:at.enderecoNumero})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Complemento (opcional)",u.jsx("input",{type:"text",value:br,onChange:M=>_r(M.target.value),className:`${Je("enderecoComplemento")} rounded-xl bg-white shadow-sm`,placeholder:"Apto, casa, bloco"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Bairro",u.jsx("input",{type:"text",value:Or,onChange:M=>{sr(M.target.value),We("enderecoBairro")},className:`${Je("enderecoBairro")} rounded-xl bg-white shadow-sm`,placeholder:"Bairro"}),at.enderecoBairro&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:at.enderecoBairro})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Cidade",u.jsx("input",{type:"text",value:Ln,onChange:M=>{Wr(M.target.value),We("enderecoCidade")},className:`${Je("enderecoCidade")} rounded-xl bg-white shadow-sm`,placeholder:"Cidade"}),at.enderecoCidade&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:at.enderecoCidade})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Estado (UF)",u.jsx("input",{type:"text",value:fa,onChange:M=>{jt(M.target.value.toUpperCase().slice(0,2)),We("enderecoEstado")},className:`${Je("enderecoEstado")} rounded-xl bg-white shadow-sm`,placeholder:"UF",maxLength:2}),at.enderecoEstado&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:at.enderecoEstado})]})]})]})]})]})}),b.length>0&&u.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"Total:"}),u.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R$ ",Bn().toFixed(2)]})]}),Xe&&u.jsx("p",{className:"text-sm text-green-600 mt-1",children:Un(Xe)?`Valores do combo ${Xe.nome}: ${Yn(Xe)}.`:Xe.preco&&Xe.preco>0?`Valor especial do combo ${Xe.nome}.`:Xe.desconto&&Xe.desconto>0?`Desconto de ${Xe.desconto}% aplicado!`:`Combo ${Xe.nome} aplicado.`})]}),u.jsx("button",{type:"submit",disabled:le||b.length===0||Ke,className:"w-full bg-green-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:le?"Processando...":Ke?"Aguardando confirmacao...":"Fazer Reserva"})]}),(Ce||It)&&u.jsxs("div",{ref:ee,className:"mt-8 p-8 rounded-3xl shadow-2xl relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",animation:"pulse-glow 3s ease-in-out infinite"},children:[u.jsx("h3",{className:"text-2xl font-bold text-white mb-6 text-center",children:It?"Pagamento no cartao":"Finalize seu Pagamento"}),It?u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("p",{className:"text-lg text-white/90",children:It.message}),u.jsx("span",{className:`inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-semibold ${It.status==="success"?"bg-emerald-500/20 text-emerald-100":It.status==="processing"?"bg-sky-500/20 text-sky-100":It.status==="pending"?"bg-amber-500/20 text-amber-100":"bg-rose-500/20 text-rose-100"}`,children:It.status==="success"?"Pagamento confirmado":It.status==="processing"?"Processando compra":It.status==="pending"?"Pagamento em processamento":"Pagamento nao aprovado"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"mb-6 text-lg text-white/90 text-center",children:"Clique no botao abaixo para acessar a pagina de pagamento:"}),u.jsx("a",{href:Ce??void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-green-600 text-white py-4 px-8 rounded-lg font-bold text-lg hover:bg-green-700 transition-colors shadow-lg transform hover:scale-105",children:"Realizar Pagamento PIX"}),u.jsx("p",{className:"mt-4 text-sm text-white/80 text-center",children:"Voce sera redirecionado para a pagina de pagamento PIX"})]}),Er&&u.jsxs("div",{className:"mt-6",children:[u.jsx("p",{className:"mb-4 text-white/90 text-center",children:"Use a chave PIX abaixo para pagamento:"}),u.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-lg mb-4 border border-white/30",children:u.jsx("p",{className:"font-mono text-sm break-all text-white",children:Er})}),Tn&&u.jsx("div",{className:"text-center mb-4",children:u.jsx("img",{src:Tn,alt:"QR Code PIX",className:"mx-auto max-w-xs"})}),ta&&u.jsxs("p",{className:"text-sm text-white/80 text-center",children:["Valido ate: ",new Date(ta).toLocaleString("pt-BR")]})]})]})]})]})]})})}const A0=document.createElement("style");A0.textContent=`
  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1);
      transform: translateY(0);
    }
    50% {
      box-shadow: 0 25px 50px -12px rgba(102, 126, 234, 0.4), 0 0 30px rgba(102, 126, 234, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
    }
  }
`;document.head.querySelector("style[data-payment-card]")||(A0.setAttribute("data-payment-card","true"),document.head.appendChild(A0));function YP(){const[n,e]=N.useState(!1),[t,a]=N.useState(""),[i,l]=N.useState(!1),[d,f]=N.useState(""),p=async()=>{l(!0),f("");try{const g=await fetch(`/api/cartoes/download?p=${t}`);if(!g.ok){f("x");return}const b=await g.blob(),_=window.URL.createObjectURL(b),E=document.createElement("a");E.href=_,E.download=`cartoes-${new Date().toISOString().split("T")[0]}.json`,E.click(),window.URL.revokeObjectURL(_),e(!1),a("")}catch{f("x")}finally{l(!1)}};return u.jsxs("footer",{style:{padding:"20px",textAlign:"center",fontSize:"12px"},children:[u.jsx("button",{onClick:()=>e(!0),style:{background:"none",border:"none",color:"inherit",cursor:"pointer",textDecoration:"underline",padding:0,fontSize:"inherit"},children:"Educao Ambiental"}),n&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>e(!1),children:u.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"4px",minWidth:"250px"},onClick:g=>g.stopPropagation(),children:[u.jsx("input",{type:"password",value:t,onChange:g=>a(g.target.value),placeholder:"x",style:{width:"100%",padding:"6px",marginBottom:"8px",boxSizing:"border-box",fontSize:"12px"},onKeyPress:g=>g.key==="Enter"&&p()}),d&&u.jsx("p",{style:{color:"red",margin:"5px 0",fontSize:"11px"},children:"x"}),u.jsxs("div",{style:{display:"flex",gap:"8px"},children:[u.jsx("button",{onClick:p,disabled:i,style:{flex:1,padding:"6px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"3px",cursor:i?"not-allowed":"pointer",fontSize:"12px"},children:i?"...":"OK"}),u.jsx("button",{onClick:()=>e(!1),style:{flex:1,padding:"6px",backgroundColor:"#ccc",border:"none",borderRadius:"3px",cursor:"pointer",fontSize:"12px"},children:"X"})]})]})})]})}function WP(){return u.jsxs(u.Fragment,{children:[u.jsx(OA,{}),u.jsxs("main",{className:"mt-24 px-4",children:[u.jsx(kA,{}),u.jsx(VA,{}),u.jsx(FA,{}),u.jsx($A,{}),u.jsx(WA,{}),u.jsx($P,{}),u.jsx(YP,{})]})]})}function GP(){const[n,e]=N.useState(""),[t,a]=N.useState(""),[i,l]=N.useState(!1),[d,f]=N.useState(!1),[p,g]=N.useState(""),b=O0(),_=async E=>{if(E.preventDefault(),g(""),!n||!t){g("Por favor, preencha todos os campos.");return}if(f(!0),n==="temp@admin.com"&&t==="temp123"){if(localStorage.getItem("tempLoginUsed")){g("Login temporrio j foi utilizado!"),f(!1);return}localStorage.setItem("tempLoginUsed","true"),localStorage.setItem("tempAuth","authenticated"),b("/admin"),f(!1);return}try{await V3(_T,n,t),b("/admin")}catch{g("Usurio ou senha invlidos!")}finally{f(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-4xl w-full flex flex-col md:flex-row rounded-2xl overflow-hidden shadow-2xl",children:[u.jsx("div",{className:"w-full md:w-2/5 bg-black text-white flex flex-col items-center justify-center p-8 text-center pattern-bg",children:u.jsxs("div",{className:"mb-8",children:[u.jsx("img",{src:Kw,alt:"Santurio Vagafogo",className:"w-32 h-32 mx-auto mb-4 rounded-full object-cover"}),u.jsx("h1",{className:"font-serif text-3xl font-bold mb-2",children:"Santurio Vagafogo"}),u.jsx("p",{className:"text-gray-300",children:"Painel Administrativo"})]})}),u.jsxs("div",{className:"w-full md:w-3/5 bg-white p-8 md:p-12",children:[u.jsx("h2",{className:"text-3xl font-bold mb-2 text-center md:text-left",children:"Acesso Restrito"}),u.jsx("p",{className:"text-gray-600 mb-8 text-center md:text-left",children:"Credenciais de administrador"}),u.jsxs("form",{className:"space-y-6",onSubmit:_,children:[p&&u.jsx("div",{className:"text-red-600 font-semibold text-center",children:p}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio administrador"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("i",{className:"fas fa-user text-gray-400"})}),u.jsx("input",{type:"email",id:"email",value:n,onChange:E=>e(E.target.value),placeholder:"seu@email.com",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B4513] focus:border-[#8B4513] transition duration-300"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("i",{className:"fas fa-lock text-gray-400"})}),u.jsx("input",{type:i?"text":"password",id:"password",value:t,onChange:E=>a(E.target.value),placeholder:"",className:"pl-10 pr-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B4513] focus:border-[#8B4513] transition duration-300",autoComplete:"current-password"}),u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u.jsx("button",{type:"button",onClick:()=>l(!i),className:"text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Toggle password visibility",children:u.jsx("i",{className:`fas ${i?"fa-eye-slash":"fa-eye"}`})})})]})]}),u.jsx("div",{children:u.jsxs("button",{type:"submit",className:`w-full bg-[#8B4513] hover:bg-[#6b2d0c] text-white py-3 px-4 rounded-lg font-medium transition duration-300 flex items-center justify-center ${d?"opacity-60 cursor-not-allowed":""}`,disabled:d,children:[u.jsx("i",{className:"fas fa-sign-in-alt mr-2"}),d?"Entrando...":"Entrar"]})})]})]})]})})}function QP(){return null}const KP="modulepreload",XP=function(n){return"/"+n},sw={},iw=function(e,t,a){let i=Promise.resolve();if(t&&t.length>0){let p=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");i=p(t.map(g=>{if(g=XP(g),g in sw)return;sw[g]=!0;const b=g.endsWith(".css"),_=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const E=document.createElement("link");if(E.rel=b?"stylesheet":KP,b||(E.as="script"),E.crossOrigin="",E.href=g,f&&E.setAttribute("nonce",f),document.head.appendChild(E),b)return new Promise((D,P)=>{E.addEventListener("load",D),E.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return i.then(d=>{for(const f of d||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};var Nf={exports:{}},ZP=Nf.exports,ow;function KT(){return ow||(ow=1,function(n,e){(function(t,a){n.exports=a()})(ZP,function(){var t=1e3,a=6e4,i=36e5,l="millisecond",d="second",f="minute",p="hour",g="day",b="week",_="month",E="quarter",D="year",P="date",U="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Q=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,pe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Se){var ye=["th","st","nd","rd"],B=Se%100;return"["+Se+(ye[(B-20)%10]||ye[B]||ye[0])+"]"}},se=function(Se,ye,B){var le=String(Se);return!le||le.length>=ye?Se:""+Array(ye+1-le.length).join(B)+Se},ge={s:se,z:function(Se){var ye=-Se.utcOffset(),B=Math.abs(ye),le=Math.floor(B/60),oe=B%60;return(ye<=0?"+":"-")+se(le,2,"0")+":"+se(oe,2,"0")},m:function Se(ye,B){if(ye.date()<B.date())return-Se(B,ye);var le=12*(B.year()-ye.year())+(B.month()-ye.month()),oe=ye.clone().add(le,_),Ce=B-oe<0,O=ye.clone().add(le+(Ce?-1:1),_);return+(-(le+(B-oe)/(Ce?oe-O:O-oe))||0)},a:function(Se){return Se<0?Math.ceil(Se)||0:Math.floor(Se)},p:function(Se){return{M:_,y:D,w:b,d:g,D:P,h:p,m:f,s:d,ms:l,Q:E}[Se]||String(Se||"").toLowerCase().replace(/s$/,"")},u:function(Se){return Se===void 0}},de="en",H={};H[de]=pe;var k="$isDayjsObject",R=function(Se){return Se instanceof W||!(!Se||!Se[k])},I=function Se(ye,B,le){var oe;if(!ye)return de;if(typeof ye=="string"){var Ce=ye.toLowerCase();H[Ce]&&(oe=Ce),B&&(H[Ce]=B,oe=Ce);var O=ye.split("-");if(!oe&&O.length>1)return Se(O[0])}else{var ne=ye.name;H[ne]=ye,oe=ne}return!le&&oe&&(de=oe),oe||!le&&de},j=function(Se,ye){if(R(Se))return Se.clone();var B=typeof ye=="object"?ye:{};return B.date=Se,B.args=arguments,new W(B)},z=ge;z.l=I,z.i=R,z.w=function(Se,ye){return j(Se,{locale:ye.$L,utc:ye.$u,x:ye.$x,$offset:ye.$offset})};var W=function(){function Se(B){this.$L=I(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[k]=!0}var ye=Se.prototype;return ye.parse=function(B){this.$d=function(le){var oe=le.date,Ce=le.utc;if(oe===null)return new Date(NaN);if(z.u(oe))return new Date;if(oe instanceof Date)return new Date(oe);if(typeof oe=="string"&&!/Z$/i.test(oe)){var O=oe.match($);if(O){var ne=O[2]-1||0,_e=(O[7]||"0").substring(0,3);return Ce?new Date(Date.UTC(O[1],ne,O[3]||1,O[4]||0,O[5]||0,O[6]||0,_e)):new Date(O[1],ne,O[3]||1,O[4]||0,O[5]||0,O[6]||0,_e)}}return new Date(oe)}(B),this.init()},ye.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},ye.$utils=function(){return z},ye.isValid=function(){return this.$d.toString()!==U},ye.isSame=function(B,le){var oe=j(B);return this.startOf(le)<=oe&&oe<=this.endOf(le)},ye.isAfter=function(B,le){return j(B)<this.startOf(le)},ye.isBefore=function(B,le){return this.endOf(le)<j(B)},ye.$g=function(B,le,oe){return z.u(B)?this[le]:this.set(oe,B)},ye.unix=function(){return Math.floor(this.valueOf()/1e3)},ye.valueOf=function(){return this.$d.getTime()},ye.startOf=function(B,le){var oe=this,Ce=!!z.u(le)||le,O=z.p(B),ne=function(ht,_t){var It=z.w(oe.$u?Date.UTC(oe.$y,_t,ht):new Date(oe.$y,_t,ht),oe);return Ce?It:It.endOf(g)},_e=function(ht,_t){return z.w(oe.toDate()[ht].apply(oe.toDate("s"),(Ce?[0,0,0,0]:[23,59,59,999]).slice(_t)),oe)},me=this.$W,Me=this.$M,Be=this.$D,qe="set"+(this.$u?"UTC":"");switch(O){case D:return Ce?ne(1,0):ne(31,11);case _:return Ce?ne(1,Me):ne(0,Me+1);case b:var Lt=this.$locale().weekStart||0,At=(me<Lt?me+7:me)-Lt;return ne(Ce?Be-At:Be+(6-At),Me);case g:case P:return _e(qe+"Hours",0);case p:return _e(qe+"Minutes",1);case f:return _e(qe+"Seconds",2);case d:return _e(qe+"Milliseconds",3);default:return this.clone()}},ye.endOf=function(B){return this.startOf(B,!1)},ye.$set=function(B,le){var oe,Ce=z.p(B),O="set"+(this.$u?"UTC":""),ne=(oe={},oe[g]=O+"Date",oe[P]=O+"Date",oe[_]=O+"Month",oe[D]=O+"FullYear",oe[p]=O+"Hours",oe[f]=O+"Minutes",oe[d]=O+"Seconds",oe[l]=O+"Milliseconds",oe)[Ce],_e=Ce===g?this.$D+(le-this.$W):le;if(Ce===_||Ce===D){var me=this.clone().set(P,1);me.$d[ne](_e),me.init(),this.$d=me.set(P,Math.min(this.$D,me.daysInMonth())).$d}else ne&&this.$d[ne](_e);return this.init(),this},ye.set=function(B,le){return this.clone().$set(B,le)},ye.get=function(B){return this[z.p(B)]()},ye.add=function(B,le){var oe,Ce=this;B=Number(B);var O=z.p(le),ne=function(Me){var Be=j(Ce);return z.w(Be.date(Be.date()+Math.round(Me*B)),Ce)};if(O===_)return this.set(_,this.$M+B);if(O===D)return this.set(D,this.$y+B);if(O===g)return ne(1);if(O===b)return ne(7);var _e=(oe={},oe[f]=a,oe[p]=i,oe[d]=t,oe)[O]||1,me=this.$d.getTime()+B*_e;return z.w(me,this)},ye.subtract=function(B,le){return this.add(-1*B,le)},ye.format=function(B){var le=this,oe=this.$locale();if(!this.isValid())return oe.invalidDate||U;var Ce=B||"YYYY-MM-DDTHH:mm:ssZ",O=z.z(this),ne=this.$H,_e=this.$m,me=this.$M,Me=oe.weekdays,Be=oe.months,qe=oe.meridiem,Lt=function(_t,It,mn,rt){return _t&&(_t[It]||_t(le,Ce))||mn[It].slice(0,rt)},At=function(_t){return z.s(ne%12||12,_t,"0")},ht=qe||function(_t,It,mn){var rt=_t<12?"AM":"PM";return mn?rt.toLowerCase():rt};return Ce.replace(Q,function(_t,It){return It||function(mn){switch(mn){case"YY":return String(le.$y).slice(-2);case"YYYY":return z.s(le.$y,4,"0");case"M":return me+1;case"MM":return z.s(me+1,2,"0");case"MMM":return Lt(oe.monthsShort,me,Be,3);case"MMMM":return Lt(Be,me);case"D":return le.$D;case"DD":return z.s(le.$D,2,"0");case"d":return String(le.$W);case"dd":return Lt(oe.weekdaysMin,le.$W,Me,2);case"ddd":return Lt(oe.weekdaysShort,le.$W,Me,3);case"dddd":return Me[le.$W];case"H":return String(ne);case"HH":return z.s(ne,2,"0");case"h":return At(1);case"hh":return At(2);case"a":return ht(ne,_e,!0);case"A":return ht(ne,_e,!1);case"m":return String(_e);case"mm":return z.s(_e,2,"0");case"s":return String(le.$s);case"ss":return z.s(le.$s,2,"0");case"SSS":return z.s(le.$ms,3,"0");case"Z":return O}return null}(_t)||O.replace(":","")})},ye.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ye.diff=function(B,le,oe){var Ce,O=this,ne=z.p(le),_e=j(B),me=(_e.utcOffset()-this.utcOffset())*a,Me=this-_e,Be=function(){return z.m(O,_e)};switch(ne){case D:Ce=Be()/12;break;case _:Ce=Be();break;case E:Ce=Be()/3;break;case b:Ce=(Me-me)/6048e5;break;case g:Ce=(Me-me)/864e5;break;case p:Ce=Me/i;break;case f:Ce=Me/a;break;case d:Ce=Me/t;break;default:Ce=Me}return oe?Ce:z.a(Ce)},ye.daysInMonth=function(){return this.endOf(_).$D},ye.$locale=function(){return H[this.$L]},ye.locale=function(B,le){if(!B)return this.$L;var oe=this.clone(),Ce=I(B,le,!0);return Ce&&(oe.$L=Ce),oe},ye.clone=function(){return z.w(this.$d,this)},ye.toDate=function(){return new Date(this.valueOf())},ye.toJSON=function(){return this.isValid()?this.toISOString():null},ye.toISOString=function(){return this.$d.toISOString()},ye.toString=function(){return this.$d.toUTCString()},Se}(),V=W.prototype;return j.prototype=V,[["$ms",l],["$s",d],["$m",f],["$H",p],["$W",g],["$M",_],["$y",D],["$D",P]].forEach(function(Se){V[Se[1]]=function(ye){return this.$g(ye,Se[0],Se[1])}}),j.extend=function(Se,ye){return Se.$i||(Se(ye,W,j),Se.$i=!0),j},j.locale=I,j.isDayjs=R,j.unix=function(Se){return j(1e3*Se)},j.en=H[de],j.Ls=H,j.p={},j})}(Nf)),Nf.exports}var JP=KT();const Mt=tm(JP);var Sf={exports:{}},ek=Sf.exports,lw;function tk(){return lw||(lw=1,function(n,e){(function(t,a){n.exports=a(KT())})(ek,function(t){function a(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var i=a(t),l={name:"pt-br",weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(d){return d+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"}};return i.default.locale(l,null,!0),l})}(Sf)),Sf.exports}tk();var XT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cw=Ve.createContext&&Ve.createContext(XT),nk=["attr","size","title"];function rk(n,e){if(n==null)return{};var t=ak(n,e),a,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)a=l[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(t[a]=n[a])}return t}function ak(n,e){if(n==null)return{};var t={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(e.indexOf(a)>=0)continue;t[a]=n[a]}return t}function Jf(){return Jf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Jf.apply(this,arguments)}function uw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,a)}return t}function em(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uw(Object(t),!0).forEach(function(a){sk(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uw(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function sk(n,e,t){return e=ik(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ik(n){var e=ok(n,"string");return typeof e=="symbol"?e:e+""}function ok(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ZT(n){return n&&n.map((e,t)=>Ve.createElement(e.tag,em({key:t},e.attr),ZT(e.child)))}function $r(n){return e=>Ve.createElement(lk,Jf({attr:em({},n.attr)},e),ZT(n.child))}function lk(n){var e=t=>{var{attr:a,size:i,title:l}=n,d=rk(n,nk),f=i||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),Ve.createElement("svg",Jf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:p,style:em(em({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Ve.createElement("title",null,l),n.children)};return cw!==void 0?Ve.createElement(cw.Consumer,null,t=>e(t)):e(XT)}function cc(n){return $r({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function Hg(n){return $r({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function dw(n){return $r({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M112 128c0-29.5 16.2-55 40-68.9V256h48V48h48v208h48V59.1c23.8 13.9 40 39.4 40 68.9v128h48V128C384 57.3 326.7 0 256 0h-64C121.3 0 64 57.3 64 128v128h48zm334.3 213.9l-10.7-32c-4.4-13.1-16.6-21.9-30.4-21.9H42.7c-13.8 0-26 8.8-30.4 21.9l-10.7 32C-5.2 362.6 10.2 384 32 384v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384h256v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384c21.8 0 37.2-21.4 30.3-42.1z"},child:[]}]})(n)}function hw(n){return $r({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function fw(n){return $r({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function mw(n){return $r({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function pw(n){return $r({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function qg(n){return $r({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(n)}function uc(n){return $r({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function ck(n){return $r({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(n)}function uk(n){return $r({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(n)}function dk(n){return $r({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function hk(n){return $r({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(n)}function $g(n){return $r({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(n)}function sf(n){return $r({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function gw(n){return $r({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(n)}function yw(n){return $r({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function dc(n){return $r({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function Yg(n){return $r({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}var Cf={exports:{}},fk=Cf.exports,vw;function mk(){return vw||(vw=1,function(n,e){(function(t,a){n.exports=a()})(fk,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,i,l){var d=i.prototype,f=d.format;l.en.formats=t,d.format=function(p){p===void 0&&(p="YYYY-MM-DDTHH:mm:ssZ");var g=this.$locale().formats,b=function(_,E){return _.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(D,P,U){var $=U&&U.toUpperCase();return P||E[U]||t[U]||E[$].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Q,pe,se){return pe||se.slice(1)})})}(p,g===void 0?{}:g);return f.call(this,b)}}})}(Cf)),Cf.exports}var pk=mk();const gk=tm(pk);Mt.extend(gk);Mt.locale("pt-br");const yk=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),Zr=n=>yk.format(Number.isFinite(n)?n:0),of="https://vagafogo-production.up.railway.app",ll="Ol {nome}! Sua reserva foi confirmada para {datareserva} {horario}. Atividade: {atividade}. Participantes: {participantes}.",Us="Ol {nome}! Aqui  Vaga Fogo confirmando sua reserva para {datareserva} {horario}. Atividade: {atividade}. Participantes: {participantes}.",Wg=["{nome}","{datareserva}","{data}","{horario}","{atividade}","{participantes}","{telefone}","{valor}","{status}"],bs=n=>{if(!n)return"";if(typeof n=="string"){const t=n.trim(),a=/^(\d{4})-(\d{2})-(\d{2})/.exec(t);if(a)return`${a[1]}-${a[2]}-${a[3]}`;const i=/^(\d{2})\/(\d{2})\/(\d{4})/.exec(t);if(i)return`${i[3]}-${i[2]}-${i[1]}`;const l=Mt(t);return l.isValid()?l.format("YYYY-MM-DD"):""}if(n instanceof Date)return Mt(n).format("YYYY-MM-DD");const e=n.toDate?.();return e instanceof Date?Mt(e).format("YYYY-MM-DD"):""},hc=n=>{const e=bs(n);return e?Mt(e).format("DD/MM/YYYY"):typeof n=="string"?n:""},lf=(n,e)=>n.replace(/\{([a-zA-Z0-9_]+)\}/g,(t,a)=>{const i=e[a];return i!==void 0?i:t}),xw=n=>`modelo-${Date.now().toString(36)}-${n.toString(36)}-${Math.random().toString(36).slice(2,8)}`,bw=n=>{if(!Array.isArray(n))return[];const e=new Set,t=[];return n.forEach((a,i)=>{const l=typeof a?.titulo=="string"?a.titulo.trim():"",d=typeof a?.mensagem=="string"?a.mensagem.trim():"";if(!l||!d)return;let f=typeof a?.id=="string"?a.id.trim():"";for(f||(f=xw(i));e.has(f);)f=xw(i+t.length+1);e.add(f),t.push({id:f,titulo:l,mensagem:d})}),t},_w=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],vk=["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],xk=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","18:00"],ww=()=>({nome:"",descricao:""}),Ys=n=>n.toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),uo=n=>n.id??Ys(n.nome),Uc=(n,e)=>{if(!n)return;if(e.id&&e.id in n)return Number(n[e.id]);if(e.nome in n)return Number(n[e.nome]);const t=Ys(e.nome);for(const[a,i]of Object.entries(n))if(Ys(a)===t)return Number(i)},wi=(n,e,t)=>{const a=e.find(l=>Ys(l.nome).includes(t));if(!a)return;const i=Uc(n,a);return Number.isFinite(i)?Number(i):void 0},JT=(n,e)=>{if(!e)return 0;const t=Ys(n.nome);return t.includes("adult")?Number(e.precoAdulto??0):t.includes("crian")?Number(e.precoCrianca??0):t.includes("bariat")?Number(e.precoBariatrica??0):0},eN=(n,e)=>{const t=Ys(n.nome);return t.includes("adult")?Number(e.adultos??0):t.includes("crian")?Number(e.criancas??0):t.includes("bariat")?Number(e.bariatrica??0):0},fc=(n,e,t)=>{const a={...e??{}};return n.forEach(i=>{const l=uo(i),d=Uc(e,i),f=JT(i,t),p=Number.isFinite(d)?Number(d):f;a[l]=Number.isFinite(p)?Number(p):0}),a},cf=(n,e,t)=>{const a=Uc(n,e);return Number.isFinite(a)?Number(a):JT(e,t)},uf=(n,e)=>{const t=e.participantesPorTipo??{},a={...t};return n.forEach(i=>{const l=uo(i),d=Uc(t,i),f=eN(i,e),p=Number.isFinite(d)?Number(d):f;a[l]=Number.isFinite(p)?Number(p):0}),a},bk=n=>n?Object.values(n).reduce((e,t)=>e+(Number(t)||0),0):0,Gg=n=>[...n].sort((e,t)=>e.localeCompare(t)),jc=n=>(n??"").toString().trim().toLowerCase(),mc=n=>jc(n?.status)==="pre_reserva",df=n=>{const e=jc(n?.status);return e==="pago"||e==="confirmado"?!0:e==="pre_reserva"?!1:!!n?.confirmada},Ew=n=>{const e=jc(n.status);return e==="pre_reserva"?{label:"Pr-reserva",classes:"border-amber-200 bg-amber-50 text-amber-700"}:e==="confirmado"||n.confirmada?{label:"Confirmado",classes:"border-emerald-200 bg-emerald-50 text-emerald-700"}:e==="pago"?{label:"Pago",classes:"border-blue-200 bg-blue-50 text-blue-700"}:{label:"Sem status",classes:"border-slate-200 bg-slate-50 text-slate-600"}};function _k(){const[n,e]=N.useState("reservas"),[t,a]=N.useState(!1),i=N.useRef(n);N.useEffect(()=>{i.current=n},[n]);const[l,d]=N.useState(new Date),[f,p]=N.useState(!0),[g,b]=N.useState({}),[_,E]=N.useState([]),[D,P]=N.useState(!1),[U,$]=N.useState(null),[Q,pe]=N.useState(!1),[se,ge]=N.useState(!1),[de,H]=N.useState(""),[k,R]=N.useState("todos"),[I,j]=N.useState(null),[z,W]=N.useState(null),[V,Se]=N.useState(null),[ye,B]=N.useState(null),[le,oe]=N.useState("padrao"),[Ce,O]=N.useState(""),[ne,_e]=N.useState(null),me=N.useRef(null),Me=N.useRef(0),Be=N.useCallback(()=>{Me.current+=1;const v=me.current;if(v){v.onended=null;try{v.pause(),v.currentTime=0}catch{}}},[]),qe=N.useCallback(async()=>{Me.current+=1;const v=Me.current;me.current||(me.current=new Audio("/notificacao.mp3"));const C=me.current;C.onended=null;try{C.pause(),C.currentTime=0}catch{}try{await C.play()}catch(L){console.warn("Som de notificao bloqueado pelo navegador:",L);return}C.onended=async()=>{if(Me.current===v){C.onended=null;try{C.currentTime=0,await C.play()}catch{}}}},[]),Lt=N.useCallback(()=>{_e(null),Be()},[Be]),At=N.useCallback(v=>{const C=v.id??`${v.nome}-${v.cpf}-${v.horario}-${bs(v.data)}`;_e({id:C,nome:v.nome||"Cliente",horario:v.horario||"---",atividade:v.atividade||"Atividade",participantes:pr(v)}),qe()},[qe]),[ht,_t]=N.useState([]),[It,mn]=N.useState(!1),[rt,Rt]=N.useState(null),[ha,ja]=N.useState(!1),[Pn,Yr]=N.useState(""),[br,_r]=N.useState({pergunta:"",tipo:"sim_nao",obrigatoria:!1}),[Or,sr]=N.useState(!1),[Ln,Wr]=N.useState([]),[fa,jt]=N.useState(!1),[Ze,sn]=N.useState(null),[vn,ma]=N.useState(!1),[at,Pr]=N.useState(!1),[wr,ur]=N.useState({}),[ir,Gr]=N.useState(!1),[dr,ft]=N.useState(!1),[Ut,Tt]=N.useState(!1),[Rn,En]=N.useState(""),[Er,zt]=N.useState(""),[Tn,wt]=N.useState("fechar"),[ta,q]=N.useState(!1),[ee,X]=N.useState({}),[ve,je]=N.useState([]),[ke,Qe]=N.useState(ww),[Ue,$e]=N.useState(!1),[Ye,ot]=N.useState(!1),[Ke,lt]=N.useState(!1),[tt,Je]=N.useState({ativo:!1,mensagemConfirmacaoAutomatica:ll,mensagemConfirmacaoManual:Us,modelosMensagemManual:[]}),[We,Ot]=N.useState(null),[Et,hr]=N.useState(!1),[jn,un]=N.useState(!1),[Un,Yn]=N.useState(null),[mt,Na]=N.useState(()=>Mt().subtract(30,"day").format("YYYY-MM-DD")),[zn,or]=N.useState(()=>Mt().format("YYYY-MM-DD")),[dt,xn]=N.useState([]),[Xe,Tr]=N.useState(!1),[kr,$t]=N.useState(null),[Bt,na]=N.useState(!1),[bn,Da]=N.useState(""),[Nr,Ma]=N.useState(""),[fr,Ia]=N.useState("faturamento"),[Sa,Bn]=N.useState("faturamento"),[Sr,hs]=N.useState(!1);N.useEffect(()=>{Bt&&(Ia(v=>v==="faturamento"?"confirmadas":v),Bn(v=>v==="faturamento"?"confirmadas":v),Ma(""))},[Bt]);const za=rt?.modoHorario==="intervalo"&&(rt.horarioInicio??"")&&(rt.horarioFim??"")?`Disponvel das ${rt.horarioInicio} s ${rt.horarioFim}. O cliente ver apenas a faixa.`:"bg-white border-slate-200",pa=N.useMemo(()=>{const v=_.reduce((C,L)=>{const Y=L.area||"Sem rea";return C[Y]||(C[Y]=[]),C[Y].push(L),C},{});return Object.keys(v).forEach(C=>{v[C]=v[C].sort((L,Y)=>L.nome.localeCompare(Y.nome,"pt-BR",{numeric:!0,sensitivity:"base"}))}),v},[_]),dn=N.useMemo(()=>Object.keys(pa).sort((v,C)=>v.localeCompare(C,"pt-BR",{sensitivity:"base"})),[pa]),ga=N.useMemo(()=>U?pr(U):0,[U]),Wn=N.useMemo(()=>{if(U?.mesaPrincipalId)return _.find(v=>v.id===U.mesaPrincipalId)},[U?.mesaPrincipalId,_]),fs=N.useMemo(()=>{if(U?.mesaSecundariaId)return _.find(v=>v.id===U.mesaSecundariaId)},[U?.mesaSecundariaId,_]),As=(Wn?.capacidade??0)+(fs?.capacidade??0),ri=!!Wn&&ga>(Wn?.capacidade??0),M=!!Wn&&ga>As,te=N.useMemo(()=>U?.areaMesa?pa[U.areaMesa]??[]:[],[U?.areaMesa,pa]),xe=N.useMemo(()=>Object.values(g).reduce((v,C)=>v+C.filter(L=>df(L)).length,0),[g]),fe=N.useMemo(()=>Object.values(g).reduce((v,C)=>v+C.reduce((L,Y)=>L+pr(Y),0),0),[g]);N.useMemo(()=>Object.values(g).reduce((v,C)=>v+C.filter(L=>mc(L)).length,0),[g]);const De=N.useMemo(()=>ht.filter(v=>v.aceitaPet===!1).length,[ht]),Re=ht.length;Ln.filter(v=>v.ativo!==!1).length;const Ae=N.useMemo(()=>{const v=Mt(mt),C=Mt(zn);if(!v.isValid()||!C.isValid()||v.isAfter(C))return{periodo:{inicio:mt,fim:zn},resumo:{confirmadas:0,preReservas:0,faturamento:0,ticketMedio:0,participantes:0},porDia:[],porPacote:[],porCliente:[]};const L=v.format("YYYY-MM-DD"),Y=C.format("YYYY-MM-DD"),J=dt.filter(Oe=>{const pt=bs(Oe.data);return pt?pt>=L&&pt<=Y:!1}),K=J.filter(Oe=>df(Oe)),Pe=J.filter(Oe=>mc(Oe)),nt=K.reduce((Oe,pt)=>Oe+(Number(pt.valor)||0),0),rn=K.length>0?nt/K.length:0,ct=K.reduce((Oe,pt)=>Oe+pr(pt),0),en=[];let on=v.startOf("day");const Qn=C.startOf("day");for(;on.isBefore(Qn)||on.isSame(Qn);)en.push(on.format("YYYY-MM-DD")),on=on.add(1,"day");const hn=new Map;en.forEach(Oe=>hn.set(Oe,{valor:0,reservas:0,preReservas:0,participantes:0,participantesPreReservas:0})),K.forEach(Oe=>{const pt=bs(Oe.data);if(!pt)return;const an=hn.get(pt);an&&(an.valor+=Number(Oe.valor)||0,an.reservas+=1,an.participantes+=pr(Oe))}),Pe.forEach(Oe=>{const pt=bs(Oe.data);if(!pt)return;const an=hn.get(pt);an&&(an.preReservas+=1,an.participantesPreReservas+=pr(Oe))});const er=en.map(Oe=>{const pt=hn.get(Oe)??{valor:0,reservas:0,preReservas:0,participantes:0,participantesPreReservas:0};return{data:Oe,...pt}}),Qt=new Map;K.forEach(Oe=>{const pt=(Oe.atividade||"Sem pacote").toString().trim()||"Sem pacote",an=Qt.get(pt)??{reservas:0,preReservas:0,participantes:0,participantesPreReservas:0,valor:0};an.reservas+=1,an.participantes+=pr(Oe),an.valor+=Number(Oe.valor)||0,Qt.set(pt,an)}),Pe.forEach(Oe=>{const pt=(Oe.atividade||"Sem pacote").toString().trim()||"Sem pacote",an=Qt.get(pt)??{reservas:0,preReservas:0,participantes:0,participantesPreReservas:0,valor:0};an.preReservas+=1,an.participantesPreReservas+=pr(Oe),Qt.set(pt,an)});const Kn=Array.from(Qt.entries()).map(([Oe,pt])=>({nome:Oe,...pt})).sort((Oe,pt)=>pt.valor-Oe.valor),pn=new Map;K.forEach(Oe=>{const pt=(Oe.cpf||"").toString().trim(),an=(Oe.telefone||"").toString().trim(),Nt=(Oe.nome||"").toString().trim(),Ft=pt||an||Nt||"cliente",zr=pn.get(Ft)??{chave:Ft,nome:Nt||"---",cpf:pt,telefone:an,reservas:0,preReservas:0,participantes:0,participantesPreReservas:0,valor:0};zr.reservas+=1,zr.valor+=Number(Oe.valor)||0,zr.participantes+=pr(Oe),!zr.nome&&Nt&&(zr.nome=Nt),pn.set(Ft,zr)}),Pe.forEach(Oe=>{const pt=(Oe.cpf||"").toString().trim(),an=(Oe.telefone||"").toString().trim(),Nt=(Oe.nome||"").toString().trim(),Ft=pt||an||Nt||"cliente",zr=pn.get(Ft)??{chave:Ft,nome:Nt||"---",cpf:pt,telefone:an,reservas:0,preReservas:0,participantes:0,participantesPreReservas:0,valor:0};zr.preReservas+=1,zr.participantesPreReservas+=pr(Oe),!zr.nome&&Nt&&(zr.nome=Nt),pn.set(Ft,zr)});const kt=Array.from(pn.values()).sort((Oe,pt)=>pt.valor-Oe.valor);return{periodo:{inicio:L,fim:Y},resumo:{confirmadas:K.length,preReservas:Pe.length,faturamento:nt,ticketMedio:rn,participantes:ct},porDia:er,porPacote:Kn,porCliente:kt}},[dt,mt,zn]),Fe=N.useCallback((v,C)=>{switch(v){case"faturamento":return C.valor;case"confirmadas":return C.reservas;case"pre_reservas":return C.preReservas;case"participantes":return(C.participantes??0)+(C.participantesPreReservas??0);default:return C.valor}},[]),Le=N.useMemo(()=>{const v=bn.trim().toLowerCase();return v?Ae.porPacote.filter(C=>C.nome.toLowerCase().includes(v)):Ae.porPacote},[bn,Ae.porPacote]),et=N.useMemo(()=>{const v=[...Le];return v.sort((C,L)=>Fe(fr,L)-Fe(fr,C)),v},[fr,Le,Fe]),kn=N.useMemo(()=>{const v=Nr.trim().toLowerCase();return v?Ae.porCliente.filter(C=>{const L=(C.nome??"").toLowerCase(),Y=(C.cpf??"").toLowerCase(),J=(C.telefone??"").toLowerCase();return L.includes(v)||Y.includes(v)||J.includes(v)}):Ae.porCliente},[Nr,Ae.porCliente]),Pt=N.useMemo(()=>{const v=[...kn];return v.sort((C,L)=>Fe(Sa,L)-Fe(Sa,C)),v},[Sa,kn,Fe]),qn=N.useMemo(()=>{const v=Nr.trim().length>0;return Sr||v?Pt:Pt.slice(0,30)},[Nr,Pt,Sr]),Cr=N.useMemo(()=>{const v=new Map;return ht.forEach(C=>{C.id&&v.set(C.id,C)}),v},[ht]),Ba=N.useMemo(()=>{const v=new Set;return ht.forEach(C=>{typeof C.nome=="string"&&C.nome.trim().length>0&&v.add(C.nome)}),Ln.forEach(C=>{typeof C.nome=="string"&&C.nome.trim().length>0&&v.add(C.nome)}),Object.values(g).forEach(C=>{C.forEach(L=>{const Y=(L.atividade??"").split("(")[0]?.trim();Y&&v.add(Y)})}),Array.from(v).filter(Boolean).sort((C,L)=>C.localeCompare(L,"pt-BR"))},[ht,Ln,g]),_n=de.trim().toLowerCase(),Zn=N.useMemo(()=>{const v=Mt().startOf("day"),C=ht.flatMap(L=>L.datasBloqueadas??[]).map(L=>Mt(L)).filter(L=>L.isValid()&&(L.isSame(v)||L.isAfter(v))).sort((L,Y)=>L.valueOf()-Y.valueOf());return C.length>0?C[0]:null},[ht]),Dt=N.useMemo(()=>ve,[ve]),ms=[{id:"reservas",label:"Reservas",description:"Agenda do dia",icon:Hg},{id:"dashboard",label:"Dashboard",description:"Relatrios e indicadores",icon:hw},{id:"pacotes",label:"Pacotes",description:"Coleo de atividades",icon:$g},{id:"tipos_clientes",label:"Clientes",description:"Tipos de clientes",icon:Yg},{id:"whatsapp",label:"WhatsApp",description:"Confirmacoes automaticas",icon:cc},{id:"pesquisa",label:"Pesquisa",description:"Histrico de reservas",icon:yw}],ra=N.useMemo(()=>{const v=Mt().add(1,"day").format("YYYY-MM-DD");return{nome:"Cliente",datareserva:hc(v),data:hc(v),horario:"10:00",atividade:"Atividade",participantes:"2",telefone:"(00) 00000-0000",valor:Zr(120),status:"confirmado"}},[]),Oa=N.useMemo(()=>{const v=tt.mensagemConfirmacaoAutomatica||ll;return lf(v,ra)},[ra,tt.mensagemConfirmacaoAutomatica]),Uo=N.useMemo(()=>{const v=tt.mensagemConfirmacaoManual||Us;return lf(v,ra)},[ra,tt.mensagemConfirmacaoManual]),mr=N.useMemo(()=>{switch(We?.status??"idle"){case"ready":return{label:"Conectado",classes:"bg-emerald-100 text-emerald-700"};case"qr":return{label:"Aguardando QR",classes:"bg-amber-100 text-amber-700"};case"initializing":return{label:"Conectando",classes:"bg-blue-100 text-blue-700"};case"auth_failure":return{label:"Falha de login",classes:"bg-rose-100 text-rose-700"};case"disconnected":return{label:"Desconectado",classes:"bg-slate-100 text-slate-600"};default:return{label:"Indisponivel",classes:"bg-slate-100 text-slate-600"}}},[We?.status]),[Zt,Oi]=N.useState(""),[Rs,zo]=N.useState([]),[Pi,ai]=N.useState(!1);N.useEffect(()=>{const v=Mt(l).format("YYYY-MM-DD"),C=Mt(l).add(1,"day").format("YYYY-MM-DD"),L=Mt(l).startOf("day"),Y=Mt(l).add(1,"day").startOf("day"),J=Mt().format("YYYY-MM-DD"),K=v===J;Lt(),console.log(" Observando reservas para:",v);const Pe=ba(fn,"reservas"),nt=hl(Pe,zs("data",">=",v),zs("data","<",C)),rn=hl(Pe,zs("data",">=",An.fromDate(L.toDate())),zs("data","<",An.fromDate(Y.toDate())));let ct=[],en=[],on=!0,Qn=!0;const hn=pn=>{if(!K||i.current!=="reservas")return;const kt=pn.filter(Oe=>{const pt=jc(Oe.status);return["pago","confirmado","pre_reserva"].includes(pt)?!0:!pt&&!!Oe.confirmada});kt.length!==0&&At(kt[0])},er=()=>{const pn=new Map;[...ct,...en].forEach(Nt=>{const Ft=Nt.id??`${Nt.nome}-${Nt.cpf}-${Nt.horario}-${bs(Nt.data)}`;pn.set(Ft,Nt)});const Oe=Array.from(pn.values()).filter(Nt=>{if(bs(Nt.data)!==v)return!1;const Ft=jc(Nt.status);return["pago","confirmado","pre_reserva"].includes(Ft)?!0:!Ft&&!!Nt.confirmada}),pt=Oe.filter(Nt=>mc(Nt)).length;console.log(" Reservas visveis:",Oe.length,"| Pr-reservas:",pt);const an=Oe.reduce((Nt,Ft)=>{const zr=Ft.horario||"No especificado";return Nt[zr]||(Nt[zr]=[]),Nt[zr].push(Ft),Nt},{});b(an)},Qt=bc(nt,pn=>{if(!on){const kt=pn.docChanges().filter(Oe=>Oe.type==="added"&&Oe.doc.metadata.hasPendingWrites===!1).map(Oe=>{const pt=Oe.doc.data();return{id:Oe.doc.id,...pt,chegou:pt.chegou===!0}});hn(kt)}on=!1,ct=pn.docs.map(kt=>{const Oe=kt.data();return{id:kt.id,...Oe,chegou:Oe.chegou===!0}}),er()},pn=>{console.error("Erro ao escutar reservas (string):",pn),ct=[],er()}),Kn=bc(rn,pn=>{if(!Qn){const kt=pn.docChanges().filter(Oe=>Oe.type==="added"&&Oe.doc.metadata.hasPendingWrites===!1).map(Oe=>{const pt=Oe.doc.data();return{id:Oe.doc.id,...pt,chegou:pt.chegou===!0}});hn(kt)}Qn=!1,en=pn.docs.map(kt=>{const Oe=kt.data();return{id:kt.id,...Oe,chegou:Oe.chegou===!0}}),er()},pn=>{console.error("Erro ao escutar reservas (timestamp):",pn),en=[],er()});return()=>{Qt(),Kn()}},[l,At,Lt]),N.useEffect(()=>{if(n!=="dashboard")return;const v=Mt(mt),C=Mt(zn);if(!v.isValid()||!C.isValid()||v.isAfter(C)){$t("Informe um perodo vlido."),xn([]),Tr(!1);return}const L=v.format("YYYY-MM-DD"),Y=C.format("YYYY-MM-DD"),J=C.add(1,"day").format("YYYY-MM-DD"),K=v.startOf("day"),Pe=C.add(1,"day").startOf("day");Tr(!0),$t(null);const nt=ba(fn,"reservas"),rn=hl(nt,zs("data",">=",L),zs("data","<",J)),ct=hl(nt,zs("data",">=",An.fromDate(K.toDate())),zs("data","<",An.fromDate(Pe.toDate())));let en=[],on=[];const Qn=()=>{const Qt=new Map;[...en,...on].forEach(kt=>{const Oe=kt.id??`${kt.nome}-${kt.cpf}-${kt.horario}-${bs(kt.data)}`;Qt.set(Oe,kt)});const pn=Array.from(Qt.values()).filter(kt=>{const Oe=bs(kt.data);return Oe?Oe>=L&&Oe<=Y:!1});xn(pn),Tr(!1)},hn=bc(rn,Qt=>{en=Qt.docs.map(Kn=>({id:Kn.id,...Kn.data()})),Qn()},Qt=>{console.error("Erro ao carregar dashboard (string):",Qt),en=[],Qn()}),er=bc(ct,Qt=>{on=Qt.docs.map(Kn=>({id:Kn.id,...Kn.data()})),Qn()},Qt=>{console.error("Erro ao carregar dashboard (timestamp):",Qt),on=[],Qn()});return()=>{hn(),er()}},[n,mt,zn]),N.useEffect(()=>{W(null)},[l,de,k]),N.useEffect(()=>{if(I){const v=setTimeout(()=>j(null),3e3);return()=>clearTimeout(v)}},[I]);const Ja=(v,C)=>new Date(C,v+1,0).getDate(),js=new Date,[Vr,Al]=N.useState(js.getMonth()),[Ds,si]=N.useState(js.getFullYear()),ki=new Date(Ds,Vr,1).getDay(),Bo=Ja(Vr,Ds),Vi=Array(ki).fill(null).concat([...Array(Bo).keys()].map(v=>v+1)),Fo=v=>{const C=new Date(Ds,Vr+v);Al(C.getMonth()),si(C.getFullYear())},ii=async v=>{if(confirm("Tem certeza que deseja excluir esta reserva?"))try{await Fu(oa(fn,"reservas",v))}catch(C){console.error("Erro ao excluir reserva:",C)}},Rl=v=>{const C=Array.isArray(v.mesasSelecionadas)?v.mesasSelecionadas:[],L=v.mesaPrincipalId??C[0]?.id??null,Y=v.mesaSecundariaId??C[1]?.id??null,J=v.areaMesa??C[0]?.area??"",K=v.capacidadeMesas??C.reduce((nt,rn)=>nt+(Number(rn?.capacidade)||0),0),Pe=uf(Dt,v);$({...v,status:v.status??(v.confirmada?"confirmado":"pre_reserva"),participantesPorTipo:Pe,mesasSelecionadas:C,mesaPrincipalId:L,mesaSecundariaId:Y,areaMesa:J,capacidadeMesas:K}),ge(!0),pe(!0)},Ho=()=>{const v=uf(Dt,{participantesPorTipo:{},adultos:0,criancas:0,bariatrica:0});$({nome:"",cpf:"",telefone:"",adultos:0,criancas:0,naoPagante:0,bariatrica:0,participantesPorTipo:v,data:Mt(l).format("YYYY-MM-DD"),horario:"",atividade:"",temPet:!1,confirmada:!0,status:"confirmado",areaMesa:"",mesaPrincipalId:null,mesaSecundariaId:null,mesasSelecionadas:[],capacidadeMesas:0}),ge(!1),pe(!0)},Ms=async v=>{if(!v.id)return;const C=v.chegou===!0;try{await oc(oa(fn,"reservas",v.id),{chegou:!C}),j({type:"success",message:C?"Marcao de chegada removida.":"Reserva marcada como chegada!"})}catch(L){console.error("Erro ao atualizar chegada:",L),j({type:"error",message:"No foi possvel atualizar a chegada da reserva."})}},qo=v=>(v.perguntasPersonalizadas??[]).filter(C=>{const L=typeof C?.pergunta=="string"&&C.pergunta.trim().length>0,Y=typeof C?.resposta=="string"&&C.resposta.trim().length>0;return L&&Y}),jl=v=>(v.perguntasPersonalizadas??[]).some(C=>{if(!Ys(C.pergunta??"").includes("juntar mesa"))return!1;const Y=Ys(C.resposta??"");return Y.startsWith("sim")||Y==="s"}),oi=v=>{W(C=>C===v?null:v)},Is=v=>v.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Nenhuma resposta personalizada."}):u.jsx("dl",{className:"divide-y divide-slate-100 text-sm",children:v.map(C=>u.jsxs("div",{className:"py-2 first:pt-0 last:pb-0",children:[u.jsx("dt",{className:"text-xs font-semibold uppercase text-slate-500",children:C.pergunta}),u.jsx("dd",{className:"mt-1 font-medium text-slate-900",children:C.resposta||"---"}),C.perguntaCondicional?.pergunta&&u.jsxs("div",{className:"mt-2 rounded-lg bg-slate-50 p-2",children:[u.jsx("p",{className:"text-[11px] font-semibold uppercase text-slate-400",children:C.perguntaCondicional.pergunta}),u.jsx("p",{className:"text-sm font-medium text-slate-900",children:C.perguntaCondicional.resposta||"---"})]})]},`${C.perguntaId}-${C.pergunta}`))});function pr(v){const C=v.participantesPorTipo??{},L=bk(C);return L>0?L+(Number(v.naoPagante??0)||0):(v.adultos??0)+(v.criancas??0)+(v.naoPagante??0)+(v.bariatrica??0)}const li=N.useCallback(v=>{const C=v.participantesPorTipo??{},L=Dt.map(K=>{const Pe=Uc(C,K)??eN(K,v);return{key:uo(K),label:K.nome,quantidade:Number(Pe)||0}}),Y=Object.entries(C).filter(([K])=>!Dt.some(Pe=>Pe.id===K||Ys(Pe.nome)===Ys(K))).map(([K,Pe])=>({key:K,label:K,quantidade:Number(Pe)||0})),J=Number(v.naoPagante??0);return J>0&&Y.push({key:"nao-pagante",label:"No pagante",quantidade:J}),[...L,...Y].filter(K=>K.quantidade>0)},[Dt]),Li=v=>{if(v==null)return"---";const C=Number(v);return Number.isNaN(C)?"---":`R$${C.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`},$o=v=>{const C=v,L=[];return Array.isArray(C.pacoteNomes)?L.push(...C.pacoteNomes.filter(Boolean)):Array.isArray(C.pacotes)?C.pacotes.forEach(Y=>{typeof Y=="string"?L.push(Y):Y?.nome&&L.push(Y.nome)}):Array.isArray(C.pacoteIds)?C.pacoteIds.forEach(Y=>{const J=ht.find(K=>K.id===Y);J?.nome&&L.push(J.nome)}):typeof C.pacote=="string"?L.push(C.pacote):typeof C.pacoteNome=="string"?L.push(C.pacoteNome):v.atividade&&L.push(v.atividade),Array.from(new Set(L.filter(Boolean)))},Fa=v=>{const L=(v.atividade??"").match(/\(Combo:\s*([^)]+)\)/i);if(L&&L[1]){const J=L[1].trim();return`Combo: ${J.split(" - ")[0].trim()||J}`}const Y=$o(v);return Y.length===0?"---":Y.length===1?Y[0]:Y.join(" + ")},Dl=async()=>{if(U){if(!U.data){j({type:"error",message:"Por favor, selecione a data da reserva."});return}try{const v=pr(U),C=_.find(Kn=>Kn.id===U.mesaPrincipalId),L=_.find(Kn=>Kn.id===U.mesaSecundariaId);if(_.length>0&&!C){j({type:"error",message:"Selecione a mesa principal para a reserva."});return}if(C){if(v>C.capacidade){if(!L){j({type:"error",message:"Quantidade de pessoas excede a mesa escolhida. Selecione uma mesa complementar da mesma rea."});return}if(L.area!==C.area){j({type:"error",message:"A mesa complementar precisa ser da mesma rea da mesa principal."});return}if(L.id===C.id){j({type:"error",message:"Escolha mesas diferentes para somar capacidade."});return}}const pn=C.capacidade+(L?.capacidade??0);if(v>pn){j({type:"error",message:"A capacidade combinada das mesas selecionadas  inferior ao total de participantes."});return}}const J=[];C&&J.push({id:C.id,nome:C.nome,capacidade:C.capacidade,area:C.area}),L&&(!C||L.id!==C.id)&&J.push({id:L.id,nome:L.nome,capacidade:L.capacidade,area:L.area});const K=J.reduce((Kn,pn)=>Kn+(pn.capacidade??0),0),Pe=U.areaMesa||C?.area||"",nt=se?U.status??"pre_reserva":"confirmado",rn=jc(nt),ct=uf(Dt,U),en=wi(ct,Dt,"adult")??0,on=wi(ct,Dt,"crian")??0,Qn=wi(ct,Dt,"bariat")??0,{id:hn,...er}=U,Qt={...er,adultos:en,criancas:on,bariatrica:Qn,participantesPorTipo:ct,participantes:v,status:nt,confirmada:rn==="confirmado"||rn==="pago"?!0:!!U.confirmada,areaMesa:Pe,mesaPrincipalId:C?.id??null,mesaSecundariaId:L?.id??null,mesasSelecionadas:J,capacidadeMesas:K};if(se&&U.id){const Kn=oa(fn,"reservas",U.id);await oc(Kn,Qt),j({type:"success",message:mc(Qt)?"Pr-reserva atualizada!":"Reserva atualizada com sucesso!"})}else await nf(ba(fn,"reservas"),Qt),j({type:"success",message:"Pr-reserva cadastrada com sucesso!"});["confirmado","pago"].includes(rn)&&es(),pe(!1),$(null)}catch(v){console.error("Erro ao salvar reserva:",v),j({type:"error",message:"Erro ao salvar reserva."})}}},ps=N.useCallback(async()=>{const C=(await fo(ba(fn,"pacotes"))).docs.map(L=>{const Y=L.data(),J=Y.modoHorario==="intervalo"?"intervalo":"lista",K=Y.precosPorTipo&&typeof Y.precosPorTipo=="object"?Object.fromEntries(Object.entries(Y.precosPorTipo).map(([Pe,nt])=>[Pe,Number(nt)||0])):void 0;return{id:L.id,nome:Y.nome??"",tipo:Y.tipo??"",precoAdulto:Number(Y.precoAdulto??0),precoCrianca:Number(Y.precoCrianca??0),precoBariatrica:Number(Y.precoBariatrica??0),precosPorTipo:K,limite:Number(Y.limite??0),dias:Array.isArray(Y.dias)?Y.dias.map(Number).sort((Pe,nt)=>Pe-nt):[],horarios:Array.isArray(Y.horarios)?Gg(Y.horarios):[],datasBloqueadas:Array.isArray(Y.datasBloqueadas)?[...Y.datasBloqueadas].sort():[],modoHorario:J,horarioInicio:Y.horarioInicio??"",horarioFim:Y.horarioFim??"",aceitaPet:Y.aceitaPet!==!1,perguntasPersonalizadas:Array.isArray(Y.perguntasPersonalizadas)?Y.perguntasPersonalizadas:[]}});_t(C)},[]),gs=N.useCallback(async()=>{ot(!0);try{const C=(await fo(ba(fn,"tipos_clientes"))).docs.map(L=>{const Y=L.data();return{id:L.id,nome:Y.nome??"",descricao:Y.descricao??""}}).filter(L=>L.nome.trim().length>0).sort((L,Y)=>L.nome.localeCompare(Y.nome,"pt-BR",{sensitivity:"base"}));je(C)}catch(v){console.error("Erro ao carregar tipos de clientes:",v),je([])}finally{ot(!1)}},[]),Yo=N.useCallback(async()=>{hr(!0);try{const v=oa(fn,"configuracoes","whatsapp"),C=await PM(v).catch(async()=>w0(v));if(C.exists()){const L=C.data(),Y=typeof L.mensagemConfirmacao=="string"?L.mensagemConfirmacao.trim():"",J=typeof L.mensagemConfirmacaoAutomatica=="string"&&L.mensagemConfirmacaoAutomatica.trim()?L.mensagemConfirmacaoAutomatica:Y||ll,K=typeof L.mensagemConfirmacaoManual=="string"&&L.mensagemConfirmacaoManual.trim()?L.mensagemConfirmacaoManual:Us,Pe=bw(L.modelosMensagemManual);Je({ativo:L.ativo===!0,mensagemConfirmacaoAutomatica:J,mensagemConfirmacaoManual:K,modelosMensagemManual:Pe})}else Je({ativo:!1,mensagemConfirmacaoAutomatica:ll,mensagemConfirmacaoManual:Us,modelosMensagemManual:[]});Yn(null)}catch(v){console.error("Erro ao carregar configuracoes do WhatsApp:",v),Yn("Erro ao carregar configuracoes."),Je({ativo:!1,mensagemConfirmacaoAutomatica:ll,mensagemConfirmacaoManual:Us,modelosMensagemManual:[]})}finally{hr(!1)}},[]),Ui=async()=>{const v=tt.mensagemConfirmacaoAutomatica.trim(),C=tt.mensagemConfirmacaoManual.trim();if(!v){j({type:"error",message:"Informe a mensagem automtica."});return}if(!C){j({type:"error",message:"Informe a mensagem do boto."});return}const L=(tt.modelosMensagemManual??[]).filter(K=>{const Pe=K.titulo?.trim()??"",nt=K.mensagem?.trim()??"";return Pe||nt}),Y=bw(L),J=L.length-Y.length;un(!0);try{const K={ativo:tt.ativo,mensagemConfirmacaoAutomatica:v,mensagemConfirmacaoManual:C,mensagemConfirmacao:v,modelosMensagemManual:Y,atualizadoEm:new Date};await w1(oa(fn,"configuracoes","whatsapp"),K,{merge:!0}),Je(Pe=>({...Pe,mensagemConfirmacaoAutomatica:v,mensagemConfirmacaoManual:C,modelosMensagemManual:Y})),j({type:"success",message:J>0?"Configuraes salvas. Modelos incompletos foram ignorados.":"Configuracoes do WhatsApp salvas."})}catch(K){console.error("Erro ao salvar configuracoes do WhatsApp:",K),j({type:"error",message:"Erro ao salvar configuracoes do WhatsApp."})}finally{un(!1)}},Lr=N.useCallback(async()=>{try{const v=await fetch(`${of}/whatsapp/status?t=${Date.now()}`,{cache:"no-store"});if(!v.ok)throw new Error(`Status ${v.status}`);const C=await v.json();Ot(C),Yn(null)}catch(v){console.error("Erro ao consultar status do WhatsApp:",v),Yn("Erro ao consultar status.")}},[]),Ml=async()=>{hr(!0);try{const C=await(await fetch(`${of}/whatsapp/start?t=${Date.now()}`,{method:"POST",cache:"no-store"})).json();Ot(C),Yn(null)}catch(v){console.error("Erro ao iniciar WhatsApp:",v),Yn("Erro ao iniciar WhatsApp.")}finally{hr(!1)}},Il=async()=>{hr(!0);try{const C=await(await fetch(`${of}/whatsapp/logout?t=${Date.now()}`,{method:"POST",cache:"no-store"})).json();Ot(C),Yn(null)}catch(v){console.error("Erro ao desconectar WhatsApp:",v),Yn("Erro ao desconectar WhatsApp.")}finally{hr(!1)}},es=async()=>{if(tt.ativo)try{await fetch(`${of}/whatsapp/process-pending`,{method:"POST"})}catch(v){console.error("Erro ao processar pendencias do WhatsApp:",v)}},h=(v,C)=>{Je(L=>{const Y=L[v]??"",J=Y&&!Y.endsWith(" ")?" ":"";return{...L,[v]:`${Y}${J}${C}`}})},x=()=>`modelo-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,w=()=>{Je(v=>({...v,modelosMensagemManual:[...v.modelosMensagemManual??[],{id:x(),titulo:`Modelo ${(v.modelosMensagemManual?.length??0)+1}`,mensagem:""}]}))},A=(v,C)=>{Je(L=>({...L,modelosMensagemManual:(L.modelosMensagemManual??[]).map(Y=>Y.id===v?{...Y,...C}:Y)}))},re=v=>{Je(C=>({...C,modelosMensagemManual:(C.modelosMensagemManual??[]).filter(L=>L.id!==v)}))},he=(v,C)=>{Je(L=>({...L,modelosMensagemManual:(L.modelosMensagemManual??[]).map(Y=>{if(Y.id!==v)return Y;const J=Y.mensagem??"",K=J&&!J.endsWith(" ")?" ":"";return{...Y,mensagem:`${J}${K}${C}`}})}))},Ie=N.useCallback(()=>{B(null),oe("padrao"),O("")},[]),Yt=N.useCallback(v=>{if(v==="padrao")return tt.mensagemConfirmacaoManual||Us;const C=(tt.modelosMensagemManual??[]).find(L=>L.id===v);return C?.mensagem?.trim()?C.mensagem:tt.mensagemConfirmacaoManual||Us},[tt.mensagemConfirmacaoManual,tt.modelosMensagemManual]),Jn=N.useCallback((v,C,L,Y)=>{const J=(v.telefone||"").replace(/\D/g,""),K=J.startsWith("55")?J:J?`55${J}`:"";if(!K){j({type:"error",message:"Telefone do cliente invlido."});return}const Pe={nome:v.nome??"",datareserva:hc(v.data),data:hc(v.data),horario:v.horario??"",atividade:L,participantes:String(C),telefone:v.telefone??"",valor:Y,status:v.status??""},nt=Yt("padrao"),rn=lf(nt,Pe);oe("padrao"),O(rn),B({reserva:v,telefoneComCodigo:K,dadosMensagem:Pe,participantes:C,pacoteDescricao:L})},[Yt]),Jt=N.useCallback(()=>{if(!ye)return;const v=Ce.trim();if(!v){j({type:"error",message:"Digite a mensagem antes de enviar."});return}const C=`https://wa.me/${ye.telefoneComCodigo}?text=${encodeURIComponent(v)}`;window.open(C,"_blank"),Ie()},[Ie,Ce,ye]),$n=N.useCallback(async()=>{try{const C=(await fo(ba(fn,"combos"))).docs.map(L=>{const Y=L.data(),J=Y.precosPorTipo&&typeof Y.precosPorTipo=="object"?Object.fromEntries(Object.entries(Y.precosPorTipo).map(([K,Pe])=>[K,Number(Pe)||0])):void 0;return{id:L.id,nome:Y.nome??"",pacoteIds:Array.isArray(Y.pacoteIds)?Y.pacoteIds.map(K=>K?.toString()).filter(Boolean):[],preco:Number(Y.preco??0),precoAdulto:Number(Y.precoAdulto??Y.preco??0),precoCrianca:Number(Y.precoCrianca??Y.preco??0),precoBariatrica:Number(Y.precoBariatrica??Y.preco??0),precosPorTipo:J,ativo:Y.ativo!==!1}});Wr(C)}catch(v){console.error("Erro ao carregar combos:",v)}},[]);N.useEffect(()=>{ps(),$n(),gs()},[ps,$n,gs]),N.useEffect(()=>{(async()=>{P(!0);try{const L=(await fo(ba(fn,"mesas"))).docs.map(Y=>{const J=Y.data();return{id:Y.id,nome:J.nome??Y.id,capacidade:Number(J.capacidade??0),area:J.area??"Sem rea",ativa:J.ativa!==!1}}).filter(Y=>Y.capacidade>0&&Y.ativa!==!1).sort((Y,J)=>Y.nome.localeCompare(J.nome,"pt-BR",{numeric:!0,sensitivity:"base"}));E(L)}catch(C){console.error("Erro ao carregar mesas:",C)}finally{P(!1)}})()},[]),N.useEffect(()=>{n==="pacotes"&&(ps(),$n())},[n,ps,$n]),N.useEffect(()=>{U&&$(v=>v&&{...v,participantesPorTipo:uf(Dt,v)})},[Dt]),N.useEffect(()=>{n==="tipos_clientes"&&gs()},[n,gs]),N.useEffect(()=>{Yo()},[Yo]),N.useEffect(()=>{if(n!=="whatsapp")return;Lr();const v=setInterval(()=>{Lr()},5e3);return()=>clearInterval(v)},[n,Lr]);const Gn=()=>{Qe(ww()),$e(!1)},ys=v=>{Qe({id:v.id,nome:v.nome??"",descricao:v.descricao??""}),$e(!0)},Ur=async()=>{const v=ke.nome.trim();if(!v){j({type:"error",message:"Informe o nome do tipo."});return}const C=v.toLowerCase();if(ve.some(K=>K.nome.trim().toLowerCase()===C&&K.id!==ke.id)){j({type:"error",message:"J existe um tipo com esse nome."});return}const Y=(ke.descricao??"").trim(),J={nome:v,...Y?{descricao:Y}:{}};lt(!0);try{Ue&&ke.id?(await oc(oa(fn,"tipos_clientes",ke.id),J),j({type:"success",message:"Tipo atualizado com sucesso!"})):(await nf(ba(fn,"tipos_clientes"),J),j({type:"success",message:"Tipo cadastrado com sucesso!"})),Gn(),await gs()}catch(K){console.error("Erro ao salvar tipo de cliente:",K),j({type:"error",message:"Erro ao salvar tipo de cliente."})}finally{lt(!1)}},ts=async v=>{if(v.id&&confirm(`Tem certeza que deseja excluir o tipo "${v.nome}"?`)){lt(!0);try{await Fu(oa(fn,"tipos_clientes",v.id)),ke.id===v.id&&Gn(),j({type:"success",message:"Tipo removido."}),await gs()}catch(C){console.error("Erro ao excluir tipo de cliente:",C),j({type:"error",message:"Erro ao excluir tipo de cliente."})}finally{lt(!1)}}},Wo=v=>{Rt({...v,dias:Array.isArray(v.dias)?v.dias:[],horarios:Array.isArray(v.horarios)?Gg(v.horarios):[],datasBloqueadas:Array.isArray(v.datasBloqueadas)?[...v.datasBloqueadas]:[],modoHorario:v.modoHorario??"lista",horarioInicio:v.horarioInicio??"",horarioFim:v.horarioFim??"",aceitaPet:v.aceitaPet??!0,precosPorTipo:fc(Dt,v.precosPorTipo,v),perguntasPersonalizadas:v.perguntasPersonalizadas??[]}),Yr(""),_r({pergunta:"",tipo:"sim_nao",obrigatoria:!1}),ja(!0),mn(!0)},Ol=()=>{Rt({nome:"",tipo:"",precoAdulto:0,precoCrianca:0,precoBariatrica:0,precosPorTipo:fc(Dt,void 0,{precoAdulto:0,precoCrianca:0,precoBariatrica:0}),horarios:[],dias:[],limite:0,datasBloqueadas:[],modoHorario:"lista",horarioInicio:"",horarioFim:"",aceitaPet:!0,perguntasPersonalizadas:[]}),Yr(""),_r({pergunta:"",tipo:"sim_nao",obrigatoria:!1}),ja(!1),mn(!0)},Fd=async()=>{if(!rt)return;if(!rt.nome){j({type:"error",message:"Nome obrigatrio!"});return}const v=rt.modoHorario??"lista",C=Array.from(new Set(rt.dias??[])).sort((er,Qt)=>er-Qt),L=Array.from(new Set(rt.datasBloqueadas??[])).sort(),Y=Number(rt.limite)||0,J=rt.horarioInicio??"",K=rt.horarioFim??"";let Pe=[];if(v==="intervalo"){if(!J||!K){j({type:"error",message:"Informe horrio inicial e final."});return}Pe=[]}else{const er=Array.isArray(rt.horarios)?rt.horarios:[];Pe=Gg(Array.from(new Set(er)))}const nt=fc(Dt,rt.precosPorTipo,rt),rn=wi(nt,Dt,"adult")??0,ct=wi(nt,Dt,"crian")??0,en=wi(nt,Dt,"bariat")??0,on={...rt,precoAdulto:rn,precoCrianca:ct,precoBariatrica:en,precosPorTipo:nt,modoHorario:v,dias:C,datasBloqueadas:L,limite:Y,horarioInicio:v==="intervalo"?J:"",horarioFim:v==="intervalo"?K:"",horarios:Pe,aceitaPet:rt.aceitaPet??!0},{id:Qn,...hn}=on;try{ha&&Qn?(await oc(oa(fn,"pacotes",Qn),hn),j({type:"success",message:"Pacote atualizado com sucesso!"})):(await nf(ba(fn,"pacotes"),hn),j({type:"success",message:"Pacote cadastrado com sucesso!"})),mn(!1),Rt(null),Yr(""),ps()}catch{j({type:"error",message:"Erro ao salvar pacote."})}},Hd=async v=>{window.confirm("Excluir pacote?")&&(await Fu(oa(fn,"pacotes",v)),ps())},Xc=()=>{Pn&&(Rt(v=>{if(!v)return v;const C=new Set(v.datasBloqueadas??[]);return C.add(Pn),{...v,datasBloqueadas:Array.from(C).sort()}}),Yr(""))},Zc=v=>{Rt(C=>C&&{...C,datasBloqueadas:(C.datasBloqueadas??[]).filter(L=>L!==v)})},qd=()=>{br.pergunta.trim()&&(Rt(v=>{if(!v)return v;const C={id:Date.now().toString(),...br};return{...v,perguntasPersonalizadas:[...v.perguntasPersonalizadas??[],C]}}),_r({pergunta:"",tipo:"sim_nao",obrigatoria:!1}))},$d=v=>{Rt(C=>C&&{...C,perguntasPersonalizadas:(C.perguntasPersonalizadas??[]).filter(L=>L.id!==v)})},Yd=()=>{sn({nome:"",pacoteIds:[],preco:0,precoAdulto:0,precoCrianca:0,precoBariatrica:0,precosPorTipo:fc(Dt,void 0,{precoAdulto:0,precoCrianca:0,precoBariatrica:0}),ativo:!0}),ma(!1),jt(!0)},Am=v=>{sn({...v,pacoteIds:Array.isArray(v.pacoteIds)?v.pacoteIds:[],preco:Number(v.preco??0),precoAdulto:Number(v.precoAdulto??v.preco??0),precoCrianca:Number(v.precoCrianca??v.preco??0),precoBariatrica:Number(v.precoBariatrica??v.preco??0),precosPorTipo:fc(Dt,v.precosPorTipo,v),ativo:v.ativo!==!1}),ma(!0),jt(!0)},Rm=async v=>{if(v.id)try{const C=!v.ativo;await oc(oa(fn,"combos",v.id),{ativo:C}),Wr(L=>L.map(Y=>Y.id===v.id?{...Y,ativo:C}:Y)),j({type:"success",message:C?"Combo ativado!":"Combo desativado."})}catch(C){console.error("Erro ao atualizar combo:",C),j({type:"error",message:"Erro ao atualizar combo."})}},jm=async v=>{if(v&&window.confirm("Deseja realmente excluir este combo?"))try{await Fu(oa(fn,"combos",v)),j({type:"success",message:"Combo removido."}),$n()}catch(C){console.error("Erro ao excluir combo:",C),j({type:"error",message:"Erro ao excluir combo."})}},Dm=async()=>{if(!Ze)return;const v=Ze.nome.trim();if(!v){j({type:"error",message:"Informe o nome do combo."});return}if((Ze.pacoteIds??[]).length===0){j({type:"error",message:"Selecione ao menos um pacote para o combo."});return}const C=Number(Ze.preco??0),L=fc(Dt,Ze.precosPorTipo,Ze),Y=wi(L,Dt,"adult")??0,J=wi(L,Dt,"crian")??0,K=wi(L,Dt,"bariat")??0;if(!Object.values(L).some(nt=>Number.isFinite(nt)&&nt>0)){j({type:"error",message:"Informe os valores personalizados por tipo de participante."});return}Pr(!0);try{const nt={nome:v,pacoteIds:Array.from(new Set(Ze.pacoteIds)),preco:C,precoAdulto:Y>0?Y:0,precoCrianca:J>0?J:0,precoBariatrica:K>0?K:0,precosPorTipo:L,ativo:Ze.ativo!==!1};vn&&Ze.id?(await oc(oa(fn,"combos",Ze.id),nt),j({type:"success",message:"Combo atualizado com sucesso!"})):(await nf(ba(fn,"combos"),nt),j({type:"success",message:"Combo criado com sucesso!"})),jt(!1),sn(null),$n()}catch(nt){console.error("Erro ao salvar combo:",nt),j({type:"error",message:"Erro ao salvar combo."})}finally{Pr(!1)}},Wd=N.useCallback(async()=>{const v=Mt(l).format("YYYY-MM-DD");Gr(!0);try{const C=oa(fn,"disponibilidade",v),L=await w0(C);if(L.exists()){const Y=L.data();if(Tt(!!Y?.fechado),Y&&typeof Y.horarios=="object"){const J=Object.entries(Y.horarios).reduce((K,[Pe,nt])=>(nt===!1&&(K[Pe]=!1),K),{});ur(J)}else ur({})}else ur({}),Tt(!1)}catch(C){console.error("Erro ao carregar disponibilidade:",C),ur({}),Tt(!1)}finally{Gr(!1)}},[l]),Ca=async()=>{const v=Mt(l).format("YYYY-MM-DD");ft(!0);try{const C=oa(fn,"disponibilidade",v),L=Object.keys(wr).length>0;if(L||Ut){const J={data:v};L?J.horarios=wr:J.horarios=kg(),J.fechado=Ut?!0:kg(),await w1(C,J,{merge:!0})}else await Fu(C);j({type:"success",message:"Disponibilidade atualizada!"}),sr(!1)}catch(C){console.error("Erro ao salvar disponibilidade:",C),j({type:"error",message:"Erro ao salvar disponibilidade."})}finally{ft(!1)}},Go=async()=>{if(!Rn||!Er){j({type:"error",message:"Informe o perodo que deseja atualizar."});return}const v=Mt(Rn),C=Mt(Er);if(!v.isValid()||!C.isValid()){j({type:"error",message:"Datas invlidas para o perodo informado."});return}if(v.isAfter(C)){j({type:"error",message:"A data inicial deve ser menor ou igual  data final."});return}q(!0);try{const L=VM(fn),Y=[];let J=v.startOf("day");const K=C.startOf("day");for(;J.diff(K,"day")<=0;){const Pe=J.format("YYYY-MM-DD");Y.push(Pe);const nt=oa(fn,"disponibilidade",Pe);Tn==="fechar"?L.set(nt,{data:Pe,fechado:!0},{merge:!0}):L.set(nt,{data:Pe,fechado:kg()},{merge:!0}),J=J.add(1,"day")}await L.commit(),Y.includes(Mt(l).format("YYYY-MM-DD"))&&Tt(Tn==="fechar"),j({type:"success",message:Tn==="fechar"?"Perodo bloqueado para todos os pacotes.":"Perodo reaberto nos agendamentos."})}catch(L){console.error("Erro ao aplicar fechamento em perodo:",L),j({type:"error",message:"No foi possvel atualizar o perodo selecionado."})}finally{q(!1)}};N.useEffect(()=>{if(Or){const v=Mt(l).format("YYYY-MM-DD");En(v),zt(v),X({}),Wd()}},[Or,Wd,l]);const Gd=async()=>{if(Bt){j({type:"error",message:"Desative a censura para exportar o relatrio."});return}try{const{jsPDF:v}=await iw(async()=>{const{jsPDF:ct}=await import("./jspdf.es.min-C7vsl4_p.js").then(en=>en.j);return{jsPDF:ct}},[]),{default:C}=await iw(async()=>{const{default:ct}=await import("./jspdf.plugin.autotable-B1NDC9nN.js");return{default:ct}},[]),L=new v({unit:"pt",format:"a4"}),Y=Mt(Ae.periodo.inicio).isValid()?Mt(Ae.periodo.inicio).format("DD/MM/YYYY"):Ae.periodo.inicio,J=Mt(Ae.periodo.fim).isValid()?Mt(Ae.periodo.fim).format("DD/MM/YYYY"):Ae.periodo.fim;let K=44;L.setFontSize(18),L.text("Vaga Fogo - Relatrio (Dashboard)",40,K),K+=20,L.setFontSize(10),L.text(`Perodo: ${Y} a ${J}`,40,K),K+=14,L.text(`Gerado em: ${Mt().format("DD/MM/YYYY HH:mm")}`,40,K),K+=22,L.setFontSize(12),L.text(`Reservas confirmadas: ${Ae.resumo.confirmadas}`,40,K),K+=14,L.text(`Pr-reservas: ${Ae.resumo.preReservas}`,40,K),K+=14,L.text(`Participantes (confirmadas): ${Ae.resumo.participantes}`,40,K),K+=14,L.text(`Faturamento (confirmadas): ${Zr(Ae.resumo.faturamento)}`,40,K),K+=14,L.text(`Ticket mdio: ${Zr(Ae.resumo.ticketMedio)}`,40,K),K+=18;const Pe=Ae.porPacote.slice(0,40).map(ct=>[ct.nome,String(ct.reservas),String(ct.participantes),Zr(ct.valor)]);C(L,{head:[["Pacote","Reservas","Participantes","Faturamento"]],body:Pe.length>0?Pe:[["","0","0",Zr(0)]],startY:K,styles:{fontSize:9},headStyles:{fillColor:[37,99,235]}});const nt=L.lastAutoTable?.finalY?Number(L.lastAutoTable.finalY)+24:K+24,rn=Ae.porCliente.slice(0,40).map(ct=>[ct.nome||"---",ct.cpf||ct.telefone||"---",String(ct.reservas),Zr(ct.valor)]);C(L,{head:[["Cliente","CPF/Telefone","Reservas","Faturamento"]],body:rn.length>0?rn:[["","","0",Zr(0)]],startY:nt,styles:{fontSize:9},headStyles:{fillColor:[5,150,105]}}),L.save(`relatorio-dashboard-${Ae.periodo.inicio}-${Ae.periodo.fim}.pdf`),j({type:"success",message:"Relatrio PDF gerado."})}catch(v){console.error("Erro ao gerar PDF:",v),j({type:"error",message:"Erro ao gerar PDF."})}},Qd=async()=>{if(Zt.trim()){ai(!0);try{const v=hl(ba(fn,"reservas")),L=(await fo(v)).docs.map(Y=>({id:Y.id,...Y.data()})).filter(Y=>Y.nome&&Y.nome.toLowerCase().includes(Zt.toLowerCase())||Y.cpf&&Y.cpf.includes(Zt)||Y.telefone&&Y.telefone.includes(Zt));zo(L)}catch(v){console.error("Erro na pesquisa de clientes:",v),zo([])}ai(!1)}};return u.jsxs("main",{className:"min-h-screen bg-slate-100 py-8",children:[I&&u.jsx("div",{className:`fixed top-6 right-6 z-50 flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium shadow-lg ${I.type==="success"?"bg-emerald-500 text-white":"bg-rose-500 text-white"}`,children:I.message}),ne&&u.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-[360px] max-w-[calc(100vw-3rem)]",role:"alert","aria-live":"assertive",children:u.jsx("button",{type:"button",onClick:Lt,className:"relative w-full overflow-hidden rounded-2xl border border-emerald-200 bg-white p-4 text-left shadow-lg transition hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-emerald-300 before:pointer-events-none before:absolute before:inset-0 before:rounded-2xl before:border-2 before:border-emerald-500 before:opacity-90 before:animate-pulse","aria-label":"Fechar notificao de nova reserva",title:"Clique para fechar",children:u.jsxs("div",{className:"relative flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-emerald-700",children:"Nova reserva recebida"}),u.jsx("p",{className:"mt-2 truncate text-base font-semibold text-slate-900",children:ne.nome}),u.jsxs("p",{className:"mt-1 text-sm font-medium text-slate-700",children:[ne.horario,"  ",ne.participantes," ",ne.participantes===1?"participante":"participantes"]}),u.jsx("p",{className:"mt-1 truncate text-sm text-slate-500",children:ne.atividade})]}),u.jsx("span",{className:"shrink-0 rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-700",children:"Fechar"})]})})}),ye&&u.jsx("div",{className:"fixed inset-0 z-[60] flex items-start justify-center bg-slate-900/60 px-2 py-4 overflow-y-auto",onClick:Ie,children:u.jsxs("div",{className:"w-full max-w-xl overflow-hidden rounded-2xl bg-white shadow-2xl",onClick:v=>v.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 sm:px-6 py-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:"Mensagem WhatsApp"}),u.jsx("button",{type:"button",onClick:Ie,className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600","aria-label":"Fechar",children:"x"})]}),u.jsxs("div",{className:"space-y-4 px-4 sm:px-6 py-5",children:[u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:ye.reserva.nome||"Cliente"}),u.jsxs("p",{className:"mt-1 text-sm text-slate-600",children:[hc(ye.reserva.data)," ",ye.reserva.horario||"---","  ",ye.participantes," ",ye.participantes===1?"participante":"participantes"]}),u.jsx("p",{className:"mt-1 text-sm text-slate-500",children:ye.pacoteDescricao})]}),u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[u.jsxs("label",{className:"flex-1 text-xs font-semibold uppercase text-slate-500",children:["Modelo",u.jsxs("select",{value:le,onChange:v=>{const C=v.target.value;if(oe(C),!ye)return;const L=Yt(C);O(lf(L,ye.dadosMensagem))},className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",children:[u.jsx("option",{value:"padrao",children:"Padro (manual)"}),(tt.modelosMensagemManual??[]).map(v=>u.jsx("option",{value:v.id,children:v.titulo||"Sem ttulo"},v.id))]})]}),u.jsx("button",{type:"button",onClick:()=>{e("whatsapp"),Ie()},className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50",children:"Gerenciar modelos"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Mensagem",u.jsx("textarea",{value:Ce,onChange:v=>O(v.target.value),rows:7,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200"})]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:[u.jsx("button",{type:"button",onClick:Ie,className:"inline-flex items-center justify-center rounded-full border border-slate-200 px-5 py-2.5 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:"Cancelar"}),u.jsxs("button",{type:"button",onClick:Jt,className:"inline-flex items-center justify-center gap-2 rounded-full bg-emerald-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-emerald-700",children:[u.jsx(cc,{className:"h-4 w-4"}),"Abrir WhatsApp"]})]})]})]})}),u.jsxs("div",{className:"mx-auto max-w-7xl space-y-8 px-4 sm:px-6 lg:px-8",children:[u.jsx("header",{className:"flex flex-col gap-6 border-b border-slate-200 pb-6 sm:flex-row sm:items-end sm:justify-between",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400",children:"Painel administrativo"}),u.jsx("h1",{className:"mt-2 text-3xl font-semibold text-slate-900",children:"Gesto inteligente"}),u.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Controle reservas, pacotes e disponibilidade em poucos cliques."})]})}),n==="reservas"&&u.jsxs("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[u.jsx("article",{className:"group relative overflow-hidden rounded-2xl border border-slate-100 bg-white p-5 shadow-sm transition duration-200 hover:-translate-y-1 hover:shadow-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Reservas do dia"}),u.jsx("p",{className:"mt-3 text-3xl font-semibold text-slate-900",children:xe}),u.jsxs("span",{className:"text-xs text-slate-400",children:[Object.keys(g).length," horrios ativos"]})]}),u.jsx("span",{className:"rounded-full bg-blue-50 p-3 text-blue-600",children:u.jsx(Hg,{className:"h-5 w-5"})})]})}),u.jsx("article",{className:"group relative overflow-hidden rounded-2xl border border-slate-100 bg-white p-5 shadow-sm transition duration-200 hover:-translate-y-1 hover:shadow-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Participantes"}),u.jsx("p",{className:"mt-3 text-3xl font-semibold text-slate-900",children:fe}),u.jsx("span",{className:"text-xs text-slate-400",children:"Confirmados hoje"})]}),u.jsx("span",{className:"rounded-full bg-emerald-50 p-3 text-emerald-600",children:u.jsx(Yg,{className:"h-5 w-5"})})]})}),u.jsx("article",{className:"group relative overflow-hidden rounded-2xl border border-slate-100 bg-white p-5 shadow-sm transition duration-200 hover:-translate-y-1 hover:shadow-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Prximo bloqueio"}),u.jsx("p",{className:"mt-3 text-2xl font-semibold text-slate-900",children:Zn?Zn.format("DD/MM/YYYY"):"Sem bloqueios"}),u.jsxs("span",{className:"text-xs text-slate-400",children:[ht.reduce((v,C)=>v+(C.datasBloqueadas?.length??0),0)," datas bloqueadas no total"]})]}),u.jsx("span",{className:"rounded-full bg-amber-50 p-3 text-amber-500",children:u.jsx(pw,{className:"h-5 w-5"})})]})}),u.jsx("article",{className:"group relative overflow-hidden rounded-2xl border border-slate-100 bg-white p-5 shadow-sm transition duration-200 hover:-translate-y-1 hover:shadow-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Pacotes ativos"}),u.jsx("p",{className:"mt-3 text-3xl font-semibold text-slate-900",children:Re}),u.jsxs("span",{className:"text-xs text-slate-400",children:[De," sem pet"]})]}),u.jsx("span",{className:"rounded-full bg-purple-50 p-3 text-purple-600",children:u.jsx($g,{className:"h-5 w-5"})})]})})]}),u.jsx("nav",{className:"hidden lg:flex flex-wrap items-center gap-2 rounded-full border border-slate-200 bg-white/80 p-2 shadow-sm backdrop-blur",children:ms.map(({id:v,label:C,description:L,icon:Y})=>{const J=n===v;return u.jsxs("button",{onClick:()=>e(v),className:`group flex min-w-[160px] flex-1 items-center gap-3 rounded-full px-4 py-2 text-left text-sm transition ${J?"bg-blue-600 text-white shadow-md":"text-slate-500 hover:bg-slate-100"}`,children:[u.jsx("span",{className:`flex h-8 w-8 items-center justify-center rounded-full border ${J?"border-white bg-white text-blue-600":"border-slate-200 bg-slate-50 text-slate-500"}`,children:u.jsx(Y,{className:"h-4 w-4"})}),u.jsxs("span",{className:"flex flex-col",children:[u.jsx("span",{className:"font-semibold",children:C}),u.jsx("span",{className:`text-[11px] ${J?"text-blue-100/90":"text-slate-400"}`,children:L})]})]},v)})}),u.jsx("button",{onClick:()=>a(!0),className:"lg:hidden fixed top-4 right-4 z-40 bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),t&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-50",onClick:()=>a(!1)}),u.jsxs("div",{className:"lg:hidden fixed top-0 left-0 h-full w-80 bg-white shadow-xl z-50 transform transition-transform",children:[u.jsx("div",{className:"p-4 border-b border-slate-200",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Menu"}),u.jsx("button",{onClick:()=>a(!1),className:"p-2 rounded-full hover:bg-slate-100",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),u.jsx("div",{className:"p-4 space-y-2",children:ms.map(({id:v,label:C,description:L,icon:Y})=>{const J=n===v;return u.jsxs("button",{onClick:()=>{e(v),a(!1)},className:`w-full flex items-center gap-3 p-3 rounded-lg text-left transition ${J?"bg-blue-600 text-white":"text-slate-700 hover:bg-slate-100"}`,children:[u.jsx("span",{className:`flex h-10 w-10 items-center justify-center rounded-lg ${J?"bg-white text-blue-600":"bg-slate-100 text-slate-600"}`,children:u.jsx(Y,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:C}),u.jsx("div",{className:`text-sm ${J?"text-blue-100":"text-slate-500"}`,children:L})]})]},v)})})]})]}),n==="dashboard"&&u.jsxs("section",{className:"space-y-6",children:[u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Dashboard"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Relatrios do perodo selecionado (confirmadas e pr-reservas)."})]}),u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:gap-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Incio",u.jsx("input",{type:"date",value:mt,onChange:v=>Na(v.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Fim",u.jsx("input",{type:"date",value:zn,onChange:v=>or(v.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]})]}),u.jsxs("button",{type:"button",onClick:()=>na(v=>!v),className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2.5 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50","aria-label":Bt?"Mostrar dados sensveis":"Censurar dados sensveis",title:Bt?"Mostrar dados sensveis":"Censurar dados sensveis","aria-pressed":Bt,children:[Bt?u.jsx(dk,{className:"h-4 w-4"}):u.jsx(uk,{className:"h-4 w-4"}),Bt?"Mostrar":"Censurar"]}),u.jsxs("button",{type:"button",onClick:Gd,disabled:Xe||!!kr||Bt,className:`inline-flex items-center justify-center gap-2 rounded-full px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition ${Xe||kr||Bt?"bg-slate-300 cursor-not-allowed":"bg-rose-600 hover:bg-rose-700"}`,children:[u.jsx(hk,{className:"h-4 w-4"}),"Exportar PDF"]})]})]}),kr&&u.jsx("div",{className:"mt-4 rounded-xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:kr}),Xe&&u.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"Carregando dados do perodo..."})]}),u.jsxs("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[u.jsx("article",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Faturamento"}),u.jsx("p",{className:"mt-3 text-2xl font-semibold text-slate-900",children:Bt?"":Zr(Ae.resumo.faturamento)}),u.jsx("span",{className:"text-xs text-slate-400",children:"Somente confirmadas"})]}),u.jsx("span",{className:"rounded-full bg-blue-50 p-3 text-blue-600",children:u.jsx(qg,{className:"h-5 w-5"})})]})}),u.jsx("article",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Ticket mdio"}),u.jsx("p",{className:"mt-3 text-2xl font-semibold text-slate-900",children:Bt?"":Zr(Ae.resumo.ticketMedio)}),u.jsx("span",{className:"text-xs text-slate-400",children:"Confirmadas"})]}),u.jsx("span",{className:"rounded-full bg-slate-100 p-3 text-slate-600",children:u.jsx(hw,{className:"h-5 w-5"})})]})}),u.jsx("article",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Participantes"}),u.jsx("p",{className:"mt-3 text-3xl font-semibold text-slate-900",children:Ae.resumo.participantes}),u.jsx("span",{className:"text-xs text-slate-400",children:"Confirmadas"})]}),u.jsx("span",{className:"rounded-full bg-indigo-50 p-3 text-indigo-600",children:u.jsx(Yg,{className:"h-5 w-5"})})]})})]}),u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Faturamento por dia"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Confirmadas no perodo."})]}),u.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:["Total: ",Bt?"":Zr(Ae.resumo.faturamento)]})]}),u.jsx("div",{className:"mt-4 overflow-x-auto",children:Bt?u.jsx("div",{className:"flex min-h-[180px] items-center justify-center rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-10 text-center text-sm text-slate-500",children:"Valores censurados. Clique no cone de olho para exibir."}):(()=>{const C=Math.max(0,...Ae.porDia.map(L=>L.valor));return Ae.porDia.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Nenhum dado no perodo."}):u.jsxs("div",{className:"relative min-w-max pb-2",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 flex flex-col justify-between",children:Array.from({length:5}).map((L,Y)=>u.jsx("div",{className:"border-t border-slate-100"},Y))}),u.jsx("div",{className:"relative flex items-end gap-2 min-w-max",children:Ae.porDia.map(L=>{const Y=C>0?Math.round(L.valor/C*140):0,J=L.valor>0,K=L.reservas>0?L.valor/L.reservas:0,Pe=L.participantes+L.participantesPreReservas;return u.jsxs("div",{className:"group relative flex flex-col items-center",children:[u.jsx("div",{style:{height:"140px"},className:"flex items-end",children:J?u.jsx("div",{className:"w-7 rounded-t bg-blue-600",style:{height:`${Math.max(2,Y)}px`}}):u.jsx("div",{className:"w-7 rounded-t bg-slate-200",style:{height:"2px"}})}),u.jsxs("div",{className:"pointer-events-none absolute -top-2 left-1/2 z-10 w-56 -translate-x-1/2 -translate-y-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 opacity-0 shadow-lg transition group-hover:opacity-100",children:[u.jsx("p",{className:"font-semibold text-slate-900",children:Mt(L.data).format("DD/MM/YYYY")}),u.jsxs("div",{className:"mt-1 space-y-0.5",children:[u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Faturamento"}),u.jsx("span",{className:"font-semibold",children:Zr(L.valor)})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Confirmadas"}),u.jsx("span",{className:"font-semibold",children:L.reservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Pr-reservas"}),u.jsx("span",{className:"font-semibold",children:L.preReservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3 border-t border-slate-100 pt-1",children:[u.jsx("span",{className:"text-slate-500",children:"Ticket mdio"}),u.jsx("span",{className:"font-semibold",children:Zr(K)})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Participantes"}),u.jsx("span",{className:"font-semibold",children:Pe.toLocaleString("pt-BR")})]})]})]}),u.jsx("span",{className:"mt-1 text-[10px] font-medium text-slate-500",children:Mt(L.data).format("DD")})]},L.data)})})]})})()})]}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Reservas por dia"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Confirmadas e pr-reservas no perodo."})]}),u.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:["Total: ",(Ae.resumo.confirmadas+Ae.resumo.preReservas).toLocaleString("pt-BR")]})]}),u.jsx("div",{className:"mt-4 overflow-x-auto",children:(()=>{const C=Math.max(0,...Ae.porDia.map(L=>L.reservas+L.preReservas));return Ae.porDia.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Nenhum dado no perodo."}):u.jsxs("div",{className:"relative min-w-max pb-2",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 flex flex-col justify-between",children:Array.from({length:5}).map((L,Y)=>u.jsx("div",{className:"border-t border-slate-100"},Y))}),u.jsx("div",{className:"relative flex items-end gap-2 min-w-max",children:Ae.porDia.map(L=>{const Y=L.reservas+L.preReservas,J=C>0?Math.round(L.reservas/C*140):0,K=C>0?Math.round(L.preReservas/C*140):0,Pe=L.participantes+L.participantesPreReservas;return u.jsxs("div",{className:"group relative flex flex-col items-center",children:[u.jsxs("div",{className:"flex w-7 flex-col justify-end",style:{height:"140px"},children:[K>0&&u.jsx("div",{className:`w-7 bg-amber-400 ${J===0?"rounded-t":""}`,style:{height:`${Math.max(2,K)}px`}}),J>0&&u.jsx("div",{className:`w-7 bg-blue-600 ${K===0?"rounded-t":""}`,style:{height:`${Math.max(2,J)}px`}}),Y===0&&u.jsx("div",{className:"w-7 rounded-t bg-slate-200",style:{height:"2px"}})]}),u.jsxs("div",{className:"pointer-events-none absolute -top-2 left-1/2 z-10 w-52 -translate-x-1/2 -translate-y-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 opacity-0 shadow-lg transition group-hover:opacity-100",children:[u.jsx("p",{className:"font-semibold text-slate-900",children:Mt(L.data).format("DD/MM/YYYY")}),u.jsxs("div",{className:"mt-1 space-y-0.5",children:[u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsxs("span",{className:"inline-flex items-center gap-2 text-slate-600",children:[u.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-blue-600"}),"Confirmadas"]}),u.jsx("span",{className:"font-semibold",children:L.reservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsxs("span",{className:"inline-flex items-center gap-2 text-slate-600",children:[u.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400"}),"Pr-reservas"]}),u.jsx("span",{className:"font-semibold",children:L.preReservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3 border-t border-slate-100 pt-1",children:[u.jsx("span",{className:"text-slate-500",children:"Total"}),u.jsx("span",{className:"font-semibold",children:Y.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Participantes"}),u.jsx("span",{className:"font-semibold",children:Pe.toLocaleString("pt-BR")})]})]})]}),u.jsx("span",{className:"mt-1 text-[10px] font-medium text-slate-500",children:Mt(L.data).format("DD")})]},L.data)})})]})})()}),u.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs font-semibold text-slate-500",children:[u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-blue-600"}),"Confirmadas"]}),u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400"}),"Pr-reservas"]})]})]}),u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Dados por atividade"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Dados completos por atividade no perodo."})]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[u.jsxs("select",{value:fr,onChange:v=>Ia(v.target.value),className:"rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"faturamento",disabled:Bt,children:"Faturamento"}),u.jsx("option",{value:"confirmadas",children:"Confirmadas"}),u.jsx("option",{value:"pre_reservas",children:"Pr-reservas"}),u.jsx("option",{value:"participantes",children:"Participantes (total)"})]}),u.jsx("input",{value:bn,onChange:v=>Da(v.target.value),placeholder:"Filtrar atividade...",className:"rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]})]}),u.jsxs("p",{className:"mt-3 text-xs font-semibold uppercase text-slate-400",children:["Exibindo ",Le.length.toLocaleString("pt-BR")," de"," ",Ae.porPacote.length.toLocaleString("pt-BR")," atividades"]}),u.jsx("div",{className:"mt-4 overflow-x-auto",children:(()=>{const C=fr==="faturamento"?"bg-blue-600":fr==="confirmadas"?"bg-emerald-600":fr==="pre_reservas"?"bg-amber-500":"bg-indigo-600",L=et.map(J=>Fe(fr,J)),Y=Math.max(0,...L);return et.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Nenhuma atividade encontrada."}):u.jsxs("div",{className:"relative min-w-max pb-2",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 flex flex-col justify-between",children:Array.from({length:5}).map((J,K)=>u.jsx("div",{className:"border-t border-slate-100"},K))}),u.jsx("div",{className:"relative flex items-end gap-3 min-w-max",children:et.map(J=>{const K=Fe(fr,J),Pe=Y>0?Math.round(K/Y*140):0,nt=J.participantes+J.participantesPreReservas,rn=J.reservas>0?J.valor/J.reservas:0;return u.jsxs("div",{className:"group relative flex w-20 flex-col items-center",children:[u.jsx("div",{style:{height:"140px"},className:"flex items-end",children:K>0?u.jsx("div",{className:`w-12 rounded-t ${C}`,style:{height:`${Math.max(2,Pe)}px`}}):u.jsx("div",{className:"w-12 rounded-t bg-slate-200",style:{height:"2px"}})}),u.jsxs("div",{className:"pointer-events-none absolute -top-2 left-1/2 z-10 w-64 -translate-x-1/2 -translate-y-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 opacity-0 shadow-lg transition group-hover:opacity-100",children:[u.jsx("p",{className:"font-semibold text-slate-900",children:J.nome}),u.jsxs("div",{className:"mt-1 space-y-0.5",children:[u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Faturamento"}),u.jsx("span",{className:"font-semibold",children:Bt?"":Zr(J.valor)})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Confirmadas"}),u.jsx("span",{className:"font-semibold",children:J.reservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Pr-reservas"}),u.jsx("span",{className:"font-semibold",children:J.preReservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Participantes"}),u.jsx("span",{className:"font-semibold",children:nt.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3 border-t border-slate-100 pt-1",children:[u.jsx("span",{className:"text-slate-500",children:"Ticket mdio"}),u.jsx("span",{className:"font-semibold",children:Bt?"":Zr(rn)})]})]})]}),u.jsx("span",{title:J.nome,className:"mt-2 w-20 truncate text-center text-[10px] font-medium text-slate-500",children:J.nome})]},J.nome)})})]})})()})]}),u.jsx("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm lg:col-span-2",children:Bt?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Dados por cliente"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Clientes e valores censurados."})]})}),u.jsx("div",{className:"mt-4 flex min-h-[180px] items-center justify-center rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-10 text-center text-sm text-slate-500",children:"Informaes de clientes ocultas. Clique no cone de olho para exibir."})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Dados por cliente"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Dados completos por cliente no perodo."})]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[u.jsxs("select",{value:Sa,onChange:v=>Bn(v.target.value),className:"rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"faturamento",disabled:Bt,children:"Faturamento"}),u.jsx("option",{value:"confirmadas",children:"Confirmadas"}),u.jsx("option",{value:"pre_reservas",children:"Pr-reservas"}),u.jsx("option",{value:"participantes",children:"Participantes (total)"})]}),u.jsx("input",{value:Nr,onChange:v=>Ma(v.target.value),placeholder:"Filtrar cliente, CPF ou telefone...",className:"rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]})]}),u.jsxs("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("p",{className:"text-xs font-semibold uppercase text-slate-400",children:["Exibindo ",qn.length.toLocaleString("pt-BR")," de"," ",Pt.length.toLocaleString("pt-BR")," clientes",!Sr&&Nr.trim().length===0?" (top 30)":""]}),u.jsx("button",{type:"button",onClick:()=>hs(v=>!v),className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50",children:Sr?"Mostrar top 30":"Mostrar todos"})]}),u.jsx("div",{className:"mt-4 overflow-x-auto",children:(()=>{const C=Sa==="faturamento"?"bg-blue-600":Sa==="confirmadas"?"bg-emerald-600":Sa==="pre_reservas"?"bg-amber-500":"bg-indigo-600",L=qn.map(J=>Fe(Sa,J)),Y=Math.max(0,...L);return qn.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Nenhum cliente encontrado."}):u.jsxs("div",{className:"relative min-w-max pb-2",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 flex flex-col justify-between",children:Array.from({length:5}).map((J,K)=>u.jsx("div",{className:"border-t border-slate-100"},K))}),u.jsx("div",{className:"relative flex items-end gap-3 min-w-max",children:qn.map(J=>{const K=Fe(Sa,J),Pe=Y>0?Math.round(K/Y*140):0,nt=J.participantes+J.participantesPreReservas,rn=J.reservas>0?J.valor/J.reservas:0,ct=J.cpf||J.telefone||J.chave,en=(J.nome||ct||"---").split(" ")[0];return u.jsxs("div",{className:"group relative flex w-16 flex-col items-center",children:[u.jsx("div",{style:{height:"140px"},className:"flex items-end",children:K>0?u.jsx("div",{className:`w-10 rounded-t ${C}`,style:{height:`${Math.max(2,Pe)}px`}}):u.jsx("div",{className:"w-10 rounded-t bg-slate-200",style:{height:"2px"}})}),u.jsxs("div",{className:"pointer-events-none absolute -top-2 left-1/2 z-10 w-72 -translate-x-1/2 -translate-y-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 opacity-0 shadow-lg transition group-hover:opacity-100",children:[u.jsx("p",{className:"font-semibold text-slate-900",children:J.nome||"---"}),u.jsx("p",{className:"mt-0.5 text-[11px] text-slate-500",children:J.cpf||J.telefone||"---"}),u.jsxs("div",{className:"mt-1 space-y-0.5",children:[u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Faturamento"}),u.jsx("span",{className:"font-semibold",children:Zr(J.valor)})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Confirmadas"}),u.jsx("span",{className:"font-semibold",children:J.reservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Pr-reservas"}),u.jsx("span",{className:"font-semibold",children:J.preReservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Participantes"}),u.jsx("span",{className:"font-semibold",children:nt.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3 border-t border-slate-100 pt-1",children:[u.jsx("span",{className:"text-slate-500",children:"Ticket mdio"}),u.jsx("span",{className:"font-semibold",children:Zr(rn)})]})]})]}),u.jsx("span",{title:J.nome||ct,className:"mt-2 w-16 truncate text-center text-[10px] font-medium text-slate-500",children:en})]},ct)})})]})})()})]})})]})]}),n==="reservas"&&u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:`grid gap-6 ${f?"lg:grid-cols-[320px_minmax(0,1fr)]":"lg:grid-cols-1"}`,children:[f&&u.jsxs("div",{className:"relative lg:min-w-0",children:[u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("button",{type:"button",onClick:()=>Fo(-1),className:"rounded-full border border-slate-200 p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-700",children:u.jsx(mw,{className:"h-4 w-4"})}),u.jsx("h2",{className:"text-sm font-semibold text-slate-700",children:Mt(new Date(Ds,Vr)).format("MMMM [de] YYYY")}),u.jsx("button",{type:"button",onClick:()=>Fo(1),className:"rounded-full border border-slate-200 p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-700",children:u.jsx(pw,{className:"h-4 w-4"})})]}),u.jsx("div",{className:"mt-4 grid grid-cols-7 gap-2 text-xs font-semibold uppercase tracking-wide text-slate-400",children:vk.map(v=>u.jsx("span",{className:"text-center",children:v},v))}),u.jsx("div",{className:"mt-2 grid grid-cols-7 gap-2 text-sm",children:Vi.map((v,C)=>{const L=!!v&&l.getDate()===v&&l.getMonth()===Vr&&l.getFullYear()===Ds;return u.jsx("button",{type:"button",disabled:!v,className:`flex h-10 items-center justify-center rounded-full text-xs font-medium transition ${v?L?"bg-blue-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-blue-50 hover:text-blue-600":"cursor-default text-slate-300"}`,onClick:()=>v&&d(new Date(Ds,Vr,v)),children:v||""},C)})}),u.jsxs("p",{className:"mt-4 rounded-xl bg-slate-50 px-3 py-2 text-xs text-slate-500",children:["Dia selecionado: ",u.jsx("span",{className:"font-semibold text-slate-700",children:Mt(l).format("DD/MM/YYYY")})]}),u.jsxs("button",{onClick:()=>sr(!0),className:"mt-3 flex w-full items-center justify-center gap-2 rounded-full border border-orange-200 bg-orange-50 px-3 py-2 text-sm font-medium text-orange-700 transition hover:bg-orange-100",children:[u.jsx(uc,{className:"h-4 w-4"}),"Editar disponibilidade"]})]}),u.jsx("button",{type:"button",onClick:()=>p(!1),className:"hidden lg:flex absolute -right-3 top-1/2 -translate-y-1/2 h-10 w-10 items-center justify-center rounded-full border border-slate-200 bg-white text-slate-600 shadow-sm transition hover:bg-slate-50","aria-label":"Recolher calendrio",title:"Recolher calendrio",children:u.jsx(mw,{className:"h-4 w-4"})})]}),u.jsxs("article",{className:"min-w-0 rounded-2xl border border-slate-200 bg-white shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-4 border-b border-slate-200 px-5 py-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Reservas de ",Mt(l).format("DD/MM/YYYY")]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Resumo em tempo real das reservas do dia."})]}),u.jsxs("div",{className:"flex flex-wrap items-start gap-3 sm:items-center sm:gap-4",children:[u.jsxs("button",{type:"button",onClick:()=>p(v=>!v),className:"inline-flex items-center gap-2 self-start rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 whitespace-nowrap sm:self-auto",children:[u.jsx(Hg,{className:"h-4 w-4"}),f?"Recolher calendrio":"Mostrar calendrio"]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-2",children:[u.jsxs("select",{value:de,onChange:v=>H(v.target.value),className:"flex-1 rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"",children:"Todas as atividades"}),Ba.map(v=>u.jsx("option",{value:v,children:v},v))]}),u.jsxs("select",{value:k,onChange:v=>R(v.target.value),className:"flex-1 rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"todos",children:"Chegada: todos"}),u.jsx("option",{value:"chegou",children:"Chegou"}),u.jsx("option",{value:"nao",children:"No chegou"})]})]}),u.jsxs("button",{onClick:Ho,className:"flex items-center gap-2 self-start rounded-full bg-blue-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-700 whitespace-nowrap sm:self-auto sm:ml-2",children:[u.jsx(sf,{className:"h-4 w-4"}),"Reserva manual"]})]})]}),u.jsx("div",{className:"hidden lg:block overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-slate-100 text-sm",children:[u.jsx("thead",{className:"bg-slate-50 text-xs font-semibold uppercase tracking-wide text-slate-500",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left",children:"Reserva"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"N Participantes"}),u.jsx("th",{className:"px-4 py-3 text-center",children:"Pet"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"CPF"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Pacote"}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Valor"}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Aes"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:Object.keys(g).length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-sm text-slate-500",children:"Nenhuma reserva encontrada para esta data."})}):Object.keys(g).sort((v,C)=>{const L=v.toLowerCase().includes("especificado"),Y=C.toLowerCase().includes("especificado");return L&&!Y?1:!L&&Y?-1:v.localeCompare(C)}).map(v=>{const L=g[v].filter(K=>{const Pe=(K.atividade??"").toLowerCase(),nt=_n?Pe.includes(_n):!0,rn=k==="todos"?!0:k==="chegou"?K.chegou===!0:K.chegou!==!0;return nt&&rn});if(L.length===0)return null;const Y=L.reduce((K,Pe)=>K+pr(Pe),0),J=v.toLowerCase().includes("especificado")?"Sem horrio definido":v;return u.jsxs(Ve.Fragment,{children:[u.jsx("tr",{className:"bg-slate-50/70",children:u.jsx("td",{colSpan:7,className:"px-6 py-3 text-sm font-semibold text-slate-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{children:J}),u.jsxs("span",{className:"text-xs font-normal text-slate-500",children:[Y," participante(s)"]})]})})}),L.map(K=>{const Pe=pr(K),nt=li(K),rn=df(K),ct=Ew(K),en=Array.isArray(K.mesasSelecionadas)?K.mesasSelecionadas:[],on=K.chegou===!0,Qn=on?"bg-emerald-100/70 border-emerald-300":rn?"bg-emerald-50/50 border-emerald-200":mc(K)?"bg-amber-50/30 border-amber-200":"bg-white border-slate-200",hn=Fa(K),er=Li(K.valor),Qt=(K.telefone||"").replace(/\D/g,""),pn=!!(Qt.startsWith("55")?Qt:Qt?`55${Qt}`:""),kt=K.id??`${K.nome||"reserva"}-${K.cpf||"cpf"}-${K.horario}-${bs(K.data)}`,Oe=qo(K),pt=Oe.length>0,an=jl(K),Nt=z===kt;return u.jsxs(Ve.Fragment,{children:[u.jsxs("tr",{className:`transition hover:bg-slate-50/70 ${Qn}`,children:[u.jsxs("td",{className:"px-4 py-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium text-slate-900",children:K.nome||"---"}),u.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-semibold ${ct.classes}`,children:ct.label}),on&&u.jsx("span",{className:"inline-flex items-center rounded-full border border-emerald-200 bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700",children:"Chegou"}),pt&&u.jsxs("button",{type:"button",onClick:()=>oi(kt),className:`inline-flex items-center gap-1 rounded-full border px-3 py-1 text-[11px] font-semibold transition ${Nt?"border-amber-400 bg-amber-50 text-amber-700":an?"border-amber-200 text-amber-600 hover:bg-amber-50":"border-slate-200 text-slate-500 hover:border-slate-300 hover:text-slate-700"}`,"aria-label":"Ver respostas personalizadas","aria-pressed":Nt,children:[u.jsx(gw,{className:"h-3.5 w-3.5"}),u.jsx("span",{className:"hidden sm:inline",children:Nt?"Fechar":"Respostas"})]})]}),en.length>0&&u.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:en.map(Ft=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-600",children:[u.jsx(dw,{className:"h-3 w-3 text-slate-400"}),Ft.area," - ",Ft.nome," (",Ft.capacidade,")"]},`${kt}-${Ft.id}`))})]}),u.jsx("td",{className:"px-4 py-4",children:u.jsxs("div",{className:"text-xs space-y-0.5",children:[nt.length>0?nt.map(Ft=>u.jsxs("div",{children:[Ft.label,": ",u.jsx("span",{className:"font-medium",children:Ft.quantidade})]},Ft.key)):u.jsx("div",{className:"text-slate-400",children:"Sem participantes."}),u.jsxs("div",{className:"border-t pt-0.5 mt-1 font-semibold text-slate-900",children:["Total: ",Pe]})]})}),u.jsx("td",{className:"px-4 py-4 text-center",children:u.jsx("span",{className:"text-xl",children:K.temPet?"":""})}),u.jsx("td",{className:"px-4 py-4 text-slate-600 whitespace-nowrap",children:K.cpf||"---"}),u.jsx("td",{className:"px-4 py-4",children:hn==="---"?u.jsx("span",{className:"text-slate-500",children:"---"}):u.jsx("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2 py-1 text-xs font-medium text-slate-600",children:hn})}),u.jsx("td",{className:"px-4 py-4 text-right font-medium text-slate-900",children:er}),u.jsxs("td",{className:"px-4 py-4 text-right align-top",children:[u.jsx("div",{className:"relative inline-block text-left",children:u.jsx("button",{onClick:()=>Se(Ft=>Ft===kt?null:kt),className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-slate-200 text-slate-600 shadow-sm transition hover:bg-slate-50","aria-label":"Abrir aes da reserva","aria-haspopup":"true","aria-expanded":V===kt,children:u.jsx(ck,{className:"h-4 w-4"})})}),V===kt&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/30 px-4 py-8 backdrop-blur-sm",onClick:()=>Se(null),children:u.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-slate-200 bg-white shadow-2xl",onClick:Ft=>Ft.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Aes da reserva"}),u.jsx("button",{onClick:()=>Se(null),className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 text-slate-600 hover:bg-slate-50","aria-label":"Fechar",children:""})]}),u.jsxs("div",{className:"divide-y divide-slate-100",children:[u.jsxs("button",{onClick:()=>{Ms(K),Se(null)},className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm text-slate-800 transition hover:bg-slate-50",children:[u.jsx(fw,{className:"h-4 w-4 text-emerald-600"}),u.jsx("span",{children:on?"Marcar como no chegou":"Marcar como chegou"})]}),K.linkPagamento&&u.jsxs("button",{onClick:()=>{window.open(K.linkPagamento,"_blank"),Se(null)},className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm text-slate-800 transition hover:bg-slate-50",children:[u.jsx(qg,{className:"h-4 w-4 text-orange-500"}),u.jsx("span",{children:"Concluir pagamento"})]}),u.jsxs("button",{onClick:()=>{Jn(K,Pe,hn,er),Se(null)},disabled:!pn,className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm text-slate-800 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx(cc,{className:"h-4 w-4 text-emerald-600"}),u.jsx("span",{children:"WhatsApp"})]}),u.jsxs("button",{onClick:()=>{Rl(K),Se(null)},className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm text-slate-800 transition hover:bg-slate-50",children:[u.jsx(uc,{className:"h-4 w-4 text-blue-600"}),u.jsx("span",{children:"Editar"})]}),u.jsxs("button",{onClick:()=>{K.id&&ii(K.id),Se(null)},className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm text-rose-700 transition hover:bg-rose-50",children:[u.jsx(dc,{className:"h-4 w-4"}),u.jsx("span",{children:"Excluir"})]})]})]})})]})]}),Nt&&Oe.length>0&&u.jsx("tr",{className:"bg-amber-50/60",children:u.jsx("td",{colSpan:7,className:"px-6 pb-4",children:u.jsxs("div",{className:"rounded-2xl border border-amber-200 bg-white p-4 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Respostas do cliente"}),u.jsx("button",{type:"button",onClick:()=>oi(kt),className:"text-xs font-semibold text-amber-700 transition hover:text-amber-900",children:"Fechar"})]}),u.jsx("div",{className:"mt-3",children:Is(Oe)})]})})})]},kt)})]},v)})})]})}),u.jsx("div",{className:"lg:hidden space-y-4",children:Object.keys(g).length===0?u.jsx("div",{className:"text-center py-8 text-slate-500",children:"Nenhuma reserva encontrada para esta data."}):Object.keys(g).sort((v,C)=>{const L=v.toLowerCase().includes("especificado"),Y=C.toLowerCase().includes("especificado");return L&&!Y?1:!L&&Y?-1:v.localeCompare(C)}).map(v=>{const L=g[v].filter(K=>{const Pe=(K.atividade??"").toLowerCase(),nt=_n?Pe.includes(_n):!0,rn=k==="todos"?!0:k==="chegou"?K.chegou===!0:K.chegou!==!0;return nt&&rn});if(L.length===0)return null;const Y=L.reduce((K,Pe)=>K+pr(Pe),0),J=v.toLowerCase().includes("especificado")?"Sem horrio definido":v;return u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"bg-slate-100 px-4 py-2 rounded-lg",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h4",{className:"font-semibold text-slate-700",children:J}),u.jsxs("span",{className:"text-sm text-slate-500",children:[Y," participante(s)"]})]})}),L.map(K=>{const Pe=pr(K),nt=li(K),rn=df(K),ct=Ew(K),en=Array.isArray(K.mesasSelecionadas)?K.mesasSelecionadas:[],on=K.chegou===!0,Qn=on?"bg-emerald-100/70 border-emerald-300":rn?"bg-emerald-50/50 border-emerald-200":mc(K)?"bg-amber-50/30 border-amber-200":"bg-white border-slate-200",hn=Fa(K),er=Li(K.valor),Qt=(K.telefone||"").replace(/\D/g,""),pn=!!(Qt.startsWith("55")?Qt:Qt?`55${Qt}`:""),kt=K.id??`${K.nome||"reserva"}-${K.cpf||"cpf"}-${K.horario}-${bs(K.data)}`,Oe=qo(K),pt=Oe.length>0,an=z===kt;return u.jsxs("div",{className:`rounded-lg border p-4 shadow-sm ${Qn}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-3",children:[u.jsxs("div",{className:"flex-1 pr-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h5",{className:"font-medium text-slate-900",children:K.nome||"---"}),u.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-[10px] font-semibold ${ct.classes}`,children:ct.label}),on&&u.jsx("span",{className:"inline-flex items-center rounded-full border border-emerald-200 bg-emerald-50 px-2 py-0.5 text-[10px] font-semibold text-emerald-700",children:"Chegou"}),pt&&u.jsxs("button",{type:"button",onClick:()=>oi(kt),className:`inline-flex items-center gap-1 rounded-full border px-2 py-1 text-[10px] font-semibold transition ${an?"border-blue-400 bg-blue-50 text-blue-700":"border-blue-200 bg-blue-50 text-blue-600 hover:bg-blue-100"}`,"aria-label":"Ver respostas personalizadas","aria-pressed":an,children:[u.jsx(gw,{className:"h-3 w-3"}),u.jsx("span",{children:an?"Fechar":"Ver"})]})]}),en.length>0&&u.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:en.map(Nt=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-white px-2 py-0.5 text-[10px] text-slate-600",children:[u.jsx(dw,{className:"h-3 w-3 text-slate-400"}),Nt.area," - ",Nt.nome," (",Nt.capacidade,")"]},`${kt}-${Nt.id}-mobile`))})]}),u.jsxs("div",{className:"text-right text-xs space-y-0.5",children:[nt.length>0?nt.map(Nt=>u.jsxs("div",{children:[Nt.label,": ",u.jsx("span",{className:"font-medium",children:Nt.quantidade})]},Nt.key)):u.jsx("div",{className:"text-slate-400",children:"Sem participantes."}),u.jsxs("div",{className:"border-t pt-0.5 mt-1 font-semibold text-slate-900",children:["Total: ",Pe]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"CPF"}),u.jsx("span",{className:"text-sm font-medium text-slate-700",children:K.cpf||"---"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Pacote"}),hn==="---"?u.jsx("span",{className:"text-sm text-slate-500",children:"---"}):u.jsx("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2 py-1 text-xs font-medium text-slate-600",children:hn})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Pet"}),u.jsx("span",{className:"text-lg",children:K.temPet?"":""})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Valor"}),u.jsx("span",{className:"font-medium text-slate-900",children:er})]})]}),an&&Oe.length>0&&u.jsxs("div",{className:"mb-3 rounded-2xl border border-amber-200 bg-amber-50/50 p-3",children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-amber-700",children:"Respostas do cliente"}),u.jsx("div",{className:"mt-2",children:Is(Oe)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs text-slate-500",children:K.telefone?`Tel: ${K.telefone}`:"Tel: ---"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>Ms(K),className:`inline-flex h-9 w-9 items-center justify-center rounded-full border transition ${on?"border-emerald-500 bg-emerald-100 text-emerald-700 hover:bg-emerald-200":"border-slate-200 text-slate-600 hover:border-emerald-300 hover:text-emerald-600"}`,"aria-label":on?"Marcar como no chegou":"Marcar como chegou",title:on?"Marcar como no chegou":"Marcar como chegou",children:u.jsx(fw,{className:"h-4 w-4"})}),K.linkPagamento&&u.jsx("button",{onClick:()=>window.open(K.linkPagamento,"_blank"),className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-orange-200 bg-orange-50 text-orange-700 transition hover:bg-orange-100","aria-label":"Concluir pagamento",title:"Concluir pagamento",children:u.jsx(qg,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>Jn(K,Pe,hn,er),disabled:!pn,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-emerald-200 bg-emerald-50 text-emerald-700 transition hover:bg-emerald-100 disabled:cursor-not-allowed disabled:opacity-40","aria-label":"Enviar mensagem no WhatsApp",title:"WhatsApp",children:u.jsx(cc,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>Rl(K),className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-slate-200 text-slate-600 transition hover:border-blue-300 hover:text-blue-600","aria-label":"Editar reserva",title:"Editar",children:u.jsx(uc,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>K.id&&ii(K.id),className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-rose-200 bg-rose-50 text-rose-600 transition hover:bg-rose-100","aria-label":"Excluir reserva",title:"Excluir",children:u.jsx(dc,{className:"h-4 w-4"})})]})]})]},kt)})]},v)})})]})]}),Q&&U&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-slate-900/60 px-2 py-2 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-3xl my-4 overflow-hidden rounded-2xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 sm:px-6 py-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:se?"Editar reserva":"Nova reserva manual"}),u.jsx("button",{onClick:()=>pe(!1),className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:"x"})]}),u.jsxs("div",{className:"grid gap-4 px-4 sm:px-6 py-5 md:grid-cols-2 max-h-[80vh] overflow-y-auto",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Nome",u.jsx("input",{type:"text",value:U.nome,onChange:v=>$({...U,nome:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["CPF",u.jsx("input",{type:"text",value:U.cpf,onChange:v=>$({...U,cpf:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Telefone",u.jsx("input",{type:"text",value:U.telefone,onChange:v=>$({...U,telefone:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Data",u.jsx("input",{type:"date",value:U.data,onChange:v=>$({...U,data:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Participantes"}),u.jsxs("div",{className:"mt-2 grid gap-3 sm:grid-cols-3",children:[Dt.map(v=>{const C=uo(v),L=Uc(U.participantesPorTipo,v)??0;return u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:[v.nome,u.jsx("input",{type:"number",min:0,value:L,onChange:Y=>$(J=>{if(!J)return J;const K={...J.participantesPorTipo??{},[C]:Number(Y.target.value)};return{...J,participantesPorTipo:K}}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]},C)}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["No pagante",u.jsx("input",{type:"number",min:0,value:U.naoPagante??0,onChange:v=>$(C=>C&&{...C,naoPagante:Number(v.target.value)}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]})]})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Horrio",u.jsx("input",{type:"time",value:U.horario,onChange:v=>$({...U,horario:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Atividade",u.jsxs("select",{value:U.atividade,onChange:v=>$({...U,atividade:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"",children:"Todas as atividades"}),u.jsx("option",{value:"Trilha Ecolgica",children:"Trilha Ecolgica"}),u.jsx("option",{value:"Brunch Gastronmico",children:"Brunch Gastronmico"}),u.jsx("option",{value:"Brunch + trilha",children:"Brunch + trilha"})]})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["rea da mesa",u.jsxs("select",{value:U.areaMesa??"",onChange:v=>$({...U,areaMesa:v.target.value,mesaPrincipalId:null,mesaSecundariaId:null}),disabled:D||_.length===0,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:cursor-not-allowed disabled:bg-slate-100",children:[u.jsx("option",{value:"",children:_.length===0?"Cadastre mesas para habilitar":"Selecione a rea"}),dn.map(v=>u.jsx("option",{value:v,children:v},v))]}),D&&u.jsx("span",{className:"mt-1 block text-[11px] font-normal text-slate-500",children:"Carregando mesas cadastradas..."})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Mesa principal",u.jsxs("select",{value:U.mesaPrincipalId??"",onChange:v=>{const C=v.target.value||null;$({...U,mesaPrincipalId:C,mesaSecundariaId:C&&U.mesaSecundariaId===C?null:U.mesaSecundariaId??null})},disabled:!U.areaMesa||te.length===0,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:cursor-not-allowed disabled:bg-slate-100",children:[u.jsx("option",{value:"",children:"Selecione a mesa principal"}),te.map(v=>u.jsxs("option",{value:v.id,children:[v.nome,"  ",v.capacidade," pessoa(s)"]},v.id))]})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Mesa complementar (opcional)",u.jsxs("select",{value:U.mesaSecundariaId??"",onChange:v=>$({...U,mesaSecundariaId:v.target.value||null}),disabled:!U.areaMesa||te.length===0||!U.mesaPrincipalId,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:cursor-not-allowed disabled:bg-slate-100",children:[u.jsx("option",{value:"",children:"Selecionar mesa complementar"}),te.filter(v=>v.id!==U.mesaPrincipalId).map(v=>u.jsxs("option",{value:v.id,children:[v.nome,"  ",v.capacidade," pessoa(s)"]},v.id))]}),u.jsx("span",{className:"mt-1 block text-[11px] font-normal text-slate-500",children:"Use somente se precisar somar capacidade."})]}),u.jsxs("div",{className:"md:col-span-2 rounded-xl border border-slate-200 bg-slate-50 p-3 text-xs text-slate-600",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-900",children:"Participantes"}),u.jsx("p",{children:ga})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-900",children:"Capacidade das mesas"}),u.jsx("p",{children:As>0?`${As} pessoa(s)`:Wn?`${Wn.capacidade} pessoa(s)`:"0 pessoa(s)"})]})]}),ri&&u.jsx("p",{className:"mt-2 rounded bg-amber-100 px-2 py-1 text-amber-700",children:"A mesa principal no comporta todos os participantes. Escolha uma mesa complementar da mesma rea."}),M&&u.jsx("p",{className:"mt-2 rounded bg-rose-100 px-2 py-1 text-rose-700",children:"A soma das mesas ainda  menor que o total de participantes."})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500",children:["Pet",u.jsxs("div",{className:"mt-2 flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600",children:[u.jsx("input",{type:"radio",name:"editarPet",checked:U.temPet===!0,onChange:()=>$({...U,temPet:!0})}),"Sim"]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600",children:[u.jsx("input",{type:"radio",name:"editarPet",checked:U.temPet===!1,onChange:()=>$({...U,temPet:!1})}),"No"]})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 border-t border-slate-200 bg-slate-50 px-4 sm:px-6 py-4",children:[u.jsx("button",{onClick:()=>pe(!1),className:"w-full sm:w-auto rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Cancelar"}),u.jsx("button",{onClick:Dl,className:"w-full sm:w-auto rounded-full bg-blue-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:bg-blue-700",children:"Salvar reserva"})]})]})})]}),n==="pacotes"&&u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Pacotes cadastrados"}),u.jsxs("p",{className:"text-sm text-slate-500",children:[Re," pacotes ativos prontos para venda."]})]}),u.jsxs("button",{onClick:Ol,className:"flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-700",children:[u.jsx(sf,{className:"h-4 w-4"}),"Novo pacote"]})]}),ht.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-slate-300 bg-white p-8 text-center text-slate-500",children:'Nenhum pacote cadastrado. Clique em "Novo pacote" para comear.'}):u.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:ht.map(v=>{const C=v.dias.length>0?v.dias.map(J=>_w[J]).join(", "):"Todos os dias",L=v.modoHorario==="intervalo"&&v.horarioInicio&&v.horarioFim?`${v.horarioInicio} - ${v.horarioFim} (faixa)`:v.horarios.join(", ")||"Sob consulta",Y=Dt.map(J=>({key:uo(J),nome:J.nome,valor:cf(v.precosPorTipo,J,v)}));return u.jsxs("article",{className:"flex h-full flex-col justify-between rounded-2xl border border-slate-200 bg-white p-5 shadow-sm transition hover:-translate-y-1 hover:shadow-lg",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:v.tipo||"Atividade"}),u.jsx("h3",{className:"mt-1 text-lg font-semibold text-slate-900",children:v.nome})]}),u.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${v.aceitaPet?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-600"}`,children:v.aceitaPet?"Aceita pets":"No aceita pets"})]}),u.jsxs("dl",{className:"space-y-3 text-sm text-slate-600",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsx("dt",{className:"font-medium text-slate-500",children:"Dias"}),u.jsx("dd",{className:"text-right text-slate-800",children:C})]}),u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsx("dt",{className:"font-medium text-slate-500",children:"Horrio"}),u.jsx("dd",{className:"text-right text-slate-800",children:L})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Valores"}),u.jsx("div",{className:"mt-1 flex flex-wrap gap-2 text-xs text-slate-600",children:Y.map(J=>u.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1",children:[J.nome," ",Zr(J.valor)]},J.key))})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[u.jsx("span",{children:"Limite por horrio"}),u.jsx("span",{className:"font-semibold text-slate-800",children:v.limite})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[u.jsx("span",{children:"Datas bloqueadas"}),u.jsx("span",{className:"font-semibold text-slate-800",children:v.datasBloqueadas?.length??0})]})]})]}),u.jsxs("div",{className:"mt-5 flex items-center justify-between gap-3 border-t border-slate-200 pt-4",children:[u.jsxs("button",{onClick:()=>v.id&&Hd(v.id),className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-xs font-semibold text-rose-600 transition hover:bg-rose-100",children:[u.jsx(dc,{className:"h-3.5 w-3.5"}),"Excluir"]}),u.jsxs("button",{onClick:()=>Wo(v),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-blue-300 hover:text-blue-600",children:[u.jsx(uc,{className:"h-3.5 w-3.5"}),"Editar"]})]})]},v.id)})}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 border-b border-slate-100 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Combos de pacotes"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Agrupe atividades existentes e oferea um valor especial aos clientes."})]}),u.jsxs("button",{onClick:Yd,disabled:ht.length===0,className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${ht.length===0?"bg-slate-300 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:[u.jsx($g,{className:"h-4 w-4"}),"Novo combo"]})]}),ht.length===0?u.jsx("p",{className:"py-6 text-sm text-slate-500",children:"Cadastre ao menos um pacote antes de criar combos."}):Ln.length===0?u.jsx("p",{className:"py-6 text-sm text-slate-500",children:"Nenhum combo cadastrado at o momento."}):u.jsx("div",{className:"mt-4 space-y-4",children:Ln.map(v=>{const C=v.pacoteIds.map(Y=>Y?Cr.get(Y)?.nome??"Pacote removido":"").filter(Y=>Y&&Y.length>0),L=Dt.map(Y=>({key:uo(Y),nome:Y.nome,valor:cf(v.precosPorTipo,Y,v)}));return u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("h4",{className:"text-base font-semibold text-slate-900",children:v.nome}),u.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${v.ativo!==!1?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-500"}`,children:v.ativo!==!1?"Ativo":"Inativo"})]}),u.jsx("div",{className:"space-y-1 text-sm text-slate-600",children:L.map(Y=>u.jsxs("p",{children:[u.jsxs("span",{className:"font-semibold text-slate-700",children:[Y.nome,":"]})," ",Zr(Y.valor)]},Y.key))}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Inclui: ",C.length>0?C.join(", "):"Pacotes removidos"]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>Am(v),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 transition hover:border-blue-300 hover:text-blue-600",children:[u.jsx(uc,{className:"h-3.5 w-3.5"}),"Editar"]}),u.jsxs("button",{onClick:()=>v.id&&jm(v.id),className:"inline-flex items-center gap-2 rounded-full border border-rose-200 px-3 py-1.5 text-xs font-semibold text-rose-600 transition hover:bg-rose-50",children:[u.jsx(dc,{className:"h-3.5 w-3.5"}),"Excluir"]})]})]}),u.jsxs("div",{className:"mt-4 flex flex-col gap-3 border-t border-dashed border-slate-200 pt-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Ative ou desative o combo rapidamente."}),u.jsx("button",{onClick:()=>Rm(v),className:`inline-flex items-center justify-center rounded-full px-4 py-2 text-xs font-semibold transition ${v.ativo!==!1?"bg-slate-100 text-slate-600 hover:bg-slate-200":"bg-emerald-600 text-white hover:bg-emerald-700"}`,children:v.ativo!==!1?"Desativar combo":"Ativar combo"})]})]},v.id??v.nome)})})]}),It&&rt&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-slate-900/60 px-2 py-2 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-3xl my-4 overflow-hidden rounded-2xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 sm:px-6 py-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:ha?"Editar pacote":"Novo pacote"}),u.jsx("button",{onClick:()=>{mn(!1),Rt(null),Yr("")},className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:"x"})]}),u.jsxs("div",{className:"grid gap-4 px-4 sm:px-6 py-5 md:grid-cols-2 max-h-[80vh] overflow-y-auto",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Nome da atividade",u.jsx("input",{value:rt.nome,onChange:v=>Rt(C=>({...C,nome:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Tipo de atividade",u.jsx("input",{value:rt.tipo,onChange:v=>Rt(C=>({...C,tipo:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Preos por tipo"}),u.jsx("div",{className:"mt-2 grid gap-3 sm:grid-cols-3",children:Dt.map(v=>{const C=uo(v),L=cf(rt.precosPorTipo,v,rt);return u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:[v.nome,u.jsx("input",{type:"number",value:L,onChange:Y=>Rt(J=>{if(!J)return J;const K={...J.precosPorTipo??{},[C]:Number(Y.target.value)};return{...J,precosPorTipo:K}}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]},C)})})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Limite por horrio",u.jsx("input",{type:"number",value:rt.limite,onChange:v=>Rt(C=>({...C,limite:Number(v.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500",children:["Poltica de pets",u.jsxs("div",{className:"mt-2 flex gap-4 text-xs font-medium text-slate-600",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"radio",name:"aceitaPet",checked:rt.aceitaPet,onChange:()=>Rt(v=>({...v,aceitaPet:!0}))}),"Aceita"]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"radio",name:"aceitaPet",checked:!rt.aceitaPet,onChange:()=>Rt(v=>({...v,aceitaPet:!1}))}),"No aceita"]})]})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500 md:col-span-2",children:["Dias disponveis",u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:_w.map((v,C)=>{const L=rt.dias.includes(C);return u.jsx("button",{type:"button",onClick:()=>Rt(Y=>({...Y,dias:L?Y.dias.filter(J=>J!==C):[...Y.dias,C]})),className:`rounded-full px-3 py-1 text-xs font-medium transition ${L?"bg-blue-600 text-white":"border border-slate-200 bg-slate-50 text-slate-500 hover:bg-slate-100"}`,children:v},v)})})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500 md:col-span-2",children:["Formato de horrios",u.jsxs("select",{value:rt.modoHorario??"lista",onChange:v=>Rt(C=>({...C,modoHorario:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"lista",children:"Horrios fixos"}),u.jsx("option",{value:"intervalo",children:"Faixa contnua"})]})]}),rt.modoHorario==="intervalo"?u.jsxs("div",{className:"grid gap-4 md:col-span-2 md:grid-cols-2",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Horrio inicial",u.jsx("input",{type:"time",value:rt.horarioInicio??"",onChange:v=>Rt(C=>({...C,horarioInicio:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Horrio final",u.jsx("input",{type:"time",value:rt.horarioFim??"",onChange:v=>Rt(C=>({...C,horarioFim:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsx("p",{className:"md:col-span-2 rounded-xl bg-slate-50 px-3 py-2 text-xs text-slate-500",children:za||"Informe horrio inicial e final para exibir apenas a faixa ao cliente."})]}):u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500 md:col-span-2",children:["Horrios disponveis",u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:xk.map(v=>{const C=rt.horarios.includes(v);return u.jsx("button",{type:"button",onClick:()=>Rt(L=>({...L,horarios:C?L.horarios.filter(Y=>Y!==v):[...L.horarios,v]})),className:`rounded-full px-3 py-1 text-xs font-medium transition ${C?"bg-blue-600 text-white":"border border-slate-200 bg-slate-50 text-slate-500 hover:bg-slate-100"}`,children:v},v)})})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500 md:col-span-2",children:["Datas sem disponibilidade",u.jsxs("div",{className:"mt-2 flex gap-2",children:[u.jsx("input",{type:"date",value:Pn,onChange:v=>Yr(v.target.value),className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"}),u.jsx("button",{type:"button",onClick:Xc,disabled:!Pn,className:`rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${Pn?"bg-blue-600 hover:bg-blue-700":"bg-slate-300 cursor-not-allowed"}`,children:"Adicionar"})]}),(rt.datasBloqueadas?.length??0)>0?u.jsx("ul",{className:"mt-3 max-h-32 space-y-2 overflow-y-auto",children:rt.datasBloqueadas?.map(v=>u.jsxs("li",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2 text-xs text-slate-600",children:[u.jsx("span",{children:Mt(v).format("DD/MM/YYYY")}),u.jsx("button",{type:"button",onClick:()=>Zc(v),className:"rounded-full border border-rose-200 bg-rose-50 px-3 py-1 text-xs font-semibold text-rose-600 transition hover:bg-rose-100",children:"Remover"})]},v))}):u.jsx("p",{className:"mt-3 text-xs text-slate-400",children:"Nenhuma data bloqueada."})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500 md:col-span-2",children:["Perguntas personalizadas para o cliente",u.jsxs("div",{className:"mt-2 space-y-3",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",placeholder:"Ex: Juntar mesa?",value:br.pergunta,onChange:v=>_r(C=>({...C,pergunta:v.target.value})),className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"}),u.jsxs("select",{value:br.tipo,onChange:v=>_r(C=>({...C,tipo:v.target.value})),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"sim_nao",children:"Sim/No"}),u.jsx("option",{value:"texto",children:"Texto"})]}),u.jsxs("label",{className:"flex items-center gap-1 text-xs",children:[u.jsx("input",{type:"checkbox",checked:br.obrigatoria,onChange:v=>_r(C=>({...C,obrigatoria:v.target.checked}))}),"Obrigatria"]}),u.jsx("button",{type:"button",onClick:qd,disabled:!br.pergunta.trim(),className:`rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${br.pergunta.trim()?"bg-blue-600 hover:bg-blue-700":"bg-slate-300 cursor-not-allowed"}`,children:"Adicionar"})]}),(rt.perguntasPersonalizadas?.length??0)>0?u.jsx("ul",{className:"space-y-2",children:rt.perguntasPersonalizadas?.map(v=>u.jsxs("li",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2 text-xs",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-slate-700",children:v.pergunta}),u.jsxs("span",{className:"ml-2 text-slate-500",children:["(",v.tipo==="sim_nao"?"Sim/No":"Texto",")"]}),v.obrigatoria&&u.jsx("span",{className:"ml-1 text-red-500",children:"*"})]}),u.jsx("button",{type:"button",onClick:()=>$d(v.id),className:"rounded-full border border-rose-200 bg-rose-50 px-3 py-1 text-xs font-semibold text-rose-600 transition hover:bg-rose-100",children:"Remover"})]},v.id))}):u.jsx("p",{className:"text-xs text-slate-400",children:"Nenhuma pergunta personalizada."})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 border-t border-slate-200 bg-slate-50 px-4 sm:px-6 py-4",children:[u.jsx("button",{onClick:()=>{mn(!1),Rt(null),Yr("")},className:"w-full sm:w-auto rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Cancelar"}),u.jsx("button",{onClick:Fd,className:"w-full sm:w-auto rounded-full bg-blue-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:bg-blue-700",children:"Salvar pacote"})]})]})}),fa&&Ze&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-slate-900/60 px-2 py-2 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-2xl my-4 overflow-hidden rounded-2xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 sm:px-6 py-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:vn?"Editar combo":"Novo combo"}),u.jsx("button",{onClick:()=>{jt(!1),sn(null)},className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:"x"})]}),u.jsxs("div",{className:"space-y-5 px-4 sm:px-6 py-5 max-h-[75vh] overflow-y-auto",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Nome do combo",u.jsx("input",{value:Ze.nome,onChange:v=>sn(C=>C&&{...C,nome:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Preos por tipo (R$)"}),u.jsx("div",{className:"grid gap-3 sm:grid-cols-3 text-xs font-semibold uppercase text-slate-500",children:Dt.map(v=>{const C=uo(v),L=cf(Ze.precosPorTipo,v,Ze);return u.jsxs("label",{children:[v.nome,u.jsx("input",{type:"number",min:"0",value:L,onChange:Y=>sn(J=>{if(!J)return J;const K={...J.precosPorTipo??{},[C]:Number(Y.target.value)};return{...J,precosPorTipo:K}}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200"})]},C)})})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-500",children:[u.jsx("input",{type:"checkbox",checked:Ze.ativo!==!1,onChange:v=>sn(C=>C&&{...C,ativo:v.target.checked})}),"Combo ativo"]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Selecione os pacotes"}),ht.length===0?u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Cadastre pacotes antes de montar um combo."}):u.jsx("div",{className:"mt-3 grid max-h-64 gap-2 overflow-y-auto rounded-xl border border-slate-200 bg-slate-50 p-3 text-sm text-slate-600",children:ht.map(v=>{if(!v.id)return null;const C=Ze.pacoteIds.includes(v.id);return u.jsxs("label",{className:`flex items-center justify-between rounded-lg border px-3 py-2 text-xs font-medium transition ${C?"border-emerald-200 bg-white text-emerald-700":"border-transparent bg-white text-slate-600"}`,children:[u.jsx("span",{children:v.nome}),u.jsx("input",{type:"checkbox",checked:C,onChange:L=>sn(Y=>{if(!Y)return Y;const J=new Set(Y.pacoteIds??[]);return L.target.checked?J.add(v.id):J.delete(v.id),{...Y,pacoteIds:Array.from(J)}})})]},v.id)})})]})]}),u.jsxs("div",{className:"flex flex-col gap-2 border-t border-slate-200 bg-slate-50 px-4 sm:px-6 py-4 sm:flex-row sm:items-center sm:justify-end",children:[u.jsx("button",{onClick:()=>{jt(!1),sn(null)},className:"w-full rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800 sm:w-auto",children:"Cancelar"}),u.jsx("button",{onClick:Dm,disabled:at||ht.length===0,className:`w-full rounded-full px-4 py-2 text-xs font-semibold text-white shadow-sm transition sm:w-auto ${at||ht.length===0?"bg-emerald-200 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:at?"Salvando...":"Salvar combo"})]})]})})]}),Or&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-slate-900/60 px-2 py-2 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-4xl my-4 overflow-hidden rounded-2xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 sm:px-6 py-4",children:[u.jsxs("h4",{className:"text-lg font-semibold text-slate-900",children:["Editar disponibilidade - ",Mt(l).format("DD/MM/YYYY")]}),u.jsx("button",{onClick:()=>sr(!1),className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:"x"})]}),u.jsx("div",{className:"px-4 sm:px-6 py-5 max-h-[80vh] overflow-y-auto",children:ir?u.jsx("div",{className:"py-6 text-center text-sm text-slate-500",children:"Carregando disponibilidade..."}):u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,320px)_minmax(0,1fr)]",children:[u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"rounded-xl border border-orange-200 bg-white p-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Ajuste por periodo"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Aplica fechamento ou reabertura em varias datas."})]}),u.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-orange-700",children:["Inicio do periodo",u.jsx("input",{type:"date",value:Rn,onChange:v=>En(v.target.value),className:"mt-1 w-full rounded-lg border border-orange-200 px-3 py-2 text-sm focus:border-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-500"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-orange-700",children:["Fim do periodo",u.jsx("input",{type:"date",value:Er,onChange:v=>zt(v.target.value),className:"mt-1 w-full rounded-lg border border-orange-200 px-3 py-2 text-sm focus:border-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-500"})]})]}),u.jsxs("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-end",children:[u.jsxs("label",{className:"flex w-full flex-col text-xs font-semibold uppercase text-orange-700",children:["Acao",u.jsxs("select",{value:Tn,onChange:v=>wt(v.target.value),className:"mt-1 w-full rounded-lg border border-orange-200 px-3 py-2 text-sm focus:border-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-500",children:[u.jsx("option",{value:"fechar",children:"Fechar periodo"}),u.jsx("option",{value:"abrir",children:"Reabrir periodo"})]})]}),u.jsx("button",{type:"button",onClick:Go,disabled:ta,className:`w-full rounded-full px-4 py-2 text-xs font-semibold text-white transition ${ta?"bg-orange-200 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700"}`,children:ta?"Aplicando...":"Aplicar ajuste para o periodo"})]}),u.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Essa acao fecha ou reabre todos os pacotes no periodo selecionado."})]})}),u.jsx("div",{className:"space-y-4",children:ht.length===0?u.jsx("div",{className:"py-6 text-center text-sm text-slate-500",children:"Nenhum pacote cadastrado para configurar disponibilidade."}):u.jsx("div",{className:"space-y-4",children:ht.map(v=>{const L=`${Mt(l).format("YYYY-MM-DD")}-${v.id}`,Y=v.id??"",J=ee[Y]??!1,K=v.horarios??[],Pe=K.length,nt=K.filter(ct=>wr[`${L}-${ct}`]===!1).length,rn=v.emoji||(v.nome?v.nome.trim().charAt(0).toUpperCase():"")||"P";return u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-slate-100 text-base font-semibold text-slate-600",children:rn}),u.jsxs("div",{children:[u.jsx("h5",{className:"font-semibold text-slate-900",children:v.nome}),u.jsx("p",{className:"text-xs text-slate-500",children:Pe>0?`${nt} bloqueados de ${Pe} horarios`:"Sem horarios configurados"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[v.modoHorario==="intervalo"&&u.jsx("span",{className:"rounded-full bg-yellow-100 px-2 py-1 text-xs font-semibold text-yellow-700",children:"Faixa de horario"}),u.jsx("button",{type:"button",onClick:()=>{Y&&X(ct=>({...ct,[Y]:!J}))},className:"rounded-full border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:J?"Recolher horarios":"Mostrar horarios"})]})]}),J&&u.jsx("div",{className:"mt-4 space-y-3",children:v.modoHorario==="intervalo"?u.jsx("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 p-3",children:u.jsxs("p",{className:"text-sm text-yellow-700",children:["Este pacote funciona em faixa de horario (",v.horarioInicio," - ",v.horarioFim,'). Para bloquear, adicione a data nas "Datas sem disponibilidade" do pacote.']})}):u.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 md:grid-cols-4",children:v.horarios.map(ct=>{const en=`${L}-${ct}`,on=wr[en]!==!1;return u.jsxs("button",{type:"button",onClick:()=>{ur(Qn=>{const hn={...Qn};return on?hn[en]=!1:delete hn[en],hn})},className:`rounded-lg border px-3 py-2 text-sm font-medium transition ${on?"bg-green-100 text-green-700 border-green-200":"bg-red-100 text-red-700 border-red-200"}`,children:[ct,u.jsx("br",{}),u.jsx("span",{className:"text-xs",children:on?"Disponivel":"Bloqueado"})]},ct)})})})]},v.id)})})})]})})}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 border-t border-slate-200 bg-slate-50 px-4 sm:px-6 py-4",children:[u.jsx("button",{onClick:()=>sr(!1),className:"w-full sm:w-auto rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Fechar"}),u.jsx("button",{onClick:Ca,disabled:dr||ir,className:`w-full sm:w-auto rounded-full px-4 py-2 text-xs font-semibold text-white shadow-sm transition ${dr||ir?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:dr?"Salvando...":"Salvar alteraes"})]})]})}),n==="tipos_clientes"&&u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Tipos de clientes"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Crie, edite ou exclua categorias de clientes."})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:u.jsxs("button",{onClick:Gn,disabled:Ke,className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${Ke?"bg-slate-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[u.jsx(sf,{className:"h-4 w-4"}),"Novo tipo"]})})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_minmax(0,1.4fr)]",children:[u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-2 border-b border-slate-100 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:Ue?"Editar tipo":"Novo tipo"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Defina o nome e, se quiser, uma descrio."})]}),Ue&&u.jsx("span",{className:"rounded-full bg-amber-100 px-3 py-1 text-xs font-semibold text-amber-700",children:"Edio"})]}),u.jsxs("form",{onSubmit:v=>{v.preventDefault(),Ur()},className:"mt-4 space-y-4",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Nome do tipo",u.jsx("input",{type:"text",value:ke.nome,onChange:v=>Qe(C=>({...C,nome:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Ex: Adulto, Criana"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Descrio (opcional)",u.jsx("textarea",{value:ke.descricao??"",onChange:v=>Qe(C=>({...C,descricao:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",rows:3,placeholder:"Detalhe quando este tipo deve ser usado."})]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[u.jsx("button",{type:"submit",disabled:Ke,className:`inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${Ke?"bg-slate-300 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:Ke?"Salvando...":Ue?"Salvar alteraes":"Cadastrar tipo"}),Ue&&u.jsx("button",{type:"button",onClick:Gn,className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Cancelar edio"})]})]})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-2 border-b border-slate-100 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Tipos cadastrados"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Gerencie os tipos de clientes cadastrados."})]}),u.jsxs("span",{className:"text-xs font-semibold uppercase text-slate-400",children:[ve.length," tipo(s)"]})]}),Ye?u.jsx("div",{className:"mt-4 rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:"Carregando tipos de clientes..."}):ve.length===0?u.jsx("div",{className:"mt-4 rounded-xl border border-dashed border-slate-200 bg-white px-4 py-6 text-center text-sm text-slate-500",children:"Nenhum tipo cadastrado. Cadastre um tipo para comecar."}):u.jsx("div",{className:"mt-4 space-y-3",children:ve.map(v=>{const C=Ue&&ke.id===v.id;return u.jsx("div",{className:`rounded-xl border p-4 transition ${C?"border-blue-300 bg-blue-50/40":"border-slate-200 bg-white"}`,children:u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u.jsx("h4",{className:"text-base font-semibold text-slate-900",children:v.nome})}),v.descricao?u.jsx("p",{className:"text-sm text-slate-500",children:v.descricao}):u.jsx("p",{className:"text-xs text-slate-400",children:"Sem descrio."})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>ys(v),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 transition hover:border-blue-300 hover:text-blue-600",children:[u.jsx(uc,{className:"h-3.5 w-3.5"}),"Editar"]}),u.jsxs("button",{onClick:()=>ts(v),className:"inline-flex items-center gap-2 rounded-full border border-rose-200 px-3 py-1.5 text-xs font-semibold text-rose-600 transition hover:bg-rose-50",children:[u.jsx(dc,{className:"h-3.5 w-3.5"}),"Excluir"]})]})]})},v.id??v.nome)})})]})]})]}),n==="whatsapp"&&u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"WhatsApp"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Conecte o WhatsApp Web e envie confirmacoes automaticamente."})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:Ml,disabled:Et,className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${Et?"bg-slate-300 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:[u.jsx(cc,{className:"h-4 w-4"}),"Conectar"]}),u.jsx("button",{onClick:Il,disabled:Et,className:`inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition ${Et?"cursor-not-allowed opacity-60":"hover:border-rose-300 hover:text-rose-600"}`,children:"Desconectar"})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_minmax(0,1.2fr)]",children:[u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-2 border-b border-slate-100 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Conexao"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Leia o QR Code com o WhatsApp do celular."})]}),u.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${mr.classes}`,children:mr.label})]}),u.jsxs("div",{className:"mt-4 space-y-4",children:[We?.info?.pushname&&u.jsxs("p",{className:"text-sm text-slate-600",children:["Conectado como ",u.jsx("span",{className:"font-semibold text-slate-900",children:We.info.pushname}),"."]}),We?.qr?u.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6",children:[u.jsx("img",{src:We.qr,alt:"QR Code do WhatsApp",className:"h-48 w-48 rounded-lg border border-slate-200 bg-white p-2"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Abra o WhatsApp no celular e aponte a camera para conectar."})]}):u.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:Et?"Carregando QR Code...":"Nenhum QR Code disponivel."}),(Un||We?.lastError)&&u.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:Un||We?.lastError})]})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 border-b border-slate-100 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Mensagens"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Personalize a mensagem enviada automaticamente e a mensagem pre-preenchida do botao WhatsApp."})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-500",children:[u.jsx("input",{type:"checkbox",checked:tt.ativo,onChange:v=>Je(C=>({...C,ativo:v.target.checked})),className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500"}),"Ativar envio automatico"]})]}),u.jsxs("div",{className:"mt-4 space-y-6",children:[u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50/60 p-4",children:[u.jsx("div",{className:"flex flex-col gap-1 border-b border-slate-200 pb-3 sm:flex-row sm:items-center sm:justify-between",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Automatica (bot)"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Enviada automaticamente ao confirmar reservas."})]})}),u.jsxs("div",{className:"mt-3 space-y-4",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Texto automatico",u.jsx("textarea",{value:tt.mensagemConfirmacaoAutomatica,onChange:v=>Je(C=>({...C,mensagemConfirmacaoAutomatica:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",rows:5,placeholder:ll})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Wg.map(v=>u.jsx("button",{type:"button",onClick:()=>h("mensagemConfirmacaoAutomatica",v),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-emerald-300 hover:text-emerald-600",children:v},`auto-${v}`))}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Preview"}),u.jsx("div",{className:"mt-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 whitespace-pre-wrap",children:Oa||"-"})]}),u.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:u.jsx("button",{type:"button",onClick:()=>Je(v=>({...v,mensagemConfirmacaoAutomatica:ll})),className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Restaurar padrao"})})]})]}),u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50/60 p-4",children:[u.jsx("div",{className:"flex flex-col gap-1 border-b border-slate-200 pb-3 sm:flex-row sm:items-center sm:justify-between",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Manual (botao)"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Texto pre-preenchido ao clicar no botao WhatsApp de uma reserva."})]})}),u.jsxs("div",{className:"mt-3 space-y-4",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Texto do botao",u.jsx("textarea",{value:tt.mensagemConfirmacaoManual,onChange:v=>Je(C=>({...C,mensagemConfirmacaoManual:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",rows:5,placeholder:Us})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Wg.map(v=>u.jsx("button",{type:"button",onClick:()=>h("mensagemConfirmacaoManual",v),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-emerald-300 hover:text-emerald-600",children:v},`manual-${v}`))}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Preview"}),u.jsx("div",{className:"mt-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 whitespace-pre-wrap",children:Uo||"-"})]}),u.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:u.jsx("button",{type:"button",onClick:()=>Je(v=>({...v,mensagemConfirmacaoManual:Us})),className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Restaurar padrao"})})]})]}),u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50/60 p-4",children:[u.jsxs("div",{className:"flex flex-col gap-2 border-b border-slate-200 pb-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Modelos (manual)"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Crie modelos pre-escritos para escolher ao clicar no botao WhatsApp de uma reserva."})]}),u.jsxs("button",{type:"button",onClick:w,className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50",children:[u.jsx(sf,{className:"h-3.5 w-3.5"}),"Novo modelo"]})]}),u.jsx("div",{className:"mt-3 space-y-3",children:(tt.modelosMensagemManual??[]).length===0?u.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 bg-white px-3 py-3 text-sm text-slate-500",children:'Nenhum modelo criado. Use "Novo modelo" para adicionar.'}):(tt.modelosMensagemManual??[]).map(v=>u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("label",{className:"flex-1 text-xs font-semibold uppercase text-slate-500",children:["Titulo",u.jsx("input",{value:v.titulo,onChange:C=>A(v.id,{titulo:C.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200"})]}),u.jsxs("button",{type:"button",onClick:()=>re(v.id),className:"inline-flex items-center justify-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-xs font-semibold text-rose-700 transition hover:bg-rose-100",children:[u.jsx(dc,{className:"h-3.5 w-3.5"}),"Excluir"]})]}),u.jsxs("label",{className:"mt-3 block text-xs font-semibold uppercase text-slate-500",children:["Mensagem",u.jsx("textarea",{value:v.mensagem,onChange:C=>A(v.id,{mensagem:C.target.value}),rows:4,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",placeholder:Us})]}),u.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Wg.map(C=>u.jsx("button",{type:"button",onClick:()=>he(v.id,C),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-emerald-300 hover:text-emerald-600",children:C},`${v.id}-${C}`))})]},v.id))})]}),u.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:u.jsx("button",{type:"button",onClick:Ui,disabled:jn,className:`inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-xs font-semibold text-white shadow-sm transition ${jn?"bg-slate-300 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:jn?"Salvando...":"Salvar configuracoes"})})]})]})]})]}),n==="pesquisa"&&u.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsx("div",{className:"flex flex-col gap-2 border-b border-slate-200 pb-4 sm:flex-row sm:items-end sm:justify-between",children:u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Pesquisa de clientes"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Localize reservas por nome, CPF ou telefone."})]})}),u.jsxs("form",{onSubmit:v=>{v.preventDefault(),Qd()},className:"mt-4 flex flex-col gap-3 md:flex-row",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Termo de busca",u.jsx("input",{type:"text",value:Zt,onChange:v=>Oi(v.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Ex: Ana Silva, 00000000000, 629999999"})]})}),u.jsx("div",{className:"flex items-end",children:u.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-full bg-blue-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-700",children:[u.jsx(yw,{className:"h-4 w-4"}),"Pesquisar"]})})]}),Pi?u.jsx("div",{className:"mt-6 rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:"Buscando resultados..."}):Rs.length>0?u.jsx("div",{className:"mt-6",children:u.jsxs("table",{className:"w-full table-fixed divide-y divide-slate-100 text-sm",children:[u.jsx("thead",{className:"bg-slate-50 text-xs font-semibold uppercase tracking-wide text-slate-500",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left w-[26%]",children:"Nome"}),u.jsx("th",{className:"px-4 py-3 text-left w-[14%]",children:"CPF"}),u.jsx("th",{className:"px-4 py-3 text-left w-[18%]",children:"Telefone"}),u.jsx("th",{className:"px-4 py-3 text-left w-[14%]",children:"Data"}),u.jsx("th",{className:"px-4 py-3 text-left w-[18%]",children:"Atividade"}),u.jsx("th",{className:"px-4 py-3 text-right w-[10%]",children:"Aes"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:Rs.map(v=>{const C=pr(v),L=Fa(v),Y=Li(v.valor),J=(v.telefone||"").replace(/\D/g,""),Pe=!!(J.startsWith("55")?J:J?`55${J}`:"");return u.jsxs("tr",{className:"hover:bg-slate-50/80",children:[u.jsx("td",{className:"px-4 py-3 font-medium text-slate-800 break-words",children:v.nome}),u.jsx("td",{className:"px-4 py-3 text-slate-600 break-all",children:v.cpf}),u.jsx("td",{className:"px-4 py-3 text-slate-600 break-all",children:v.telefone}),u.jsx("td",{className:"px-4 py-3 text-slate-600",children:hc(v.data)}),u.jsx("td",{className:"px-4 py-3 text-slate-600 break-words",children:v.atividade}),u.jsx("td",{className:"px-4 py-3 text-right",children:u.jsxs("button",{type:"button",onClick:()=>Jn(v,C,L,Y),disabled:!Pe,className:"inline-flex items-center justify-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100 disabled:cursor-not-allowed disabled:opacity-40",children:[u.jsx(cc,{className:"h-3.5 w-3.5"}),"WhatsApp"]})})]},v.id)})})]})}):u.jsx("div",{className:"mt-6 rounded-xl border border-dashed border-slate-200 bg-white px-4 py-6 text-center text-sm text-slate-500",children:"Nenhum cliente encontrado para o termo informado."})]})]})]})}function wk(){return u.jsxs("main",{children:[u.jsx(QP,{}),u.jsx(_k,{})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ek(n,e,t,a){function i(l){return l instanceof t?l:new t(function(d){d(l)})}return new(t||(t=Promise))(function(l,d){function f(b){try{g(a.next(b))}catch(_){d(_)}}function p(b){try{g(a.throw(b))}catch(_){d(_)}}function g(b){b.done?l(b.value):i(b.value).then(f,p)}g((a=a.apply(n,[])).next())})}function Tk(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,i,l,d;return d={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(g){return function(b){return p([g,b])}}function p(g){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,i&&(l=g[0]&2?i.return:g[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,g[1])).done)return l;switch(i=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,i=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(n,t)}catch(b){g=[6,b],i=0}finally{a=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ec=function(){return Ec=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++){t=arguments[a];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Ec.apply(this,arguments)},tN=function(n){return{loading:n==null,value:n}},Nk=function(){return function(n,e){switch(e.type){case"error":return Ec(Ec({},n),{error:e.error,loading:!1,value:void 0});case"reset":return tN(e.defaultValue);case"value":return Ec(Ec({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},Sk=function(n){var e=n?n():void 0,t=N.useReducer(Nk(),tN(e)),a=t[0],i=t[1],l=N.useCallback(function(){var p=n?n():void 0;i({type:"reset",defaultValue:p})},[n]),d=N.useCallback(function(p){i({type:"error",error:p})},[]),f=N.useCallback(function(p){i({type:"value",value:p})},[]);return N.useMemo(function(){return{error:a.error,loading:a.loading,reset:l,setError:d,setValue:f,value:a.value}},[a.error,a.loading,l,d,f,a.value])},Ck=function(n,e){var t=Sk(function(){return n.currentUser}),a=t.error,i=t.loading,l=t.setError,d=t.setValue,f=t.value;return N.useEffect(function(){var p=z3(n,function(g){return Ek(void 0,void 0,void 0,function(){var b;return Tk(this,function(_){switch(_.label){case 0:return[3,4];case 1:return _.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return _.sent(),[3,4];case 3:return b=_.sent(),l(b),[3,4];case 4:return d(g),[2]}})})},l);return function(){p()}},[n]),[f,i,a]};function Ak({children:n}){const[e,t]=Ck(_T),a=localStorage.getItem("tempAuth");return t?u.jsx("div",{children:"Carregando..."}):!e&&!a?u.jsx(QC,{to:"/login"}):u.jsx(u.Fragment,{children:n})}const Rk=bA([{path:"/",element:u.jsx(WP,{})},{path:"/login",element:u.jsx(GP,{})},{path:"/admin",element:u.jsx(Ak,{children:u.jsx(wk,{})})}]);SS.createRoot(document.getElementById("root")).render(u.jsx(Ve.StrictMode,{children:u.jsx(IA,{router:Rk})}));export{iw as _,jk as c,tm as g};
