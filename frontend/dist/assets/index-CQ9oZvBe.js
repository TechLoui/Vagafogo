(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function kh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var op={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function lS(){if(x_)return Tu;x_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var f in s)f!=="key"&&(l[f]=s[f])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return Tu.Fragment=e,Tu.jsx=t,Tu.jsxs=t,Tu}var T_;function uS(){return T_||(T_=1,op.exports=lS()),op.exports}var y=uS(),lp={exports:{}},at={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function cS(){if(S_)return at;S_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=E&&D[E]||D["@@iterator"],typeof D=="function"?D:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,Y={};function B(D,ne,ue){this.props=D,this.context=ne,this.refs=Y,this.updater=ue||N}B.prototype.isReactComponent={},B.prototype.setState=function(D,ne){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ne,"setState")},B.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function q(){}q.prototype=B.prototype;function le(D,ne,ue){this.props=D,this.context=ne,this.refs=Y,this.updater=ue||N}var J=le.prototype=new q;J.constructor=le,C(J,B.prototype),J.isPureReactComponent=!0;var pe=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function I(D,ne,ue,oe,xe,Me){return ue=Me.ref,{$$typeof:n,type:D,key:ne,ref:ue!==void 0?ue:null,props:Me}}function S(D,ne){return I(D.type,ne,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function O(D){var ne={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ue){return ne[ue]})}var k=/\/+/g;function z(D,ne){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):ne.toString(36)}function M(){}function _e(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(M,M):(D.status="pending",D.then(function(ne){D.status==="pending"&&(D.status="fulfilled",D.value=ne)},function(ne){D.status==="pending"&&(D.status="rejected",D.reason=ne)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ge(D,ne,ue,oe,xe){var Me=typeof D;(Me==="undefined"||Me==="boolean")&&(D=null);var Se=!1;if(D===null)Se=!0;else switch(Me){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(D.$$typeof){case n:case e:Se=!0;break;case _:return Se=D._init,ge(Se(D._payload),ne,ue,oe,xe)}}if(Se)return xe=xe(D),Se=oe===""?"."+z(D,0):oe,pe(xe)?(ue="",Se!=null&&(ue=Se.replace(k,"$&/")+"/"),ge(xe,ne,ue,"",function(yt){return yt})):xe!=null&&(R(xe)&&(xe=S(xe,ue+(xe.key==null||D&&D.key===xe.key?"":(""+xe.key).replace(k,"$&/")+"/")+Se)),ne.push(xe)),1;Se=0;var mt=oe===""?".":oe+":";if(pe(D))for(var it=0;it<D.length;it++)oe=D[it],Me=mt+z(oe,it),Se+=ge(oe,ne,ue,Me,xe);else if(it=x(D),typeof it=="function")for(D=it.call(D),it=0;!(oe=D.next()).done;)oe=oe.value,Me=mt+z(oe,it++),Se+=ge(oe,ne,ue,Me,xe);else if(Me==="object"){if(typeof D.then=="function")return ge(_e(D),ne,ue,oe,xe);throw ne=String(D),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Se}function P(D,ne,ue){if(D==null)return D;var oe=[],xe=0;return ge(D,oe,"","",function(Me){return ne.call(ue,Me,xe++)}),oe}function X(D){if(D._status===-1){var ne=D._result;ne=ne(),ne.then(function(ue){(D._status===0||D._status===-1)&&(D._status=1,D._result=ue)},function(ue){(D._status===0||D._status===-1)&&(D._status=2,D._result=ue)}),D._status===-1&&(D._status=0,D._result=ne)}if(D._status===1)return D._result.default;throw D._result}var te=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ve(){}return at.Children={map:P,forEach:function(D,ne,ue){P(D,function(){ne.apply(this,arguments)},ue)},count:function(D){var ne=0;return P(D,function(){ne++}),ne},toArray:function(D){return P(D,function(ne){return ne})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},at.Component=B,at.Fragment=t,at.Profiler=s,at.PureComponent=le,at.StrictMode=i,at.Suspense=m,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,at.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ae.H.useMemoCache(D)}},at.cache=function(D){return function(){return D.apply(null,arguments)}},at.cloneElement=function(D,ne,ue){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var oe=C({},D.props),xe=D.key,Me=void 0;if(ne!=null)for(Se in ne.ref!==void 0&&(Me=void 0),ne.key!==void 0&&(xe=""+ne.key),ne)!L.call(ne,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ne.ref===void 0||(oe[Se]=ne[Se]);var Se=arguments.length-2;if(Se===1)oe.children=ue;else if(1<Se){for(var mt=Array(Se),it=0;it<Se;it++)mt[it]=arguments[it+2];oe.children=mt}return I(D.type,xe,void 0,void 0,Me,oe)},at.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},at.createElement=function(D,ne,ue){var oe,xe={},Me=null;if(ne!=null)for(oe in ne.key!==void 0&&(Me=""+ne.key),ne)L.call(ne,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(xe[oe]=ne[oe]);var Se=arguments.length-2;if(Se===1)xe.children=ue;else if(1<Se){for(var mt=Array(Se),it=0;it<Se;it++)mt[it]=arguments[it+2];xe.children=mt}if(D&&D.defaultProps)for(oe in Se=D.defaultProps,Se)xe[oe]===void 0&&(xe[oe]=Se[oe]);return I(D,Me,void 0,void 0,null,xe)},at.createRef=function(){return{current:null}},at.forwardRef=function(D){return{$$typeof:f,render:D}},at.isValidElement=R,at.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:X}},at.memo=function(D,ne){return{$$typeof:g,type:D,compare:ne===void 0?null:ne}},at.startTransition=function(D){var ne=ae.T,ue={};ae.T=ue;try{var oe=D(),xe=ae.S;xe!==null&&xe(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ve,te)}catch(Me){te(Me)}finally{ae.T=ne}},at.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},at.use=function(D){return ae.H.use(D)},at.useActionState=function(D,ne,ue){return ae.H.useActionState(D,ne,ue)},at.useCallback=function(D,ne){return ae.H.useCallback(D,ne)},at.useContext=function(D){return ae.H.useContext(D)},at.useDebugValue=function(){},at.useDeferredValue=function(D,ne){return ae.H.useDeferredValue(D,ne)},at.useEffect=function(D,ne,ue){var oe=ae.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(D,ne)},at.useId=function(){return ae.H.useId()},at.useImperativeHandle=function(D,ne,ue){return ae.H.useImperativeHandle(D,ne,ue)},at.useInsertionEffect=function(D,ne){return ae.H.useInsertionEffect(D,ne)},at.useLayoutEffect=function(D,ne){return ae.H.useLayoutEffect(D,ne)},at.useMemo=function(D,ne){return ae.H.useMemo(D,ne)},at.useOptimistic=function(D,ne){return ae.H.useOptimistic(D,ne)},at.useReducer=function(D,ne,ue){return ae.H.useReducer(D,ne,ue)},at.useRef=function(D){return ae.H.useRef(D)},at.useState=function(D){return ae.H.useState(D)},at.useSyncExternalStore=function(D,ne,ue){return ae.H.useSyncExternalStore(D,ne,ue)},at.useTransition=function(){return ae.H.useTransition()},at.version="19.1.0",at}var A_;function ug(){return A_||(A_=1,lp.exports=cS()),lp.exports}var U=ug();const Ne=kh(U);var up={exports:{}},Su={},cp={exports:{}},dp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function dS(){return R_||(R_=1,function(n){function e(P,X){var te=P.length;P.push(X);e:for(;0<te;){var ve=te-1>>>1,D=P[ve];if(0<s(D,X))P[ve]=X,P[te]=D,te=ve;else break e}}function t(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var X=P[0],te=P.pop();if(te!==X){P[0]=te;e:for(var ve=0,D=P.length,ne=D>>>1;ve<ne;){var ue=2*(ve+1)-1,oe=P[ue],xe=ue+1,Me=P[xe];if(0>s(oe,te))xe<D&&0>s(Me,oe)?(P[ve]=Me,P[xe]=te,ve=xe):(P[ve]=oe,P[ue]=te,ve=ue);else if(xe<D&&0>s(Me,te))P[ve]=Me,P[xe]=te,ve=xe;else break e}}return X}function s(P,X){var te=P.sortIndex-X.sortIndex;return te!==0?te:P.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],g=[],_=1,E=null,x=3,N=!1,C=!1,Y=!1,B=!1,q=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function pe(P){for(var X=t(g);X!==null;){if(X.callback===null)i(g);else if(X.startTime<=P)i(g),X.sortIndex=X.expirationTime,e(m,X);else break;X=t(g)}}function ae(P){if(Y=!1,pe(P),!C)if(t(m)!==null)C=!0,L||(L=!0,z());else{var X=t(g);X!==null&&ge(ae,X.startTime-P)}}var L=!1,I=-1,S=5,R=-1;function O(){return B?!0:!(n.unstable_now()-R<S)}function k(){if(B=!1,L){var P=n.unstable_now();R=P;var X=!0;try{e:{C=!1,Y&&(Y=!1,le(I),I=-1),N=!0;var te=x;try{t:{for(pe(P),E=t(m);E!==null&&!(E.expirationTime>P&&O());){var ve=E.callback;if(typeof ve=="function"){E.callback=null,x=E.priorityLevel;var D=ve(E.expirationTime<=P);if(P=n.unstable_now(),typeof D=="function"){E.callback=D,pe(P),X=!0;break t}E===t(m)&&i(m),pe(P)}else i(m);E=t(m)}if(E!==null)X=!0;else{var ne=t(g);ne!==null&&ge(ae,ne.startTime-P),X=!1}}break e}finally{E=null,x=te,N=!1}X=void 0}}finally{X?z():L=!1}}}var z;if(typeof J=="function")z=function(){J(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,_e=M.port2;M.port1.onmessage=k,z=function(){_e.postMessage(null)}}else z=function(){q(k,0)};function ge(P,X){I=q(function(){P(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(P){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var te=x;x=X;try{return P()}finally{x=te}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(P,X){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var te=x;x=P;try{return X()}finally{x=te}},n.unstable_scheduleCallback=function(P,X,te){var ve=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ve+te:ve):te=ve,P){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=te+D,P={id:_++,callback:X,priorityLevel:P,startTime:te,expirationTime:D,sortIndex:-1},te>ve?(P.sortIndex=te,e(g,P),t(m)===null&&P===t(g)&&(Y?(le(I),I=-1):Y=!0,ge(ae,te-ve))):(P.sortIndex=D,e(m,P),C||N||(C=!0,L||(L=!0,z()))),P},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(P){var X=x;return function(){var te=x;x=X;try{return P.apply(this,arguments)}finally{x=te}}}}(dp)),dp}var N_;function hS(){return N_||(N_=1,cp.exports=dS()),cp.exports}var hp={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function fS(){if(C_)return Zn;C_=1;var n=ug();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:E==null?null:""+E,children:m,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},Zn.flushSync=function(m){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=_,i.d.f()}},Zn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Zn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Zn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,E=f(_,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:x,fetchPriority:N}):_==="script"&&i.d.X(m,{crossOrigin:E,integrity:x,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=f(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Zn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=f(_,g.crossOrigin);i.d.L(m,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=f(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Zn.requestFormReset=function(m){i.d.r(m)},Zn.unstable_batchedUpdates=function(m,g){return m(g)},Zn.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},Zn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zn.version="19.1.0",Zn}var D_;function aE(){if(D_)return hp.exports;D_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hp.exports=fS(),hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function mS(){if(I_)return Su;I_=1;var n=hS(),e=ug(),t=aE();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function m(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return f(h),r;if(p===u)return f(h),a;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=p;else{for(var w=!1,T=h.child;T;){if(T===o){w=!0,o=h,u=p;break}if(T===u){w=!0,u=h,o=p;break}T=T.sibling}if(!w){for(T=p.child;T;){if(T===o){w=!0,o=p,u=h;break}if(T===u){w=!0,u=p,o=h;break}T=T.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),le=Symbol.for("react.consumer"),J=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=k&&r[k]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function _e(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case B:return"Profiler";case Y:return"StrictMode";case ae:return"Suspense";case L:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case J:return(r.displayName||"Context")+".Provider";case le:return(r._context.displayName||"Context")+".Consumer";case pe:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return a=r.displayName||null,a!==null?a:_e(r.type)||"Memo";case S:a=r._payload,r=r._init;try{return _e(r(a))}catch{}}return null}var ge=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ve=[],D=-1;function ne(r){return{current:r}}function ue(r){0>D||(r.current=ve[D],ve[D]=null,D--)}function oe(r,a){D++,ve[D]=r.current,r.current=a}var xe=ne(null),Me=ne(null),Se=ne(null),mt=ne(null);function it(r,a){switch(oe(Se,a),oe(Me,r),oe(xe,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?X0(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=X0(a),r=Z0(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(xe),oe(xe,r)}function yt(){ue(xe),ue(Me),ue(Se)}function Xe(r){r.memoizedState!==null&&oe(mt,r);var a=xe.current,o=Z0(a,r.type);a!==o&&(oe(Me,r),oe(xe,o))}function xt(r){Me.current===r&&(ue(xe),ue(Me)),mt.current===r&&(ue(mt),_u._currentValue=te)}var Wt=Object.prototype.hasOwnProperty,dn=n.unstable_scheduleCallback,Qt=n.unstable_cancelCallback,Dn=n.unstable_shouldYield,Or=n.unstable_requestPaint,Re=n.unstable_now,Gt=n.unstable_getCurrentPriorityLevel,_n=n.unstable_ImmediatePriority,bn=n.unstable_UserBlockingPriority,Dt=n.unstable_NormalPriority,Xt=n.unstable_LowPriority,Yt=n.unstable_IdlePriority,En=n.log,an=n.unstable_setDisableYieldValue,et=null,Fe=null;function tn(r){if(typeof En=="function"&&an(r),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(et,r)}catch{}}var Ft=Math.clz32?Math.clz32:cr,ui=Math.log,In=Math.LN2;function cr(r){return r>>>=0,r===0?32:31-(ui(r)/In|0)|0}var dr=256,hr=4194304;function Ln(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ir(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,p=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var T=u&134217727;return T!==0?(u=T&~p,u!==0?h=Ln(u):(w&=T,w!==0?h=Ln(w):o||(o=T&~r,o!==0&&(h=Ln(o))))):(T=u&~p,T!==0?h=Ln(T):w!==0?h=Ln(w):o||(o=u&~r,o!==0&&(h=Ln(o)))),h===0?0:a!==0&&a!==h&&(a&p)===0&&(p=h&-h,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:h}function Un(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Ge(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H(){var r=dr;return dr<<=1,(dr&4194048)===0&&(dr=256),r}function Ee(){var r=hr;return hr<<=1,(hr&62914560)===0&&(hr=4194304),r}function je(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function Be(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function nt(r,a,o,u,h,p){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var T=r.entanglements,j=r.expirationTimes,ee=r.hiddenUpdates;for(o=w&~o;0<o;){var de=31-Ft(o),me=1<<de;T[de]=0,j[de]=-1;var re=ee[de];if(re!==null)for(ee[de]=null,de=0;de<re.length;de++){var ie=re[de];ie!==null&&(ie.lane&=-536870913)}o&=~me}u!==0&&Ze(r,u,0),p!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=p&~(w&~a))}function Ze(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-Ft(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function It(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-Ft(o),h=1<<u;h&a|r[u]&a&&(r[u]|=a),o&=~h}}function Ve(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function wn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function V(){var r=X.p;return r!==0?r:(r=window.event,r===void 0?32:y_(r.type))}function G(r,a){var o=X.p;try{return X.p=r,a()}finally{X.p=o}}var $=Math.random().toString(36).slice(2),K="__reactFiber$"+$,ce="__reactProps$"+$,Ae="__reactContainer$"+$,be="__reactEvents$"+$,we="__reactListeners$"+$,Ce="__reactHandles$"+$,ke="__reactResources$"+$,He="__reactMarker$"+$;function ze(r){delete r[K],delete r[ce],delete r[be],delete r[we],delete r[Ce]}function Ke(r){var a=r[K];if(a)return a;for(var o=r.parentNode;o;){if(a=o[Ae]||o[K]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=n_(r);r!==null;){if(o=r[K])return o;r=n_(r)}return a}r=o,o=r.parentNode}return null}function dt(r){if(r=r[K]||r[Ae]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Rt(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Tt(r){var a=r[ke];return a||(a=r[ke]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function vt(r){r[He]=!0}var lt=new Set,kr={};function xn(r,a){ar(r,a),ar(r+"Capture",a)}function ar(r,a){for(kr[r]=a,r=0;r<a.length;r++)lt.add(a[r])}var Bn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ci={},_r={};function ba(r){return Wt.call(_r,r)?!0:Wt.call(ci,r)?!1:Bn.test(r)?_r[r]=!0:(ci[r]=!0,!1)}function Qn(r,a,o){if(ba(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function sr(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function Je(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}var hn,br;function fr(r){if(hn===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);hn=a&&a[1]||"",br=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hn+r+br}var di=!1;function Bt(r,a){if(!r||di)return"";di=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ie){var re=ie}Reflect.construct(r,[],me)}else{try{me.call()}catch(ie){re=ie}r.call(me.prototype)}}else{try{throw Error()}catch(ie){re=ie}(me=r())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ie){if(ie&&re&&typeof ie.stack=="string")return[ie.stack,re.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),w=p[0],T=p[1];if(w&&T){var j=w.split(`
`),ee=T.split(`
`);for(h=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;h<ee.length&&!ee[h].includes("DetermineComponentFrameRoot");)h++;if(u===j.length||h===ee.length)for(u=j.length-1,h=ee.length-1;1<=u&&0<=h&&j[u]!==ee[h];)h--;for(;1<=u&&0<=h;u--,h--)if(j[u]!==ee[h]){if(u!==1||h!==1)do if(u--,h--,0>h||j[u]!==ee[h]){var de=`
`+j[u].replace(" at new "," at ");return r.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",r.displayName)),de}while(1<=u&&0<=h);break}}}finally{di=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?fr(o):""}function Pr(r){switch(r.tag){case 26:case 27:case 5:return fr(r.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return Bt(r.type,!1);case 11:return Bt(r.type.render,!1);case 1:return Bt(r.type,!0);case 31:return fr("Activity");default:return""}}function Ui(r){try{var a="";do a+=Pr(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function zn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Rl(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function df(r){var a=Rl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return h.call(this)},set:function(w){u=""+w,p.call(this,w)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function lo(r){r._valueTracker||(r._valueTracker=df(r))}function Nl(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=Rl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function vs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var hf=/[\n"\\]/g;function fn(r){return r.replace(hf,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Er(r,a,o,u,h,p,w,T){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),a!=null?w==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+zn(a)):r.value!==""+zn(a)&&(r.value=""+zn(a)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),a!=null?Ea(r,w,zn(a)):o!=null?Ea(r,w,zn(o)):u!=null&&r.removeAttribute("value"),h==null&&p!=null&&(r.defaultChecked=!!p),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.name=""+zn(T):r.removeAttribute("name")}function _s(r,a,o,u,h,p,w,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;o=o!=null?""+zn(o):"",a=a!=null?""+zn(a):o,T||a===r.value||(r.value=a),r.defaultValue=a}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=T?r.checked:!!u,r.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function Ea(r,a,o){a==="number"&&vs(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Bi(r,a,o,u){if(r=r.options,a){a={};for(var h=0;h<o.length;h++)a["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=a.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+zn(o),a=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}a!==null||r[h].disabled||(a=r[h])}a!==null&&(a.selected=!0)}}function Pt(r,a,o){if(a!=null&&(a=""+zn(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+zn(o):""}function bs(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(ge(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=zn(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function jr(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var Es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||Es.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function Cl(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in a)u=a[h],a.hasOwnProperty(h)&&o[h]!==u&&Tc(r,h,u)}else for(var p in a)a.hasOwnProperty(p)&&Tc(r,p,a[p])}function Dl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uo(r){return mf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var zi=null;function Vr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Fi=null,qi=null;function Il(r){var a=dt(r);if(a&&(r=a.stateNode)){var o=r[ce]||null;e:switch(r=a.stateNode,a.type){case"input":if(Er(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+fn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var h=u[ce]||null;if(!h)throw Error(i(90));Er(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&Nl(u)}break e;case"textarea":Pt(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Bi(r,!!o.multiple,a,!1)}}}var hi=!1;function Sc(r,a,o){if(hi)return r(a,o);hi=!0;try{var u=r(a);return u}finally{if(hi=!1,(Fi!==null||qi!==null)&&(vd(),Fi&&(a=Fi,r=qi,qi=Fi=null,Il(a),r)))for(a=0;a<r.length;a++)Il(r[a])}}function ws(r,a){var o=r.stateNode;if(o===null)return null;var u=o[ce]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(Xr)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Lr=!1}var fi=null,wa=null,Hi=null;function Ml(){if(Hi)return Hi;var r,a=wa,o=a.length,u,h="value"in fi?fi.value:fi.textContent,p=h.length;for(r=0;r<o&&a[r]===h[r];r++);var w=o-r;for(u=1;u<=w&&a[o-u]===h[p-u];u++);return Hi=h.slice(r,1<u?1-u:void 0)}function mi(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function pi(){return!0}function Ol(){return!1}function Mn(r){function a(o,u,h,p,w){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(o=r[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?pi:Ol,this.isPropagationStopped=Ol,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),a}var Nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=Mn(Nt),Ts=_({},Nt,{view:0,detail:0}),Ac=Mn(Ts),ho,fo,gi,Ss=_({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==gi&&(gi&&r.type==="mousemove"?(ho=r.screenX-gi.screenX,fo=r.screenY-gi.screenY):fo=ho=0,gi=r),ho)},movementY:function(r){return"movementY"in r?r.movementY:fo}}),Ur=Mn(Ss),Rc=_({},Ss,{dataTransfer:0}),pf=Mn(Rc),As=_({},Ts,{relatedTarget:0}),mo=Mn(As),kl=_({},Nt,{animationName:0,elapsedTime:0,pseudoElement:0}),po=Mn(kl),Nc=_({},Nt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),go=Mn(Nc),gf=_({},Nt,{data:0}),Pl=Mn(gf),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jl(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Dc[r])?!!a[r]:!1}function Ns(){return jl}var Ic=_({},Ts,{key:function(r){if(r.key){var a=Rs[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=mi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Cc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(r){return r.type==="keypress"?mi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?mi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),yo=Mn(Ic),Mc=_({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vl=Mn(Mc),Yi=_({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),Oc=Mn(Yi),kc=_({},Nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pc=Mn(kc),jc=_({},Ss,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),vo=Mn(jc),or=_({},Nt,{newState:0,oldState:0}),Vc=Mn(or),Lc=[9,13,27,32],yi=Xr&&"CompositionEvent"in window,d=null;Xr&&"documentMode"in document&&(d=document.documentMode);var v=Xr&&"TextEvent"in window&&!d,b=Xr&&(!yi||d&&8<d&&11>=d),A=" ",Q=!1;function se(r,a){switch(r){case"keyup":return Lc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Te(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var _t=!1;function Tn(r,a){switch(r){case"compositionend":return Te(a);case"keypress":return a.which!==32?null:(Q=!0,A);case"textInput":return r=a.data,r===A&&Q?null:r;default:return null}}function bt(r,a){if(_t)return r==="compositionend"||!yi&&se(r,a)?(r=Ml(),Hi=wa=fi=null,_t=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return b&&a.locale!=="ko"?null:a.data;default:return null}}var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sn(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!On[r.type]:a==="textarea"}function $i(r,a,o,u){Fi?qi?qi.push(u):qi=[u]:Fi=u,a=Td(a,"onChange"),0<a.length&&(o=new co("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var Fn=null,vi=null;function Ll(r){$0(r,0)}function Uc(r){var a=Rt(r);if(Nl(a))return r}function fy(r,a){if(r==="change")return a}var my=!1;if(Xr){var yf;if(Xr){var vf="oninput"in document;if(!vf){var py=document.createElement("div");py.setAttribute("oninput","return;"),vf=typeof py.oninput=="function"}yf=vf}else yf=!1;my=yf&&(!document.documentMode||9<document.documentMode)}function gy(){Fn&&(Fn.detachEvent("onpropertychange",yy),vi=Fn=null)}function yy(r){if(r.propertyName==="value"&&Uc(vi)){var a=[];$i(a,vi,r,Vr(r)),Sc(Ll,a)}}function LT(r,a,o){r==="focusin"?(gy(),Fn=a,vi=o,Fn.attachEvent("onpropertychange",yy)):r==="focusout"&&gy()}function UT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Uc(vi)}function BT(r,a){if(r==="click")return Uc(a)}function zT(r,a){if(r==="input"||r==="change")return Uc(a)}function FT(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var wr=typeof Object.is=="function"?Object.is:FT;function Ul(r,a){if(wr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!Wt.call(a,h)||!wr(r[h],a[h]))return!1}return!0}function vy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _y(r,a){var o=vy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=vy(o)}}function by(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?by(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Ey(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=vs(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=vs(r.document)}return a}function _f(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var qT=Xr&&"documentMode"in document&&11>=document.documentMode,_o=null,bf=null,Bl=null,Ef=!1;function wy(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ef||_o==null||_o!==vs(u)||(u=_o,"selectionStart"in u&&_f(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Bl&&Ul(Bl,u)||(Bl=u,u=Td(bf,"onSelect"),0<u.length&&(a=new co("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=_o)))}function Cs(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var bo={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},wf={},xy={};Xr&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Ds(r){if(wf[r])return wf[r];if(!bo[r])return r;var a=bo[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in xy)return wf[r]=a[o];return r}var Ty=Ds("animationend"),Sy=Ds("animationiteration"),Ay=Ds("animationstart"),HT=Ds("transitionrun"),YT=Ds("transitionstart"),$T=Ds("transitioncancel"),Ry=Ds("transitionend"),Ny=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function Zr(r,a){Ny.set(r,a),xn(a,[r])}var Cy=new WeakMap;function Br(r,a){if(typeof r=="object"&&r!==null){var o=Cy.get(r);return o!==void 0?o:(a={value:r,source:a,stack:Ui(a)},Cy.set(r,a),a)}return{value:r,source:a,stack:Ui(a)}}var zr=[],Eo=0,Tf=0;function Bc(){for(var r=Eo,a=Tf=Eo=0;a<r;){var o=zr[a];zr[a++]=null;var u=zr[a];zr[a++]=null;var h=zr[a];zr[a++]=null;var p=zr[a];if(zr[a++]=null,u!==null&&h!==null){var w=u.pending;w===null?h.next=h:(h.next=w.next,w.next=h),u.pending=h}p!==0&&Dy(o,h,p)}}function zc(r,a,o,u){zr[Eo++]=r,zr[Eo++]=a,zr[Eo++]=o,zr[Eo++]=u,Tf|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Sf(r,a,o,u){return zc(r,a,o,u),Fc(r)}function wo(r,a){return zc(r,null,null,a),Fc(r)}function Dy(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(h=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,h&&a!==null&&(h=31-Ft(o),r=p.hiddenUpdates,u=r[h],u===null?r[h]=[a]:u.push(a),a.lane=o|536870912),p):null}function Fc(r){if(50<du)throw du=0,Im=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var xo={};function WT(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(r,a,o,u){return new WT(r,a,o,u)}function Af(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Wi(r,a){var o=r.alternate;return o===null?(o=xr(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Iy(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function qc(r,a,o,u,h,p){var w=0;if(u=r,typeof r=="function")Af(r)&&(w=1);else if(typeof r=="string")w=K2(r,o,xe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=xr(31,o,a,h),r.elementType=R,r.lanes=p,r;case C:return Is(o.children,h,p,a);case Y:w=8,h|=24;break;case B:return r=xr(12,o,a,h|2),r.elementType=B,r.lanes=p,r;case ae:return r=xr(13,o,a,h),r.elementType=ae,r.lanes=p,r;case L:return r=xr(19,o,a,h),r.elementType=L,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case q:case J:w=10;break e;case le:w=9;break e;case pe:w=11;break e;case I:w=14;break e;case S:w=16,u=null;break e}w=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=xr(w,o,a,h),a.elementType=r,a.type=u,a.lanes=p,a}function Is(r,a,o,u){return r=xr(7,r,u,a),r.lanes=o,r}function Rf(r,a,o){return r=xr(6,r,null,a),r.lanes=o,r}function Nf(r,a,o){return a=xr(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var To=[],So=0,Hc=null,Yc=0,Fr=[],qr=0,Ms=null,Gi=1,Ki="";function Os(r,a){To[So++]=Yc,To[So++]=Hc,Hc=r,Yc=a}function My(r,a,o){Fr[qr++]=Gi,Fr[qr++]=Ki,Fr[qr++]=Ms,Ms=r;var u=Gi;r=Ki;var h=32-Ft(u)-1;u&=~(1<<h),o+=1;var p=32-Ft(a)+h;if(30<p){var w=h-h%5;p=(u&(1<<w)-1).toString(32),u>>=w,h-=w,Gi=1<<32-Ft(a)+h|o<<h|u,Ki=p+r}else Gi=1<<p|o<<h|u,Ki=r}function Cf(r){r.return!==null&&(Os(r,1),My(r,1,0))}function Df(r){for(;r===Hc;)Hc=To[--So],To[So]=null,Yc=To[--So],To[So]=null;for(;r===Ms;)Ms=Fr[--qr],Fr[qr]=null,Ki=Fr[--qr],Fr[qr]=null,Gi=Fr[--qr],Fr[qr]=null}var lr=null,nn=null,At=!1,ks=null,_i=!1,If=Error(i(519));function Ps(r){var a=Error(i(418,""));throw ql(Br(a,r)),If}function Oy(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[K]=r,a[ce]=u,o){case"dialog":ft("cancel",a),ft("close",a);break;case"iframe":case"object":case"embed":ft("load",a);break;case"video":case"audio":for(o=0;o<fu.length;o++)ft(fu[o],a);break;case"source":ft("error",a);break;case"img":case"image":case"link":ft("error",a),ft("load",a);break;case"details":ft("toggle",a);break;case"input":ft("invalid",a),_s(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),lo(a);break;case"select":ft("invalid",a);break;case"textarea":ft("invalid",a),bs(a,u.value,u.defaultValue,u.children),lo(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||Q0(a.textContent,o)?(u.popover!=null&&(ft("beforetoggle",a),ft("toggle",a)),u.onScroll!=null&&ft("scroll",a),u.onScrollEnd!=null&&ft("scrollend",a),u.onClick!=null&&(a.onclick=Sd),a=!0):a=!1,a||Ps(r)}function ky(r){for(lr=r.return;lr;)switch(lr.tag){case 5:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:lr=lr.return}}function zl(r){if(r!==lr)return!1;if(!At)return ky(r),At=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Wm(r.type,r.memoizedProps)),o=!o),o&&nn&&Ps(r),ky(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){nn=ei(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}nn=null}}else a===27?(a=nn,La(r.type)?(r=Xm,Xm=null,nn=r):nn=a):nn=lr?ei(r.stateNode.nextSibling):null;return!0}function Fl(){nn=lr=null,At=!1}function Py(){var r=ks;return r!==null&&(gr===null?gr=r:gr.push.apply(gr,r),ks=null),r}function ql(r){ks===null?ks=[r]:ks.push(r)}var Mf=ne(null),js=null,Qi=null;function xa(r,a,o){oe(Mf,a._currentValue),a._currentValue=o}function Xi(r){r._currentValue=Mf.current,ue(Mf)}function Of(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function kf(r,a,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var p=h.dependencies;if(p!==null){var w=h.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=h;for(var j=0;j<a.length;j++)if(T.context===a[j]){p.lanes|=o,T=p.alternate,T!==null&&(T.lanes|=o),Of(p.return,o,r),u||(w=null);break e}p=T.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(i(341));w.lanes|=o,p=w.alternate,p!==null&&(p.lanes|=o),Of(w,o,r),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===r){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Hl(r,a,o,u){r=null;for(var h=a,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var T=h.type;wr(h.pendingProps.value,w.value)||(r!==null?r.push(T):r=[T])}}else if(h===mt.current){if(w=h.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(_u):r=[_u])}h=h.return}r!==null&&kf(a,r,o,u),a.flags|=262144}function $c(r){for(r=r.firstContext;r!==null;){if(!wr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Vs(r){js=r,Qi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Xn(r){return jy(js,r)}function Wc(r,a){return js===null&&Vs(r),jy(r,a)}function jy(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Qi===null){if(r===null)throw Error(i(308));Qi=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Qi=Qi.next=a;return o}var GT=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},KT=n.unstable_scheduleCallback,QT=n.unstable_NormalPriority,An={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new GT,data:new Map,refCount:0}}function Yl(r){r.refCount--,r.refCount===0&&KT(QT,function(){r.controller.abort()})}var $l=null,jf=0,Ao=0,Ro=null;function XT(r,a){if($l===null){var o=$l=[];jf=0,Ao=Lm(),Ro={status:"pending",value:void 0,then:function(u){o.push(u)}}}return jf++,a.then(Vy,Vy),a}function Vy(){if(--jf===0&&$l!==null){Ro!==null&&(Ro.status="fulfilled");var r=$l;$l=null,Ao=0,Ro=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function ZT(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var h=0;h<o.length;h++)(0,o[h])(a)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Ly=P.S;P.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&XT(r,a),Ly!==null&&Ly(r,a)};var Ls=ne(null);function Vf(){var r=Ls.current;return r!==null?r:qt.pooledCache}function Gc(r,a){a===null?oe(Ls,Ls.current):oe(Ls,a.pool)}function Uy(){var r=Vf();return r===null?null:{parent:An._currentValue,pool:r}}var Wl=Error(i(460)),By=Error(i(474)),Kc=Error(i(542)),Lf={then:function(){}};function zy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Qc(){}function Fy(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(Qc,Qc),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Hy(r),r;default:if(typeof a.status=="string")a.then(Qc,Qc);else{if(r=qt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=u}},function(u){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Hy(r),r}throw Gl=a,Wl}}var Gl=null;function qy(){if(Gl===null)throw Error(i(459));var r=Gl;return Gl=null,r}function Hy(r){if(r===Wl||r===Kc)throw Error(i(483))}var Ta=!1;function Uf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Sa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Aa(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Mt&2)!==0){var h=u.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a,a=Fc(r),Dy(r,null,o),a}return zc(r,u,a,o),Fc(r)}function Kl(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,It(r,o)}}function zf(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=w:p=p.next=w,o=o.next}while(o!==null);p===null?h=p=a:p=p.next=a}else h=p=a;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var Ff=!1;function Ql(){if(Ff){var r=Ro;if(r!==null)throw r}}function Xl(r,a,o,u){Ff=!1;var h=r.updateQueue;Ta=!1;var p=h.firstBaseUpdate,w=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var j=T,ee=j.next;j.next=null,w===null?p=ee:w.next=ee,w=j;var de=r.alternate;de!==null&&(de=de.updateQueue,T=de.lastBaseUpdate,T!==w&&(T===null?de.firstBaseUpdate=ee:T.next=ee,de.lastBaseUpdate=j))}if(p!==null){var me=h.baseState;w=0,de=ee=j=null,T=p;do{var re=T.lane&-536870913,ie=re!==T.lane;if(ie?(Et&re)===re:(u&re)===re){re!==0&&re===Ao&&(Ff=!0),de!==null&&(de=de.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Qe=r,qe=T;re=a;var Lt=o;switch(qe.tag){case 1:if(Qe=qe.payload,typeof Qe=="function"){me=Qe.call(Lt,me,re);break e}me=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=qe.payload,re=typeof Qe=="function"?Qe.call(Lt,me,re):Qe,re==null)break e;me=_({},me,re);break e;case 2:Ta=!0}}re=T.callback,re!==null&&(r.flags|=64,ie&&(r.flags|=8192),ie=h.callbacks,ie===null?h.callbacks=[re]:ie.push(re))}else ie={lane:re,tag:T.tag,payload:T.payload,callback:T.callback,next:null},de===null?(ee=de=ie,j=me):de=de.next=ie,w|=re;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;ie=T,T=ie.next,ie.next=null,h.lastBaseUpdate=ie,h.shared.pending=null}}while(!0);de===null&&(j=me),h.baseState=j,h.firstBaseUpdate=ee,h.lastBaseUpdate=de,p===null&&(h.shared.lanes=0),ka|=w,r.lanes=w,r.memoizedState=me}}function Yy(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function $y(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Yy(o[r],a)}var No=ne(null),Xc=ne(0);function Wy(r,a){r=ia,oe(Xc,r),oe(No,a),ia=r|a.baseLanes}function qf(){oe(Xc,ia),oe(No,No.current)}function Hf(){ia=Xc.current,ue(No),ue(Xc)}var Ra=0,st=null,jt=null,mn=null,Zc=!1,Co=!1,Us=!1,Jc=0,Zl=0,Do=null,JT=0;function sn(){throw Error(i(321))}function Yf(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!wr(r[o],a[o]))return!1;return!0}function $f(r,a,o,u,h,p){return Ra=p,st=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,P.H=r===null||r.memoizedState===null?Dv:Iv,Us=!1,p=o(u,h),Us=!1,Co&&(p=Ky(a,o,u,h)),Gy(r),p}function Gy(r){P.H=ad;var a=jt!==null&&jt.next!==null;if(Ra=0,mn=jt=st=null,Zc=!1,Zl=0,Do=null,a)throw Error(i(300));r===null||kn||(r=r.dependencies,r!==null&&$c(r)&&(kn=!0))}function Ky(r,a,o,u){st=r;var h=0;do{if(Co&&(Do=null),Zl=0,Co=!1,25<=h)throw Error(i(301));if(h+=1,mn=jt=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}P.H=s2,p=a(o,u)}while(Co);return p}function e2(){var r=P.H,a=r.useState()[0];return a=typeof a.then=="function"?Jl(a):a,r=r.useState()[0],(jt!==null?jt.memoizedState:null)!==r&&(st.flags|=1024),a}function Wf(){var r=Jc!==0;return Jc=0,r}function Gf(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function Kf(r){if(Zc){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Zc=!1}Ra=0,mn=jt=st=null,Co=!1,Zl=Jc=0,Do=null}function mr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?st.memoizedState=mn=r:mn=mn.next=r,mn}function pn(){if(jt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=jt.next;var a=mn===null?st.memoizedState:mn.next;if(a!==null)mn=a,jt=r;else{if(r===null)throw st.alternate===null?Error(i(467)):Error(i(310));jt=r,r={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},mn===null?st.memoizedState=mn=r:mn=mn.next=r}return mn}function Qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(r){var a=Zl;return Zl+=1,Do===null&&(Do=[]),r=Fy(Do,r,a),a=st,(mn===null?a.memoizedState:mn.next)===null&&(a=a.alternate,P.H=a===null||a.memoizedState===null?Dv:Iv),r}function ed(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Jl(r);if(r.$$typeof===J)return Xn(r)}throw Error(i(438,String(r)))}function Xf(r){var a=null,o=st.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=st.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Qf(),st.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=O;return a.index++,o}function Zi(r,a){return typeof a=="function"?a(r):a}function td(r){var a=pn();return Zf(a,jt,r)}function Zf(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,p=u.pending;if(p!==null){if(h!==null){var w=h.next;h.next=p.next,p.next=w}a.baseQueue=h=p,u.pending=null}if(p=r.baseState,h===null)r.memoizedState=p;else{a=h.next;var T=w=null,j=null,ee=a,de=!1;do{var me=ee.lane&-536870913;if(me!==ee.lane?(Et&me)===me:(Ra&me)===me){var re=ee.revertLane;if(re===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),me===Ao&&(de=!0);else if((Ra&re)===re){ee=ee.next,re===Ao&&(de=!0);continue}else me={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(T=j=me,w=p):j=j.next=me,st.lanes|=re,ka|=re;me=ee.action,Us&&o(p,me),p=ee.hasEagerState?ee.eagerState:o(p,me)}else re={lane:me,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(T=j=re,w=p):j=j.next=re,st.lanes|=me,ka|=me;ee=ee.next}while(ee!==null&&ee!==a);if(j===null?w=p:j.next=T,!wr(p,r.memoizedState)&&(kn=!0,de&&(o=Ro,o!==null)))throw o;r.memoizedState=p,r.baseState=w,r.baseQueue=j,u.lastRenderedState=p}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Jf(r){var a=pn(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,p=a.memoizedState;if(h!==null){o.pending=null;var w=h=h.next;do p=r(p,w.action),w=w.next;while(w!==h);wr(p,a.memoizedState)||(kn=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,u]}function Qy(r,a,o){var u=st,h=pn(),p=At;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=a();var w=!wr((jt||h).memoizedState,o);w&&(h.memoizedState=o,kn=!0),h=h.queue;var T=Jy.bind(null,u,h,r);if(eu(2048,8,T,[r]),h.getSnapshot!==a||w||mn!==null&&mn.memoizedState.tag&1){if(u.flags|=2048,Io(9,nd(),Zy.bind(null,u,h,o,a),null),qt===null)throw Error(i(349));p||(Ra&124)!==0||Xy(u,a,o)}return o}function Xy(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=st.updateQueue,a===null?(a=Qf(),st.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function Zy(r,a,o,u){a.value=o,a.getSnapshot=u,ev(a)&&tv(r)}function Jy(r,a,o){return o(function(){ev(a)&&tv(r)})}function ev(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!wr(r,o)}catch{return!0}}function tv(r){var a=wo(r,2);a!==null&&Nr(a,r,2)}function em(r){var a=mr();if(typeof r=="function"){var o=r;if(r=o(),Us){tn(!0);try{o()}finally{tn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:r},a}function nv(r,a,o,u){return r.baseState=o,Zf(r,jt,typeof u=="function"?u:Zi)}function t2(r,a,o,u,h){if(id(r))throw Error(i(485));if(r=a.action,r!==null){var p={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};P.T!==null?o(!0):p.isTransition=!1,u(p),o=a.pending,o===null?(p.next=a.pending=p,rv(a,p)):(p.next=o.next,a.pending=o.next=p)}}function rv(r,a){var o=a.action,u=a.payload,h=r.state;if(a.isTransition){var p=P.T,w={};P.T=w;try{var T=o(h,u),j=P.S;j!==null&&j(w,T),iv(r,a,T)}catch(ee){tm(r,a,ee)}finally{P.T=p}}else try{p=o(h,u),iv(r,a,p)}catch(ee){tm(r,a,ee)}}function iv(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){av(r,a,u)},function(u){return tm(r,a,u)}):av(r,a,o)}function av(r,a,o){a.status="fulfilled",a.value=o,sv(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,rv(r,o)))}function tm(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,sv(a),a=a.next;while(a!==u)}r.action=null}function sv(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function ov(r,a){return a}function lv(r,a){if(At){var o=qt.formState;if(o!==null){e:{var u=st;if(At){if(nn){t:{for(var h=nn,p=_i;h.nodeType!==8;){if(!p){h=null;break t}if(h=ei(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){nn=ei(h.nextSibling),u=h.data==="F!";break e}}Ps(u)}u=!1}u&&(a=o[0])}}return o=mr(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ov,lastRenderedState:a},o.queue=u,o=Rv.bind(null,st,u),u.dispatch=o,u=em(!1),p=sm.bind(null,st,!1,u.queue),u=mr(),h={state:a,dispatch:null,action:r,pending:null},u.queue=h,o=t2.bind(null,st,h,p,o),h.dispatch=o,u.memoizedState=r,[a,o,!1]}function uv(r){var a=pn();return cv(a,jt,r)}function cv(r,a,o){if(a=Zf(r,a,ov)[0],r=td(Zi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Jl(a)}catch(w){throw w===Wl?Kc:w}else u=a;a=pn();var h=a.queue,p=h.dispatch;return o!==a.memoizedState&&(st.flags|=2048,Io(9,nd(),n2.bind(null,h,o),null)),[u,p,r]}function n2(r,a){r.action=a}function dv(r){var a=pn(),o=jt;if(o!==null)return cv(a,o,r);pn(),a=a.memoizedState,o=pn();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function Io(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=st.updateQueue,a===null&&(a=Qf(),st.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function nd(){return{destroy:void 0,resource:void 0}}function hv(){return pn().memoizedState}function rd(r,a,o,u){var h=mr();u=u===void 0?null:u,st.flags|=r,h.memoizedState=Io(1|a,nd(),o,u)}function eu(r,a,o,u){var h=pn();u=u===void 0?null:u;var p=h.memoizedState.inst;jt!==null&&u!==null&&Yf(u,jt.memoizedState.deps)?h.memoizedState=Io(a,p,o,u):(st.flags|=r,h.memoizedState=Io(1|a,p,o,u))}function fv(r,a){rd(8390656,8,r,a)}function mv(r,a){eu(2048,8,r,a)}function pv(r,a){return eu(4,2,r,a)}function gv(r,a){return eu(4,4,r,a)}function yv(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function vv(r,a,o){o=o!=null?o.concat([r]):null,eu(4,4,yv.bind(null,a,r),o)}function nm(){}function _v(r,a){var o=pn();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Yf(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function bv(r,a){var o=pn();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Yf(a,u[1]))return u[0];if(u=r(),Us){tn(!0);try{r()}finally{tn(!1)}}return o.memoizedState=[u,a],u}function rm(r,a,o){return o===void 0||(Ra&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=x0(),st.lanes|=r,ka|=r,o)}function Ev(r,a,o,u){return wr(o,a)?o:No.current!==null?(r=rm(r,o,u),wr(r,a)||(kn=!0),r):(Ra&42)===0?(kn=!0,r.memoizedState=o):(r=x0(),st.lanes|=r,ka|=r,a)}function wv(r,a,o,u,h){var p=X.p;X.p=p!==0&&8>p?p:8;var w=P.T,T={};P.T=T,sm(r,!1,a,o);try{var j=h(),ee=P.S;if(ee!==null&&ee(T,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var de=ZT(j,u);tu(r,a,de,Rr(r))}else tu(r,a,u,Rr(r))}catch(me){tu(r,a,{then:function(){},status:"rejected",reason:me},Rr())}finally{X.p=p,P.T=w}}function r2(){}function im(r,a,o,u){if(r.tag!==5)throw Error(i(476));var h=xv(r).queue;wv(r,h,a,te,o===null?r2:function(){return Tv(r),o(u)})}function xv(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:te},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function Tv(r){var a=xv(r).next.queue;tu(r,a,{},Rr())}function am(){return Xn(_u)}function Sv(){return pn().memoizedState}function Av(){return pn().memoizedState}function i2(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=Rr();r=Sa(o);var u=Aa(a,r,o);u!==null&&(Nr(u,a,o),Kl(u,a,o)),a={cache:Pf()},r.payload=a;return}a=a.return}}function a2(r,a,o){var u=Rr();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},id(r)?Nv(a,o):(o=Sf(r,a,o,u),o!==null&&(Nr(o,r,u),Cv(o,a,u)))}function Rv(r,a,o){var u=Rr();tu(r,a,o,u)}function tu(r,a,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(id(r))Nv(a,h);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var w=a.lastRenderedState,T=p(w,o);if(h.hasEagerState=!0,h.eagerState=T,wr(T,w))return zc(r,a,h,0),qt===null&&Bc(),!1}catch{}finally{}if(o=Sf(r,a,h,u),o!==null)return Nr(o,r,u),Cv(o,a,u),!0}return!1}function sm(r,a,o,u){if(u={lane:2,revertLane:Lm(),action:u,hasEagerState:!1,eagerState:null,next:null},id(r)){if(a)throw Error(i(479))}else a=Sf(r,o,u,2),a!==null&&Nr(a,r,2)}function id(r){var a=r.alternate;return r===st||a!==null&&a===st}function Nv(r,a){Co=Zc=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function Cv(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,It(r,o)}}var ad={readContext:Xn,use:ed,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn},Dv={readContext:Xn,use:ed,useCallback:function(r,a){return mr().memoizedState=[r,a===void 0?null:a],r},useContext:Xn,useEffect:fv,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,rd(4194308,4,yv.bind(null,a,r),o)},useLayoutEffect:function(r,a){return rd(4194308,4,r,a)},useInsertionEffect:function(r,a){rd(4,2,r,a)},useMemo:function(r,a){var o=mr();a=a===void 0?null:a;var u=r();if(Us){tn(!0);try{r()}finally{tn(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=mr();if(o!==void 0){var h=o(a);if(Us){tn(!0);try{o(a)}finally{tn(!1)}}}else h=a;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=a2.bind(null,st,r),[u.memoizedState,r]},useRef:function(r){var a=mr();return r={current:r},a.memoizedState=r},useState:function(r){r=em(r);var a=r.queue,o=Rv.bind(null,st,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:nm,useDeferredValue:function(r,a){var o=mr();return rm(o,r,a)},useTransition:function(){var r=em(!1);return r=wv.bind(null,st,r.queue,!0,!1),mr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=st,h=mr();if(At){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),qt===null)throw Error(i(349));(Et&124)!==0||Xy(u,a,o)}h.memoizedState=o;var p={value:o,getSnapshot:a};return h.queue=p,fv(Jy.bind(null,u,p,r),[r]),u.flags|=2048,Io(9,nd(),Zy.bind(null,u,p,o,a),null),o},useId:function(){var r=mr(),a=qt.identifierPrefix;if(At){var o=Ki,u=Gi;o=(u&~(1<<32-Ft(u)-1)).toString(32)+o,a=""+a+"R"+o,o=Jc++,0<o&&(a+="H"+o.toString(32)),a+=""}else o=JT++,a=""+a+"r"+o.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:am,useFormState:lv,useActionState:lv,useOptimistic:function(r){var a=mr();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=sm.bind(null,st,!0,o),o.dispatch=a,[r,a]},useMemoCache:Xf,useCacheRefresh:function(){return mr().memoizedState=i2.bind(null,st)}},Iv={readContext:Xn,use:ed,useCallback:_v,useContext:Xn,useEffect:mv,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:bv,useReducer:td,useRef:hv,useState:function(){return td(Zi)},useDebugValue:nm,useDeferredValue:function(r,a){var o=pn();return Ev(o,jt.memoizedState,r,a)},useTransition:function(){var r=td(Zi)[0],a=pn().memoizedState;return[typeof r=="boolean"?r:Jl(r),a]},useSyncExternalStore:Qy,useId:Sv,useHostTransitionStatus:am,useFormState:uv,useActionState:uv,useOptimistic:function(r,a){var o=pn();return nv(o,jt,r,a)},useMemoCache:Xf,useCacheRefresh:Av},s2={readContext:Xn,use:ed,useCallback:_v,useContext:Xn,useEffect:mv,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:bv,useReducer:Jf,useRef:hv,useState:function(){return Jf(Zi)},useDebugValue:nm,useDeferredValue:function(r,a){var o=pn();return jt===null?rm(o,r,a):Ev(o,jt.memoizedState,r,a)},useTransition:function(){var r=Jf(Zi)[0],a=pn().memoizedState;return[typeof r=="boolean"?r:Jl(r),a]},useSyncExternalStore:Qy,useId:Sv,useHostTransitionStatus:am,useFormState:dv,useActionState:dv,useOptimistic:function(r,a){var o=pn();return jt!==null?nv(o,jt,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Xf,useCacheRefresh:Av},Mo=null,nu=0;function sd(r){var a=nu;return nu+=1,Mo===null&&(Mo=[]),Fy(Mo,r,a)}function ru(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function od(r,a){throw a.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Mv(r){var a=r._init;return a(r._payload)}function Ov(r){function a(W,F){if(r){var Z=W.deletions;Z===null?(W.deletions=[F],W.flags|=16):Z.push(F)}}function o(W,F){if(!r)return null;for(;F!==null;)a(W,F),F=F.sibling;return null}function u(W){for(var F=new Map;W!==null;)W.key!==null?F.set(W.key,W):F.set(W.index,W),W=W.sibling;return F}function h(W,F){return W=Wi(W,F),W.index=0,W.sibling=null,W}function p(W,F,Z){return W.index=Z,r?(Z=W.alternate,Z!==null?(Z=Z.index,Z<F?(W.flags|=67108866,F):Z):(W.flags|=67108866,F)):(W.flags|=1048576,F)}function w(W){return r&&W.alternate===null&&(W.flags|=67108866),W}function T(W,F,Z,he){return F===null||F.tag!==6?(F=Rf(Z,W.mode,he),F.return=W,F):(F=h(F,Z),F.return=W,F)}function j(W,F,Z,he){var Oe=Z.type;return Oe===C?de(W,F,Z.props.children,he,Z.key):F!==null&&(F.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===S&&Mv(Oe)===F.type)?(F=h(F,Z.props),ru(F,Z),F.return=W,F):(F=qc(Z.type,Z.key,Z.props,null,W.mode,he),ru(F,Z),F.return=W,F)}function ee(W,F,Z,he){return F===null||F.tag!==4||F.stateNode.containerInfo!==Z.containerInfo||F.stateNode.implementation!==Z.implementation?(F=Nf(Z,W.mode,he),F.return=W,F):(F=h(F,Z.children||[]),F.return=W,F)}function de(W,F,Z,he,Oe){return F===null||F.tag!==7?(F=Is(Z,W.mode,he,Oe),F.return=W,F):(F=h(F,Z),F.return=W,F)}function me(W,F,Z){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Rf(""+F,W.mode,Z),F.return=W,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return Z=qc(F.type,F.key,F.props,null,W.mode,Z),ru(Z,F),Z.return=W,Z;case N:return F=Nf(F,W.mode,Z),F.return=W,F;case S:var he=F._init;return F=he(F._payload),me(W,F,Z)}if(ge(F)||z(F))return F=Is(F,W.mode,Z,null),F.return=W,F;if(typeof F.then=="function")return me(W,sd(F),Z);if(F.$$typeof===J)return me(W,Wc(W,F),Z);od(W,F)}return null}function re(W,F,Z,he){var Oe=F!==null?F.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Oe!==null?null:T(W,F,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return Z.key===Oe?j(W,F,Z,he):null;case N:return Z.key===Oe?ee(W,F,Z,he):null;case S:return Oe=Z._init,Z=Oe(Z._payload),re(W,F,Z,he)}if(ge(Z)||z(Z))return Oe!==null?null:de(W,F,Z,he,null);if(typeof Z.then=="function")return re(W,F,sd(Z),he);if(Z.$$typeof===J)return re(W,F,Wc(W,Z),he);od(W,Z)}return null}function ie(W,F,Z,he,Oe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return W=W.get(Z)||null,T(F,W,""+he,Oe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case x:return W=W.get(he.key===null?Z:he.key)||null,j(F,W,he,Oe);case N:return W=W.get(he.key===null?Z:he.key)||null,ee(F,W,he,Oe);case S:var ut=he._init;return he=ut(he._payload),ie(W,F,Z,he,Oe)}if(ge(he)||z(he))return W=W.get(Z)||null,de(F,W,he,Oe,null);if(typeof he.then=="function")return ie(W,F,Z,sd(he),Oe);if(he.$$typeof===J)return ie(W,F,Z,Wc(F,he),Oe);od(F,he)}return null}function Qe(W,F,Z,he){for(var Oe=null,ut=null,Pe=F,Ye=F=0,jn=null;Pe!==null&&Ye<Z.length;Ye++){Pe.index>Ye?(jn=Pe,Pe=null):jn=Pe.sibling;var St=re(W,Pe,Z[Ye],he);if(St===null){Pe===null&&(Pe=jn);break}r&&Pe&&St.alternate===null&&a(W,Pe),F=p(St,F,Ye),ut===null?Oe=St:ut.sibling=St,ut=St,Pe=jn}if(Ye===Z.length)return o(W,Pe),At&&Os(W,Ye),Oe;if(Pe===null){for(;Ye<Z.length;Ye++)Pe=me(W,Z[Ye],he),Pe!==null&&(F=p(Pe,F,Ye),ut===null?Oe=Pe:ut.sibling=Pe,ut=Pe);return At&&Os(W,Ye),Oe}for(Pe=u(Pe);Ye<Z.length;Ye++)jn=ie(Pe,W,Ye,Z[Ye],he),jn!==null&&(r&&jn.alternate!==null&&Pe.delete(jn.key===null?Ye:jn.key),F=p(jn,F,Ye),ut===null?Oe=jn:ut.sibling=jn,ut=jn);return r&&Pe.forEach(function(qa){return a(W,qa)}),At&&Os(W,Ye),Oe}function qe(W,F,Z,he){if(Z==null)throw Error(i(151));for(var Oe=null,ut=null,Pe=F,Ye=F=0,jn=null,St=Z.next();Pe!==null&&!St.done;Ye++,St=Z.next()){Pe.index>Ye?(jn=Pe,Pe=null):jn=Pe.sibling;var qa=re(W,Pe,St.value,he);if(qa===null){Pe===null&&(Pe=jn);break}r&&Pe&&qa.alternate===null&&a(W,Pe),F=p(qa,F,Ye),ut===null?Oe=qa:ut.sibling=qa,ut=qa,Pe=jn}if(St.done)return o(W,Pe),At&&Os(W,Ye),Oe;if(Pe===null){for(;!St.done;Ye++,St=Z.next())St=me(W,St.value,he),St!==null&&(F=p(St,F,Ye),ut===null?Oe=St:ut.sibling=St,ut=St);return At&&Os(W,Ye),Oe}for(Pe=u(Pe);!St.done;Ye++,St=Z.next())St=ie(Pe,W,Ye,St.value,he),St!==null&&(r&&St.alternate!==null&&Pe.delete(St.key===null?Ye:St.key),F=p(St,F,Ye),ut===null?Oe=St:ut.sibling=St,ut=St);return r&&Pe.forEach(function(oS){return a(W,oS)}),At&&Os(W,Ye),Oe}function Lt(W,F,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===C&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:e:{for(var Oe=Z.key;F!==null;){if(F.key===Oe){if(Oe=Z.type,Oe===C){if(F.tag===7){o(W,F.sibling),he=h(F,Z.props.children),he.return=W,W=he;break e}}else if(F.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===S&&Mv(Oe)===F.type){o(W,F.sibling),he=h(F,Z.props),ru(he,Z),he.return=W,W=he;break e}o(W,F);break}else a(W,F);F=F.sibling}Z.type===C?(he=Is(Z.props.children,W.mode,he,Z.key),he.return=W,W=he):(he=qc(Z.type,Z.key,Z.props,null,W.mode,he),ru(he,Z),he.return=W,W=he)}return w(W);case N:e:{for(Oe=Z.key;F!==null;){if(F.key===Oe)if(F.tag===4&&F.stateNode.containerInfo===Z.containerInfo&&F.stateNode.implementation===Z.implementation){o(W,F.sibling),he=h(F,Z.children||[]),he.return=W,W=he;break e}else{o(W,F);break}else a(W,F);F=F.sibling}he=Nf(Z,W.mode,he),he.return=W,W=he}return w(W);case S:return Oe=Z._init,Z=Oe(Z._payload),Lt(W,F,Z,he)}if(ge(Z))return Qe(W,F,Z,he);if(z(Z)){if(Oe=z(Z),typeof Oe!="function")throw Error(i(150));return Z=Oe.call(Z),qe(W,F,Z,he)}if(typeof Z.then=="function")return Lt(W,F,sd(Z),he);if(Z.$$typeof===J)return Lt(W,F,Wc(W,Z),he);od(W,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,F!==null&&F.tag===6?(o(W,F.sibling),he=h(F,Z),he.return=W,W=he):(o(W,F),he=Rf(Z,W.mode,he),he.return=W,W=he),w(W)):o(W,F)}return function(W,F,Z,he){try{nu=0;var Oe=Lt(W,F,Z,he);return Mo=null,Oe}catch(Pe){if(Pe===Wl||Pe===Kc)throw Pe;var ut=xr(29,Pe,null,W.mode);return ut.lanes=he,ut.return=W,ut}finally{}}}var Oo=Ov(!0),kv=Ov(!1),Hr=ne(null),bi=null;function Na(r){var a=r.alternate;oe(Rn,Rn.current&1),oe(Hr,r),bi===null&&(a===null||No.current!==null||a.memoizedState!==null)&&(bi=r)}function Pv(r){if(r.tag===22){if(oe(Rn,Rn.current),oe(Hr,r),bi===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(bi=r)}}else Ca()}function Ca(){oe(Rn,Rn.current),oe(Hr,Hr.current)}function Ji(r){ue(Hr),bi===r&&(bi=null),ue(Rn)}var Rn=ne(0);function ld(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Qm(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function om(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:_({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var lm={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=Rr(),h=Sa(u);h.payload=a,o!=null&&(h.callback=o),a=Aa(r,h,u),a!==null&&(Nr(a,r,u),Kl(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=Rr(),h=Sa(u);h.tag=1,h.payload=a,o!=null&&(h.callback=o),a=Aa(r,h,u),a!==null&&(Nr(a,r,u),Kl(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=Rr(),u=Sa(o);u.tag=2,a!=null&&(u.callback=a),a=Aa(r,u,o),a!==null&&(Nr(a,r,o),Kl(a,r,o))}};function jv(r,a,o,u,h,p,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,w):a.prototype&&a.prototype.isPureReactComponent?!Ul(o,u)||!Ul(h,p):!0}function Vv(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&lm.enqueueReplaceState(a,a.state,null)}function Bs(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=_({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var ud=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Lv(r){ud(r)}function Uv(r){console.error(r)}function Bv(r){ud(r)}function cd(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function zv(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function um(r,a,o){return o=Sa(o),o.tag=3,o.payload={element:null},o.callback=function(){cd(r,a)},o}function Fv(r){return r=Sa(r),r.tag=3,r}function qv(r,a,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=u.value;r.payload=function(){return h(p)},r.callback=function(){zv(a,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){zv(a,o,u),typeof h!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function o2(r,a,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&Hl(a,o,h,!0),o=Hr.current,o!==null){switch(o.tag){case 13:return bi===null?Om():o.alternate===null&&rn===0&&(rn=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Lf?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Pm(r,u,h)),!1;case 22:return o.flags|=65536,u===Lf?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Pm(r,u,h)),!1}throw Error(i(435,o.tag))}return Pm(r,u,h),Om(),!1}if(At)return a=Hr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,u!==If&&(r=Error(i(422),{cause:u}),ql(Br(r,o)))):(u!==If&&(a=Error(i(423),{cause:u}),ql(Br(a,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Br(u,o),h=um(r.stateNode,u,h),zf(r,h),rn!==4&&(rn=2)),!1;var p=Error(i(520),{cause:u});if(p=Br(p,o),cu===null?cu=[p]:cu.push(p),rn!==4&&(rn=2),a===null)return!0;u=Br(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=um(o.stateNode,u,r),zf(o,r),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Pa===null||!Pa.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Fv(h),qv(h,r,o,u),zf(o,h),!1}o=o.return}while(o!==null);return!1}var Hv=Error(i(461)),kn=!1;function qn(r,a,o,u){a.child=r===null?kv(a,null,o,u):Oo(a,r.child,o,u)}function Yv(r,a,o,u,h){o=o.render;var p=a.ref;if("ref"in u){var w={};for(var T in u)T!=="ref"&&(w[T]=u[T])}else w=u;return Vs(a),u=$f(r,a,o,w,p,h),T=Wf(),r!==null&&!kn?(Gf(r,a,h),ea(r,a,h)):(At&&T&&Cf(a),a.flags|=1,qn(r,a,u,h),a.child)}function $v(r,a,o,u,h){if(r===null){var p=o.type;return typeof p=="function"&&!Af(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,Wv(r,a,p,u,h)):(r=qc(o.type,null,u,a,a.mode,h),r.ref=a.ref,r.return=a,a.child=r)}if(p=r.child,!ym(r,h)){var w=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ul,o(w,u)&&r.ref===a.ref)return ea(r,a,h)}return a.flags|=1,r=Wi(p,u),r.ref=a.ref,r.return=a,a.child=r}function Wv(r,a,o,u,h){if(r!==null){var p=r.memoizedProps;if(Ul(p,u)&&r.ref===a.ref)if(kn=!1,a.pendingProps=u=p,ym(r,h))(r.flags&131072)!==0&&(kn=!0);else return a.lanes=r.lanes,ea(r,a,h)}return cm(r,a,o,u,h)}function Gv(r,a,o){var u=a.pendingProps,h=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,r!==null){for(h=a.child=r.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return Kv(r,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Gc(a,p!==null?p.cachePool:null),p!==null?Wy(a,p):qf(),Pv(a);else return a.lanes=a.childLanes=536870912,Kv(r,a,p!==null?p.baseLanes|o:o,o)}else p!==null?(Gc(a,p.cachePool),Wy(a,p),Ca(),a.memoizedState=null):(r!==null&&Gc(a,null),qf(),Ca());return qn(r,a,h,o),a.child}function Kv(r,a,o,u){var h=Vf();return h=h===null?null:{parent:An._currentValue,pool:h},a.memoizedState={baseLanes:o,cachePool:h},r!==null&&Gc(a,null),qf(),Pv(a),r!==null&&Hl(r,a,u,!0),null}function dd(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function cm(r,a,o,u,h){return Vs(a),o=$f(r,a,o,u,void 0,h),u=Wf(),r!==null&&!kn?(Gf(r,a,h),ea(r,a,h)):(At&&u&&Cf(a),a.flags|=1,qn(r,a,o,h),a.child)}function Qv(r,a,o,u,h,p){return Vs(a),a.updateQueue=null,o=Ky(a,u,o,h),Gy(r),u=Wf(),r!==null&&!kn?(Gf(r,a,p),ea(r,a,p)):(At&&u&&Cf(a),a.flags|=1,qn(r,a,o,p),a.child)}function Xv(r,a,o,u,h){if(Vs(a),a.stateNode===null){var p=xo,w=o.contextType;typeof w=="object"&&w!==null&&(p=Xn(w)),p=new o(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=lm,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Uf(a),w=o.contextType,p.context=typeof w=="object"&&w!==null?Xn(w):xo,p.state=a.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(om(a,o,w,u),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&lm.enqueueReplaceState(p,p.state,null),Xl(a,u,p,h),Ql(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){p=a.stateNode;var T=a.memoizedProps,j=Bs(o,T);p.props=j;var ee=p.context,de=o.contextType;w=xo,typeof de=="object"&&de!==null&&(w=Xn(de));var me=o.getDerivedStateFromProps;de=typeof me=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,de||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||ee!==w)&&Vv(a,p,u,w),Ta=!1;var re=a.memoizedState;p.state=re,Xl(a,u,p,h),Ql(),ee=a.memoizedState,T||re!==ee||Ta?(typeof me=="function"&&(om(a,o,me,u),ee=a.memoizedState),(j=Ta||jv(a,o,j,u,re,ee,w))?(de||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=ee),p.props=u,p.state=ee,p.context=w,u=j):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Bf(r,a),w=a.memoizedProps,de=Bs(o,w),p.props=de,me=a.pendingProps,re=p.context,ee=o.contextType,j=xo,typeof ee=="object"&&ee!==null&&(j=Xn(ee)),T=o.getDerivedStateFromProps,(ee=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==me||re!==j)&&Vv(a,p,u,j),Ta=!1,re=a.memoizedState,p.state=re,Xl(a,u,p,h),Ql();var ie=a.memoizedState;w!==me||re!==ie||Ta||r!==null&&r.dependencies!==null&&$c(r.dependencies)?(typeof T=="function"&&(om(a,o,T,u),ie=a.memoizedState),(de=Ta||jv(a,o,de,u,re,ie,j)||r!==null&&r.dependencies!==null&&$c(r.dependencies))?(ee||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,ie,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,ie,j)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===r.memoizedProps&&re===r.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&re===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=ie),p.props=u,p.state=ie,p.context=j,u=de):(typeof p.componentDidUpdate!="function"||w===r.memoizedProps&&re===r.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&re===r.memoizedState||(a.flags|=1024),u=!1)}return p=u,dd(r,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,r!==null&&u?(a.child=Oo(a,r.child,null,h),a.child=Oo(a,null,o,h)):qn(r,a,o,h),a.memoizedState=p.state,r=a.child):r=ea(r,a,h),r}function Zv(r,a,o,u){return Fl(),a.flags|=256,qn(r,a,o,u),a.child}var dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hm(r){return{baseLanes:r,cachePool:Uy()}}function fm(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=Yr),r}function Jv(r,a,o){var u=a.pendingProps,h=!1,p=(a.flags&128)!==0,w;if((w=p)||(w=r!==null&&r.memoizedState===null?!1:(Rn.current&2)!==0),w&&(h=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,r===null){if(At){if(h?Na(a):Ca(),At){var T=nn,j;if(j=T){e:{for(j=T,T=_i;j.nodeType!==8;){if(!T){T=null;break e}if(j=ei(j.nextSibling),j===null){T=null;break e}}T=j}T!==null?(a.memoizedState={dehydrated:T,treeContext:Ms!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},j=xr(18,null,null,0),j.stateNode=T,j.return=a,a.child=j,lr=a,nn=null,j=!0):j=!1}j||Ps(a)}if(T=a.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Qm(T)?a.lanes=32:a.lanes=536870912,null;Ji(a)}return T=u.children,u=u.fallback,h?(Ca(),h=a.mode,T=hd({mode:"hidden",children:T},h),u=Is(u,h,o,null),T.return=a,u.return=a,T.sibling=u,a.child=T,h=a.child,h.memoizedState=hm(o),h.childLanes=fm(r,w,o),a.memoizedState=dm,u):(Na(a),mm(a,T))}if(j=r.memoizedState,j!==null&&(T=j.dehydrated,T!==null)){if(p)a.flags&256?(Na(a),a.flags&=-257,a=pm(r,a,o)):a.memoizedState!==null?(Ca(),a.child=r.child,a.flags|=128,a=null):(Ca(),h=u.fallback,T=a.mode,u=hd({mode:"visible",children:u.children},T),h=Is(h,T,o,null),h.flags|=2,u.return=a,h.return=a,u.sibling=h,a.child=u,Oo(a,r.child,null,o),u=a.child,u.memoizedState=hm(o),u.childLanes=fm(r,w,o),a.memoizedState=dm,a=h);else if(Na(a),Qm(T)){if(w=T.nextSibling&&T.nextSibling.dataset,w)var ee=w.dgst;w=ee,u=Error(i(419)),u.stack="",u.digest=w,ql({value:u,source:null,stack:null}),a=pm(r,a,o)}else if(kn||Hl(r,a,o,!1),w=(o&r.childLanes)!==0,kn||w){if(w=qt,w!==null&&(u=o&-o,u=(u&42)!==0?1:Ve(u),u=(u&(w.suspendedLanes|o))!==0?0:u,u!==0&&u!==j.retryLane))throw j.retryLane=u,wo(r,u),Nr(w,r,u),Hv;T.data==="$?"||Om(),a=pm(r,a,o)}else T.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=j.treeContext,nn=ei(T.nextSibling),lr=a,At=!0,ks=null,_i=!1,r!==null&&(Fr[qr++]=Gi,Fr[qr++]=Ki,Fr[qr++]=Ms,Gi=r.id,Ki=r.overflow,Ms=a),a=mm(a,u.children),a.flags|=4096);return a}return h?(Ca(),h=u.fallback,T=a.mode,j=r.child,ee=j.sibling,u=Wi(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,ee!==null?h=Wi(ee,h):(h=Is(h,T,o,null),h.flags|=2),h.return=a,u.return=a,u.sibling=h,a.child=u,u=h,h=a.child,T=r.child.memoizedState,T===null?T=hm(o):(j=T.cachePool,j!==null?(ee=An._currentValue,j=j.parent!==ee?{parent:ee,pool:ee}:j):j=Uy(),T={baseLanes:T.baseLanes|o,cachePool:j}),h.memoizedState=T,h.childLanes=fm(r,w,o),a.memoizedState=dm,u):(Na(a),o=r.child,r=o.sibling,o=Wi(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(w=a.deletions,w===null?(a.deletions=[r],a.flags|=16):w.push(r)),a.child=o,a.memoizedState=null,o)}function mm(r,a){return a=hd({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function hd(r,a){return r=xr(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function pm(r,a,o){return Oo(a,r.child,null,o),r=mm(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function e0(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Of(r.return,a,o)}function gm(r,a,o,u,h){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function t0(r,a,o){var u=a.pendingProps,h=u.revealOrder,p=u.tail;if(qn(r,a,u.children,o),u=Rn.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&e0(r,o,a);else if(r.tag===19)e0(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(oe(Rn,u),h){case"forwards":for(o=a.child,h=null;o!==null;)r=o.alternate,r!==null&&ld(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=a.child,a.child=null):(h=o.sibling,o.sibling=null),gm(a,!1,h,o,p);break;case"backwards":for(o=null,h=a.child,a.child=null;h!==null;){if(r=h.alternate,r!==null&&ld(r)===null){a.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}gm(a,!0,o,null,p);break;case"together":gm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ea(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),ka|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(Hl(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=Wi(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=Wi(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function ym(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&$c(r)))}function l2(r,a,o){switch(a.tag){case 3:it(a,a.stateNode.containerInfo),xa(a,An,r.memoizedState.cache),Fl();break;case 27:case 5:Xe(a);break;case 4:it(a,a.stateNode.containerInfo);break;case 10:xa(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Na(a),a.flags|=128,null):(o&a.child.childLanes)!==0?Jv(r,a,o):(Na(a),r=ea(r,a,o),r!==null?r.sibling:null);Na(a);break;case 19:var h=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(Hl(r,a,o,!1),u=(o&a.childLanes)!==0),h){if(u)return t0(r,a,o);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Rn,Rn.current),u)break;return null;case 22:case 23:return a.lanes=0,Gv(r,a,o);case 24:xa(a,An,r.memoizedState.cache)}return ea(r,a,o)}function n0(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)kn=!0;else{if(!ym(r,o)&&(a.flags&128)===0)return kn=!1,l2(r,a,o);kn=(r.flags&131072)!==0}else kn=!1,At&&(a.flags&1048576)!==0&&My(a,Yc,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,h=u._init;if(u=h(u._payload),a.type=u,typeof u=="function")Af(u)?(r=Bs(u,r),a.tag=1,a=Xv(null,a,u,r,o)):(a.tag=0,a=cm(null,a,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===pe){a.tag=11,a=Yv(null,a,u,r,o);break e}else if(h===I){a.tag=14,a=$v(null,a,u,r,o);break e}}throw a=_e(u)||u,Error(i(306,a,""))}}return a;case 0:return cm(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,h=Bs(u,a.pendingProps),Xv(r,a,u,h,o);case 3:e:{if(it(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;h=p.element,Bf(r,a),Xl(a,u,null,o);var w=a.memoizedState;if(u=w.cache,xa(a,An,u),u!==p.cache&&kf(a,[An],o,!0),Ql(),u=w.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Zv(r,a,u,o);break e}else if(u!==h){h=Br(Error(i(424)),a),ql(h),a=Zv(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(nn=ei(r.firstChild),lr=a,At=!0,ks=null,_i=!0,o=kv(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Fl(),u===h){a=ea(r,a,o);break e}qn(r,a,u,o)}a=a.child}return a;case 26:return dd(r,a),r===null?(o=s_(a.type,null,a.pendingProps,null))?a.memoizedState=o:At||(o=a.type,r=a.pendingProps,u=Ad(Se.current).createElement(o),u[K]=a,u[ce]=r,Yn(u,o,r),vt(u),a.stateNode=u):a.memoizedState=s_(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Xe(a),r===null&&At&&(u=a.stateNode=r_(a.type,a.pendingProps,Se.current),lr=a,_i=!0,h=nn,La(a.type)?(Xm=h,nn=ei(u.firstChild)):nn=h),qn(r,a,a.pendingProps.children,o),dd(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&At&&((h=u=nn)&&(u=j2(u,a.type,a.pendingProps,_i),u!==null?(a.stateNode=u,lr=a,nn=ei(u.firstChild),_i=!1,h=!0):h=!1),h||Ps(a)),Xe(a),h=a.type,p=a.pendingProps,w=r!==null?r.memoizedProps:null,u=p.children,Wm(h,p)?u=null:w!==null&&Wm(h,w)&&(a.flags|=32),a.memoizedState!==null&&(h=$f(r,a,e2,null,null,o),_u._currentValue=h),dd(r,a),qn(r,a,u,o),a.child;case 6:return r===null&&At&&((r=o=nn)&&(o=V2(o,a.pendingProps,_i),o!==null?(a.stateNode=o,lr=a,nn=null,r=!0):r=!1),r||Ps(a)),null;case 13:return Jv(r,a,o);case 4:return it(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=Oo(a,null,u,o):qn(r,a,u,o),a.child;case 11:return Yv(r,a,a.type,a.pendingProps,o);case 7:return qn(r,a,a.pendingProps,o),a.child;case 8:return qn(r,a,a.pendingProps.children,o),a.child;case 12:return qn(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,xa(a,a.type,u.value),qn(r,a,u.children,o),a.child;case 9:return h=a.type._context,u=a.pendingProps.children,Vs(a),h=Xn(h),u=u(h),a.flags|=1,qn(r,a,u,o),a.child;case 14:return $v(r,a,a.type,a.pendingProps,o);case 15:return Wv(r,a,a.type,a.pendingProps,o);case 19:return t0(r,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},r===null?(o=hd(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=Wi(r.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return Gv(r,a,o);case 24:return Vs(a),u=Xn(An),r===null?(h=Vf(),h===null&&(h=qt,p=Pf(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),a.memoizedState={parent:u,cache:h},Uf(a),xa(a,An,h)):((r.lanes&o)!==0&&(Bf(r,a),Xl(a,null,null,o),Ql()),h=r.memoizedState,p=a.memoizedState,h.parent!==u?(h={parent:u,cache:u},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),xa(a,An,u)):(u=p.cache,xa(a,An,u),u!==h.cache&&kf(a,[An],o,!0))),qn(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ta(r){r.flags|=4}function r0(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!d_(a)){if(a=Hr.current,a!==null&&((Et&4194048)===Et?bi!==null:(Et&62914560)!==Et&&(Et&536870912)===0||a!==bi))throw Gl=Lf,By;r.flags|=8192}}function fd(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Ee():536870912,r.lanes|=a,Vo|=a)}function iu(r,a){if(!At)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Zt(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function u2(r,a,o){var u=a.pendingProps;switch(Df(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(a),null;case 1:return Zt(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Xi(An),yt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(zl(a)?ta(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Py())),Zt(a),null;case 26:return o=a.memoizedState,r===null?(ta(a),o!==null?(Zt(a),r0(a,o)):(Zt(a),a.flags&=-16777217)):o?o!==r.memoizedState?(ta(a),Zt(a),r0(a,o)):(Zt(a),a.flags&=-16777217):(r.memoizedProps!==u&&ta(a),Zt(a),a.flags&=-16777217),null;case 27:xt(a),o=Se.current;var h=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&ta(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Zt(a),null}r=xe.current,zl(a)?Oy(a):(r=r_(h,u,o),a.stateNode=r,ta(a))}return Zt(a),null;case 5:if(xt(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&ta(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Zt(a),null}if(r=xe.current,zl(a))Oy(a);else{switch(h=Ad(Se.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[K]=a,r[ce]=u;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=r;e:switch(Yn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ta(a)}}return Zt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&ta(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=Se.current,zl(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,h=lr,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[K]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Q0(r.nodeValue,o)),r||Ps(a)}else r=Ad(r).createTextNode(u),r[K]=a,a.stateNode=r}return Zt(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=zl(a),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[K]=a}else Fl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Zt(a),h=!1}else h=Py(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Ji(a),a):(Ji(a),null)}if(Ji(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=a.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),fd(a,a.updateQueue),Zt(a),null;case 4:return yt(),r===null&&Fm(a.stateNode.containerInfo),Zt(a),null;case 10:return Xi(a.type),Zt(a),null;case 19:if(ue(Rn),h=a.memoizedState,h===null)return Zt(a),null;if(u=(a.flags&128)!==0,p=h.rendering,p===null)if(u)iu(h,!1);else{if(rn!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(p=ld(r),p!==null){for(a.flags|=128,iu(h,!1),r=p.updateQueue,a.updateQueue=r,fd(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)Iy(o,r),o=o.sibling;return oe(Rn,Rn.current&1|2),a.child}r=r.sibling}h.tail!==null&&Re()>gd&&(a.flags|=128,u=!0,iu(h,!1),a.lanes=4194304)}else{if(!u)if(r=ld(p),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,fd(a,r),iu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!At)return Zt(a),null}else 2*Re()-h.renderingStartTime>gd&&o!==536870912&&(a.flags|=128,u=!0,iu(h,!1),a.lanes=4194304);h.isBackwards?(p.sibling=a.child,a.child=p):(r=h.last,r!==null?r.sibling=p:a.child=p,h.last=p)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Re(),a.sibling=null,r=Rn.current,oe(Rn,u?r&1|2:r&1),a):(Zt(a),null);case 22:case 23:return Ji(a),Hf(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(Zt(a),a.subtreeFlags&6&&(a.flags|=8192)):Zt(a),o=a.updateQueue,o!==null&&fd(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&ue(Ls),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Xi(An),Zt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function c2(r,a){switch(Df(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Xi(An),yt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return xt(a),null;case 13:if(Ji(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Fl()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ue(Rn),null;case 4:return yt(),null;case 10:return Xi(a.type),null;case 22:case 23:return Ji(a),Hf(),r!==null&&ue(Ls),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Xi(An),null;case 25:return null;default:return null}}function i0(r,a){switch(Df(a),a.tag){case 3:Xi(An),yt();break;case 26:case 27:case 5:xt(a);break;case 4:yt();break;case 13:Ji(a);break;case 19:ue(Rn);break;case 10:Xi(a.type);break;case 22:case 23:Ji(a),Hf(),r!==null&&ue(Ls);break;case 24:Xi(An)}}function au(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var p=o.create,w=o.inst;u=p(),w.destroy=u}o=o.next}while(o!==h)}}catch(T){zt(a,a.return,T)}}function Da(r,a,o){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var p=h.next;u=p;do{if((u.tag&r)===r){var w=u.inst,T=w.destroy;if(T!==void 0){w.destroy=void 0,h=a;var j=o,ee=T;try{ee()}catch(de){zt(h,j,de)}}}u=u.next}while(u!==p)}}catch(de){zt(a,a.return,de)}}function a0(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{$y(a,o)}catch(u){zt(r,r.return,u)}}}function s0(r,a,o){o.props=Bs(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){zt(r,a,u)}}function su(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){zt(r,a,h)}}function Ei(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){zt(r,a,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){zt(r,a,h)}else o.current=null}function o0(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){zt(r,r.return,h)}}function vm(r,a,o){try{var u=r.stateNode;I2(u,r.type,o,a),u[ce]=a}catch(h){zt(r,r.return,h)}}function l0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&La(r.type)||r.tag===4}function _m(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||l0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&La(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function bm(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Sd));else if(u!==4&&(u===27&&La(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(bm(r,a,o),r=r.sibling;r!==null;)bm(r,a,o),r=r.sibling}function md(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&La(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(md(r,a,o),r=r.sibling;r!==null;)md(r,a,o),r=r.sibling}function u0(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);Yn(a,u,o),a[K]=r,a[ce]=o}catch(p){zt(r,r.return,p)}}var na=!1,on=!1,Em=!1,c0=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function d2(r,a){if(r=r.containerInfo,Ym=Md,r=Ey(r),_f(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var w=0,T=-1,j=-1,ee=0,de=0,me=r,re=null;t:for(;;){for(var ie;me!==o||h!==0&&me.nodeType!==3||(T=w+h),me!==p||u!==0&&me.nodeType!==3||(j=w+u),me.nodeType===3&&(w+=me.nodeValue.length),(ie=me.firstChild)!==null;)re=me,me=ie;for(;;){if(me===r)break t;if(re===o&&++ee===h&&(T=w),re===p&&++de===u&&(j=w),(ie=me.nextSibling)!==null)break;me=re,re=me.parentNode}me=ie}o=T===-1||j===-1?null:{start:T,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for($m={focusedElem:r,selectionRange:o},Md=!1,Pn=a;Pn!==null;)if(a=Pn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,Pn=r;else for(;Pn!==null;){switch(a=Pn,p=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=a,h=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var Qe=Bs(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Qe,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(qe){zt(o,o.return,qe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)Km(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Km(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Pn=r;break}Pn=a.return}}function d0(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ia(r,o),u&4&&au(5,o);break;case 1:if(Ia(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(w){zt(o,o.return,w)}else{var h=Bs(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(h,a,r.__reactInternalSnapshotBeforeUpdate)}catch(w){zt(o,o.return,w)}}u&64&&a0(o),u&512&&su(o,o.return);break;case 3:if(Ia(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{$y(r,a)}catch(w){zt(o,o.return,w)}}break;case 27:a===null&&u&4&&u0(o);case 26:case 5:Ia(r,o),a===null&&u&4&&o0(o),u&512&&su(o,o.return);break;case 12:Ia(r,o);break;case 13:Ia(r,o),u&4&&m0(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=b2.bind(null,o),L2(r,o))));break;case 22:if(u=o.memoizedState!==null||na,!u){a=a!==null&&a.memoizedState!==null||on,h=na;var p=on;na=u,(on=a)&&!p?Ma(r,o,(o.subtreeFlags&8772)!==0):Ia(r,o),na=h,on=p}break;case 30:break;default:Ia(r,o)}}function h0(r){var a=r.alternate;a!==null&&(r.alternate=null,h0(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&ze(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Kt=null,pr=!1;function ra(r,a,o){for(o=o.child;o!==null;)f0(r,a,o),o=o.sibling}function f0(r,a,o){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(et,o)}catch{}switch(o.tag){case 26:on||Ei(o,a),ra(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:on||Ei(o,a);var u=Kt,h=pr;La(o.type)&&(Kt=o.stateNode,pr=!1),ra(r,a,o),pu(o.stateNode),Kt=u,pr=h;break;case 5:on||Ei(o,a);case 6:if(u=Kt,h=pr,Kt=null,ra(r,a,o),Kt=u,pr=h,Kt!==null)if(pr)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(o.stateNode)}catch(p){zt(o,a,p)}else try{Kt.removeChild(o.stateNode)}catch(p){zt(o,a,p)}break;case 18:Kt!==null&&(pr?(r=Kt,t_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),xu(r)):t_(Kt,o.stateNode));break;case 4:u=Kt,h=pr,Kt=o.stateNode.containerInfo,pr=!0,ra(r,a,o),Kt=u,pr=h;break;case 0:case 11:case 14:case 15:on||Da(2,o,a),on||Da(4,o,a),ra(r,a,o);break;case 1:on||(Ei(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&s0(o,a,u)),ra(r,a,o);break;case 21:ra(r,a,o);break;case 22:on=(u=on)||o.memoizedState!==null,ra(r,a,o),on=u;break;default:ra(r,a,o)}}function m0(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{xu(r)}catch(o){zt(a,a.return,o)}}function h2(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new c0),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new c0),a;default:throw Error(i(435,r.tag))}}function wm(r,a){var o=h2(r);a.forEach(function(u){var h=E2.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function Tr(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],p=r,w=a,T=w;e:for(;T!==null;){switch(T.tag){case 27:if(La(T.type)){Kt=T.stateNode,pr=!1;break e}break;case 5:Kt=T.stateNode,pr=!1;break e;case 3:case 4:Kt=T.stateNode.containerInfo,pr=!0;break e}T=T.return}if(Kt===null)throw Error(i(160));f0(p,w,h),Kt=null,pr=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)p0(a,r),a=a.sibling}var Jr=null;function p0(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Tr(a,r),Sr(r),u&4&&(Da(3,r,r.return),au(3,r),Da(5,r,r.return));break;case 1:Tr(a,r),Sr(r),u&512&&(on||o===null||Ei(o,o.return)),u&64&&na&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Jr;if(Tr(a,r),Sr(r),u&512&&(on||o===null||Ei(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":p=h.getElementsByTagName("title")[0],(!p||p[He]||p[K]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(u),h.head.insertBefore(p,h.querySelector("head > title"))),Yn(p,u,o),p[K]=r,vt(p),u=p;break e;case"link":var w=u_("link","href",h).get(u+(o.href||""));if(w){for(var T=0;T<w.length;T++)if(p=w[T],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(T,1);break t}}p=h.createElement(u),Yn(p,u,o),h.head.appendChild(p);break;case"meta":if(w=u_("meta","content",h).get(u+(o.content||""))){for(T=0;T<w.length;T++)if(p=w[T],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(T,1);break t}}p=h.createElement(u),Yn(p,u,o),h.head.appendChild(p);break;default:throw Error(i(468,u))}p[K]=r,vt(p),u=p}r.stateNode=u}else c_(h,r.type,r.stateNode);else r.stateNode=l_(h,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?c_(h,r.type,r.stateNode):l_(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&vm(r,r.memoizedProps,o.memoizedProps)}break;case 27:Tr(a,r),Sr(r),u&512&&(on||o===null||Ei(o,o.return)),o!==null&&u&4&&vm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Tr(a,r),Sr(r),u&512&&(on||o===null||Ei(o,o.return)),r.flags&32){h=r.stateNode;try{jr(h,"")}catch(ie){zt(r,r.return,ie)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,vm(r,h,o!==null?o.memoizedProps:h)),u&1024&&(Em=!0);break;case 6:if(Tr(a,r),Sr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(ie){zt(r,r.return,ie)}}break;case 3:if(Cd=null,h=Jr,Jr=Rd(a.containerInfo),Tr(a,r),Jr=h,Sr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{xu(a.containerInfo)}catch(ie){zt(r,r.return,ie)}Em&&(Em=!1,g0(r));break;case 4:u=Jr,Jr=Rd(r.stateNode.containerInfo),Tr(a,r),Sr(r),Jr=u;break;case 12:Tr(a,r),Sr(r);break;case 13:Tr(a,r),Sr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Nm=Re()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,wm(r,u)));break;case 22:h=r.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,ee=na,de=on;if(na=ee||h,on=de||j,Tr(a,r),on=de,na=ee,Sr(r),u&8192)e:for(a=r.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(o===null||j||na||on||zs(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){j=o=a;try{if(p=j.stateNode,h)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{T=j.stateNode;var me=j.memoizedProps.style,re=me!=null&&me.hasOwnProperty("display")?me.display:null;T.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ie){zt(j,j.return,ie)}}}else if(a.tag===6){if(o===null){j=a;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(ie){zt(j,j.return,ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,wm(r,o))));break;case 19:Tr(a,r),Sr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,wm(r,u)));break;case 30:break;case 21:break;default:Tr(a,r),Sr(r)}}function Sr(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(l0(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,p=_m(r);md(r,p,h);break;case 5:var w=o.stateNode;o.flags&32&&(jr(w,""),o.flags&=-33);var T=_m(r);md(r,T,w);break;case 3:case 4:var j=o.stateNode.containerInfo,ee=_m(r);bm(r,ee,j);break;default:throw Error(i(161))}}catch(de){zt(r,r.return,de)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function g0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;g0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Ia(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)d0(r,a.alternate,a),a=a.sibling}function zs(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Da(4,a,a.return),zs(a);break;case 1:Ei(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&s0(a,a.return,o),zs(a);break;case 27:pu(a.stateNode);case 26:case 5:Ei(a,a.return),zs(a);break;case 22:a.memoizedState===null&&zs(a);break;case 30:zs(a);break;default:zs(a)}r=r.sibling}}function Ma(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,h=r,p=a,w=p.flags;switch(p.tag){case 0:case 11:case 15:Ma(h,p,o),au(4,p);break;case 1:if(Ma(h,p,o),u=p,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(ee){zt(u,u.return,ee)}if(u=p,h=u.updateQueue,h!==null){var T=u.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)Yy(j[h],T)}catch(ee){zt(u,u.return,ee)}}o&&w&64&&a0(p),su(p,p.return);break;case 27:u0(p);case 26:case 5:Ma(h,p,o),o&&u===null&&w&4&&o0(p),su(p,p.return);break;case 12:Ma(h,p,o);break;case 13:Ma(h,p,o),o&&w&4&&m0(h,p);break;case 22:p.memoizedState===null&&Ma(h,p,o),su(p,p.return);break;case 30:break;default:Ma(h,p,o)}a=a.sibling}}function xm(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Yl(o))}function Tm(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Yl(r))}function wi(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)y0(r,a,o,u),a=a.sibling}function y0(r,a,o,u){var h=a.flags;switch(a.tag){case 0:case 11:case 15:wi(r,a,o,u),h&2048&&au(9,a);break;case 1:wi(r,a,o,u);break;case 3:wi(r,a,o,u),h&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Yl(r)));break;case 12:if(h&2048){wi(r,a,o,u),r=a.stateNode;try{var p=a.memoizedProps,w=p.id,T=p.onPostCommit;typeof T=="function"&&T(w,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){zt(a,a.return,j)}}else wi(r,a,o,u);break;case 13:wi(r,a,o,u);break;case 23:break;case 22:p=a.stateNode,w=a.alternate,a.memoizedState!==null?p._visibility&2?wi(r,a,o,u):ou(r,a):p._visibility&2?wi(r,a,o,u):(p._visibility|=2,ko(r,a,o,u,(a.subtreeFlags&10256)!==0)),h&2048&&xm(w,a);break;case 24:wi(r,a,o,u),h&2048&&Tm(a.alternate,a);break;default:wi(r,a,o,u)}}function ko(r,a,o,u,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=r,w=a,T=o,j=u,ee=w.flags;switch(w.tag){case 0:case 11:case 15:ko(p,w,T,j,h),au(8,w);break;case 23:break;case 22:var de=w.stateNode;w.memoizedState!==null?de._visibility&2?ko(p,w,T,j,h):ou(p,w):(de._visibility|=2,ko(p,w,T,j,h)),h&&ee&2048&&xm(w.alternate,w);break;case 24:ko(p,w,T,j,h),h&&ee&2048&&Tm(w.alternate,w);break;default:ko(p,w,T,j,h)}a=a.sibling}}function ou(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,h=u.flags;switch(u.tag){case 22:ou(o,u),h&2048&&xm(u.alternate,u);break;case 24:ou(o,u),h&2048&&Tm(u.alternate,u);break;default:ou(o,u)}a=a.sibling}}var lu=8192;function Po(r){if(r.subtreeFlags&lu)for(r=r.child;r!==null;)v0(r),r=r.sibling}function v0(r){switch(r.tag){case 26:Po(r),r.flags&lu&&r.memoizedState!==null&&X2(Jr,r.memoizedState,r.memoizedProps);break;case 5:Po(r);break;case 3:case 4:var a=Jr;Jr=Rd(r.stateNode.containerInfo),Po(r),Jr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=lu,lu=16777216,Po(r),lu=a):Po(r));break;default:Po(r)}}function _0(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function uu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];Pn=u,E0(u,r)}_0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)b0(r),r=r.sibling}function b0(r){switch(r.tag){case 0:case 11:case 15:uu(r),r.flags&2048&&Da(9,r,r.return);break;case 3:uu(r);break;case 12:uu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,pd(r)):uu(r);break;default:uu(r)}}function pd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];Pn=u,E0(u,r)}_0(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Da(8,a,a.return),pd(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,pd(a));break;default:pd(a)}r=r.sibling}}function E0(r,a){for(;Pn!==null;){var o=Pn;switch(o.tag){case 0:case 11:case 15:Da(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Yl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Pn=u;else e:for(o=r;Pn!==null;){u=Pn;var h=u.sibling,p=u.return;if(h0(u),u===o){Pn=null;break e}if(h!==null){h.return=p,Pn=h;break e}Pn=p}}}var f2={getCacheForType:function(r){var a=Xn(An),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},m2=typeof WeakMap=="function"?WeakMap:Map,Mt=0,qt=null,ht=null,Et=0,Ot=0,Ar=null,Oa=!1,jo=!1,Sm=!1,ia=0,rn=0,ka=0,Fs=0,Am=0,Yr=0,Vo=0,cu=null,gr=null,Rm=!1,Nm=0,gd=1/0,yd=null,Pa=null,Hn=0,ja=null,Lo=null,Uo=0,Cm=0,Dm=null,w0=null,du=0,Im=null;function Rr(){if((Mt&2)!==0&&Et!==0)return Et&-Et;if(P.T!==null){var r=Ao;return r!==0?r:Lm()}return V()}function x0(){Yr===0&&(Yr=(Et&536870912)===0||At?H():536870912);var r=Hr.current;return r!==null&&(r.flags|=32),Yr}function Nr(r,a,o){(r===qt&&(Ot===2||Ot===9)||r.cancelPendingCommit!==null)&&(Bo(r,0),Va(r,Et,Yr,!1)),Be(r,o),((Mt&2)===0||r!==qt)&&(r===qt&&((Mt&2)===0&&(Fs|=o),rn===4&&Va(r,Et,Yr,!1)),xi(r))}function T0(r,a,o){if((Mt&6)!==0)throw Error(i(327));var u=!o&&(a&124)===0&&(a&r.expiredLanes)===0||Un(r,a),h=u?y2(r,a):km(r,a,!0),p=u;do{if(h===0){jo&&!u&&Va(r,a,0,!1);break}else{if(o=r.current.alternate,p&&!p2(o)){h=km(r,a,!1),p=!1;continue}if(h===2){if(p=a,r.errorRecoveryDisabledLanes&p)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var T=r;h=cu;var j=T.current.memoizedState.isDehydrated;if(j&&(Bo(T,w).flags|=256),w=km(T,w,!1),w!==2){if(Sm&&!j){T.errorRecoveryDisabledLanes|=p,Fs|=p,h=4;break e}p=gr,gr=h,p!==null&&(gr===null?gr=p:gr.push.apply(gr,p))}h=w}if(p=!1,h!==2)continue}}if(h===1){Bo(r,0),Va(r,a,0,!0);break}e:{switch(u=r,p=h,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Va(u,a,Yr,!Oa);break e;case 2:gr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(h=Nm+300-Re(),10<h)){if(Va(u,a,Yr,!Oa),ir(u,0,!0)!==0)break e;u.timeoutHandle=J0(S0.bind(null,u,o,gr,yd,Rm,a,Yr,Fs,Vo,Oa,p,2,-0,0),h);break e}S0(u,o,gr,yd,Rm,a,Yr,Fs,Vo,Oa,p,0,-0,0)}}break}while(!0);xi(r)}function S0(r,a,o,u,h,p,w,T,j,ee,de,me,re,ie){if(r.timeoutHandle=-1,me=a.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(vu={stylesheets:null,count:0,unsuspend:Q2},v0(a),me=Z2(),me!==null)){r.cancelPendingCommit=me(M0.bind(null,r,a,p,o,u,h,w,T,j,de,1,re,ie)),Va(r,p,w,!ee);return}M0(r,a,p,o,u,h,w,T,j)}function p2(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!wr(p(),h))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Va(r,a,o,u){a&=~Am,a&=~Fs,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var h=a;0<h;){var p=31-Ft(h),w=1<<p;u[p]=-1,h&=~w}o!==0&&Ze(r,o,a)}function vd(){return(Mt&6)===0?(hu(0),!1):!0}function Mm(){if(ht!==null){if(Ot===0)var r=ht.return;else r=ht,Qi=js=null,Kf(r),Mo=null,nu=0,r=ht;for(;r!==null;)i0(r.alternate,r),r=r.return;ht=null}}function Bo(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,O2(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Mm(),qt=r,ht=o=Wi(r.current,null),Et=a,Ot=0,Ar=null,Oa=!1,jo=Un(r,a),Sm=!1,Vo=Yr=Am=Fs=ka=rn=0,gr=cu=null,Rm=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var h=31-Ft(u),p=1<<h;a|=r[h],u&=~p}return ia=a,Bc(),o}function A0(r,a){st=null,P.H=ad,a===Wl||a===Kc?(a=qy(),Ot=3):a===By?(a=qy(),Ot=4):Ot=a===Hv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ar=a,ht===null&&(rn=1,cd(r,Br(a,r.current)))}function R0(){var r=P.H;return P.H=ad,r===null?ad:r}function N0(){var r=P.A;return P.A=f2,r}function Om(){rn=4,Oa||(Et&4194048)!==Et&&Hr.current!==null||(jo=!0),(ka&134217727)===0&&(Fs&134217727)===0||qt===null||Va(qt,Et,Yr,!1)}function km(r,a,o){var u=Mt;Mt|=2;var h=R0(),p=N0();(qt!==r||Et!==a)&&(yd=null,Bo(r,a)),a=!1;var w=rn;e:do try{if(Ot!==0&&ht!==null){var T=ht,j=Ar;switch(Ot){case 8:Mm(),w=6;break e;case 3:case 2:case 9:case 6:Hr.current===null&&(a=!0);var ee=Ot;if(Ot=0,Ar=null,zo(r,T,j,ee),o&&jo){w=0;break e}break;default:ee=Ot,Ot=0,Ar=null,zo(r,T,j,ee)}}g2(),w=rn;break}catch(de){A0(r,de)}while(!0);return a&&r.shellSuspendCounter++,Qi=js=null,Mt=u,P.H=h,P.A=p,ht===null&&(qt=null,Et=0,Bc()),w}function g2(){for(;ht!==null;)C0(ht)}function y2(r,a){var o=Mt;Mt|=2;var u=R0(),h=N0();qt!==r||Et!==a?(yd=null,gd=Re()+500,Bo(r,a)):jo=Un(r,a);e:do try{if(Ot!==0&&ht!==null){a=ht;var p=Ar;t:switch(Ot){case 1:Ot=0,Ar=null,zo(r,a,p,1);break;case 2:case 9:if(zy(p)){Ot=0,Ar=null,D0(a);break}a=function(){Ot!==2&&Ot!==9||qt!==r||(Ot=7),xi(r)},p.then(a,a);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:zy(p)?(Ot=0,Ar=null,D0(a)):(Ot=0,Ar=null,zo(r,a,p,7));break;case 5:var w=null;switch(ht.tag){case 26:w=ht.memoizedState;case 5:case 27:var T=ht;if(!w||d_(w)){Ot=0,Ar=null;var j=T.sibling;if(j!==null)ht=j;else{var ee=T.return;ee!==null?(ht=ee,_d(ee)):ht=null}break t}}Ot=0,Ar=null,zo(r,a,p,5);break;case 6:Ot=0,Ar=null,zo(r,a,p,6);break;case 8:Mm(),rn=6;break e;default:throw Error(i(462))}}v2();break}catch(de){A0(r,de)}while(!0);return Qi=js=null,P.H=u,P.A=h,Mt=o,ht!==null?0:(qt=null,Et=0,Bc(),rn)}function v2(){for(;ht!==null&&!Dn();)C0(ht)}function C0(r){var a=n0(r.alternate,r,ia);r.memoizedProps=r.pendingProps,a===null?_d(r):ht=a}function D0(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=Qv(o,a,a.pendingProps,a.type,void 0,Et);break;case 11:a=Qv(o,a,a.pendingProps,a.type.render,a.ref,Et);break;case 5:Kf(a);default:i0(o,a),a=ht=Iy(a,ia),a=n0(o,a,ia)}r.memoizedProps=r.pendingProps,a===null?_d(r):ht=a}function zo(r,a,o,u){Qi=js=null,Kf(a),Mo=null,nu=0;var h=a.return;try{if(o2(r,h,a,o,Et)){rn=1,cd(r,Br(o,r.current)),ht=null;return}}catch(p){if(h!==null)throw ht=h,p;rn=1,cd(r,Br(o,r.current)),ht=null;return}a.flags&32768?(At||u===1?r=!0:jo||(Et&536870912)!==0?r=!1:(Oa=r=!0,(u===2||u===9||u===3||u===6)&&(u=Hr.current,u!==null&&u.tag===13&&(u.flags|=16384))),I0(a,r)):_d(a)}function _d(r){var a=r;do{if((a.flags&32768)!==0){I0(a,Oa);return}r=a.return;var o=u2(a.alternate,a,ia);if(o!==null){ht=o;return}if(a=a.sibling,a!==null){ht=a;return}ht=a=r}while(a!==null);rn===0&&(rn=5)}function I0(r,a){do{var o=c2(r.alternate,r);if(o!==null){o.flags&=32767,ht=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){ht=r;return}ht=r=o}while(r!==null);rn=6,ht=null}function M0(r,a,o,u,h,p,w,T,j){r.cancelPendingCommit=null;do bd();while(Hn!==0);if((Mt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Tf,nt(r,o,p,w,T,j),r===qt&&(ht=qt=null,Et=0),Lo=a,ja=r,Uo=o,Cm=p,Dm=h,w0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,w2(Dt,function(){return V0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=P.T,P.T=null,h=X.p,X.p=2,w=Mt,Mt|=4;try{d2(r,a,o)}finally{Mt=w,X.p=h,P.T=u}}Hn=1,O0(),k0(),P0()}}function O0(){if(Hn===1){Hn=0;var r=ja,a=Lo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=P.T,P.T=null;var u=X.p;X.p=2;var h=Mt;Mt|=4;try{p0(a,r);var p=$m,w=Ey(r.containerInfo),T=p.focusedElem,j=p.selectionRange;if(w!==T&&T&&T.ownerDocument&&by(T.ownerDocument.documentElement,T)){if(j!==null&&_f(T)){var ee=j.start,de=j.end;if(de===void 0&&(de=ee),"selectionStart"in T)T.selectionStart=ee,T.selectionEnd=Math.min(de,T.value.length);else{var me=T.ownerDocument||document,re=me&&me.defaultView||window;if(re.getSelection){var ie=re.getSelection(),Qe=T.textContent.length,qe=Math.min(j.start,Qe),Lt=j.end===void 0?qe:Math.min(j.end,Qe);!ie.extend&&qe>Lt&&(w=Lt,Lt=qe,qe=w);var W=_y(T,qe),F=_y(T,Lt);if(W&&F&&(ie.rangeCount!==1||ie.anchorNode!==W.node||ie.anchorOffset!==W.offset||ie.focusNode!==F.node||ie.focusOffset!==F.offset)){var Z=me.createRange();Z.setStart(W.node,W.offset),ie.removeAllRanges(),qe>Lt?(ie.addRange(Z),ie.extend(F.node,F.offset)):(Z.setEnd(F.node,F.offset),ie.addRange(Z))}}}}for(me=[],ie=T;ie=ie.parentNode;)ie.nodeType===1&&me.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<me.length;T++){var he=me[T];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Md=!!Ym,$m=Ym=null}finally{Mt=h,X.p=u,P.T=o}}r.current=a,Hn=2}}function k0(){if(Hn===2){Hn=0;var r=ja,a=Lo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=P.T,P.T=null;var u=X.p;X.p=2;var h=Mt;Mt|=4;try{d0(r,a.alternate,a)}finally{Mt=h,X.p=u,P.T=o}}Hn=3}}function P0(){if(Hn===4||Hn===3){Hn=0,Or();var r=ja,a=Lo,o=Uo,u=w0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Hn=5:(Hn=0,Lo=ja=null,j0(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Pa=null),wn(o),a=a.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(et,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=P.T,h=X.p,X.p=2,P.T=null;try{for(var p=r.onRecoverableError,w=0;w<u.length;w++){var T=u[w];p(T.value,{componentStack:T.stack})}}finally{P.T=a,X.p=h}}(Uo&3)!==0&&bd(),xi(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===Im?du++:(du=0,Im=r):du=0,hu(0)}}function j0(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Yl(a)))}function bd(r){return O0(),k0(),P0(),V0()}function V0(){if(Hn!==5)return!1;var r=ja,a=Cm;Cm=0;var o=wn(Uo),u=P.T,h=X.p;try{X.p=32>o?32:o,P.T=null,o=Dm,Dm=null;var p=ja,w=Uo;if(Hn=0,Lo=ja=null,Uo=0,(Mt&6)!==0)throw Error(i(331));var T=Mt;if(Mt|=4,b0(p.current),y0(p,p.current,w,o),Mt=T,hu(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(et,p)}catch{}return!0}finally{X.p=h,P.T=u,j0(r,a)}}function L0(r,a,o){a=Br(o,a),a=um(r.stateNode,a,2),r=Aa(r,a,2),r!==null&&(Be(r,2),xi(r))}function zt(r,a,o){if(r.tag===3)L0(r,r,o);else for(;a!==null;){if(a.tag===3){L0(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Pa===null||!Pa.has(u))){r=Br(o,r),o=Fv(2),u=Aa(a,o,2),u!==null&&(qv(o,u,a,r),Be(u,2),xi(u));break}}a=a.return}}function Pm(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new m2;var h=new Set;u.set(a,h)}else h=u.get(a),h===void 0&&(h=new Set,u.set(a,h));h.has(o)||(Sm=!0,h.add(o),r=_2.bind(null,r,a,o),a.then(r,r))}function _2(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,qt===r&&(Et&o)===o&&(rn===4||rn===3&&(Et&62914560)===Et&&300>Re()-Nm?(Mt&2)===0&&Bo(r,0):Am|=o,Vo===Et&&(Vo=0)),xi(r)}function U0(r,a){a===0&&(a=Ee()),r=wo(r,a),r!==null&&(Be(r,a),xi(r))}function b2(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),U0(r,o)}function E2(r,a){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),U0(r,o)}function w2(r,a){return dn(r,a)}var Ed=null,Fo=null,jm=!1,wd=!1,Vm=!1,qs=0;function xi(r){r!==Fo&&r.next===null&&(Fo===null?Ed=Fo=r:Fo=Fo.next=r),wd=!0,jm||(jm=!0,T2())}function hu(r,a){if(!Vm&&wd){Vm=!0;do for(var o=!1,u=Ed;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var p=0;else{var w=u.suspendedLanes,T=u.pingedLanes;p=(1<<31-Ft(42|r)+1)-1,p&=h&~(w&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,q0(u,p))}else p=Et,p=ir(u,u===qt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Un(u,p)||(o=!0,q0(u,p));u=u.next}while(o);Vm=!1}}function x2(){B0()}function B0(){wd=jm=!1;var r=0;qs!==0&&(M2()&&(r=qs),qs=0);for(var a=Re(),o=null,u=Ed;u!==null;){var h=u.next,p=z0(u,a);p===0?(u.next=null,o===null?Ed=h:o.next=h,h===null&&(Fo=o)):(o=u,(r!==0||(p&3)!==0)&&(wd=!0)),u=h}hu(r)}function z0(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var w=31-Ft(p),T=1<<w,j=h[w];j===-1?((T&o)===0||(T&u)!==0)&&(h[w]=Ge(T,a)):j<=a&&(r.expiredLanes|=T),p&=~T}if(a=qt,o=Et,o=ir(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(Ot===2||Ot===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Qt(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Un(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&Qt(u),wn(o)){case 2:case 8:o=bn;break;case 32:o=Dt;break;case 268435456:o=Yt;break;default:o=Dt}return u=F0.bind(null,r),o=dn(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&Qt(u),r.callbackPriority=2,r.callbackNode=null,2}function F0(r,a){if(Hn!==0&&Hn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(bd()&&r.callbackNode!==o)return null;var u=Et;return u=ir(r,r===qt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(T0(r,u,a),z0(r,Re()),r.callbackNode!=null&&r.callbackNode===o?F0.bind(null,r):null)}function q0(r,a){if(bd())return null;T0(r,a,!0)}function T2(){k2(function(){(Mt&6)!==0?dn(_n,x2):B0()})}function Lm(){return qs===0&&(qs=H()),qs}function H0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:uo(""+r)}function Y0(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function S2(r,a,o,u,h){if(a==="submit"&&o&&o.stateNode===h){var p=H0((h[ce]||null).action),w=u.submitter;w&&(a=(a=w[ce]||null)?H0(a.formAction):w.getAttribute("formAction"),a!==null&&(p=a,w=null));var T=new co("action","action",null,u,h);r.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(qs!==0){var j=w?Y0(h,w):new FormData(h);im(o,{pending:!0,data:j,method:h.method,action:p},null,j)}}else typeof p=="function"&&(T.preventDefault(),j=w?Y0(h,w):new FormData(h),im(o,{pending:!0,data:j,method:h.method,action:p},p,j))},currentTarget:h}]})}}for(var Um=0;Um<xf.length;Um++){var Bm=xf[Um],A2=Bm.toLowerCase(),R2=Bm[0].toUpperCase()+Bm.slice(1);Zr(A2,"on"+R2)}Zr(Ty,"onAnimationEnd"),Zr(Sy,"onAnimationIteration"),Zr(Ay,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(HT,"onTransitionRun"),Zr(YT,"onTransitionStart"),Zr($T,"onTransitionCancel"),Zr(Ry,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fu));function $0(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var p=void 0;if(a)for(var w=u.length-1;0<=w;w--){var T=u[w],j=T.instance,ee=T.currentTarget;if(T=T.listener,j!==p&&h.isPropagationStopped())break e;p=T,h.currentTarget=ee;try{p(h)}catch(de){ud(de)}h.currentTarget=null,p=j}else for(w=0;w<u.length;w++){if(T=u[w],j=T.instance,ee=T.currentTarget,T=T.listener,j!==p&&h.isPropagationStopped())break e;p=T,h.currentTarget=ee;try{p(h)}catch(de){ud(de)}h.currentTarget=null,p=j}}}}function ft(r,a){var o=a[be];o===void 0&&(o=a[be]=new Set);var u=r+"__bubble";o.has(u)||(W0(a,r,2,!1),o.add(u))}function zm(r,a,o){var u=0;a&&(u|=4),W0(o,r,u,a)}var xd="_reactListening"+Math.random().toString(36).slice(2);function Fm(r){if(!r[xd]){r[xd]=!0,lt.forEach(function(o){o!=="selectionchange"&&(N2.has(o)||zm(o,!1,r),zm(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[xd]||(a[xd]=!0,zm("selectionchange",!1,a))}}function W0(r,a,o,u){switch(y_(a)){case 2:var h=tS;break;case 8:h=nS;break;default:h=np}o=h.bind(null,a,o,r),h=void 0,!Lr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(a,o,{capture:!0,passive:h}):r.addEventListener(a,o,!0):h!==void 0?r.addEventListener(a,o,{passive:h}):r.addEventListener(a,o,!1)}function qm(r,a,o,u,h){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var T=u.stateNode.containerInfo;if(T===h)break;if(w===4)for(w=u.return;w!==null;){var j=w.tag;if((j===3||j===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;T!==null;){if(w=Ke(T),w===null)return;if(j=w.tag,j===5||j===6||j===26||j===27){u=p=w;continue e}T=T.parentNode}}u=u.return}Sc(function(){var ee=p,de=Vr(o),me=[];e:{var re=Ny.get(r);if(re!==void 0){var ie=co,Qe=r;switch(r){case"keypress":if(mi(o)===0)break e;case"keydown":case"keyup":ie=yo;break;case"focusin":Qe="focus",ie=mo;break;case"focusout":Qe="blur",ie=mo;break;case"beforeblur":case"afterblur":ie=mo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Ur;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Oc;break;case Ty:case Sy:case Ay:ie=po;break;case Ry:ie=Pc;break;case"scroll":case"scrollend":ie=Ac;break;case"wheel":ie=vo;break;case"copy":case"cut":case"paste":ie=go;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Vl;break;case"toggle":case"beforetoggle":ie=Vc}var qe=(a&4)!==0,Lt=!qe&&(r==="scroll"||r==="scrollend"),W=qe?re!==null?re+"Capture":null:re;qe=[];for(var F=ee,Z;F!==null;){var he=F;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||W===null||(he=ws(F,W),he!=null&&qe.push(mu(F,he,Z))),Lt)break;F=F.return}0<qe.length&&(re=new ie(re,Qe,null,o,de),me.push({event:re,listeners:qe}))}}if((a&7)===0){e:{if(re=r==="mouseover"||r==="pointerover",ie=r==="mouseout"||r==="pointerout",re&&o!==zi&&(Qe=o.relatedTarget||o.fromElement)&&(Ke(Qe)||Qe[Ae]))break e;if((ie||re)&&(re=de.window===de?de:(re=de.ownerDocument)?re.defaultView||re.parentWindow:window,ie?(Qe=o.relatedTarget||o.toElement,ie=ee,Qe=Qe?Ke(Qe):null,Qe!==null&&(Lt=l(Qe),qe=Qe.tag,Qe!==Lt||qe!==5&&qe!==27&&qe!==6)&&(Qe=null)):(ie=null,Qe=ee),ie!==Qe)){if(qe=Ur,he="onMouseLeave",W="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(qe=Vl,he="onPointerLeave",W="onPointerEnter",F="pointer"),Lt=ie==null?re:Rt(ie),Z=Qe==null?re:Rt(Qe),re=new qe(he,F+"leave",ie,o,de),re.target=Lt,re.relatedTarget=Z,he=null,Ke(de)===ee&&(qe=new qe(W,F+"enter",Qe,o,de),qe.target=Z,qe.relatedTarget=Lt,he=qe),Lt=he,ie&&Qe)t:{for(qe=ie,W=Qe,F=0,Z=qe;Z;Z=qo(Z))F++;for(Z=0,he=W;he;he=qo(he))Z++;for(;0<F-Z;)qe=qo(qe),F--;for(;0<Z-F;)W=qo(W),Z--;for(;F--;){if(qe===W||W!==null&&qe===W.alternate)break t;qe=qo(qe),W=qo(W)}qe=null}else qe=null;ie!==null&&G0(me,re,ie,qe,!1),Qe!==null&&Lt!==null&&G0(me,Lt,Qe,qe,!0)}}e:{if(re=ee?Rt(ee):window,ie=re.nodeName&&re.nodeName.toLowerCase(),ie==="select"||ie==="input"&&re.type==="file")var Oe=fy;else if(Sn(re))if(my)Oe=zT;else{Oe=UT;var ut=LT}else ie=re.nodeName,!ie||ie.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ee&&Dl(ee.elementType)&&(Oe=fy):Oe=BT;if(Oe&&(Oe=Oe(r,ee))){$i(me,Oe,o,de);break e}ut&&ut(r,re,ee),r==="focusout"&&ee&&re.type==="number"&&ee.memoizedProps.value!=null&&Ea(re,"number",re.value)}switch(ut=ee?Rt(ee):window,r){case"focusin":(Sn(ut)||ut.contentEditable==="true")&&(_o=ut,bf=ee,Bl=null);break;case"focusout":Bl=bf=_o=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,wy(me,o,de);break;case"selectionchange":if(qT)break;case"keydown":case"keyup":wy(me,o,de)}var Pe;if(yi)e:{switch(r){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else _t?se(r,o)&&(Ye="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ye="onCompositionStart");Ye&&(b&&o.locale!=="ko"&&(_t||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&_t&&(Pe=Ml()):(fi=de,wa="value"in fi?fi.value:fi.textContent,_t=!0)),ut=Td(ee,Ye),0<ut.length&&(Ye=new Pl(Ye,r,null,o,de),me.push({event:Ye,listeners:ut}),Pe?Ye.data=Pe:(Pe=Te(o),Pe!==null&&(Ye.data=Pe)))),(Pe=v?Tn(r,o):bt(r,o))&&(Ye=Td(ee,"onBeforeInput"),0<Ye.length&&(ut=new Pl("onBeforeInput","beforeinput",null,o,de),me.push({event:ut,listeners:Ye}),ut.data=Pe)),S2(me,r,ee,o,de)}$0(me,a)})}function mu(r,a,o){return{instance:r,listener:a,currentTarget:o}}function Td(r,a){for(var o=a+"Capture",u=[];r!==null;){var h=r,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=ws(r,o),h!=null&&u.unshift(mu(r,h,p)),h=ws(r,a),h!=null&&u.push(mu(r,h,p))),r.tag===3)return u;r=r.return}return[]}function qo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function G0(r,a,o,u,h){for(var p=a._reactName,w=[];o!==null&&o!==u;){var T=o,j=T.alternate,ee=T.stateNode;if(T=T.tag,j!==null&&j===u)break;T!==5&&T!==26&&T!==27||ee===null||(j=ee,h?(ee=ws(o,p),ee!=null&&w.unshift(mu(o,ee,j))):h||(ee=ws(o,p),ee!=null&&w.push(mu(o,ee,j)))),o=o.return}w.length!==0&&r.push({event:a,listeners:w})}var C2=/\r\n?/g,D2=/\u0000|\uFFFD/g;function K0(r){return(typeof r=="string"?r:""+r).replace(C2,`
`).replace(D2,"")}function Q0(r,a){return a=K0(a),K0(r)===a}function Sd(){}function Vt(r,a,o,u,h,p){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||jr(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&jr(r,""+u);break;case"className":sr(r,"class",u);break;case"tabIndex":sr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(r,o,u);break;case"style":Cl(r,u,p);break;case"data":if(a!=="object"){sr(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=uo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&Vt(r,a,"name",h.name,h,null),Vt(r,a,"formEncType",h.formEncType,h,null),Vt(r,a,"formMethod",h.formMethod,h,null),Vt(r,a,"formTarget",h.formTarget,h,null)):(Vt(r,a,"encType",h.encType,h,null),Vt(r,a,"method",h.method,h,null),Vt(r,a,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=uo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Sd);break;case"onScroll":u!=null&&ft("scroll",r);break;case"onScrollEnd":u!=null&&ft("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=uo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":ft("beforetoggle",r),ft("toggle",r),Qn(r,"popover",u);break;case"xlinkActuate":Je(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Je(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Je(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Je(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Je(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Je(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Je(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Je(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Je(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Qn(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ff.get(o)||o,Qn(r,o,u))}}function Hm(r,a,o,u,h,p){switch(o){case"style":Cl(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?jr(r,u):(typeof u=="number"||typeof u=="bigint")&&jr(r,""+u);break;case"onScroll":u!=null&&ft("scroll",r);break;case"onScrollEnd":u!=null&&ft("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kr.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),a=o.slice(2,h?o.length-7:void 0),p=r[ce]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(a,p,h),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Qn(r,o,u)}}}function Yn(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",r),ft("load",r);var u=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var w=o[p];if(w!=null)switch(p){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Vt(r,a,p,w,o,null)}}h&&Vt(r,a,"srcSet",o.srcSet,o,null),u&&Vt(r,a,"src",o.src,o,null);return;case"input":ft("invalid",r);var T=p=w=h=null,j=null,ee=null;for(u in o)if(o.hasOwnProperty(u)){var de=o[u];if(de!=null)switch(u){case"name":h=de;break;case"type":w=de;break;case"checked":j=de;break;case"defaultChecked":ee=de;break;case"value":p=de;break;case"defaultValue":T=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,a));break;default:Vt(r,a,u,de,o,null)}}_s(r,p,T,j,ee,w,h,!1),lo(r);return;case"select":ft("invalid",r),u=w=p=null;for(h in o)if(o.hasOwnProperty(h)&&(T=o[h],T!=null))switch(h){case"value":p=T;break;case"defaultValue":w=T;break;case"multiple":u=T;default:Vt(r,a,h,T,o,null)}a=p,o=w,r.multiple=!!u,a!=null?Bi(r,!!u,a,!1):o!=null&&Bi(r,!!u,o,!0);return;case"textarea":ft("invalid",r),p=h=u=null;for(w in o)if(o.hasOwnProperty(w)&&(T=o[w],T!=null))switch(w){case"value":u=T;break;case"defaultValue":h=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:Vt(r,a,w,T,o,null)}bs(r,u,h,p),lo(r);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Vt(r,a,j,u,o,null)}return;case"dialog":ft("beforetoggle",r),ft("toggle",r),ft("cancel",r),ft("close",r);break;case"iframe":case"object":ft("load",r);break;case"video":case"audio":for(u=0;u<fu.length;u++)ft(fu[u],r);break;case"image":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"embed":case"source":case"link":ft("error",r),ft("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(u=o[ee],u!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Vt(r,a,ee,u,o,null)}return;default:if(Dl(a)){for(de in o)o.hasOwnProperty(de)&&(u=o[de],u!==void 0&&Hm(r,a,de,u,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(u=o[T],u!=null&&Vt(r,a,T,u,o,null))}function I2(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,w=null,T=null,j=null,ee=null,de=null;for(ie in o){var me=o[ie];if(o.hasOwnProperty(ie)&&me!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":j=me;default:u.hasOwnProperty(ie)||Vt(r,a,ie,null,u,me)}}for(var re in u){var ie=u[re];if(me=o[re],u.hasOwnProperty(re)&&(ie!=null||me!=null))switch(re){case"type":p=ie;break;case"name":h=ie;break;case"checked":ee=ie;break;case"defaultChecked":de=ie;break;case"value":w=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,a));break;default:ie!==me&&Vt(r,a,re,ie,u,me)}}Er(r,w,T,j,ee,de,p,h);return;case"select":ie=w=T=re=null;for(p in o)if(j=o[p],o.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":ie=j;default:u.hasOwnProperty(p)||Vt(r,a,p,null,u,j)}for(h in u)if(p=u[h],j=o[h],u.hasOwnProperty(h)&&(p!=null||j!=null))switch(h){case"value":re=p;break;case"defaultValue":T=p;break;case"multiple":w=p;default:p!==j&&Vt(r,a,h,p,u,j)}a=T,o=w,u=ie,re!=null?Bi(r,!!o,re,!1):!!u!=!!o&&(a!=null?Bi(r,!!o,a,!0):Bi(r,!!o,o?[]:"",!1));return;case"textarea":ie=re=null;for(T in o)if(h=o[T],o.hasOwnProperty(T)&&h!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Vt(r,a,T,null,u,h)}for(w in u)if(h=u[w],p=o[w],u.hasOwnProperty(w)&&(h!=null||p!=null))switch(w){case"value":re=h;break;case"defaultValue":ie=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==p&&Vt(r,a,w,h,u,p)}Pt(r,re,ie);return;case"option":for(var Qe in o)if(re=o[Qe],o.hasOwnProperty(Qe)&&re!=null&&!u.hasOwnProperty(Qe))switch(Qe){case"selected":r.selected=!1;break;default:Vt(r,a,Qe,null,u,re)}for(j in u)if(re=u[j],ie=o[j],u.hasOwnProperty(j)&&re!==ie&&(re!=null||ie!=null))switch(j){case"selected":r.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Vt(r,a,j,re,u,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in o)re=o[qe],o.hasOwnProperty(qe)&&re!=null&&!u.hasOwnProperty(qe)&&Vt(r,a,qe,null,u,re);for(ee in u)if(re=u[ee],ie=o[ee],u.hasOwnProperty(ee)&&re!==ie&&(re!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,a));break;default:Vt(r,a,ee,re,u,ie)}return;default:if(Dl(a)){for(var Lt in o)re=o[Lt],o.hasOwnProperty(Lt)&&re!==void 0&&!u.hasOwnProperty(Lt)&&Hm(r,a,Lt,void 0,u,re);for(de in u)re=u[de],ie=o[de],!u.hasOwnProperty(de)||re===ie||re===void 0&&ie===void 0||Hm(r,a,de,re,u,ie);return}}for(var W in o)re=o[W],o.hasOwnProperty(W)&&re!=null&&!u.hasOwnProperty(W)&&Vt(r,a,W,null,u,re);for(me in u)re=u[me],ie=o[me],!u.hasOwnProperty(me)||re===ie||re==null&&ie==null||Vt(r,a,me,re,u,ie)}var Ym=null,$m=null;function Ad(r){return r.nodeType===9?r:r.ownerDocument}function X0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z0(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Wm(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gm=null;function M2(){var r=window.event;return r&&r.type==="popstate"?r===Gm?!1:(Gm=r,!0):(Gm=null,!1)}var J0=typeof setTimeout=="function"?setTimeout:void 0,O2=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,k2=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(r){return e_.resolve(null).then(r).catch(P2)}:J0;function P2(r){setTimeout(function(){throw r})}function La(r){return r==="head"}function t_(r,a){var o=a,u=0,h=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var w=r.ownerDocument;if(o&1&&pu(w.documentElement),o&2&&pu(w.body),o&4)for(o=w.head,pu(o),w=o.firstChild;w;){var T=w.nextSibling,j=w.nodeName;w[He]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=T}}if(h===0){r.removeChild(p),xu(a);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);xu(a)}function Km(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Km(o),ze(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function j2(r,a,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[He])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=ei(r.nextSibling),r===null)break}return null}function V2(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ei(r.nextSibling),r===null))return null;return r}function Qm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function L2(r,a){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function ei(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Xm=null;function n_(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function r_(r,a,o){switch(a=Ad(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function pu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);ze(r)}var $r=new Map,i_=new Set;function Rd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var aa=X.d;X.d={f:U2,r:B2,D:z2,C:F2,L:q2,m:H2,X:$2,S:Y2,M:W2};function U2(){var r=aa.f(),a=vd();return r||a}function B2(r){var a=dt(r);a!==null&&a.tag===5&&a.type==="form"?Tv(a):aa.r(r)}var Ho=typeof document>"u"?null:document;function a_(r,a,o){var u=Ho;if(u&&typeof a=="string"&&a){var h=fn(a);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),i_.has(h)||(i_.add(h),r={rel:r,crossOrigin:o,href:a},u.querySelector(h)===null&&(a=u.createElement("link"),Yn(a,"link",r),vt(a),u.head.appendChild(a)))}}function z2(r){aa.D(r),a_("dns-prefetch",r,null)}function F2(r,a){aa.C(r,a),a_("preconnect",r,a)}function q2(r,a,o){aa.L(r,a,o);var u=Ho;if(u&&r&&a){var h='link[rel="preload"][as="'+fn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+fn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+fn(o.imageSizes)+'"]')):h+='[href="'+fn(r)+'"]';var p=h;switch(a){case"style":p=Yo(r);break;case"script":p=$o(r)}$r.has(p)||(r=_({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),$r.set(p,r),u.querySelector(h)!==null||a==="style"&&u.querySelector(gu(p))||a==="script"&&u.querySelector(yu(p))||(a=u.createElement("link"),Yn(a,"link",r),vt(a),u.head.appendChild(a)))}}function H2(r,a){aa.m(r,a);var o=Ho;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+fn(u)+'"][href="'+fn(r)+'"]',p=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=$o(r)}if(!$r.has(p)&&(r=_({rel:"modulepreload",href:r},a),$r.set(p,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yu(p)))return}u=o.createElement("link"),Yn(u,"link",r),vt(u),o.head.appendChild(u)}}}function Y2(r,a,o){aa.S(r,a,o);var u=Ho;if(u&&r){var h=Tt(u).hoistableStyles,p=Yo(r);a=a||"default";var w=h.get(p);if(!w){var T={loading:0,preload:null};if(w=u.querySelector(gu(p)))T.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":a},o),(o=$r.get(p))&&Zm(r,o);var j=w=u.createElement("link");vt(j),Yn(j,"link",r),j._p=new Promise(function(ee,de){j.onload=ee,j.onerror=de}),j.addEventListener("load",function(){T.loading|=1}),j.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Nd(w,a,u)}w={type:"stylesheet",instance:w,count:1,state:T},h.set(p,w)}}}function $2(r,a){aa.X(r,a);var o=Ho;if(o&&r){var u=Tt(o).hoistableScripts,h=$o(r),p=u.get(h);p||(p=o.querySelector(yu(h)),p||(r=_({src:r,async:!0},a),(a=$r.get(h))&&Jm(r,a),p=o.createElement("script"),vt(p),Yn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function W2(r,a){aa.M(r,a);var o=Ho;if(o&&r){var u=Tt(o).hoistableScripts,h=$o(r),p=u.get(h);p||(p=o.querySelector(yu(h)),p||(r=_({src:r,async:!0,type:"module"},a),(a=$r.get(h))&&Jm(r,a),p=o.createElement("script"),vt(p),Yn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function s_(r,a,o,u){var h=(h=Se.current)?Rd(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Yo(o.href),o=Tt(h).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Yo(o.href);var p=Tt(h).hoistableStyles,w=p.get(r);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,w),(p=h.querySelector(gu(r)))&&!p._p&&(w.instance=p,w.state.loading=5),$r.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$r.set(r,o),p||G2(h,r,o,w.state))),a&&u===null)throw Error(i(528,""));return w}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=$o(o),o=Tt(h).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Yo(r){return'href="'+fn(r)+'"'}function gu(r){return'link[rel="stylesheet"]['+r+"]"}function o_(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function G2(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Yn(a,"link",o),vt(a),r.head.appendChild(a))}function $o(r){return'[src="'+fn(r)+'"]'}function yu(r){return"script[async]"+r}function l_(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+fn(o.href)+'"]');if(u)return a.instance=u,vt(u),u;var h=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),vt(u),Yn(u,"style",h),Nd(u,o.precedence,r),a.instance=u;case"stylesheet":h=Yo(o.href);var p=r.querySelector(gu(h));if(p)return a.state.loading|=4,a.instance=p,vt(p),p;u=o_(o),(h=$r.get(h))&&Zm(u,h),p=(r.ownerDocument||r).createElement("link"),vt(p);var w=p;return w._p=new Promise(function(T,j){w.onload=T,w.onerror=j}),Yn(p,"link",u),a.state.loading|=4,Nd(p,o.precedence,r),a.instance=p;case"script":return p=$o(o.src),(h=r.querySelector(yu(p)))?(a.instance=h,vt(h),h):(u=o,(h=$r.get(p))&&(u=_({},o),Jm(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),vt(h),Yn(h,"link",u),r.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Nd(u,o.precedence,r));return a.instance}function Nd(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,p=h,w=0;w<u.length;w++){var T=u[w];if(T.dataset.precedence===a)p=T;else if(p!==h)break}p?p.parentNode.insertBefore(r,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function Zm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Jm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Cd=null;function u_(r,a,o){if(Cd===null){var u=new Map,h=Cd=new Map;h.set(o,u)}else h=Cd,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var p=o[h];if(!(p[He]||p[K]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(a)||"";w=r+w;var T=u.get(w);T?T.push(p):u.set(w,[p])}}return u}function c_(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function K2(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function d_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var vu=null;function Q2(){}function X2(r,a,o){if(vu===null)throw Error(i(475));var u=vu;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Yo(o.href),p=r.querySelector(gu(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Dd.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=p,vt(p);return}p=r.ownerDocument||r,o=o_(o),(h=$r.get(h))&&Zm(o,h),p=p.createElement("link"),vt(p);var w=p;w._p=new Promise(function(T,j){w.onload=T,w.onerror=j}),Yn(p,"link",o),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Dd.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function Z2(){if(vu===null)throw Error(i(475));var r=vu;return r.stylesheets&&r.count===0&&ep(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&ep(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Dd(){if(this.count--,this.count===0){if(this.stylesheets)ep(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Id=null;function ep(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Id=new Map,a.forEach(J2,r),Id=null,Dd.call(r))}function J2(r,a){if(!(a.state.loading&4)){var o=Id.get(r);if(o)var u=o.get(null);else{o=new Map,Id.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var w=h[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}h=a.instance,w=h.getAttribute("data-precedence"),p=o.get(w)||u,p===u&&o.set(null,h),o.set(w,h),this.count++,u=Dd.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),p?p.parentNode.insertBefore(h,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),a.state.loading|=4}}var _u={$$typeof:J,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function eS(r,a,o,u,h,p,w,T){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=je(0),this.hiddenUpdates=je(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function h_(r,a,o,u,h,p,w,T,j,ee,de,me){return r=new eS(r,a,o,w,T,j,ee,me),a=1,p===!0&&(a|=24),p=xr(3,null,null,a),r.current=p,p.stateNode=r,a=Pf(),a.refCount++,r.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:a},Uf(p),r}function f_(r){return r?(r=xo,r):xo}function m_(r,a,o,u,h,p){h=f_(h),u.context===null?u.context=h:u.pendingContext=h,u=Sa(a),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Aa(r,u,a),o!==null&&(Nr(o,r,a),Kl(o,r,a))}function p_(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function tp(r,a){p_(r,a),(r=r.alternate)&&p_(r,a)}function g_(r){if(r.tag===13){var a=wo(r,67108864);a!==null&&Nr(a,r,67108864),tp(r,67108864)}}var Md=!0;function tS(r,a,o,u){var h=P.T;P.T=null;var p=X.p;try{X.p=2,np(r,a,o,u)}finally{X.p=p,P.T=h}}function nS(r,a,o,u){var h=P.T;P.T=null;var p=X.p;try{X.p=8,np(r,a,o,u)}finally{X.p=p,P.T=h}}function np(r,a,o,u){if(Md){var h=rp(u);if(h===null)qm(r,a,u,Od,o),v_(r,u);else if(iS(h,r,a,o,u))u.stopPropagation();else if(v_(r,u),a&4&&-1<rS.indexOf(r)){for(;h!==null;){var p=dt(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=Ln(p.pendingLanes);if(w!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;w;){var j=1<<31-Ft(w);T.entanglements[1]|=j,w&=~j}xi(p),(Mt&6)===0&&(gd=Re()+500,hu(0))}}break;case 13:T=wo(p,2),T!==null&&Nr(T,p,2),vd(),tp(p,2)}if(p=rp(u),p===null&&qm(r,a,u,Od,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else qm(r,a,u,null,o)}}function rp(r){return r=Vr(r),ip(r)}var Od=null;function ip(r){if(Od=null,r=Ke(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Od=r,null}function y_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gt()){case _n:return 2;case bn:return 8;case Dt:case Xt:return 32;case Yt:return 268435456;default:return 32}default:return 32}}var ap=!1,Ua=null,Ba=null,za=null,bu=new Map,Eu=new Map,Fa=[],rS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v_(r,a){switch(r){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":bu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(a.pointerId)}}function wu(r,a,o,u,h,p){return r===null||r.nativeEvent!==p?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},a!==null&&(a=dt(a),a!==null&&g_(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),r)}function iS(r,a,o,u,h){switch(a){case"focusin":return Ua=wu(Ua,r,a,o,u,h),!0;case"dragenter":return Ba=wu(Ba,r,a,o,u,h),!0;case"mouseover":return za=wu(za,r,a,o,u,h),!0;case"pointerover":var p=h.pointerId;return bu.set(p,wu(bu.get(p)||null,r,a,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,Eu.set(p,wu(Eu.get(p)||null,r,a,o,u,h)),!0}return!1}function __(r){var a=Ke(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,G(r.priority,function(){if(o.tag===13){var u=Rr();u=Ve(u);var h=wo(o,u);h!==null&&Nr(h,o,u),tp(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function kd(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=rp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);zi=u,o.target.dispatchEvent(u),zi=null}else return a=dt(o),a!==null&&g_(a),r.blockedOn=o,!1;a.shift()}return!0}function b_(r,a,o){kd(r)&&o.delete(a)}function aS(){ap=!1,Ua!==null&&kd(Ua)&&(Ua=null),Ba!==null&&kd(Ba)&&(Ba=null),za!==null&&kd(za)&&(za=null),bu.forEach(b_),Eu.forEach(b_)}function Pd(r,a){r.blockedOn===a&&(r.blockedOn=null,ap||(ap=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aS)))}var jd=null;function E_(r){jd!==r&&(jd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jd===r&&(jd=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],h=r[a+2];if(typeof u!="function"){if(ip(u||o)===null)continue;break}var p=dt(o);p!==null&&(r.splice(a,3),a-=3,im(p,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function xu(r){function a(j){return Pd(j,r)}Ua!==null&&Pd(Ua,r),Ba!==null&&Pd(Ba,r),za!==null&&Pd(za,r),bu.forEach(a),Eu.forEach(a);for(var o=0;o<Fa.length;o++){var u=Fa[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Fa.length&&(o=Fa[0],o.blockedOn===null);)__(o),o.blockedOn===null&&Fa.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],p=o[u+1],w=h[ce]||null;if(typeof p=="function")w||E_(o);else if(w){var T=null;if(p&&p.hasAttribute("formAction")){if(h=p,w=p[ce]||null)T=w.formAction;else if(ip(h)!==null)continue}else T=w.action;typeof T=="function"?o[u+1]=T:(o.splice(u,3),u-=3),E_(o)}}}function sp(r){this._internalRoot=r}Vd.prototype.render=sp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=Rr();m_(o,u,r,a,null,null)},Vd.prototype.unmount=sp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;m_(r.current,2,null,r,null,null),vd(),a[Ae]=null}};function Vd(r){this._internalRoot=r}Vd.prototype.unstable_scheduleHydration=function(r){if(r){var a=V();r={blockedOn:null,target:r,priority:a};for(var o=0;o<Fa.length&&a!==0&&a<Fa[o].priority;o++);Fa.splice(o,0,r),o===0&&__(r)}};var w_=e.version;if(w_!=="19.1.0")throw Error(i(527,w_,"19.1.0"));X.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var sS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{et=Ld.inject(sS),Fe=Ld}catch{}}return Su.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",h=Lv,p=Uv,w=Bv,T=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks)),a=h_(r,1,!1,null,null,o,u,h,p,w,T,null),r[Ae]=a.current,Fm(r),new sp(a)},Su.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,h="",p=Lv,w=Uv,T=Bv,j=null,ee=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks),o.formState!==void 0&&(ee=o.formState)),a=h_(r,1,!0,a,o??null,u,h,p,w,T,j,ee),a.context=f_(null),o=a.current,u=Rr(),u=Ve(u),h=Sa(u),h.callback=null,Aa(o,h,u),o=u,a.current.lanes=o,Be(a,o),xi(a),r[Ae]=a.current,Fm(r),new Vd(a)},Su.version="19.1.0",Su}var M_;function pS(){if(M_)return up.exports;M_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),up.exports=mS(),up.exports}var gS=pS();const yS=kh(gS);var Au={},O_;function vS(){if(O_)return Au;O_=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.parse=c,Au.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,N){const C=new l,Y=x.length;if(Y<2)return C;const B=N?.decode||_;let q=0;do{const le=x.indexOf("=",q);if(le===-1)break;const J=x.indexOf(";",q),pe=J===-1?Y:J;if(le>pe){q=x.lastIndexOf(";",le-1)+1;continue}const ae=f(x,q,le),L=m(x,le,ae),I=x.slice(ae,L);if(C[I]===void 0){let S=f(x,le+1,pe),R=m(x,pe,S);const O=B(x.slice(S,R));C[I]=O}q=pe+1}while(q<Y);return C}function f(x,N,C){do{const Y=x.charCodeAt(N);if(Y!==32&&Y!==9)return N}while(++N<C);return C}function m(x,N,C){for(;N>C;){const Y=x.charCodeAt(--N);if(Y!==32&&Y!==9)return N+1}return C}function g(x,N,C){const Y=C?.encode||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const B=Y(N);if(!e.test(B))throw new TypeError(`argument val is invalid: ${N}`);let q=x+"="+B;if(!C)return q;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);q+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);q+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);q+="; Path="+C.path}if(C.expires){if(!E(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);q+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(q+="; HttpOnly"),C.secure&&(q+="; Secure"),C.partitioned&&(q+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return q}function _(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function E(x){return s.call(x)==="[object Date]"}return Au}vS();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sE=n=>{throw TypeError(n)},_S=(n,e,t)=>e.has(n)||sE("Cannot "+t),fp=(n,e,t)=>(_S(n,e,"read from private field"),t?t.call(n):e.get(n)),bS=(n,e,t)=>e.has(n)?sE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),k_="popstate";function ES(n={}){function e(i,s){let{pathname:l,search:c,hash:f}=i.location;return Wu("",{pathname:l,search:c,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:as(s)}return xS(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function cn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wS(){return Math.random().toString(36).substring(2,10)}function P_(n,e){return{usr:n.state,key:n.key,idx:e}}function Wu(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?fs(e):e,state:t,key:e&&e.key||i||wS()}}function as({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function fs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function xS(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,f="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function E(){f="POP";let B=_(),q=B==null?null:B-g;g=B,m&&m({action:f,location:Y.location,delta:q})}function x(B,q){f="PUSH";let le=Wu(Y.location,B,q);g=_()+1;let J=P_(le,g),pe=Y.createHref(le);try{c.pushState(J,"",pe)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;s.location.assign(pe)}l&&m&&m({action:f,location:Y.location,delta:1})}function N(B,q){f="REPLACE";let le=Wu(Y.location,B,q);g=_();let J=P_(le,g),pe=Y.createHref(le);c.replaceState(J,"",pe),l&&m&&m({action:f,location:Y.location,delta:0})}function C(B){return oE(B)}let Y={get action(){return f},get location(){return n(s,c)},listen(B){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(k_,E),m=B,()=>{s.removeEventListener(k_,E),m=null}},createHref(B){return e(s,B)},createURL:C,encodeLocation(B){let q=C(B);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:x,replace:N,go(B){return c.go(B)}};return Y}function oE(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ct(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:as(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var Du,j_=class{constructor(n){if(bS(this,Du,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(fp(this,Du).has(n))return fp(this,Du).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){fp(this,Du).set(n,e)}};Du=new WeakMap;var TS=new Set(["lazy","caseSensitive","path","id","index","children"]);function SS(n){return TS.has(n)}var AS=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function RS(n){return AS.has(n)}function NS(n){return n.index===!0}function uh(n,e,t=[],i={}){return n.map((s,l)=>{let c=[...t,String(l)],f=typeof s.id=="string"?s.id:c.join("-");if(ct(s.index!==!0||!s.children,"Cannot specify children on an index route"),ct(!i[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),NS(s)){let m={...s,...e(s),id:f};return i[f]=m,m}else{let m={...s,...e(s),id:f,children:void 0};return i[f]=m,s.children&&(m.children=uh(s.children,e,c,i)),m}})}function Wa(n,e,t="/"){return Wd(n,e,t,!1)}function Wd(n,e,t,i){let s=typeof e=="string"?fs(e):e,l=Qr(s.pathname||"/",t);if(l==null)return null;let c=lE(n);DS(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let g=zS(l);f=US(c[m],g,i)}return f}function CS(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],handle:t.handle}}function lE(n,e=[],t=[],i=""){let s=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(ct(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let g=Ci([i,m.relativePath]),_=t.concat(m);l.children&&l.children.length>0&&(ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),lE(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:VS(g,l.index),routesMeta:_})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let f of uE(l.path))s(l,c,f)}),e}function uE(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=uE(i.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function DS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:LS(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var IS=/^:[\w-]+$/,MS=3,OS=2,kS=1,PS=10,jS=-2,V_=n=>n==="*";function VS(n,e){let t=n.split("/"),i=t.length;return t.some(V_)&&(i+=jS),e&&(i+=OS),t.filter(s=>!V_(s)).reduce((s,l)=>s+(IS.test(l)?MS:l===""?kS:PS),i)}function LS(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function US(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let f=0;f<i.length;++f){let m=i[f],g=f===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=ch({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),x=m.route;if(!E&&g&&t&&!i[i.length-1].route.index&&(E=ch({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!E)return null;Object.assign(s,E.params),c.push({params:s,pathname:Ci([l,E.pathname]),pathnameBase:HS(Ci([l,E.pathnameBase])),route:x}),E.pathnameBase!=="/"&&(l=Ci([l,E.pathnameBase]))}return c}function ch(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=BS(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:E},x)=>{if(_==="*"){let C=f[x]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const N=f[x];return E&&!N?g[_]=void 0:g[_]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function BS(n,e=!1,t=!0){cn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function zS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Qr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function FS(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?fs(n):n;return{pathname:t?t.startsWith("/")?t:qS(t,e):e,search:YS(i),hash:$S(s)}}function qS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function mp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ph(n){let e=cE(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function jh(n,e,t,i=!1){let s;typeof n=="string"?s=fs(n):(s={...n},ct(!s.pathname||!s.pathname.includes("?"),mp("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),mp("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),mp("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,f;if(c==null)f=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),E-=1;s.pathname=x.join("/")}f=E>=0?e[E]:"/"}let m=FS(s,f),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var Ci=n=>n.join("/").replace(/\/\/+/g,"/"),HS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),YS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$S=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,dh=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Gu(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var dE=["POST","PUT","PATCH","DELETE"],WS=new Set(dE),GS=["GET",...dE],KS=new Set(GS),QS=new Set([301,302,303,307,308]),XS=new Set([307,308]),pp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ZS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ru={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JS=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),hE="remix-router-transitions",fE=Symbol("ResetLoaderData");function eA(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ct(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],s=n.mapRouteProperties||JS,l={},c=uh(n.routes,s,void 0,l),f,m=n.basename||"/",g=n.dataStrategy||aA,_={unstable_middleware:!1,...n.future},E=null,x=new Set,N=null,C=null,Y=null,B=n.hydrationData!=null,q=Wa(c,n.history.location,m),le=!1,J=null,pe;if(q==null&&!n.patchRoutesOnNavigation){let V=Wr(404,{pathname:n.history.location.pathname}),{matches:G,route:$}=K_(c);pe=!0,q=G,J={[$.id]:V}}else if(q&&!n.hydrationData&&Ze(q,c,n.history.location.pathname).active&&(q=null),q)if(q.some(V=>V.route.lazy))pe=!1;else if(!q.some(V=>V.route.loader))pe=!0;else{let V=n.hydrationData?n.hydrationData.loaderData:null,G=n.hydrationData?n.hydrationData.errors:null;if(G){let $=q.findIndex(K=>G[K.route.id]!==void 0);pe=q.slice(0,$+1).every(K=>!Op(K.route,V,G))}else pe=q.every($=>!Op($.route,V,G))}else{pe=!1,q=[];let V=Ze(null,c,n.history.location.pathname);V.active&&V.matches&&(le=!0,q=V.matches)}let ae,L={historyAction:n.history.action,location:n.history.location,matches:q,initialized:pe,navigation:pp,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||J,fetchers:new Map,blockers:new Map},I="POP",S=!1,R,O=!1,k=new Map,z=null,M=!1,_e=!1,ge=new Set,P=new Map,X=0,te=-1,ve=new Map,D=new Set,ne=new Map,ue=new Map,oe=new Set,xe=new Map,Me,Se=null;function mt(){if(E=n.history.listen(({action:V,location:G,delta:$})=>{if(Me){Me(),Me=void 0;return}cn(xe.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=Ge({currentLocation:L.location,nextLocation:G,historyAction:V});if(K&&$!=null){let ce=new Promise(Ae=>{Me=Ae});n.history.go($*-1),Un(K,{state:"blocked",location:G,proceed(){Un(K,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),ce.then(()=>n.history.go($))},reset(){let Ae=new Map(L.blockers);Ae.set(K,Ru),Xe({blockers:Ae})}});return}return Qt(V,G)}),t){gA(e,k);let V=()=>yA(e,k);e.addEventListener("pagehide",V),z=()=>e.removeEventListener("pagehide",V)}return L.initialized||Qt("POP",L.location,{initialHydration:!0}),ae}function it(){E&&E(),z&&z(),x.clear(),R&&R.abort(),L.fetchers.forEach((V,G)=>Ft(G)),L.blockers.forEach((V,G)=>ir(G))}function yt(V){return x.add(V),()=>x.delete(V)}function Xe(V,G={}){L={...L,...V};let $=[],K=[];L.fetchers.forEach((ce,Ae)=>{ce.state==="idle"&&(oe.has(Ae)?$.push(Ae):K.push(Ae))}),oe.forEach(ce=>{!L.fetchers.has(ce)&&!P.has(ce)&&$.push(ce)}),[...x].forEach(ce=>ce(L,{deletedFetchers:$,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),$.forEach(ce=>Ft(ce)),K.forEach(ce=>L.fetchers.delete(ce))}function xt(V,G,{flushSync:$}={}){let K=L.actionData!=null&&L.navigation.formMethod!=null&&Ir(L.navigation.formMethod)&&L.navigation.state==="loading"&&V.state?._isRedirect!==!0,ce;G.actionData?Object.keys(G.actionData).length>0?ce=G.actionData:ce=null:K?ce=L.actionData:ce=null;let Ae=G.loaderData?W_(L.loaderData,G.loaderData,G.matches||[],G.errors):L.loaderData,be=L.blockers;be.size>0&&(be=new Map(be),be.forEach((ke,He)=>be.set(He,Ru)));let we=S===!0||L.navigation.formMethod!=null&&Ir(L.navigation.formMethod)&&V.state?._isRedirect!==!0;f&&(c=f,f=void 0),M||I==="POP"||(I==="PUSH"?n.history.push(V,V.state):I==="REPLACE"&&n.history.replace(V,V.state));let Ce;if(I==="POP"){let ke=k.get(L.location.pathname);ke&&ke.has(V.pathname)?Ce={currentLocation:L.location,nextLocation:V}:k.has(V.pathname)&&(Ce={currentLocation:V,nextLocation:L.location})}else if(O){let ke=k.get(L.location.pathname);ke?ke.add(V.pathname):(ke=new Set([V.pathname]),k.set(L.location.pathname,ke)),Ce={currentLocation:L.location,nextLocation:V}}Xe({...G,actionData:ce,loaderData:Ae,historyAction:I,location:V,initialized:!0,navigation:pp,revalidation:"idle",restoreScrollPosition:nt(V,G.matches||L.matches),preventScrollReset:we,blockers:be},{viewTransitionOpts:Ce,flushSync:$===!0}),I="POP",S=!1,O=!1,M=!1,_e=!1,Se?.resolve(),Se=null}async function Wt(V,G){if(typeof V=="number"){n.history.go(V);return}let $=Mp(L.location,L.matches,m,V,G?.fromRouteId,G?.relative),{path:K,submission:ce,error:Ae}=L_(!1,$,G),be=L.location,we=Wu(L.location,K,G&&G.state);we={...we,...n.history.encodeLocation(we)};let Ce=G&&G.replace!=null?G.replace:void 0,ke="PUSH";Ce===!0?ke="REPLACE":Ce===!1||ce!=null&&Ir(ce.formMethod)&&ce.formAction===L.location.pathname+L.location.search&&(ke="REPLACE");let He=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,ze=(G&&G.flushSync)===!0,Ke=Ge({currentLocation:be,nextLocation:we,historyAction:ke});if(Ke){Un(Ke,{state:"blocked",location:we,proceed(){Un(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),Wt(V,G)},reset(){let dt=new Map(L.blockers);dt.set(Ke,Ru),Xe({blockers:dt})}});return}await Qt(ke,we,{submission:ce,pendingError:Ae,preventScrollReset:He,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:ze})}function dn(){Se||(Se=vA()),an(),Xe({revalidation:"loading"});let V=Se.promise;return L.navigation.state==="submitting"?V:L.navigation.state==="idle"?(Qt(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),V):(Qt(I||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:O===!0}),V)}async function Qt(V,G,$){R&&R.abort(),R=null,I=V,M=($&&$.startUninterruptedRevalidation)===!0,Be(L.location,L.matches),S=($&&$.preventScrollReset)===!0,O=($&&$.enableViewTransition)===!0;let K=f||c,ce=$&&$.overrideNavigation,Ae=$?.initialHydration&&L.matches&&L.matches.length>0&&!le?L.matches:Wa(K,G,m),be=($&&$.flushSync)===!0;if(Ae&&L.initialized&&!_e&&dA(L.location,G)&&!($&&$.submission&&Ir($.submission.formMethod))){xt(G,{matches:Ae},{flushSync:be});return}let we=Ze(Ae,K,G.pathname);if(we.active&&we.matches&&(Ae=we.matches),!Ae){let{error:Tt,notFoundMatches:vt,route:lt}=H(G.pathname);xt(G,{matches:vt,loaderData:{},errors:{[lt.id]:Tt}},{flushSync:be});return}R=new AbortController;let Ce=Go(n.history,G,R.signal,$&&$.submission),ke=new j_(n.unstable_getContext?await n.unstable_getContext():void 0),He;if($&&$.pendingError)He=[Ws(Ae).route.id,{type:"error",error:$.pendingError}];else if($&&$.submission&&Ir($.submission.formMethod)){let Tt=await Dn(Ce,G,$.submission,Ae,ke,we.active,$&&$.initialHydration===!0,{replace:$.replace,flushSync:be});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[vt,lt]=Tt.pendingActionResult;if(Dr(lt)&&Gu(lt.error)&&lt.error.status===404){R=null,xt(G,{matches:Tt.matches,loaderData:{},errors:{[vt]:lt.error}});return}}Ae=Tt.matches||Ae,He=Tt.pendingActionResult,ce=gp(G,$.submission),be=!1,we.active=!1,Ce=Go(n.history,Ce.url,Ce.signal)}let{shortCircuited:ze,matches:Ke,loaderData:dt,errors:Rt}=await Or(Ce,G,Ae,ke,we.active,ce,$&&$.submission,$&&$.fetcherSubmission,$&&$.replace,$&&$.initialHydration===!0,be,He);ze||(R=null,xt(G,{matches:Ke||Ae,...G_(He),loaderData:dt,errors:Rt}))}async function Dn(V,G,$,K,ce,Ae,be,we={}){an();let Ce=mA(G,$);if(Xe({navigation:Ce},{flushSync:we.flushSync===!0}),Ae){let ze=await It(K,G.pathname,V.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let Ke=Ws(ze.partialMatches).route.id;return{matches:ze.partialMatches,pendingActionResult:[Ke,{type:"error",error:ze.error}]}}else if(ze.matches)K=ze.matches;else{let{notFoundMatches:Ke,error:dt,route:Rt}=H(G.pathname);return{matches:Ke,pendingActionResult:[Rt.id,{type:"error",error:dt}]}}}let ke,He=Iu(K,G);if(!He.route.action&&!He.route.lazy)ke={type:"error",error:Wr(405,{method:V.method,pathname:G.pathname,routeId:He.route.id})};else{let ze=tl(s,l,V,K,He,be?[]:i,ce),Ke=await Yt(V,ze,ce,null);if(ke=Ke[He.route.id],!ke){for(let dt of K)if(Ke[dt.route.id]){ke=Ke[dt.route.id];break}}if(V.signal.aborted)return{shortCircuited:!0}}if(Gs(ke)){let ze;return we&&we.replace!=null?ze=we.replace:ze=H_(ke.response.headers.get("Location"),new URL(V.url),m)===L.location.pathname+L.location.search,await Xt(V,ke,!0,{submission:$,replace:ze}),{shortCircuited:!0}}if(Dr(ke)){let ze=Ws(K,He.route.id);return(we&&we.replace)!==!0&&(I="PUSH"),{matches:K,pendingActionResult:[ze.route.id,ke,He.route.id]}}return{matches:K,pendingActionResult:[He.route.id,ke]}}async function Or(V,G,$,K,ce,Ae,be,we,Ce,ke,He,ze){let Ke=Ae||gp(G,be),dt=be||we||X_(Ke),Rt=!M&&!ke;if(ce){if(Rt){let hn=Re(ze);Xe({navigation:Ke,...hn!==void 0?{actionData:hn}:{}},{flushSync:He})}let Je=await It($,G.pathname,V.signal);if(Je.type==="aborted")return{shortCircuited:!0};if(Je.type==="error"){let hn=Ws(Je.partialMatches).route.id;return{matches:Je.partialMatches,loaderData:{},errors:{[hn]:Je.error}}}else if(Je.matches)$=Je.matches;else{let{error:hn,notFoundMatches:br,route:fr}=H(G.pathname);return{matches:br,loaderData:{},errors:{[fr.id]:hn}}}}let Tt=f||c,{dsMatches:vt,revalidatingFetchers:lt}=U_(V,K,s,l,n.history,L,$,dt,G,ke?[]:i,ke===!0,_e,ge,oe,ne,D,Tt,m,n.patchRoutesOnNavigation!=null,ze);if(te=++X,!n.dataStrategy&&!vt.some(Je=>Je.shouldLoad)&&lt.length===0){let Je=dr();return xt(G,{matches:$,loaderData:{},errors:ze&&Dr(ze[1])?{[ze[0]]:ze[1].error}:null,...G_(ze),...Je?{fetchers:new Map(L.fetchers)}:{}},{flushSync:He}),{shortCircuited:!0}}if(Rt){let Je={};if(!ce){Je.navigation=Ke;let hn=Re(ze);hn!==void 0&&(Je.actionData=hn)}lt.length>0&&(Je.fetchers=Gt(lt)),Xe(Je,{flushSync:He})}lt.forEach(Je=>{In(Je.key),Je.controller&&P.set(Je.key,Je.controller)});let kr=()=>lt.forEach(Je=>In(Je.key));R&&R.signal.addEventListener("abort",kr);let{loaderResults:xn,fetcherResults:ar}=await En(vt,lt,V,K);if(V.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",kr),lt.forEach(Je=>P.delete(Je.key));let Bn=Ud(xn);if(Bn)return await Xt(V,Bn.result,!0,{replace:Ce}),{shortCircuited:!0};if(Bn=Ud(ar),Bn)return D.add(Bn.key),await Xt(V,Bn.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:ci,errors:_r}=$_(L,$,xn,ze,lt,ar);ke&&L.errors&&(_r={...L.errors,..._r});let ba=dr(),Qn=hr(te),sr=ba||Qn||lt.length>0;return{matches:$,loaderData:ci,errors:_r,...sr?{fetchers:new Map(L.fetchers)}:{}}}function Re(V){if(V&&!Dr(V[1]))return{[V[0]]:V[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Gt(V){return V.forEach(G=>{let $=L.fetchers.get(G.key),K=Nu(void 0,$?$.data:void 0);L.fetchers.set(G.key,K)}),new Map(L.fetchers)}async function _n(V,G,$,K){In(V);let ce=(K&&K.flushSync)===!0,Ae=f||c,be=Mp(L.location,L.matches,m,$,G,K?.relative),we=Wa(Ae,be,m),Ce=Ze(we,Ae,be);if(Ce.active&&Ce.matches&&(we=Ce.matches),!we){Fe(V,G,Wr(404,{pathname:be}),{flushSync:ce});return}let{path:ke,submission:He,error:ze}=L_(!0,be,K);if(ze){Fe(V,G,ze,{flushSync:ce});return}let Ke=Iu(we,ke),dt=new j_(n.unstable_getContext?await n.unstable_getContext():void 0),Rt=(K&&K.preventScrollReset)===!0;if(He&&Ir(He.formMethod)){await bn(V,G,ke,Ke,we,dt,Ce.active,ce,Rt,He);return}ne.set(V,{routeId:G,path:ke}),await Dt(V,G,ke,Ke,we,dt,Ce.active,ce,Rt,He)}async function bn(V,G,$,K,ce,Ae,be,we,Ce,ke){an(),ne.delete(V);function He(Bt){if(!Bt.route.action&&!Bt.route.lazy){let Pr=Wr(405,{method:ke.formMethod,pathname:$,routeId:G});return Fe(V,G,Pr,{flushSync:we}),!0}return!1}if(!be&&He(K))return;let ze=L.fetchers.get(V);et(V,pA(ke,ze),{flushSync:we});let Ke=new AbortController,dt=Go(n.history,$,Ke.signal,ke);if(be){let Bt=await It(ce,$,dt.signal,V);if(Bt.type==="aborted")return;if(Bt.type==="error"){Fe(V,G,Bt.error,{flushSync:we});return}else if(Bt.matches){if(ce=Bt.matches,K=Iu(ce,$),He(K))return}else{Fe(V,G,Wr(404,{pathname:$}),{flushSync:we});return}}P.set(V,Ke);let Rt=X,Tt=tl(s,l,dt,ce,K,i,Ae),lt=(await Yt(dt,Tt,Ae,V))[K.route.id];if(dt.signal.aborted){P.get(V)===Ke&&P.delete(V);return}if(oe.has(V)){if(Gs(lt)||Dr(lt)){et(V,$a(void 0));return}}else{if(Gs(lt))if(P.delete(V),te>Rt){et(V,$a(void 0));return}else return D.add(V),et(V,Nu(ke)),Xt(dt,lt,!1,{fetcherSubmission:ke,preventScrollReset:Ce});if(Dr(lt)){Fe(V,G,lt.error);return}}let kr=L.navigation.location||L.location,xn=Go(n.history,kr,Ke.signal),ar=f||c,Bn=L.navigation.state!=="idle"?Wa(ar,L.navigation.location,m):L.matches;ct(Bn,"Didn't find any matches after fetcher action");let ci=++X;ve.set(V,ci);let _r=Nu(ke,lt.data);L.fetchers.set(V,_r);let{dsMatches:ba,revalidatingFetchers:Qn}=U_(xn,Ae,s,l,n.history,L,Bn,ke,kr,i,!1,_e,ge,oe,ne,D,ar,m,n.patchRoutesOnNavigation!=null,[K.route.id,lt]);Qn.filter(Bt=>Bt.key!==V).forEach(Bt=>{let Pr=Bt.key,Ui=L.fetchers.get(Pr),zn=Nu(void 0,Ui?Ui.data:void 0);L.fetchers.set(Pr,zn),In(Pr),Bt.controller&&P.set(Pr,Bt.controller)}),Xe({fetchers:new Map(L.fetchers)});let sr=()=>Qn.forEach(Bt=>In(Bt.key));Ke.signal.addEventListener("abort",sr);let{loaderResults:Je,fetcherResults:hn}=await En(ba,Qn,xn,Ae);if(Ke.signal.aborted)return;if(Ke.signal.removeEventListener("abort",sr),ve.delete(V),P.delete(V),Qn.forEach(Bt=>P.delete(Bt.key)),L.fetchers.has(V)){let Bt=$a(lt.data);L.fetchers.set(V,Bt)}let br=Ud(Je);if(br)return Xt(xn,br.result,!1,{preventScrollReset:Ce});if(br=Ud(hn),br)return D.add(br.key),Xt(xn,br.result,!1,{preventScrollReset:Ce});let{loaderData:fr,errors:di}=$_(L,Bn,Je,void 0,Qn,hn);hr(ci),L.navigation.state==="loading"&&ci>te?(ct(I,"Expected pending action"),R&&R.abort(),xt(L.navigation.location,{matches:Bn,loaderData:fr,errors:di,fetchers:new Map(L.fetchers)})):(Xe({errors:di,loaderData:W_(L.loaderData,fr,Bn,di),fetchers:new Map(L.fetchers)}),_e=!1)}async function Dt(V,G,$,K,ce,Ae,be,we,Ce,ke){let He=L.fetchers.get(V);et(V,Nu(ke,He?He.data:void 0),{flushSync:we});let ze=new AbortController,Ke=Go(n.history,$,ze.signal);if(be){let lt=await It(ce,$,Ke.signal,V);if(lt.type==="aborted")return;if(lt.type==="error"){Fe(V,G,lt.error,{flushSync:we});return}else if(lt.matches)ce=lt.matches,K=Iu(ce,$);else{Fe(V,G,Wr(404,{pathname:$}),{flushSync:we});return}}P.set(V,ze);let dt=X,Rt=tl(s,l,Ke,ce,K,i,Ae),vt=(await Yt(Ke,Rt,Ae,V))[K.route.id];if(P.get(V)===ze&&P.delete(V),!Ke.signal.aborted){if(oe.has(V)){et(V,$a(void 0));return}if(Gs(vt))if(te>dt){et(V,$a(void 0));return}else{D.add(V),await Xt(Ke,vt,!1,{preventScrollReset:Ce});return}if(Dr(vt)){Fe(V,G,vt.error);return}et(V,$a(vt.data))}}async function Xt(V,G,$,{submission:K,fetcherSubmission:ce,preventScrollReset:Ae,replace:be}={}){G.response.headers.has("X-Remix-Revalidate")&&(_e=!0);let we=G.response.headers.get("Location");ct(we,"Expected a Location header on the redirect Response"),we=H_(we,new URL(V.url),m);let Ce=Wu(L.location,we,{_isRedirect:!0});if(t){let Rt=!1;if(G.response.headers.has("X-Remix-Reload-Document"))Rt=!0;else if(cg.test(we)){const Tt=oE(we,!0);Rt=Tt.origin!==e.location.origin||Qr(Tt.pathname,m)==null}if(Rt){be?e.location.replace(we):e.location.assign(we);return}}R=null;let ke=be===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:He,formAction:ze,formEncType:Ke}=L.navigation;!K&&!ce&&He&&ze&&Ke&&(K=X_(L.navigation));let dt=K||ce;if(XS.has(G.response.status)&&dt&&Ir(dt.formMethod))await Qt(ke,Ce,{submission:{...dt,formAction:we},preventScrollReset:Ae||S,enableViewTransition:$?O:void 0});else{let Rt=gp(Ce,K);await Qt(ke,Ce,{overrideNavigation:Rt,fetcherSubmission:ce,preventScrollReset:Ae||S,enableViewTransition:$?O:void 0})}}async function Yt(V,G,$,K){let ce,Ae={};try{ce=await sA(g,V,G,K,$,!1)}catch(be){return G.filter(we=>we.shouldLoad).forEach(we=>{Ae[we.route.id]={type:"error",error:be}}),Ae}if(V.signal.aborted)return Ae;for(let[be,we]of Object.entries(ce))if(hA(we)){let Ce=we.result;Ae[be]={type:"redirect",response:uA(Ce,V,be,G,m)}}else Ae[be]=await lA(we);return Ae}async function En(V,G,$,K){let ce=Yt($,V,K,null),Ae=Promise.all(G.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let He=(await Yt(Ce.request,Ce.matches,K,Ce.key))[Ce.match.route.id];return{[Ce.key]:He}}else return Promise.resolve({[Ce.key]:{type:"error",error:Wr(404,{pathname:Ce.path})}})})),be=await ce,we=(await Ae).reduce((Ce,ke)=>Object.assign(Ce,ke),{});return{loaderResults:be,fetcherResults:we}}function an(){_e=!0,ne.forEach((V,G)=>{P.has(G)&&ge.add(G),In(G)})}function et(V,G,$={}){L.fetchers.set(V,G),Xe({fetchers:new Map(L.fetchers)},{flushSync:($&&$.flushSync)===!0})}function Fe(V,G,$,K={}){let ce=Ws(L.matches,G);Ft(V),Xe({errors:{[ce.route.id]:$},fetchers:new Map(L.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function tn(V){return ue.set(V,(ue.get(V)||0)+1),oe.has(V)&&oe.delete(V),L.fetchers.get(V)||ZS}function Ft(V){let G=L.fetchers.get(V);P.has(V)&&!(G&&G.state==="loading"&&ve.has(V))&&In(V),ne.delete(V),ve.delete(V),D.delete(V),oe.delete(V),ge.delete(V),L.fetchers.delete(V)}function ui(V){let G=(ue.get(V)||0)-1;G<=0?(ue.delete(V),oe.add(V)):ue.set(V,G),Xe({fetchers:new Map(L.fetchers)})}function In(V){let G=P.get(V);G&&(G.abort(),P.delete(V))}function cr(V){for(let G of V){let $=tn(G),K=$a($.data);L.fetchers.set(G,K)}}function dr(){let V=[],G=!1;for(let $ of D){let K=L.fetchers.get($);ct(K,`Expected fetcher: ${$}`),K.state==="loading"&&(D.delete($),V.push($),G=!0)}return cr(V),G}function hr(V){let G=[];for(let[$,K]of ve)if(K<V){let ce=L.fetchers.get($);ct(ce,`Expected fetcher: ${$}`),ce.state==="loading"&&(In($),ve.delete($),G.push($))}return cr(G),G.length>0}function Ln(V,G){let $=L.blockers.get(V)||Ru;return xe.get(V)!==G&&xe.set(V,G),$}function ir(V){L.blockers.delete(V),xe.delete(V)}function Un(V,G){let $=L.blockers.get(V)||Ru;ct($.state==="unblocked"&&G.state==="blocked"||$.state==="blocked"&&G.state==="blocked"||$.state==="blocked"&&G.state==="proceeding"||$.state==="blocked"&&G.state==="unblocked"||$.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${$.state} -> ${G.state}`);let K=new Map(L.blockers);K.set(V,G),Xe({blockers:K})}function Ge({currentLocation:V,nextLocation:G,historyAction:$}){if(xe.size===0)return;xe.size>1&&cn(!1,"A router only supports one blocker at a time");let K=Array.from(xe.entries()),[ce,Ae]=K[K.length-1],be=L.blockers.get(ce);if(!(be&&be.state==="proceeding")&&Ae({currentLocation:V,nextLocation:G,historyAction:$}))return ce}function H(V){let G=Wr(404,{pathname:V}),$=f||c,{matches:K,route:ce}=K_($);return{notFoundMatches:K,route:ce,error:G}}function Ee(V,G,$){if(N=V,Y=G,C=$||null,!B&&L.navigation===pp){B=!0;let K=nt(L.location,L.matches);K!=null&&Xe({restoreScrollPosition:K})}return()=>{N=null,Y=null,C=null}}function je(V,G){return C&&C(V,G.map(K=>CS(K,L.loaderData)))||V.key}function Be(V,G){if(N&&Y){let $=je(V,G);N[$]=Y()}}function nt(V,G){if(N){let $=je(V,G),K=N[$];if(typeof K=="number")return K}return null}function Ze(V,G,$){if(n.patchRoutesOnNavigation)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:Wd(G,$,m,!0)}}else return{active:!0,matches:Wd(G,$,m,!0)||[]};return{active:!1,matches:null}}async function It(V,G,$,K){if(!n.patchRoutesOnNavigation)return{type:"success",matches:V};let ce=V;for(;;){let Ae=f==null,be=f||c,we=l;try{await n.patchRoutesOnNavigation({signal:$,path:G,matches:ce,fetcherKey:K,patch:(He,ze)=>{$.aborted||B_(He,ze,be,we,s)}})}catch(He){return{type:"error",error:He,partialMatches:ce}}finally{Ae&&!$.aborted&&(c=[...c])}if($.aborted)return{type:"aborted"};let Ce=Wa(be,G,m);if(Ce)return{type:"success",matches:Ce};let ke=Wd(be,G,m,!0);if(!ke||ce.length===ke.length&&ce.every((He,ze)=>He.route.id===ke[ze].route.id))return{type:"success",matches:null};ce=ke}}function Ve(V){l={},f=uh(V,s,void 0,l)}function wn(V,G){let $=f==null;B_(V,G,f||c,l,s),$&&(c=[...c],Xe({}))}return ae={get basename(){return m},get future(){return _},get state(){return L},get routes(){return c},get window(){return e},initialize:mt,subscribe:yt,enableScrollRestoration:Ee,navigate:Wt,fetch:_n,revalidate:dn,createHref:V=>n.history.createHref(V),encodeLocation:V=>n.history.encodeLocation(V),getFetcher:tn,deleteFetcher:ui,dispose:it,getBlocker:Ln,deleteBlocker:ir,patchRoutes:wn,_internalFetchControllers:P,_internalSetRoutes:Ve},ae}function tA(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Mp(n,e,t,i,s,l){let c,f;if(s){c=[];for(let g of e)if(c.push(g),g.route.id===s){f=g;break}}else c=e,f=e[e.length-1];let m=jh(i||".",Ph(c),Qr(n.pathname,t)||n.pathname,l==="path");if(i==null&&(m.search=n.search,m.hash=n.hash),(i==null||i===""||i===".")&&f){let g=dg(m.search);if(f.route.index&&!g)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&g){let _=new URLSearchParams(m.search),E=_.getAll("index");_.delete("index"),E.filter(N=>N).forEach(N=>_.append("index",N));let x=_.toString();m.search=x?`?${x}`:""}}return t!=="/"&&(m.pathname=m.pathname==="/"?t:Ci([t,m.pathname])),as(m)}function L_(n,e,t){if(!t||!tA(t))return{path:e};if(t.formMethod&&!fA(t.formMethod))return{path:e,error:Wr(405,{method:t.formMethod})};let i=()=>({path:e,error:Wr(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=_E(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Ir(l))return i();let E=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((x,[N,C])=>`${x}${N}=${C}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:E}}}else if(t.formEncType==="application/json"){if(!Ir(l))return i();try{let E=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:E,text:void 0}}}catch{return i()}}}ct(typeof FormData=="function","FormData is not available in this environment");let f,m;if(t.formData)f=Pp(t.formData),m=t.formData;else if(t.body instanceof FormData)f=Pp(t.body),m=t.body;else if(t.body instanceof URLSearchParams)f=t.body,m=Y_(f);else if(t.body==null)f=new URLSearchParams,m=new FormData;else try{f=new URLSearchParams(t.body),m=Y_(f)}catch{return i()}let g={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Ir(g.formMethod))return{path:e,submission:g};let _=fs(e);return n&&_.search&&dg(_.search)&&f.append("index",""),_.search=`?${f}`,{path:as(_),submission:g}}function U_(n,e,t,i,s,l,c,f,m,g,_,E,x,N,C,Y,B,q,le,J){let pe=J?Dr(J[1])?J[1].error:J[1].data:void 0,ae=s.createURL(l.location),L=s.createURL(m),I;if(_&&l.errors){let M=Object.keys(l.errors)[0];I=c.findIndex(_e=>_e.route.id===M)}else if(J&&Dr(J[1])){let M=J[0];I=c.findIndex(_e=>_e.route.id===M)-1}let S=J?J[1].statusCode:void 0,R=S&&S>=400,O={currentUrl:ae,currentParams:l.matches[0]?.params||{},nextUrl:L,nextParams:c[0].params,...f,actionResult:pe,actionStatus:S},k=c.map((M,_e)=>{let{route:ge}=M,P=null;if(I!=null&&_e>I?P=!1:ge.lazy?P=!0:ge.loader==null?P=!1:_?P=Op(ge,l.loaderData,l.errors):nA(l.loaderData,l.matches[_e],M)&&(P=!0),P!==null)return kp(t,i,n,M,g,e,P);let X=R?!1:E||ae.pathname+ae.search===L.pathname+L.search||ae.search!==L.search||rA(l.matches[_e],M),te={...O,defaultShouldRevalidate:X},ve=hh(M,te);return kp(t,i,n,M,g,e,ve,te)}),z=[];return C.forEach((M,_e)=>{if(_||!c.some(ue=>ue.route.id===M.routeId)||N.has(_e))return;let ge=l.fetchers.get(_e),P=ge&&ge.state!=="idle"&&ge.data===void 0,X=Wa(B,M.path,q);if(!X){if(le&&P)return;z.push({key:_e,routeId:M.routeId,path:M.path,matches:null,match:null,request:null,controller:null});return}if(Y.has(_e))return;let te=Iu(X,M.path),ve=new AbortController,D=Go(s,M.path,ve.signal),ne=null;if(x.has(_e))x.delete(_e),ne=tl(t,i,D,X,te,g,e);else if(P)E&&(ne=tl(t,i,D,X,te,g,e));else{let ue={...O,defaultShouldRevalidate:R?!1:E};hh(te,ue)&&(ne=tl(t,i,D,X,te,g,e,ue))}ne&&z.push({key:_e,routeId:M.routeId,path:M.path,matches:ne,match:te,request:D,controller:ve})}),{dsMatches:k,revalidatingFetchers:z}}function Op(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function nA(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function rA(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function hh(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function B_(n,e,t,i,s){let l;if(n){let m=i[n];ct(m,`No route found to patch children into: routeId = ${n}`),m.children||(m.children=[]),l=m.children}else l=t;let c=e.filter(m=>!l.some(g=>mE(m,g))),f=uh(c,s,[n||"_","patch",String(l?.length||"0")],i);l.push(...f)}function mE(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>e.children?.some(s=>mE(t,s))):!1}var z_=new WeakMap,pE=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let s=t[e.id];if(ct(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let l=s.lazy[n];if(!l)return;let c=z_.get(s);c||(c={},z_.set(s,c));let f=c[n];if(f)return f;let m=(async()=>{let g=SS(n),E=s[n]!==void 0&&n!=="hasErrorBoundary";if(g)cn(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(E)cn(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let x=await l();x!=null&&(Object.assign(s,{[n]:x}),Object.assign(s,i(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(x=>x===void 0)&&(s.lazy=void 0))})();return c[n]=m,m},F_=new WeakMap;function iA(n,e,t,i,s){let l=t[n.id];if(ct(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let _=F_.get(l);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let E=(async()=>{ct(typeof n.lazy=="function","No lazy route function found");let x=await n.lazy(),N={};for(let C in x){let Y=x[C];if(Y===void 0)continue;let B=RS(C),le=l[C]!==void 0&&C!=="hasErrorBoundary";B?cn(!B,"Route property "+C+" is not a supported property to be returned from a lazy route function. This property will be ignored."):le?cn(!le,`Route "${l.id}" has a static property "${C}" defined but its lazy function is also returning a value for this property. The lazy route property "${C}" will be ignored.`):N[C]=Y}Object.assign(l,N),Object.assign(l,{...i(l),lazy:void 0})})();return F_.set(l,E),E.catch(()=>{}),{lazyRoutePromise:E,lazyHandlerPromise:E}}let c=Object.keys(n.lazy),f=[],m;for(let _ of c){if(s&&s.includes(_))continue;let E=pE({key:_,route:n,manifest:t,mapRouteProperties:i});E&&(f.push(E),_===e&&(m=E))}let g=f.length>0?Promise.all(f).then(()=>{}):void 0;return g?.catch(()=>{}),m?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:m}}async function q_(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,l)=>{t[e[l].route.id]=s}),t}async function aA(n){return n.matches.some(e=>e.route.unstable_middleware)?gE(n,!1,()=>q_(n),(e,t)=>({[t]:{type:"error",result:e}})):q_(n)}async function gE(n,e,t,i){let{matches:s,request:l,params:c,context:f}=n,m={handlerResult:void 0};try{let g=s.flatMap(E=>E.route.unstable_middleware?E.route.unstable_middleware.map(x=>[E.route.id,x]):[]),_=await yE({request:l,params:c,context:f},g,e,m,t);return e?_:m.handlerResult}catch(g){if(!m.middlewareError)throw g;let _=await i(m.middlewareError.error,m.middlewareError.routeId);return m.handlerResult?Object.assign(m.handlerResult,_):_}}async function yE(n,e,t,i,s,l=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let f=e[l];if(!f)return i.handlerResult=await s(),i.handlerResult;let[m,g]=f,_=!1,E,x=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");_=!0,await yE(n,e,t,i,s,l+1)};try{let N=await g({request:n.request,params:n.params,context:n.context},x);return _?N===void 0?E:N:x()}catch(N){throw i.middlewareError?i.middlewareError.error!==N&&(i.middlewareError={routeId:m,error:N}):i.middlewareError={routeId:m,error:N},N}}function vE(n,e,t,i,s){let l=pE({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:n}),c=iA(i.route,Ir(t.method)?"action":"loader",e,n,s);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function kp(n,e,t,i,s,l,c,f=null){let m=!1,g=vE(n,e,t,i,s);return{...i,_lazyPromises:g,shouldLoad:c,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(_){return m=!0,f?typeof _=="boolean"?hh(i,{...f,defaultShouldRevalidate:_}):hh(i,f):c},resolve(_){return m||c||_&&t.method==="GET"&&(i.route.lazy||i.route.loader)?oA({request:t,match:i,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:_,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function tl(n,e,t,i,s,l,c,f=null){return i.map(m=>m.route.id!==s.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:vE(n,e,t,m,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:kp(n,e,t,m,l,c,!0,f))}async function sA(n,e,t,i,s,l){t.some(g=>g._lazyPromises?.middleware)&&await Promise.all(t.map(g=>g._lazyPromises?.middleware));let c={request:e,params:t[0].params,context:s,matches:t},m=await n({...c,fetcherKey:i,unstable_runClientMiddleware:g=>{let _=c;return gE(_,!1,()=>g({..._,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(E,x)=>({[x]:{type:"error",result:E}}))}});try{await Promise.all(t.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return m}async function oA({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:i,handlerOverride:s,scopedContext:l}){let c,f,m=Ir(n.method),g=m?"action":"loader",_=E=>{let x,N=new Promise((B,q)=>x=q);f=()=>x(),n.signal.addEventListener("abort",f);let C=B=>typeof E!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):E({request:n,params:e.params,context:l},...B!==void 0?[B]:[]),Y=(async()=>{try{return{type:"data",result:await(s?s(q=>C(q)):C())}}catch(B){return{type:"error",result:B}}})();return Promise.race([Y,N])};try{let E=m?e.route.action:e.route.loader;if(t||i)if(E){let x,[N]=await Promise.all([_(E).catch(C=>{x=C}),t,i]);if(x!==void 0)throw x;c=N}else{await t;let x=m?e.route.action:e.route.loader;if(x)[c]=await Promise.all([_(x),i]);else if(g==="action"){let N=new URL(n.url),C=N.pathname+N.search;throw Wr(405,{method:n.method,pathname:C,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(E)c=await _(E);else{let x=new URL(n.url),N=x.pathname+x.search;throw Wr(404,{pathname:N})}}catch(E){return{type:"error",result:E}}finally{f&&n.signal.removeEventListener("abort",f)}return c}async function lA(n){let{result:e,type:t}=n;if(bE(e)){let i;try{let s=e.headers.get("Content-Type");s&&/\bapplication\/json\b/.test(s)?e.body==null?i=null:i=await e.json():i=await e.text()}catch(s){return{type:"error",error:s}}return t==="error"?{type:"error",error:new dh(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return t==="error"?Q_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new dh(e.init?.status||500,void 0,e.data),statusCode:Gu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Gu(e)?e.status:void 0}:Q_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function uA(n,e,t,i,s){let l=n.headers.get("Location");if(ct(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!cg.test(l)){let c=i.slice(0,i.findIndex(f=>f.route.id===t)+1);l=Mp(new URL(e.url),c,s,l),n.headers.set("Location",l)}return n}function H_(n,e,t){if(cg.test(n)){let i=n,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=Qr(s.pathname,t)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}return n}function Go(n,e,t,i){let s=n.createURL(_E(e)).toString(),l={signal:t};if(i&&Ir(i.formMethod)){let{formMethod:c,formEncType:f}=i;l.method=c.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(i.json)):f==="text/plain"?l.body=i.text:f==="application/x-www-form-urlencoded"&&i.formData?l.body=Pp(i.formData):l.body=i.formData}return new Request(s,l)}function Pp(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function Y_(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function cA(n,e,t,i=!1,s=!1){let l={},c=null,f,m=!1,g={},_=t&&Dr(t[1])?t[1].error:void 0;return n.forEach(E=>{if(!(E.route.id in e))return;let x=E.route.id,N=e[x];if(ct(!Gs(N),"Cannot handle redirect results in processLoaderData"),Dr(N)){let C=N.error;if(_!==void 0&&(C=_,_=void 0),c=c||{},s)c[x]=C;else{let Y=Ws(n,x);c[Y.route.id]==null&&(c[Y.route.id]=C)}i||(l[x]=fE),m||(m=!0,f=Gu(N.error)?N.error.status:500),N.headers&&(g[x]=N.headers)}else l[x]=N.data,N.statusCode&&N.statusCode!==200&&!m&&(f=N.statusCode),N.headers&&(g[x]=N.headers)}),_!==void 0&&t&&(c={[t[0]]:_},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:f||200,loaderHeaders:g}}function $_(n,e,t,i,s,l){let{loaderData:c,errors:f}=cA(e,t,i);return s.filter(m=>!m.matches||m.matches.some(g=>g.shouldLoad)).forEach(m=>{let{key:g,match:_,controller:E}=m,x=l[g];if(ct(x,"Did not find corresponding fetcher result"),!(E&&E.signal.aborted))if(Dr(x)){let N=Ws(n.matches,_?.route.id);f&&f[N.route.id]||(f={...f,[N.route.id]:x.error}),n.fetchers.delete(g)}else if(Gs(x))ct(!1,"Unhandled fetcher revalidation redirect");else{let N=$a(x.data);n.fetchers.set(g,N)}}),{loaderData:c,errors:f}}function W_(n,e,t,i){let s=Object.entries(e).filter(([,l])=>l!==fE).reduce((l,[c,f])=>(l[c]=f,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(s[c]=n[c]),i&&i.hasOwnProperty(c))break}return s}function G_(n){return n?Dr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ws(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function K_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Wr(n,{pathname:e,routeId:t,method:i,type:s,message:l}={}){let c="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?f=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(f="Unable to encode submission body")):n===403?(c="Forbidden",f=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",f=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?f=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(f=`Invalid request method "${i.toUpperCase()}"`)),new dh(n||500,c,new Error(f),!0)}function Ud(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(Gs(s))return{key:i,result:s}}}function _E(n){let e=typeof n=="string"?fs(n):n;return as({...e,hash:""})}function dA(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function hA(n){return bE(n.result)&&QS.has(n.result.status)}function Dr(n){return n.type==="error"}function Gs(n){return(n&&n.type)==="redirect"}function Q_(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function bE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function fA(n){return KS.has(n.toUpperCase())}function Ir(n){return WS.has(n.toUpperCase())}function dg(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Iu(n,e){let t=typeof e=="string"?fs(e).search:e.search;if(n[n.length-1].route.index&&dg(t||""))return n[n.length-1];let i=cE(n);return i[i.length-1]}function X_(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:l,json:c}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function gp(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function mA(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Nu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function pA(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function $a(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function gA(n,e){try{let t=n.sessionStorage.getItem(hE);if(t){let i=JSON.parse(t);for(let[s,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function yA(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(hE,JSON.stringify(t))}catch(i){cn(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function vA(){let n,e,t=new Promise((i,s)=>{n=async l=>{i(l);try{await t}catch{}},e=async l=>{s(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var ro=U.createContext(null);ro.displayName="DataRouter";var oc=U.createContext(null);oc.displayName="DataRouterState";var hg=U.createContext({isTransitioning:!1});hg.displayName="ViewTransition";var EE=U.createContext(new Map);EE.displayName="Fetchers";var _A=U.createContext(null);_A.displayName="Await";var oi=U.createContext(null);oi.displayName="Navigation";var Vh=U.createContext(null);Vh.displayName="Location";var Vi=U.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var fg=U.createContext(null);fg.displayName="RouteError";function bA(n,{relative:e}={}){ct(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(oi),{hash:s,pathname:l,search:c}=lc(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Ci([t,l])),i.createHref({pathname:f,search:c,hash:s})}function gl(){return U.useContext(Vh)!=null}function ms(){return ct(gl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Vh).location}var wE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xE(n){U.useContext(oi).static||U.useLayoutEffect(n)}function mg(){let{isDataRoute:n}=U.useContext(Vi);return n?OA():EA()}function EA(){ct(gl(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(ro),{basename:e,navigator:t}=U.useContext(oi),{matches:i}=U.useContext(Vi),{pathname:s}=ms(),l=JSON.stringify(Ph(i)),c=U.useRef(!1);return xE(()=>{c.current=!0}),U.useCallback((m,g={})=>{if(cn(c.current,wE),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=jh(m,JSON.parse(l),s,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ci([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,s,n])}U.createContext(null);function lc(n,{relative:e}={}){let{matches:t}=U.useContext(Vi),{pathname:i}=ms(),s=JSON.stringify(Ph(t));return U.useMemo(()=>jh(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function wA(n,e,t,i){ct(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=U.useContext(oi),{matches:l}=U.useContext(Vi),c=l[l.length-1],f=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let q=_&&_.path||"";TE(m,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=ms(),x;x=E;let N=x.pathname||"/",C=N;if(g!=="/"){let q=g.replace(/^\//,"").split("/");C="/"+N.replace(/^\//,"").split("/").slice(q.length).join("/")}let Y=Wa(n,{pathname:C});return cn(_||Y!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),cn(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),RA(Y&&Y.map(q=>Object.assign({},q,{params:Object.assign({},f,q.params),pathname:Ci([g,s.encodeLocation?s.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?g:Ci([g,s.encodeLocation?s.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),l,t,i)}function xA(){let n=MA(),e=Gu(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:s},t):null,c)}var TA=U.createElement(xA,null),SA=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(Vi.Provider,{value:this.props.routeContext},U.createElement(fg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AA({routeContext:n,match:e,children:t}){let i=U.useContext(ro);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Vi.Provider,{value:n},t)}function RA(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t?.errors;if(l!=null){let m=s.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);ct(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,f=-1;if(t)for(let m=0;m<s.length;m++){let g=s[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:_,errors:E}=t,x=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||x){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((m,g,_)=>{let E,x=!1,N=null,C=null;t&&(E=l&&g.route.id?l[g.route.id]:void 0,N=g.route.errorElement||TA,c&&(f<0&&_===0?(TE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,C=null):f===_&&(x=!0,C=g.route.hydrateFallbackElement||null)));let Y=e.concat(s.slice(0,_+1)),B=()=>{let q;return E?q=N:x?q=C:g.route.Component?q=U.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=m,U.createElement(AA,{match:g,routeContext:{outlet:m,matches:Y,isDataRoute:t!=null},children:q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?U.createElement(SA,{location:t.location,revalidation:t.revalidation,component:N,error:E,children:B(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):B()},null)}function pg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NA(n){let e=U.useContext(ro);return ct(e,pg(n)),e}function CA(n){let e=U.useContext(oc);return ct(e,pg(n)),e}function DA(n){let e=U.useContext(Vi);return ct(e,pg(n)),e}function gg(n){let e=DA(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function IA(){return gg("useRouteId")}function MA(){let n=U.useContext(fg),e=CA("useRouteError"),t=gg("useRouteError");return n!==void 0?n:e.errors?.[t]}function OA(){let{router:n}=NA("useNavigate"),e=gg("useNavigate"),t=U.useRef(!1);return xE(()=>{t.current=!0}),U.useCallback(async(s,l={})=>{cn(t.current,wE),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var Z_={};function TE(n,e,t){!e&&!Z_[n]&&(Z_[n]=!0,cn(!1,t))}var J_={};function eb(n,e){!n&&!J_[e]&&(J_[e]=!0,console.warn(e))}function kA(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&cn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:U.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&cn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:U.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&cn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:U.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var PA=["HydrateFallback","hydrateFallbackElement"],jA=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function VA({router:n,flushSync:e}){let[t,i]=U.useState(n.state),[s,l]=U.useState(),[c,f]=U.useState({isTransitioning:!1}),[m,g]=U.useState(),[_,E]=U.useState(),[x,N]=U.useState(),C=U.useRef(new Map),Y=U.useCallback((J,{deletedFetchers:pe,flushSync:ae,viewTransitionOpts:L})=>{J.fetchers.forEach((S,R)=>{S.data!==void 0&&C.current.set(R,S.data)}),pe.forEach(S=>C.current.delete(S)),eb(ae===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(eb(L==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!I){e&&ae?e(()=>i(J)):U.startTransition(()=>i(J));return}if(e&&ae){e(()=>{_&&(m&&m.resolve(),_.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let S=n.window.document.startViewTransition(()=>{e(()=>i(J))});S.finished.finally(()=>{e(()=>{g(void 0),E(void 0),l(void 0),f({isTransitioning:!1})})}),e(()=>E(S));return}_?(m&&m.resolve(),_.skipTransition(),N({state:J,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(l(J),f({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[n.window,e,_,m]);U.useLayoutEffect(()=>n.subscribe(Y),[n,Y]),U.useEffect(()=>{c.isTransitioning&&!c.flushSync&&g(new jA)},[c]),U.useEffect(()=>{if(m&&s&&n.window){let J=s,pe=m.promise,ae=n.window.document.startViewTransition(async()=>{U.startTransition(()=>i(J)),await pe});ae.finished.finally(()=>{g(void 0),E(void 0),l(void 0),f({isTransitioning:!1})}),E(ae)}},[s,m,n.window]),U.useEffect(()=>{m&&s&&t.location.key===s.location.key&&m.resolve()},[m,_,t.location,s]),U.useEffect(()=>{!c.isTransitioning&&x&&(l(x.state),f({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),N(void 0))},[c.isTransitioning,x]);let B=U.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:J=>n.navigate(J),push:(J,pe,ae)=>n.navigate(J,{state:pe,preventScrollReset:ae?.preventScrollReset}),replace:(J,pe,ae)=>n.navigate(J,{replace:!0,state:pe,preventScrollReset:ae?.preventScrollReset})}),[n]),q=n.basename||"/",le=U.useMemo(()=>({router:n,navigator:B,static:!1,basename:q}),[n,B,q]);return U.createElement(U.Fragment,null,U.createElement(ro.Provider,{value:le},U.createElement(oc.Provider,{value:t},U.createElement(EE.Provider,{value:C.current},U.createElement(hg.Provider,{value:c},U.createElement(zA,{basename:q,location:t.location,navigationType:t.historyAction,navigator:B},U.createElement(LA,{routes:n.routes,future:n.future,state:t})))))),null)}var LA=U.memo(UA);function UA({routes:n,future:e,state:t}){return wA(n,void 0,t,e)}function BA({to:n,replace:e,state:t,relative:i}){ct(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=U.useContext(oi);cn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=U.useContext(Vi),{pathname:c}=ms(),f=mg(),m=jh(n,Ph(l),c,i==="path"),g=JSON.stringify(m);return U.useEffect(()=>{f(JSON.parse(g),{replace:e,state:t,relative:i})},[f,g,i,e,t]),null}function zA({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1}){ct(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=U.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=fs(t));let{pathname:m="/",search:g="",hash:_="",state:E=null,key:x="default"}=t,N=U.useMemo(()=>{let C=Qr(m,c);return C==null?null:{location:{pathname:C,search:g,hash:_,state:E,key:x},navigationType:i}},[c,m,g,_,E,x,i]);return cn(N!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:U.createElement(oi.Provider,{value:f},U.createElement(Vh.Provider,{children:e,value:N}))}var Gd="get",Kd="application/x-www-form-urlencoded";function Lh(n){return n!=null&&typeof n.tagName=="string"}function FA(n){return Lh(n)&&n.tagName.toLowerCase()==="button"}function qA(n){return Lh(n)&&n.tagName.toLowerCase()==="form"}function HA(n){return Lh(n)&&n.tagName.toLowerCase()==="input"}function YA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $A(n,e){return n.button===0&&(!e||e==="_self")&&!YA(n)}var Bd=null;function WA(){if(Bd===null)try{new FormData(document.createElement("form"),0),Bd=!1}catch{Bd=!0}return Bd}var GA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yp(n){return n!=null&&!GA.has(n)?(cn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kd}"`),null):n}function KA(n,e){let t,i,s,l,c;if(qA(n)){let f=n.getAttribute("action");i=f?Qr(f,e):null,t=n.getAttribute("method")||Gd,s=yp(n.getAttribute("enctype"))||Kd,l=new FormData(n)}else if(FA(n)||HA(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(i=m?Qr(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Gd,s=yp(n.getAttribute("formenctype"))||yp(f.getAttribute("enctype"))||Kd,l=new FormData(f,n),!WA()){let{name:g,type:_,value:E}=n;if(_==="image"){let x=g?`${g}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else g&&l.append(g,E)}}else{if(Lh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Gd,i=null,s=Kd,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}function yg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function QA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ZA(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await QA(l,t);return c.links?c.links():[]}return[]}));return nR(i.flat(1).filter(XA).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function tb(n,e,t,i,s,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,f=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||f(m,g)):l==="data"?e.filter((m,g)=>{let _=i.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function JA(n,e,{includeHydrateFallback:t}={}){return eR(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function eR(n){return[...new Set(n)]}function tR(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function nR(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(tR(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rR=new Set([100,101,204,205]);function iR(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Qr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function SE(){let n=U.useContext(ro);return yg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function aR(){let n=U.useContext(oc);return yg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var vg=U.createContext(void 0);vg.displayName="FrameworkContext";function AE(){let n=U.useContext(vg);return yg(n,"You must render this element inside a <HydratedRouter> element"),n}function sR(n,e){let t=U.useContext(vg),[i,s]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:E}=e,x=U.useRef(null);U.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let Y=q=>{q.forEach(le=>{c(le.isIntersecting)})},B=new IntersectionObserver(Y,{threshold:.5});return x.current&&B.observe(x.current),()=>{B.disconnect()}}},[n]),U.useEffect(()=>{if(i){let Y=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(Y)}}},[i]);let N=()=>{s(!0)},C=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,x,{}]:[l,x,{onFocus:Cu(f,N),onBlur:Cu(m,C),onMouseEnter:Cu(g,N),onMouseLeave:Cu(_,C),onTouchStart:Cu(E,N)}]:[!1,x,{}]}function Cu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function oR({page:n,...e}){let{router:t}=SE(),i=U.useMemo(()=>Wa(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?U.createElement(uR,{page:n,matches:i,...e}):null}function lR(n){let{manifest:e,routeModules:t}=AE(),[i,s]=U.useState([]);return U.useEffect(()=>{let l=!1;return ZA(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function uR({page:n,matches:e,...t}){let i=ms(),{manifest:s,routeModules:l}=AE(),{basename:c}=SE(),{loaderData:f,matches:m}=aR(),g=U.useMemo(()=>tb(n,e,m,s,i,"data"),[n,e,m,s,i]),_=U.useMemo(()=>tb(n,e,m,s,i,"assets"),[n,e,m,s,i]),E=U.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,Y=!1;if(e.forEach(q=>{let le=s.routes[q.route.id];!le||!le.hasLoader||(!g.some(J=>J.route.id===q.route.id)&&q.route.id in f&&l[q.route.id]?.shouldRevalidate||le.hasClientLoader?Y=!0:C.add(q.route.id))}),C.size===0)return[];let B=iR(n,c);return Y&&C.size>0&&B.searchParams.set("_routes",e.filter(q=>C.has(q.route.id)).map(q=>q.route.id).join(",")),[B.pathname+B.search]},[c,f,i,s,g,e,n,l]),x=U.useMemo(()=>JA(_,s),[_,s]),N=lR(_);return U.createElement(U.Fragment,null,E.map(C=>U.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),x.map(C=>U.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),N.map(({key:C,link:Y})=>U.createElement("link",{key:C,...Y})))}function cR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var RE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RE&&(window.__reactRouterVersion="7.6.3")}catch{}function dR(n,e){return eA({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:ES({window:e?.window}),hydrationData:hR(),routes:n,mapRouteProperties:kA,hydrationRouteProperties:PA,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function hR(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:fR(n.errors)}),n}function fR(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new dh(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let c=new l(s.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(s.message);l.stack="",t[i]=l}}else t[i]=s;return t}var NE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CE=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:f,target:m,to:g,preventScrollReset:_,viewTransition:E,...x},N){let{basename:C}=U.useContext(oi),Y=typeof g=="string"&&NE.test(g),B,q=!1;if(typeof g=="string"&&Y&&(B=g,RE))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),k=Qr(O.pathname,C);O.origin===R.origin&&k!=null?g=k+O.search+O.hash:q=!0}catch{cn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let le=bA(g,{relative:s}),[J,pe,ae]=sR(i,x),L=yR(g,{replace:c,state:f,target:m,preventScrollReset:_,relative:s,viewTransition:E});function I(R){e&&e(R),R.defaultPrevented||L(R)}let S=U.createElement("a",{...x,...ae,href:B||le,onClick:q||l?e:I,ref:cR(N,pe),target:m,"data-discover":!Y&&t==="render"?"true":void 0});return J&&!Y?U.createElement(U.Fragment,null,S,U.createElement(oR,{page:le})):S});CE.displayName="Link";var mR=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:f,children:m,...g},_){let E=lc(c,{relative:g.relative}),x=ms(),N=U.useContext(oc),{navigator:C,basename:Y}=U.useContext(oi),B=N!=null&&wR(E)&&f===!0,q=C.encodeLocation?C.encodeLocation(E).pathname:E.pathname,le=x.pathname,J=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(le=le.toLowerCase(),J=J?J.toLowerCase():null,q=q.toLowerCase()),J&&Y&&(J=Qr(J,Y)||J);const pe=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ae=le===q||!s&&le.startsWith(q)&&le.charAt(pe)==="/",L=J!=null&&(J===q||!s&&J.startsWith(q)&&J.charAt(q.length)==="/"),I={isActive:ae,isPending:L,isTransitioning:B},S=ae?e:void 0,R;typeof i=="function"?R=i(I):R=[i,ae?"active":null,L?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(I):l;return U.createElement(CE,{...g,"aria-current":S,className:R,ref:_,style:O,to:c,viewTransition:f},typeof m=="function"?m(I):m)});mR.displayName="NavLink";var pR=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=Gd,action:f,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:E,...x},N)=>{let C=bR(),Y=ER(f,{relative:g}),B=c.toLowerCase()==="get"?"get":"post",q=typeof f=="string"&&NE.test(f),le=J=>{if(m&&m(J),J.defaultPrevented)return;J.preventDefault();let pe=J.nativeEvent.submitter,ae=pe?.getAttribute("formmethod")||c;C(pe||J.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:s,state:l,relative:g,preventScrollReset:_,viewTransition:E})};return U.createElement("form",{ref:N,method:B,action:Y,onSubmit:i?m:le,...x,"data-discover":!q&&n==="render"?"true":void 0})});pR.displayName="Form";function gR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DE(n){let e=U.useContext(ro);return ct(e,gR(n)),e}function yR(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let f=mg(),m=ms(),g=lc(n,{relative:l});return U.useCallback(_=>{if($A(_,e)){_.preventDefault();let E=t!==void 0?t:as(m)===as(g);f(n,{replace:E,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[m,f,g,t,i,e,n,s,l,c])}var vR=0,_R=()=>`__${String(++vR)}__`;function bR(){let{router:n}=DE("useSubmit"),{basename:e}=U.useContext(oi),t=IA();return U.useCallback(async(i,s={})=>{let{action:l,method:c,encType:f,formData:m,body:g}=KA(i,e);if(s.navigate===!1){let _=s.fetcherKey||_R();await n.fetch(_,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function ER(n,{relative:e}={}){let{basename:t}=U.useContext(oi),i=U.useContext(Vi);ct(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...lc(n||".",{relative:e})},c=ms();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(_=>_==="")){f.delete("index"),m.filter(E=>E).forEach(E=>f.append("index",E));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ci([t,l.pathname])),as(l)}function wR(n,e={}){let t=U.useContext(hg);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=DE("useViewTransitionState"),s=lc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Qr(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Qr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ch(s.pathname,c)!=null||ch(s.pathname,l)!=null}[...rR];var xR=aE();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function TR(n){return U.createElement(VA,{flushSync:xR.flushSync,...n})}const IE="/assets/logo-Di_XZ8sh.jpg";function SR(){const[n,e]=U.useState(!1);return y.jsxs("header",{className:"fixed top-0 left-0 w-full bg-white shadow z-50",children:[y.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-3 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center min-w-[180px]",children:[y.jsx("img",{src:IE,alt:"Logo Vagafogo",className:"w-12 h-12 rounded-full object-cover border border-gray-300",loading:"lazy"}),y.jsx("span",{className:"ml-4 font-bold text-2xl text-[#8B4F23] tracking-wide",children:"VAGAFOGO"})]}),y.jsxs("nav",{className:"hidden lg:flex flex-1 justify-center gap-10",children:[y.jsx("a",{href:"#inicio",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Incio"}),y.jsx("a",{href:"#brunch",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Brunch"}),y.jsx("a",{href:"#trilha",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Trilha"}),y.jsx("a",{href:"#educacao",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Educao"})]}),y.jsx("a",{href:"#reservas",className:"hidden md:block bg-[#8B4F23] text-white font-bold px-8 py-2 rounded-full text-lg shadow hover:bg-[#A05D2B] transition min-w-[170px] text-center",children:"Reservar Agora"}),y.jsx("button",{onClick:()=>e(!n),className:"lg:hidden text-3xl ml-2 text-[#8B4F23]","aria-label":"Abrir menu",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]}),n&&y.jsx("div",{className:"lg:hidden absolute top-full left-0 w-full bg-white shadow-md py-5 z-40",children:y.jsxs("div",{className:"flex flex-col gap-4 px-6",children:[y.jsx("a",{href:"#inicio",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Incio"}),y.jsx("a",{href:"#brunch",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Brunch"}),y.jsx("a",{href:"#trilha",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Trilha"}),y.jsx("a",{href:"#educacao",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Educao"}),y.jsx("a",{href:"#reservas",className:"bg-[#8B4F23] text-white font-bold px-6 py-2 rounded-full mt-2 text-center",children:"Reservar Agora"})]})})]})}const AR="/assets/hero-1-DYW6Kti2.jpg";function RR(){return y.jsxs("section",{id:"inicio",className:"relative min-h-screen flex items-center justify-center pt-20 md:pt-0",style:{backgroundImage:`linear-gradient(rgba(45,30,15,0.7), rgba(45,30,15,0.7)), url(${AR})`,backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[y.jsx("div",{className:"absolute inset-0 bg-black/40"})," ",y.jsx("div",{className:"relative z-10 container mx-auto px-4 py-16 md:py-0 flex flex-col items-center",children:y.jsxs("div",{className:"max-w-2xl w-full text-center px-4",children:[y.jsx("h1",{className:"font-heading text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight drop-shadow-lg",children:"Descubra o Santurio Vagafogo"}),y.jsx("p",{className:"text-lg md:text-xl text-white mb-8 drop-shadow",children:"Uma experincia gastronmica nica, aliada s maravilhas do cerrado brasileiro. Sabores que emocionam com uma natureza que encanta."}),y.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[y.jsxs("a",{href:"#reservas",className:"flex items-center bg-yellow-600 text-white font-semibold px-8 py-4 rounded-full shadow hover:bg-yellow-700 transition duration-300 text-lg",children:[y.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Faa sua reserva"]}),y.jsxs("a",{href:"#brunch",className:"flex items-center border-2 border-white text-white font-semibold px-8 py-4 rounded-full hover:bg-white hover:text-yellow-700 transition duration-300 text-lg",children:[y.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01"})]}),"Saiba mais"]})]})]})})]})}function NR(){return y.jsx("section",{className:"py-16 bg-gray-100",children:y.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[y.jsxs("div",{className:"text-center mb-10",children:[y.jsx("span",{className:"text-green-600 font-semibold tracking-widest uppercase text-sm",children:"POR QUE ESCOLHER O VAGAFOGO"}),y.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-[#8B4F23] mt-2 mb-6",children:"Uma Experincia que Transforma"})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center border-t-4 border-accent scroll-reveal show",style:{borderTopColor:"#E0B13C"},children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:y.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),y.jsxs("h3",{className:"font-heading text-xl font-bold text-[#8B4F23] mb-3",children:["Brunch Gastronmico  ",y.jsx("span",{className:"whitespace-nowrap",children:"R$115,00"})]}),y.jsx("p",{className:"text-gray-600 text-base",children:"45 itens e 14 harmonizaes nicas com derivados do leite local e frutas do cerrado em manejo sustentvel."})]}),y.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center border-t-4",style:{borderTopColor:"#E0B13C"},children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:y.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v20m6-6l-6 6-6-6"})})}),y.jsxs("h3",{className:"font-heading text-xl font-bold text-[#8B4F23] mb-3",children:["Trilha Me da Floresta  ",y.jsx("span",{className:"whitespace-nowrap",children:"R$30,00"})]}),y.jsx("p",{className:"text-gray-600 text-base",children:"1.530m por mata ciliar primria margeando o rio Vagafogo, com 182 espcies de pssaros catalogadas."})]}),y.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center border-t-4",style:{borderTopColor:"#E0B13C"},children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:y.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3l8 4-8 4-8-4 8-4zm0 7v6m0 6a2 2 0 002-2h-4a2 2 0 002 2z"})})}),y.jsxs("h3",{className:"font-heading text-xl font-bold text-[#8B4F23] mb-3",children:["Educao Ambiental  ",y.jsx("span",{className:"whitespace-nowrap",children:"Agendamento via WhatsApp"})]}),y.jsx("p",{className:"text-gray-600 text-base",children:"Projeto voltado para escolas, faculdades e grupos especficos, promovendo compreenso sobre flora, fauna e sustentabilidade."})]})]})]})})}const CR="/assets/hero-2-DE6uD2w4.jpg",DR="/assets/brunch-1-BOp_1ZCE.jpg",IR="/assets/brunch-2-BJEw1Xdm.jpg",MR="/assets/brunch-3-CFPzufog.jpg";function OR(){return y.jsx("section",{id:"brunch",className:"py-16 md:py-24",style:{backgroundImage:`linear-gradient(rgba(45, 30, 15, 0.7), rgba(45, 30, 15, 0.7)), url(${CR})`,backgroundPosition:"center",backgroundSize:"cover"},children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-12",children:[y.jsx("span",{className:"text-white font-semibold uppercase tracking-wider",children:"DESCUBRA A GASTRONOMIA"}),y.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-white mt-2 mb-4 drop-shadow-lg",children:"Brunch Vagafogo"}),y.jsx("p",{className:"text-gray-200 text-lg",children:"Um maravilhoso festival gastronmico com derivados do leite produzido na fazenda e frutas do cerrado cultivadas no local, proveniente de manejo sustentvel."})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:y.jsxs("div",{className:"relative h-64",children:[y.jsx("div",{className:"h-full w-full bg-cover bg-center",style:{backgroundImage:`url(${DR})`}}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:y.jsx("h3",{className:"font-heading text-xl font-bold text-white drop-shadow",children:"Laticnios Artesanais"})})]})}),y.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:y.jsxs("div",{className:"relative h-64",children:[y.jsx("div",{className:"h-full w-full bg-cover bg-center",style:{backgroundImage:`url(${IR})`}}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:y.jsx("h3",{className:"font-heading text-xl font-bold text-white drop-shadow",children:"Frutas do Cerrado"})})]})}),y.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:y.jsxs("div",{className:"relative h-64",children:[y.jsx("div",{className:"h-full w-full bg-cover bg-center",style:{backgroundImage:`url(${MR})`}}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:y.jsx("h3",{className:"font-heading text-xl font-bold text-white drop-shadow",children:"Harmonizaes Exclusivas"})})]})})]}),y.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[y.jsx("span",{className:"w-2 h-2 bg-white rounded-full inline-block opacity-80"}),y.jsx("span",{className:"w-2 h-2 bg-white/60 rounded-full inline-block opacity-80"}),y.jsx("span",{className:"w-2 h-2 bg-white/60 rounded-full inline-block opacity-80"})]}),y.jsx("div",{className:"text-center mt-12 px-4",children:y.jsxs("a",{href:"#reservas",className:"bg-[#8B4F23] text-white font-semibold px-6 py-3 sm:px-8 sm:py-4 rounded-full shadow-lg hover:bg-[#A05D2B] text-base sm:text-lg transition duration-300 focus:ring-2 focus:ring-offset-2 focus:ring-[#8B4F23] inline-block w-full sm:w-auto max-w-md",children:[y.jsx("i",{className:"fas fa-bookmark mr-2"})," Reservar Experincia Gastronmica"]})})]})})}const kR="/assets/trilhaecologica-1-DZvapW0k.jpg",PR="/assets/trilhaecologica-2-ByLTFY3j.jpg";function jR(){return y.jsx("section",{id:"trilha",className:"py-16 md:py-24",style:{background:`linear-gradient(rgba(45,30,15,0.7),rgba(45,30,15,0.7)), url(${kR})`,backgroundPosition:"center",backgroundSize:"cover"},children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-12",children:[y.jsx("span",{className:"text-white font-semibold uppercase tracking-widest",children:"CONEXO COM A NATUREZA"}),y.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-white mt-2 mb-4",children:"Trilha Ecolgica"})]}),y.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-10 max-w-5xl mx-auto",children:[y.jsx("div",{className:"lg:w-1/2 mb-6 lg:mb-0",children:y.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:y.jsxs("div",{className:"relative h-96",children:[y.jsx("div",{className:"h-full w-full bg-cover bg-center rounded-2xl",style:{backgroundImage:`url(${PR})`}}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:y.jsx("h3",{className:"font-heading text-xl font-bold text-white",children:"Trilha Me da Floresta"})})]})})}),y.jsxs("div",{className:"lg:w-1/2 text-white",children:[y.jsx("h3",{className:"font-heading text-2xl font-bold mb-4",children:"Caminhada Imersiva de 1500m"}),y.jsx("p",{className:"mb-6 text-gray-200",children:"Nossa trilha ecolgica atravessa uma belssima mata ciliar primria preservada. A trilha  completamente protegida por madeiramento, oferecendo conforto e segurana ao visitante."}),y.jsxs("ul",{className:"space-y-4 mb-8 text-base",children:[y.jsxs("li",{className:"flex items-start",children:[y.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),y.jsx("span",{children:"Espaos estratgicos para descanso e meditao"})]}),y.jsxs("li",{className:"flex items-start",children:[y.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),y.jsx("span",{children:"Corrimes para segurana em reas mais ngremes"})]}),y.jsxs("li",{className:"flex items-start",children:[y.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),y.jsx("span",{children:"Piscina natural e uma pequena cachoeira "})]}),y.jsxs("li",{className:"flex items-start",children:[y.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),y.jsx("span",{children:"Placas informativas sobre flora e fauna do cerrado"})]})]}),y.jsxs("a",{href:"#reservas",className:"bg-white text-[#8B4F23] font-semibold px-8 py-3 rounded-full shadow hover:bg-gray-100 text-lg transition duration-300 focus:ring-2 focus:ring-offset-2 focus:ring-white flex items-center justify-center w-max",children:[y.jsx("i",{className:"fas fa-hiking mr-2"})," Agendar Trilha"]})]})]})]})})}const VR="/assets/educacaoambiental-1-DE8jViqV.jpg";function LR(){return y.jsx("section",{id:"educacao",className:"py-16 bg-[#F7FAEF]",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("span",{className:"text-green-600 font-semibold uppercase tracking-widest",children:"APRENDIZADO E INTEGRAO"}),y.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-[#8B4F23] mt-2 mb-4",children:"Educao Ambiental"}),y.jsx("p",{className:"max-w-2xl mx-auto text-gray-700 mt-4 text-lg",children:"Demonstramos a relao de interdependncia do ser humano com a natureza, promovendo proteo e preservao ambiental."})]}),y.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 max-w-6xl mx-auto",children:[y.jsx("div",{className:"lg:w-1/2 w-full h-72 object-cover rounded-2xl shadow-lg",style:{backgroundImage:`url(${VR})`}}),y.jsxs("div",{className:"lg:w-1/2",children:[y.jsx("h3",{className:"font-heading text-2xl font-bold text-[#8B4F23] mb-2",children:"Projeto para Escolas e Grupos"}),y.jsx("p",{className:"mb-6 text-gray-700 text-base",children:"Atividade realizada nas trilhas promovendo interpretao sobre flora, fauna, recursos naturais e sustentabilidade."}),y.jsxs("ul",{className:"space-y-4 mb-8",children:[y.jsxs("li",{className:"flex items-start",children:[y.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),y.jsx("span",{className:"text-gray-700",children:"Para escolas, faculdades e grupos especficos"})]}),y.jsxs("li",{className:"flex items-start",children:[y.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),y.jsx("span",{className:"text-gray-700",children:"Mostra a importncia da proteo ambiental local e global"})]}),y.jsxs("li",{className:"flex items-start",children:[y.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),y.jsx("span",{className:"text-gray-700",children:"Atividade principal realizada nas trilhas"})]})]}),y.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-8",children:y.jsxs("p",{className:"text-yellow-700 flex items-start",children:[y.jsxs("svg",{className:"w-5 h-5 text-yellow-500 mt-1 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01"})]}),y.jsx("span",{children:"Esta atividade requer agendamento prvio via WhatsApp"})]})}),y.jsx("div",{className:"mt-4",children:y.jsxs("a",{href:"https://wa.me/+5562992225471",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-[#8B4F23] text-white font-bold px-8 py-3 rounded-full shadow hover:bg-[#A05D2B] text-lg transition duration-300 focus:ring-2 focus:ring-offset-2 focus:ring-[#8B4F23]",children:[y.jsx("svg",{className:"w-6 h-6 mr-2 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M12.01 2C6.48 2 2 6.477 2 12.006c0 1.937.512 3.775 1.482 5.39L2.04 22l4.716-1.248A9.949 9.949 0 0 0 12.01 22c5.523 0 10.01-4.478 10.01-9.994C22.02 6.478 17.533 2 12.01 2zm5.236 14.395c-.242.683-1.406 1.35-1.924 1.38-.517.03-1.013.255-2.826-.607-2.38-.99-3.904-3.408-4.024-3.568-.12-.16-.96-1.277-.96-2.436s.608-1.728.824-1.963c.217-.234.48-.293.64-.293s.32-.005.459.007c.144.012.337-.055.528.407.192.462.652 1.595.711 1.71.06.115.096.257.018.413-.08.157-.12.256-.238.394-.12.138-.252.306-.36.412-.12.117-.243.244-.105.478.137.233.607 1.003 1.305 1.625.897.803 1.656 1.05 1.89 1.17.235.12.373.103.509-.06.136-.164.58-.675.734-.908.154-.232.308-.194.519-.117.211.076 1.335.63 1.565.744.23.115.384.17.442.266.06.096.06.554-.183 1.237z"})}),"Agendar por WhatsApp"]})})]})]})]})})}const UR=()=>{};var nb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},BR=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],f=n[t++],m=((s&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},OE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,f=c?n[s+1]:0,m=s+2<n.length,g=m?n[s+2]:0,_=l>>2,E=(l&3)<<4|f>>4;let x=(f&15)<<2|g>>6,N=g&63;m||(N=64,c||(x=64)),i.push(t[_],t[E],t[x],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ME(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):BR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||f==null||g==null||E==null)throw new zR;const x=l<<2|f>>4;if(i.push(x),g!==64){const N=f<<4&240|g>>2;if(i.push(N),E!==64){const C=g<<6&192|E;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FR=function(n){const e=ME(n);return OE.encodeByteArray(e,!0)},fh=function(n){return FR(n).replace(/\./g,"")},kE=function(n){try{return OE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=()=>qR().__FIREBASE_DEFAULTS__,YR=()=>{if(typeof process>"u"||typeof nb>"u")return;const n=nb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$R=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&kE(n[1]);return e&&JSON.parse(e)},Uh=()=>{try{return UR()||HR()||YR()||$R()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},PE=n=>{var e,t;return(t=(e=Uh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},WR=n=>{const e=PE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},jE=()=>{var n;return(n=Uh())===null||n===void 0?void 0:n.config},VE=n=>{var e;return(e=Uh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fh(JSON.stringify(t)),fh(JSON.stringify(c)),""].join(".")}const Uu={};function QR(){const n={prod:[],emulator:[]};for(const e of Object.keys(Uu))Uu[e]?n.emulator.push(e):n.prod.push(e);return n}function XR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let rb=!1;function UE(n,e){if(typeof window>"u"||typeof document>"u"||!yl(window.location.host)||Uu[n]===e||Uu[n]||rb)return;Uu[n]=e;function t(x){return`__firebase__banner__${x}`}const i="__firebase__banner",l=QR().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,N){x.setAttribute("width","24"),x.setAttribute("id",N),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{rb=!0,c()},x}function _(x,N){x.setAttribute("id",N),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function E(){const x=XR(i),N=t("text"),C=document.getElementById(N)||document.createElement("span"),Y=t("learnmore"),B=document.getElementById(Y)||document.createElement("a"),q=t("preprendIcon"),le=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const J=x.element;f(J),_(B,Y);const pe=g();m(le,q),J.append(le,C,B,pe),document.body.appendChild(J)}l?(C.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rr())}function JR(){var n;const e=(n=Uh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rN(){const n=rr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iN(){return!JR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aN(){try{return typeof indexedDB=="object"}catch{return!1}}function sN(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="FirebaseError";class va extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=oN,Object.setPrototypeOf(this,va.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?lN(l,i):"Error",f=`${this.serviceName}: ${c} (${s}).`;return new va(s,f,i)}}function lN(n,e){return n.replace(uN,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const uN=/\{\$([^}]+)}/g;function cN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(ib(l)&&ib(c)){if(!Zs(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function ib(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Mu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function Ou(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function dN(n,e){const t=new hN(n,e);return t.subscribe.bind(t)}class hN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");fN(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=vp),s.error===void 0&&(s.error=vp),s.complete===void 0&&(s.complete=vp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(n){return n&&n._delegate?n._delegate:n}class Js{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new GR;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gN(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pN(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pN(n){return n===Hs?void 0:n}function gN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(pt||(pt={}));const vN={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},_N=pt.INFO,bN={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},EN=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=bN[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _g{constructor(e){this.name=e,this._logLevel=_N,this._logHandler=EN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const wN=(n,e)=>e.some(t=>n instanceof t);let ab,sb;function xN(){return ab||(ab=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TN(){return sb||(sb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BE=new WeakMap,jp=new WeakMap,zE=new WeakMap,_p=new WeakMap,bg=new WeakMap;function SN(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ja(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&BE.set(t,n)}).catch(()=>{}),bg.set(e,n),e}function AN(n){if(jp.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});jp.set(n,e)}let Vp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||zE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ja(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RN(n){Vp=n(Vp)}function NN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(bp(this),e,...t);return zE.set(i,e.sort?e.sort():[e]),Ja(i)}:TN().includes(n)?function(...e){return n.apply(bp(this),e),Ja(BE.get(this))}:function(...e){return Ja(n.apply(bp(this),e))}}function CN(n){return typeof n=="function"?NN(n):(n instanceof IDBTransaction&&AN(n),wN(n,xN())?new Proxy(n,Vp):n)}function Ja(n){if(n instanceof IDBRequest)return SN(n);if(_p.has(n))return _p.get(n);const e=CN(n);return e!==n&&(_p.set(n,e),bg.set(e,n)),e}const bp=n=>bg.get(n);function DN(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),f=Ja(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Ja(c.result),m.oldVersion,m.newVersion,Ja(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const IN=["get","getKey","getAll","getAllKeys","count"],MN=["put","add","delete","clear"],Ep=new Map;function ob(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ep.get(e))return Ep.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=MN.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||IN.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,s?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),s&&m.done]))[0]};return Ep.set(e,l),l}RN(n=>({...n,get:(e,t,i)=>ob(e,t)||n.get(e,t,i),has:(e,t)=>!!ob(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kN(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function kN(n){const e=n.getComponent();return e?.type==="VERSION"}const Lp="@firebase/app",lb="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new _g("@firebase/app"),PN="@firebase/app-compat",jN="@firebase/analytics-compat",VN="@firebase/analytics",LN="@firebase/app-check-compat",UN="@firebase/app-check",BN="@firebase/auth",zN="@firebase/auth-compat",FN="@firebase/database",qN="@firebase/data-connect",HN="@firebase/database-compat",YN="@firebase/functions",$N="@firebase/functions-compat",WN="@firebase/installations",GN="@firebase/installations-compat",KN="@firebase/messaging",QN="@firebase/messaging-compat",XN="@firebase/performance",ZN="@firebase/performance-compat",JN="@firebase/remote-config",eC="@firebase/remote-config-compat",tC="@firebase/storage",nC="@firebase/storage-compat",rC="@firebase/firestore",iC="@firebase/ai",aC="@firebase/firestore-compat",sC="firebase",oC="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="[DEFAULT]",lC={[Lp]:"fire-core",[PN]:"fire-core-compat",[VN]:"fire-analytics",[jN]:"fire-analytics-compat",[UN]:"fire-app-check",[LN]:"fire-app-check-compat",[BN]:"fire-auth",[zN]:"fire-auth-compat",[FN]:"fire-rtdb",[qN]:"fire-data-connect",[HN]:"fire-rtdb-compat",[YN]:"fire-fn",[$N]:"fire-fn-compat",[WN]:"fire-iid",[GN]:"fire-iid-compat",[KN]:"fire-fcm",[QN]:"fire-fcm-compat",[XN]:"fire-perf",[ZN]:"fire-perf-compat",[JN]:"fire-rc",[eC]:"fire-rc-compat",[tC]:"fire-gcs",[nC]:"fire-gcs-compat",[rC]:"fire-fst",[aC]:"fire-fst-compat",[iC]:"fire-vertex","fire-js":"fire-js",[sC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,uC=new Map,Bp=new Map;function ub(n,e){try{n.container.addComponent(e)}catch(t){ma.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ll(n){const e=n.name;if(Bp.has(e))return ma.debug(`There were multiple attempts to register component ${e}.`),!1;Bp.set(e,n);for(const t of mh.values())ub(t,n);for(const t of uC.values())ub(t,n);return!0}function Eg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ti(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new uc("app","Firebase",cC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=oC;function FE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Up,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw es.create("bad-app-name",{appName:String(s)});if(t||(t=jE()),!t)throw es.create("no-options");const l=mh.get(s);if(l){if(Zs(t,l.options)&&Zs(i,l.config))return l;throw es.create("duplicate-app",{appName:s})}const c=new yN(s);for(const m of Bp.values())c.addComponent(m);const f=new dC(t,i,c);return mh.set(s,f),f}function qE(n=Up){const e=mh.get(n);if(!e&&n===Up&&jE())return FE();if(!e)throw es.create("no-app",{appName:n});return e}function ts(n,e,t){var i;let s=(i=lC[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ma.warn(f.join(" "));return}ll(new Js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="firebase-heartbeat-database",fC=1,Ku="firebase-heartbeat-store";let wp=null;function HE(){return wp||(wp=DN(hC,fC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ku)}catch(t){console.warn(t)}}}}).catch(n=>{throw es.create("idb-open",{originalErrorMessage:n.message})})),wp}async function mC(n){try{const t=(await HE()).transaction(Ku),i=await t.objectStore(Ku).get(YE(n));return await t.done,i}catch(e){if(e instanceof va)ma.warn(e.message);else{const t=es.create("idb-get",{originalErrorMessage:e?.message});ma.warn(t.message)}}}async function cb(n,e){try{const i=(await HE()).transaction(Ku,"readwrite");await i.objectStore(Ku).put(e,YE(n)),await i.done}catch(t){if(t instanceof va)ma.warn(t.message);else{const i=es.create("idb-set",{originalErrorMessage:t?.message});ma.warn(i.message)}}}function YE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=1024,gC=30;class yC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _C(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=db();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>gC){const c=bC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ma.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=db(),{heartbeatsToSend:i,unsentEntries:s}=vC(this._heartbeatsCache.heartbeats),l=fh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ma.warn(t),""}}}function db(){return new Date().toISOString().substring(0,10)}function vC(n,e=pC){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),hb(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),hb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class _C{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aN()?sN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return cb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return cb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function hb(n){return fh(JSON.stringify({version:2,heartbeats:n})).length}function bC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(n){ll(new Js("platform-logger",e=>new ON(e),"PRIVATE")),ll(new Js("heartbeat",e=>new yC(e),"PRIVATE")),ts(Lp,lb,n),ts(Lp,lb,"esm2017"),ts("fire-js","")}EC("");var fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,$E;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function R(){}R.prototype=S.prototype,I.D=S.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(O,k,z){for(var M=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)M[_e-2]=arguments[_e];return S.prototype[k].apply(O,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)O[k]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(k=0;16>k;++k)O[k]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=I.g[0],R=I.g[1],k=I.g[2];var z=I.g[3],M=S+(z^R&(k^z))+O[0]+3614090360&4294967295;S=R+(M<<7&4294967295|M>>>25),M=z+(k^S&(R^k))+O[1]+3905402710&4294967295,z=S+(M<<12&4294967295|M>>>20),M=k+(R^z&(S^R))+O[2]+606105819&4294967295,k=z+(M<<17&4294967295|M>>>15),M=R+(S^k&(z^S))+O[3]+3250441966&4294967295,R=k+(M<<22&4294967295|M>>>10),M=S+(z^R&(k^z))+O[4]+4118548399&4294967295,S=R+(M<<7&4294967295|M>>>25),M=z+(k^S&(R^k))+O[5]+1200080426&4294967295,z=S+(M<<12&4294967295|M>>>20),M=k+(R^z&(S^R))+O[6]+2821735955&4294967295,k=z+(M<<17&4294967295|M>>>15),M=R+(S^k&(z^S))+O[7]+4249261313&4294967295,R=k+(M<<22&4294967295|M>>>10),M=S+(z^R&(k^z))+O[8]+1770035416&4294967295,S=R+(M<<7&4294967295|M>>>25),M=z+(k^S&(R^k))+O[9]+2336552879&4294967295,z=S+(M<<12&4294967295|M>>>20),M=k+(R^z&(S^R))+O[10]+4294925233&4294967295,k=z+(M<<17&4294967295|M>>>15),M=R+(S^k&(z^S))+O[11]+2304563134&4294967295,R=k+(M<<22&4294967295|M>>>10),M=S+(z^R&(k^z))+O[12]+1804603682&4294967295,S=R+(M<<7&4294967295|M>>>25),M=z+(k^S&(R^k))+O[13]+4254626195&4294967295,z=S+(M<<12&4294967295|M>>>20),M=k+(R^z&(S^R))+O[14]+2792965006&4294967295,k=z+(M<<17&4294967295|M>>>15),M=R+(S^k&(z^S))+O[15]+1236535329&4294967295,R=k+(M<<22&4294967295|M>>>10),M=S+(k^z&(R^k))+O[1]+4129170786&4294967295,S=R+(M<<5&4294967295|M>>>27),M=z+(R^k&(S^R))+O[6]+3225465664&4294967295,z=S+(M<<9&4294967295|M>>>23),M=k+(S^R&(z^S))+O[11]+643717713&4294967295,k=z+(M<<14&4294967295|M>>>18),M=R+(z^S&(k^z))+O[0]+3921069994&4294967295,R=k+(M<<20&4294967295|M>>>12),M=S+(k^z&(R^k))+O[5]+3593408605&4294967295,S=R+(M<<5&4294967295|M>>>27),M=z+(R^k&(S^R))+O[10]+38016083&4294967295,z=S+(M<<9&4294967295|M>>>23),M=k+(S^R&(z^S))+O[15]+3634488961&4294967295,k=z+(M<<14&4294967295|M>>>18),M=R+(z^S&(k^z))+O[4]+3889429448&4294967295,R=k+(M<<20&4294967295|M>>>12),M=S+(k^z&(R^k))+O[9]+568446438&4294967295,S=R+(M<<5&4294967295|M>>>27),M=z+(R^k&(S^R))+O[14]+3275163606&4294967295,z=S+(M<<9&4294967295|M>>>23),M=k+(S^R&(z^S))+O[3]+4107603335&4294967295,k=z+(M<<14&4294967295|M>>>18),M=R+(z^S&(k^z))+O[8]+1163531501&4294967295,R=k+(M<<20&4294967295|M>>>12),M=S+(k^z&(R^k))+O[13]+2850285829&4294967295,S=R+(M<<5&4294967295|M>>>27),M=z+(R^k&(S^R))+O[2]+4243563512&4294967295,z=S+(M<<9&4294967295|M>>>23),M=k+(S^R&(z^S))+O[7]+1735328473&4294967295,k=z+(M<<14&4294967295|M>>>18),M=R+(z^S&(k^z))+O[12]+2368359562&4294967295,R=k+(M<<20&4294967295|M>>>12),M=S+(R^k^z)+O[5]+4294588738&4294967295,S=R+(M<<4&4294967295|M>>>28),M=z+(S^R^k)+O[8]+2272392833&4294967295,z=S+(M<<11&4294967295|M>>>21),M=k+(z^S^R)+O[11]+1839030562&4294967295,k=z+(M<<16&4294967295|M>>>16),M=R+(k^z^S)+O[14]+4259657740&4294967295,R=k+(M<<23&4294967295|M>>>9),M=S+(R^k^z)+O[1]+2763975236&4294967295,S=R+(M<<4&4294967295|M>>>28),M=z+(S^R^k)+O[4]+1272893353&4294967295,z=S+(M<<11&4294967295|M>>>21),M=k+(z^S^R)+O[7]+4139469664&4294967295,k=z+(M<<16&4294967295|M>>>16),M=R+(k^z^S)+O[10]+3200236656&4294967295,R=k+(M<<23&4294967295|M>>>9),M=S+(R^k^z)+O[13]+681279174&4294967295,S=R+(M<<4&4294967295|M>>>28),M=z+(S^R^k)+O[0]+3936430074&4294967295,z=S+(M<<11&4294967295|M>>>21),M=k+(z^S^R)+O[3]+3572445317&4294967295,k=z+(M<<16&4294967295|M>>>16),M=R+(k^z^S)+O[6]+76029189&4294967295,R=k+(M<<23&4294967295|M>>>9),M=S+(R^k^z)+O[9]+3654602809&4294967295,S=R+(M<<4&4294967295|M>>>28),M=z+(S^R^k)+O[12]+3873151461&4294967295,z=S+(M<<11&4294967295|M>>>21),M=k+(z^S^R)+O[15]+530742520&4294967295,k=z+(M<<16&4294967295|M>>>16),M=R+(k^z^S)+O[2]+3299628645&4294967295,R=k+(M<<23&4294967295|M>>>9),M=S+(k^(R|~z))+O[0]+4096336452&4294967295,S=R+(M<<6&4294967295|M>>>26),M=z+(R^(S|~k))+O[7]+1126891415&4294967295,z=S+(M<<10&4294967295|M>>>22),M=k+(S^(z|~R))+O[14]+2878612391&4294967295,k=z+(M<<15&4294967295|M>>>17),M=R+(z^(k|~S))+O[5]+4237533241&4294967295,R=k+(M<<21&4294967295|M>>>11),M=S+(k^(R|~z))+O[12]+1700485571&4294967295,S=R+(M<<6&4294967295|M>>>26),M=z+(R^(S|~k))+O[3]+2399980690&4294967295,z=S+(M<<10&4294967295|M>>>22),M=k+(S^(z|~R))+O[10]+4293915773&4294967295,k=z+(M<<15&4294967295|M>>>17),M=R+(z^(k|~S))+O[1]+2240044497&4294967295,R=k+(M<<21&4294967295|M>>>11),M=S+(k^(R|~z))+O[8]+1873313359&4294967295,S=R+(M<<6&4294967295|M>>>26),M=z+(R^(S|~k))+O[15]+4264355552&4294967295,z=S+(M<<10&4294967295|M>>>22),M=k+(S^(z|~R))+O[6]+2734768916&4294967295,k=z+(M<<15&4294967295|M>>>17),M=R+(z^(k|~S))+O[13]+1309151649&4294967295,R=k+(M<<21&4294967295|M>>>11),M=S+(k^(R|~z))+O[4]+4149444226&4294967295,S=R+(M<<6&4294967295|M>>>26),M=z+(R^(S|~k))+O[11]+3174756917&4294967295,z=S+(M<<10&4294967295|M>>>22),M=k+(S^(z|~R))+O[2]+718787259&4294967295,k=z+(M<<15&4294967295|M>>>17),M=R+(z^(k|~S))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(k+(M<<21&4294967295|M>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+z&4294967295}i.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var R=S-this.blockSize,O=this.B,k=this.h,z=0;z<S;){if(k==0)for(;z<=R;)s(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<S;)if(O[k++]=I.charCodeAt(z++),k==this.blockSize){s(this,O),k=0;break}}else for(;z<S;)if(O[k++]=I[z++],k==this.blockSize){s(this,O),k=0;break}}this.h=k,this.o+=S},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var R=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=R&255,R/=256;for(this.u(I),I=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)I[R++]=this.g[S]>>>O&255;return I};function l(I,S){var R=f;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=S(I)}function c(I,S){this.h=S;for(var R=[],O=!0,k=I.length-1;0<=k;k--){var z=I[k]|0;O&&z==S||(R[k]=z,O=!1)}this.g=R}var f={};function m(I){return-128<=I&&128>I?l(I,function(S){return new c([S|0],0>S?-1:0)}):new c([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return E;if(0>I)return B(g(-I));for(var S=[],R=1,O=0;I>=R;O++)S[O]=I/R|0,R*=4294967296;return new c(S,0)}function _(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return B(_(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(S,8)),O=E,k=0;k<I.length;k+=8){var z=Math.min(8,I.length-k),M=parseInt(I.substring(k,k+z),S);8>z?(z=g(Math.pow(S,z)),O=O.j(z).add(g(M))):(O=O.j(R),O=O.add(g(M)))}return O}var E=m(0),x=m(1),N=m(16777216);n=c.prototype,n.m=function(){if(Y(this))return-B(this).m();for(var I=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);I+=(0<=O?O:4294967296+O)*S,S*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(Y(this))return"-"+B(this).toString(I);for(var S=g(Math.pow(I,6)),R=this,O="";;){var k=pe(R,S).g;R=q(R,k.j(S));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=k,C(R))return z+O;for(;6>z.length;)z="0"+z;O=z+O}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function Y(I){return I.h==-1}n.l=function(I){return I=q(this,I),Y(I)?-1:C(I)?0:1};function B(I){for(var S=I.g.length,R=[],O=0;O<S;O++)R[O]=~I.g[O];return new c(R,~I.h).add(x)}n.abs=function(){return Y(this)?B(this):this},n.add=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],O=0,k=0;k<=S;k++){var z=O+(this.i(k)&65535)+(I.i(k)&65535),M=(z>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);O=M>>>16,z&=65535,M&=65535,R[k]=M<<16|z}return new c(R,R[R.length-1]&-2147483648?-1:0)};function q(I,S){return I.add(B(S))}n.j=function(I){if(C(this)||C(I))return E;if(Y(this))return Y(I)?B(this).j(B(I)):B(B(this).j(I));if(Y(I))return B(this.j(B(I)));if(0>this.l(N)&&0>I.l(N))return g(this.m()*I.m());for(var S=this.g.length+I.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<I.g.length;k++){var z=this.i(O)>>>16,M=this.i(O)&65535,_e=I.i(k)>>>16,ge=I.i(k)&65535;R[2*O+2*k]+=M*ge,le(R,2*O+2*k),R[2*O+2*k+1]+=z*ge,le(R,2*O+2*k+1),R[2*O+2*k+1]+=M*_e,le(R,2*O+2*k+1),R[2*O+2*k+2]+=z*_e,le(R,2*O+2*k+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new c(R,0)};function le(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function J(I,S){this.g=I,this.h=S}function pe(I,S){if(C(S))throw Error("division by zero");if(C(I))return new J(E,E);if(Y(I))return S=pe(B(I),S),new J(B(S.g),B(S.h));if(Y(S))return S=pe(I,B(S)),new J(B(S.g),S.h);if(30<I.g.length){if(Y(I)||Y(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,O=S;0>=O.l(I);)R=ae(R),O=ae(O);var k=L(R,1),z=L(O,1);for(O=L(O,2),R=L(R,2);!C(O);){var M=z.add(O);0>=M.l(I)&&(k=k.add(R),z=M),O=L(O,1),R=L(R,1)}return S=q(I,k.j(S)),new J(k,S)}for(k=E;0<=I.l(S);){for(R=Math.max(1,Math.floor(I.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),z=g(R),M=z.j(S);Y(M)||0<M.l(I);)R-=O,z=g(R),M=z.j(S);C(z)&&(z=x),k=k.add(z),I=q(I,M)}return new J(k,I)}n.A=function(I){return pe(this,I).h},n.and=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&I.i(O);return new c(R,this.h&I.h)},n.or=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|I.i(O);return new c(R,this.h|I.h)},n.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^I.i(O);return new c(R,this.h^I.h)};function ae(I){for(var S=I.g.length+1,R=[],O=0;O<S;O++)R[O]=I.i(O)<<1|I.i(O-1)>>>31;return new c(R,I.h)}function L(I,S){var R=S>>5;S%=32;for(var O=I.g.length-R,k=[],z=0;z<O;z++)k[z]=0<S?I.i(z+R)>>>S|I.i(z+R+1)<<32-S:I.i(z+R);return new c(k,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,$E=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,ns=c}).apply(typeof fb<"u"?fb:typeof self<"u"?self:typeof window<"u"?window:{});var zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WE,ku,GE,Qd,zp,KE,QE,XE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,b){return d==Array.prototype||d==Object.prototype||(d[v]=b.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof zd=="object"&&zd];for(var v=0;v<d.length;++v){var b=d[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function s(d,v){if(v)e:{var b=i;d=d.split(".");for(var A=0;A<d.length-1;A++){var Q=d[A];if(!(Q in b))break e;b=b[Q]}d=d[d.length-1],A=b[d],v=v(A),v!=A&&v!=null&&e(b,d,{configurable:!0,writable:!0,value:v})}}function l(d,v){d instanceof String&&(d+="");var b=0,A=!1,Q={next:function(){if(!A&&b<d.length){var se=b++;return{value:v(se,d[se]),done:!1}}return A=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(d){return d||function(){return l(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function g(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function _(d,v,b){return d.call.apply(d.bind,arguments)}function E(d,v,b){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,A),d.apply(v,Q)}}return function(){return d.apply(v,arguments)}}function x(d,v,b){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,x.apply(null,arguments)}function N(d,v){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function C(d,v){function b(){}b.prototype=v.prototype,d.aa=v.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(A,Q,se){for(var Te=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)Te[_t-2]=arguments[_t];return v.prototype[Q].apply(A,Te)}}function Y(d){const v=d.length;if(0<v){const b=Array(v);for(let A=0;A<v;A++)b[A]=d[A];return b}return[]}function B(d,v){for(let b=1;b<arguments.length;b++){const A=arguments[b];if(m(A)){const Q=d.length||0,se=A.length||0;d.length=Q+se;for(let Te=0;Te<se;Te++)d[Q+Te]=A[Te]}else d.push(A)}}class q{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function le(d){return/^[\s\xa0]*$/.test(d)}function J(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function pe(d){return pe[" "](d),d}pe[" "]=function(){};var ae=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function L(d,v,b){for(const A in d)v.call(b,d[A],A,d)}function I(d,v){for(const b in d)v.call(void 0,d[b],b,d)}function S(d){const v={};for(const b in d)v[b]=d[b];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,v){let b,A;for(let Q=1;Q<arguments.length;Q++){A=arguments[Q];for(b in A)d[b]=A[b];for(let se=0;se<R.length;se++)b=R[se],Object.prototype.hasOwnProperty.call(A,b)&&(d[b]=A[b])}}function k(d){var v=1;d=d.split(":");const b=[];for(;0<v&&d.length;)b.push(d.shift()),v--;return d.length&&b.push(d.join(":")),b}function z(d){f.setTimeout(()=>{throw d},0)}function M(){var d=ve;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class _e{constructor(){this.h=this.g=null}add(v,b){const A=ge.get();A.set(v,b),this.h?this.h.next=A:this.g=A,this.h=A}}var ge=new q(()=>new P,d=>d.reset());class P{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let X,te=!1,ve=new _e,D=()=>{const d=f.Promise.resolve(void 0);X=()=>{d.then(ne)}};var ne=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(b){z(b)}var v=ge;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}te=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return d}();function Me(d,v){if(oe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(ae){e:{try{pe(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else b=="mouseover"?v=d.fromElement:b=="mouseout"&&(v=d.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Se[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Me.aa.h.call(this)}}C(Me,oe);var Se={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),it=0;function yt(d,v,b,A,Q){this.listener=d,this.proxy=null,this.src=v,this.type=b,this.capture=!!A,this.ha=Q,this.key=++it,this.da=this.fa=!1}function Xe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function xt(d){this.src=d,this.g={},this.h=0}xt.prototype.add=function(d,v,b,A,Q){var se=d.toString();d=this.g[se],d||(d=this.g[se]=[],this.h++);var Te=dn(d,v,A,Q);return-1<Te?(v=d[Te],b||(v.fa=!1)):(v=new yt(v,this.src,se,!!A,Q),v.fa=b,d.push(v)),v};function Wt(d,v){var b=v.type;if(b in d.g){var A=d.g[b],Q=Array.prototype.indexOf.call(A,v,void 0),se;(se=0<=Q)&&Array.prototype.splice.call(A,Q,1),se&&(Xe(v),d.g[b].length==0&&(delete d.g[b],d.h--))}}function dn(d,v,b,A){for(var Q=0;Q<d.length;++Q){var se=d[Q];if(!se.da&&se.listener==v&&se.capture==!!b&&se.ha==A)return Q}return-1}var Qt="closure_lm_"+(1e6*Math.random()|0),Dn={};function Or(d,v,b,A,Q){if(Array.isArray(v)){for(var se=0;se<v.length;se++)Or(d,v[se],b,A,Q);return null}return b=an(b),d&&d[mt]?d.K(v,b,g(A)?!!A.capture:!1,Q):Re(d,v,b,!1,A,Q)}function Re(d,v,b,A,Q,se){if(!v)throw Error("Invalid event type");var Te=g(Q)?!!Q.capture:!!Q,_t=Yt(d);if(_t||(d[Qt]=_t=new xt(d)),b=_t.add(v,b,A,Te,se),b.proxy)return b;if(A=Gt(),b.proxy=A,A.src=d,A.listener=b,d.addEventListener)xe||(Q=Te),Q===void 0&&(Q=!1),d.addEventListener(v.toString(),A,Q);else if(d.attachEvent)d.attachEvent(Dt(v.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Gt(){function d(b){return v.call(d.src,d.listener,b)}const v=Xt;return d}function _n(d,v,b,A,Q){if(Array.isArray(v))for(var se=0;se<v.length;se++)_n(d,v[se],b,A,Q);else A=g(A)?!!A.capture:!!A,b=an(b),d&&d[mt]?(d=d.i,v=String(v).toString(),v in d.g&&(se=d.g[v],b=dn(se,b,A,Q),-1<b&&(Xe(se[b]),Array.prototype.splice.call(se,b,1),se.length==0&&(delete d.g[v],d.h--)))):d&&(d=Yt(d))&&(v=d.g[v.toString()],d=-1,v&&(d=dn(v,b,A,Q)),(b=-1<d?v[d]:null)&&bn(b))}function bn(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[mt])Wt(v.i,d);else{var b=d.type,A=d.proxy;v.removeEventListener?v.removeEventListener(b,A,d.capture):v.detachEvent?v.detachEvent(Dt(b),A):v.addListener&&v.removeListener&&v.removeListener(A),(b=Yt(v))?(Wt(b,d),b.h==0&&(b.src=null,v[Qt]=null)):Xe(d)}}}function Dt(d){return d in Dn?Dn[d]:Dn[d]="on"+d}function Xt(d,v){if(d.da)d=!0;else{v=new Me(v,this);var b=d.listener,A=d.ha||d.src;d.fa&&bn(d),d=b.call(A,v)}return d}function Yt(d){return d=d[Qt],d instanceof xt?d:null}var En="__closure_events_fn_"+(1e9*Math.random()>>>0);function an(d){return typeof d=="function"?d:(d[En]||(d[En]=function(v){return d.handleEvent(v)}),d[En])}function et(){ue.call(this),this.i=new xt(this),this.M=this,this.F=null}C(et,ue),et.prototype[mt]=!0,et.prototype.removeEventListener=function(d,v,b,A){_n(this,d,v,b,A)};function Fe(d,v){var b,A=d.F;if(A)for(b=[];A;A=A.F)b.push(A);if(d=d.M,A=v.type||v,typeof v=="string")v=new oe(v,d);else if(v instanceof oe)v.target=v.target||d;else{var Q=v;v=new oe(A,d),O(v,Q)}if(Q=!0,b)for(var se=b.length-1;0<=se;se--){var Te=v.g=b[se];Q=tn(Te,A,!0,v)&&Q}if(Te=v.g=d,Q=tn(Te,A,!0,v)&&Q,Q=tn(Te,A,!1,v)&&Q,b)for(se=0;se<b.length;se++)Te=v.g=b[se],Q=tn(Te,A,!1,v)&&Q}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var b=d.g[v],A=0;A<b.length;A++)Xe(b[A]);delete d.g[v],d.h--}}this.F=null},et.prototype.K=function(d,v,b,A){return this.i.add(String(d),v,!1,b,A)},et.prototype.L=function(d,v,b,A){return this.i.add(String(d),v,!0,b,A)};function tn(d,v,b,A){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,se=0;se<v.length;++se){var Te=v[se];if(Te&&!Te.da&&Te.capture==b){var _t=Te.listener,Tn=Te.ha||Te.src;Te.fa&&Wt(d.i,Te),Q=_t.call(Tn,A)!==!1&&Q}}return Q&&!A.defaultPrevented}function Ft(d,v,b){if(typeof d=="function")b&&(d=x(d,b));else if(d&&typeof d.handleEvent=="function")d=x(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(d,v||0)}function ui(d){d.g=Ft(()=>{d.g=null,d.i&&(d.i=!1,ui(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class In extends ue{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ui(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(d){ue.call(this),this.h=d,this.g={}}C(cr,ue);var dr=[];function hr(d){L(d.g,function(v,b){this.g.hasOwnProperty(b)&&bn(v)},d),d.g={}}cr.prototype.N=function(){cr.aa.N.call(this),hr(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=f.JSON.stringify,ir=f.JSON.parse,Un=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Ge(){}Ge.prototype.h=null;function H(d){return d.h||(d.h=d.i())}function Ee(){}var je={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Be(){oe.call(this,"d")}C(Be,oe);function nt(){oe.call(this,"c")}C(nt,oe);var Ze={},It=null;function Ve(){return It=It||new et}Ze.La="serverreachability";function wn(d){oe.call(this,Ze.La,d)}C(wn,oe);function V(d){const v=Ve();Fe(v,new wn(v))}Ze.STAT_EVENT="statevent";function G(d,v){oe.call(this,Ze.STAT_EVENT,d),this.stat=v}C(G,oe);function $(d){const v=Ve();Fe(v,new G(v,d))}Ze.Ma="timingevent";function K(d,v){oe.call(this,Ze.Ma,d),this.size=v}C(K,oe);function ce(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},v)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function be(d,v,b,A,Q,se){d.info(function(){if(d.g)if(se)for(var Te="",_t=se.split("&"),Tn=0;Tn<_t.length;Tn++){var bt=_t[Tn].split("=");if(1<bt.length){var On=bt[0];bt=bt[1];var Sn=On.split("_");Te=2<=Sn.length&&Sn[1]=="type"?Te+(On+"="+bt+"&"):Te+(On+"=redacted&")}}else Te=null;else Te=se;return"XMLHTTP REQ ("+A+") [attempt "+Q+"]: "+v+`
`+b+`
`+Te})}function we(d,v,b,A,Q,se,Te){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+Q+"]: "+v+`
`+b+`
`+se+" "+Te})}function Ce(d,v,b,A){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+He(d,b)+(A?" "+A:"")})}function ke(d,v){d.info(function(){return"TIMEOUT: "+v})}Ae.prototype.info=function(){};function He(d,v){if(!d.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var A=b[d];if(!(2>A.length)){var Q=A[1];if(Array.isArray(Q)&&!(1>Q.length)){var se=Q[0];if(se!="noop"&&se!="stop"&&se!="close")for(var Te=1;Te<Q.length;Te++)Q[Te]=""}}}}return Ln(b)}catch{return v}}var ze={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ke={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dt;function Rt(){}C(Rt,Ge),Rt.prototype.g=function(){return new XMLHttpRequest},Rt.prototype.i=function(){return{}},dt=new Rt;function Tt(d,v,b,A){this.j=d,this.i=v,this.l=b,this.R=A||1,this.U=new cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}var lt={},kr={};function xn(d,v,b){d.L=1,d.v=bs(Er(v)),d.m=b,d.P=!0,ar(d,null)}function ar(d,v){d.F=Date.now(),_r(d),d.A=Er(d.v);var b=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),Il(b.i,"t",A),d.C=0,b=d.j.J,d.h=new vt,d.g=Pc(d.j,b?v:null,!d.m),0<d.O&&(d.M=new In(x(d.Y,d,d.g),d.O)),v=d.U,b=d.g,A=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(dr[0]=Q.toString()),Q=dr);for(var se=0;se<Q.length;se++){var Te=Or(b,Q[se],A||v.handleEvent,!1,v.h||v);if(!Te)break;v.g[Te.key]=Te}v=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),V(),be(d.i,d.u,d.A,d.l,d.R,d.m)}Tt.prototype.ca=function(d){d=d.target;const v=this.M;v&&Ur(d)==3?v.j():this.Y(d)},Tt.prototype.Y=function(d){try{if(d==this.g)e:{const Sn=Ur(this.g);var v=this.g.Ba();const $i=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||Rc(this.g)))){this.J||Sn!=4||v==7||(v==8||0>=$i?V(3):V(2)),Qn(this);var b=this.g.Z();this.X=b;t:if(Bn(this)){var A=Rc(this.g);d="";var Q=A.length,se=Ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Je(this),sr(this);var Te="";break t}this.h.i=new f.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,d+=this.h.i.decode(A[v],{stream:!(se&&v==Q-1)});A.length=0,this.h.g+=d,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=b==200,we(this.i,this.u,this.A,this.l,this.R,Sn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,Tn=this.g;if((_t=Tn.g?Tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!le(_t)){var bt=_t;break t}}bt=null}if(b=bt)Ce(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hn(this,b);else{this.o=!1,this.s=3,$(12),Je(this),sr(this);break e}}if(this.P){b=!0;let Fn;for(;!this.J&&this.C<Te.length;)if(Fn=ci(this,Te),Fn==kr){Sn==4&&(this.s=4,$(14),b=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==lt){this.s=4,$(15),Ce(this.i,this.l,Te,"[Invalid Chunk]"),b=!1;break}else Ce(this.i,this.l,Fn,null),hn(this,Fn);if(Bn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||Te.length!=0||this.h.h||(this.s=1,$(16),b=!1),this.o=this.o&&b,!b)Ce(this.i,this.l,Te,"[Invalid Chunked Response]"),Je(this),sr(this);else if(0<Te.length&&!this.W){this.W=!0;var On=this.j;On.g==this&&On.ba&&!On.M&&(On.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),Ns(On),On.M=!0,$(11))}}else Ce(this.i,this.l,Te,null),hn(this,Te);Sn==4&&Je(this),this.o&&!this.J&&(Sn==4?Mc(this.j,this):(this.o=!1,_r(this)))}else pf(this.g),b==400&&0<Te.indexOf("Unknown SID")?(this.s=3,$(12)):(this.s=0,$(13)),Je(this),sr(this)}}}catch{}finally{}};function Bn(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ci(d,v){var b=d.C,A=v.indexOf(`
`,b);return A==-1?kr:(b=Number(v.substring(b,A)),isNaN(b)?lt:(A+=1,A+b>v.length?kr:(v=v.slice(A,A+b),d.C=A+b,v)))}Tt.prototype.cancel=function(){this.J=!0,Je(this)};function _r(d){d.S=Date.now()+d.I,ba(d,d.I)}function ba(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ce(x(d.ba,d),v)}function Qn(d){d.B&&(f.clearTimeout(d.B),d.B=null)}Tt.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ke(this.i,this.A),this.L!=2&&(V(),$(17)),Je(this),this.s=2,sr(this)):ba(this,this.S-d)};function sr(d){d.j.G==0||d.J||Mc(d.j,d)}function Je(d){Qn(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,hr(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function hn(d,v){try{var b=d.j;if(b.G!=0&&(b.g==d||Pr(b.h,d))){if(!d.K&&Pr(b.h,d)&&b.G==3){try{var A=b.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var Q=A;if(Q[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)yo(b),po(b);else break e;jl(b),$(18)}}else b.za=Q[1],0<b.za-b.T&&37500>Q[2]&&b.F&&b.v==0&&!b.C&&(b.C=ce(x(b.Za,b),6e3));if(1>=Bt(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Yi(b,11)}else if((d.K||b.g==d)&&yo(b),!le(v))for(Q=b.Da.g.parse(v),v=0;v<Q.length;v++){let bt=Q[v];if(b.T=bt[0],bt=bt[1],b.G==2)if(bt[0]=="c"){b.K=bt[1],b.ia=bt[2];const On=bt[3];On!=null&&(b.la=On,b.j.info("VER="+b.la));const Sn=bt[4];Sn!=null&&(b.Aa=Sn,b.j.info("SVER="+b.Aa));const $i=bt[5];$i!=null&&typeof $i=="number"&&0<$i&&(A=1.5*$i,b.L=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const Fn=d.g;if(Fn){const vi=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var se=A.h;se.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ui(se,se.h),se.h=null))}if(A.D){const Ll=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ll&&(A.ya=Ll,Pt(A.I,A.D,Ll))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),A=b;var Te=d;if(A.qa=kc(A,A.J?A.ia:null,A.W),Te.K){zn(A.h,Te);var _t=Te,Tn=A.L;Tn&&(_t.I=Tn),_t.B&&(Qn(_t),_r(_t)),A.g=Te}else Dc(A);0<b.i.length&&go(b)}else bt[0]!="stop"&&bt[0]!="close"||Yi(b,7);else b.G==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Yi(b,7):kl(b):bt[0]!="noop"&&b.l&&b.l.ta(bt),b.v=0)}}V(4)}catch{}}var br=class{constructor(d,v){this.g=d,this.map=v}};function fr(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function di(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Bt(d){return d.h?1:d.g?d.g.size:0}function Pr(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Ui(d,v){d.g?d.g.add(v):d.h=v}function zn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}fr.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Rl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const b of d.g.values())v=v.concat(b.D);return v}return Y(d.i)}function df(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(m(d)){for(var v=[],b=d.length,A=0;A<b;A++)v.push(d[A]);return v}v=[],b=0;for(A in d)v[b++]=d[A];return v}function lo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(m(d)||typeof d=="string"){var v=[];d=d.length;for(var b=0;b<d;b++)v.push(b);return v}v=[],b=0;for(const A in d)v[b++]=A;return v}}}function Nl(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(m(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var b=lo(d),A=df(d),Q=A.length,se=0;se<Q;se++)v.call(void 0,A[se],b&&b[se],d)}var vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hf(d,v){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var A=d[b].indexOf("="),Q=null;if(0<=A){var se=d[b].substring(0,A);Q=d[b].substring(A+1)}else se=d[b];v(se,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function fn(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof fn){this.h=d.h,_s(this,d.j),this.o=d.o,this.g=d.g,Ea(this,d.s),this.l=d.l;var v=d.i,b=new zi;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),Bi(this,b),this.m=d.m}else d&&(v=String(d).match(vs))?(this.h=!1,_s(this,v[1]||"",!0),this.o=jr(v[2]||""),this.g=jr(v[3]||"",!0),Ea(this,v[4]),this.l=jr(v[5]||"",!0),Bi(this,v[6]||"",!0),this.m=jr(v[7]||"")):(this.h=!1,this.i=new zi(null,this.h))}fn.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Es(v,Cl,!0),":");var b=this.g;return(b||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Es(v,Cl,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(Es(b,b.charAt(0)=="/"?ff:Dl,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",Es(b,uo)),d.join("")};function Er(d){return new fn(d)}function _s(d,v,b){d.j=b?jr(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Ea(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Bi(d,v,b){v instanceof zi?(d.i=v,Sc(d.i,d.h)):(b||(v=Es(v,mf)),d.i=new zi(v,d.h))}function Pt(d,v,b){d.i.set(v,b)}function bs(d){return Pt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function jr(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Es(d,v,b){return typeof d=="string"?(d=encodeURI(d).replace(v,Tc),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Tc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Cl=/[#\/\?@]/g,Dl=/[#\?:]/g,ff=/[#\?]/g,mf=/[#\?@]/g,uo=/#/g;function zi(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Vr(d){d.g||(d.g=new Map,d.h=0,d.i&&hf(d.i,function(v,b){d.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=zi.prototype,n.add=function(d,v){Vr(this),this.i=null,d=hi(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(v),this.h+=1,this};function Fi(d,v){Vr(d),v=hi(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function qi(d,v){return Vr(d),v=hi(d,v),d.g.has(v)}n.forEach=function(d,v){Vr(this),this.g.forEach(function(b,A){b.forEach(function(Q){d.call(v,Q,A,this)},this)},this)},n.na=function(){Vr(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let A=0;A<v.length;A++){const Q=d[A];for(let se=0;se<Q.length;se++)b.push(v[A])}return b},n.V=function(d){Vr(this);let v=[];if(typeof d=="string")qi(this,d)&&(v=v.concat(this.g.get(hi(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)v=v.concat(d[b])}return v},n.set=function(d,v){return Vr(this),this.i=null,d=hi(this,d),qi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Il(d,v,b){Fi(d,v),0<b.length&&(d.i=null,d.g.set(hi(d,v),Y(b)),d.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var A=v[b];const se=encodeURIComponent(String(A)),Te=this.V(A);for(A=0;A<Te.length;A++){var Q=se;Te[A]!==""&&(Q+="="+encodeURIComponent(String(Te[A]))),d.push(Q)}}return this.i=d.join("&")};function hi(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Sc(d,v){v&&!d.j&&(Vr(d),d.i=null,d.g.forEach(function(b,A){var Q=A.toLowerCase();A!=Q&&(Fi(this,A),Il(this,Q,b))},d)),d.j=v}function ws(d,v){const b=new Ae;if(f.Image){const A=new Image;A.onload=N(Lr,b,"TestLoadImage: loaded",!0,v,A),A.onerror=N(Lr,b,"TestLoadImage: error",!1,v,A),A.onabort=N(Lr,b,"TestLoadImage: abort",!1,v,A),A.ontimeout=N(Lr,b,"TestLoadImage: timeout",!1,v,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else v(!1)}function Xr(d,v){const b=new Ae,A=new AbortController,Q=setTimeout(()=>{A.abort(),Lr(b,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:A.signal}).then(se=>{clearTimeout(Q),se.ok?Lr(b,"TestPingServer: ok",!0,v):Lr(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Lr(b,"TestPingServer: error",!1,v)})}function Lr(d,v,b,A,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),A(b)}catch{}}function xs(){this.g=new Un}function fi(d,v,b){const A=b||"";try{Nl(d,function(Q,se){let Te=Q;g(Q)&&(Te=Ln(Q)),v.push(A+se+"="+encodeURIComponent(Te))})}catch(Q){throw v.push(A+"type="+encodeURIComponent("_badmap")),Q}}function wa(d){this.l=d.Ub||null,this.j=d.eb||!1}C(wa,Ge),wa.prototype.g=function(){return new Hi(this.l,this.j)},wa.prototype.i=function(d){return function(){return d}}({});function Hi(d,v){et.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Hi,et),n=Hi.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,pi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ml(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ml(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?mi(this):pi(this),this.readyState==3&&Ml(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,mi(this))},n.Qa=function(d){this.g&&(this.response=d,mi(this))},n.ga=function(){this.g&&mi(this)};function mi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,pi(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=v.next();return d.join(`\r
`)};function pi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ol(d){let v="";return L(d,function(b,A){v+=A,v+=":",v+=b,v+=`\r
`}),v}function Mn(d,v,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=Ol(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):Pt(d,v,b))}function Nt(d){et.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Nt,et);var co=/^https?$/i,Ts=["POST","PUT"];n=Nt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dt.g(),this.v=this.o?H(this.o):H(dt),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(se){Ac(this,se);return}if(d=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var Q in A)b.set(Q,A[Q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const se of A.keys())b.set(se,A.get(se));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(se=>se.toLowerCase()=="content-type"),Q=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ts,v,void 0))||A||Q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Te]of b)this.g.setRequestHeader(se,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ss(this),this.u=!0,this.g.send(d),this.u=!1}catch(se){Ac(this,se)}};function Ac(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,ho(d),gi(d)}function ho(d){d.A||(d.A=!0,Fe(d,"complete"),Fe(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Fe(this,"complete"),Fe(this,"abort"),gi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?fo(this):this.bb())},n.bb=function(){fo(this)};function fo(d){if(d.h&&typeof c<"u"&&(!d.v[1]||Ur(d)!=4||d.Z()!=2)){if(d.u&&Ur(d)==4)Ft(d.Ea,0,d);else if(Fe(d,"readystatechange"),Ur(d)==4){d.h=!1;try{const Te=d.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var A;if(A=Te===0){var Q=String(d.D).match(vs)[1]||null;!Q&&f.self&&f.self.location&&(Q=f.self.location.protocol.slice(0,-1)),A=!co.test(Q?Q.toLowerCase():"")}b=A}if(b)Fe(d,"complete"),Fe(d,"success");else{d.m=6;try{var se=2<Ur(d)?d.g.statusText:""}catch{se=""}d.l=se+" ["+d.Z()+"]",ho(d)}}finally{gi(d)}}}}function gi(d,v){if(d.g){Ss(d);const b=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Fe(d,"ready");try{b.onreadystatechange=A}catch{}}}function Ss(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Ur(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),ir(v)}};function Rc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function pf(d){const v={};d=(d.g&&2<=Ur(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(le(d[A]))continue;var b=k(d[A]);const Q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const se=v[Q]||[];v[Q]=se,se.push(b)}I(v,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(d,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||v}function mo(d){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,d),this.cb=As("retryDelaySeedMs",1e4,d),this.Wa=As("forwardChannelMaxRetries",2,d),this.wa=As("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new fr(d&&d.concurrentRequestLimit),this.Da=new xs,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=mo.prototype,n.la=8,n.G=1,n.connect=function(d,v,b,A){$(0),this.W=d,this.H=v||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.I=kc(this,null,this.W),go(this)};function kl(d){if(Nc(d),d.G==3){var v=d.U++,b=Er(d.I);if(Pt(b,"SID",d.K),Pt(b,"RID",v),Pt(b,"TYPE","terminate"),Rs(d,b),v=new Tt(d,d.j,v),v.L=2,v.v=bs(Er(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.v,b=!0),b||(v.g=Pc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),_r(v)}Oc(d)}function po(d){d.g&&(Ns(d),d.g.cancel(),d.g=null)}function Nc(d){po(d),d.u&&(f.clearTimeout(d.u),d.u=null),yo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function go(d){if(!di(d.h)&&!d.s){d.s=!0;var v=d.Ga;X||D(),te||(X(),te=!0),ve.add(v,d),d.B=0}}function gf(d,v){return Bt(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ce(x(d.Ga,d,v),Vl(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new Tt(this,this.j,d);let se=this.o;if(this.S&&(se?(se=S(se),O(se,this.S)):se=this.S),this.m!==null||this.O||(Q.H=se,se=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Cc(this,Q,v),b=Er(this.I),Pt(b,"RID",d),Pt(b,"CVER",22),this.D&&Pt(b,"X-HTTP-Session-Id",this.D),Rs(this,b),se&&(this.O?v="headers="+encodeURIComponent(String(Ol(se)))+"&"+v:this.m&&Mn(b,this.m,se)),Ui(this.h,Q),this.Ua&&Pt(b,"TYPE","init"),this.P?(Pt(b,"$req",v),Pt(b,"SID","null"),Q.T=!0,xn(Q,b,null)):xn(Q,b,v),this.G=2}}else this.G==3&&(d?Pl(this,d):this.i.length==0||di(this.h)||Pl(this))};function Pl(d,v){var b;v?b=v.l:b=d.U++;const A=Er(d.I);Pt(A,"SID",d.K),Pt(A,"RID",b),Pt(A,"AID",d.T),Rs(d,A),d.m&&d.o&&Mn(A,d.m,d.o),b=new Tt(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Cc(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ui(d.h,b),xn(b,A,v)}function Rs(d,v){d.H&&L(d.H,function(b,A){Pt(v,A,b)}),d.l&&Nl({},function(b,A){Pt(v,A,b)})}function Cc(d,v,b){b=Math.min(d.i.length,b);var A=d.l?x(d.l.Na,d.l,d):null;e:{var Q=d.i;let se=-1;for(;;){const Te=["count="+b];se==-1?0<b?(se=Q[0].g,Te.push("ofs="+se)):se=0:Te.push("ofs="+se);let _t=!0;for(let Tn=0;Tn<b;Tn++){let bt=Q[Tn].g;const On=Q[Tn].map;if(bt-=se,0>bt)se=Math.max(0,Q[Tn].g-100),_t=!1;else try{fi(On,Te,"req"+bt+"_")}catch{A&&A(On)}}if(_t){A=Te.join("&");break e}}}return d=d.i.splice(0,b),v.D=d,A}function Dc(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;X||D(),te||(X(),te=!0),ve.add(v,d),d.v=0}}function jl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ce(x(d.Fa,d),Vl(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Ic(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ce(x(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$(10),po(this),Ic(this))};function Ns(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Ic(d){d.g=new Tt(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Er(d.qa);Pt(v,"RID","rpc"),Pt(v,"SID",d.K),Pt(v,"AID",d.T),Pt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Pt(v,"TO",d.ja),Pt(v,"TYPE","xmlhttp"),Rs(d,v),d.m&&d.o&&Mn(v,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=bs(Er(v)),b.m=null,b.P=!0,ar(b,d)}n.Za=function(){this.C!=null&&(this.C=null,po(this),jl(this),$(19))};function yo(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Mc(d,v){var b=null;if(d.g==v){yo(d),Ns(d),d.g=null;var A=2}else if(Pr(d.h,v))b=v.D,zn(d.h,v),A=1;else return;if(d.G!=0){if(v.o)if(A==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var Q=d.B;A=Ve(),Fe(A,new K(A,b)),go(d)}else Dc(d);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(A==1&&gf(d,v)||A==2&&jl(d)))switch(b&&0<b.length&&(v=d.h,v.i=v.i.concat(b)),Q){case 1:Yi(d,5);break;case 4:Yi(d,10);break;case 3:Yi(d,6);break;default:Yi(d,2)}}}function Vl(d,v){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*v}function Yi(d,v){if(d.j.info("Error code "+v),v==2){var b=x(d.fb,d),A=d.Xa;const Q=!A;A=new fn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||_s(A,"https"),bs(A),Q?ws(A.toString(),b):Xr(A.toString(),b)}else $(2);d.G=0,d.l&&d.l.sa(v),Oc(d),Nc(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),$(2)):(this.j.info("Failed to ping google.com"),$(1))};function Oc(d){if(d.G=0,d.ka=[],d.l){const v=Rl(d.h);(v.length!=0||d.i.length!=0)&&(B(d.ka,v),B(d.ka,d.i),d.h.i.length=0,Y(d.i),d.i.length=0),d.l.ra()}}function kc(d,v,b){var A=b instanceof fn?Er(b):new fn(b);if(A.g!="")v&&(A.g=v+"."+A.g),Ea(A,A.s);else{var Q=f.location;A=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var se=new fn(null);A&&_s(se,A),v&&(se.g=v),Q&&Ea(se,Q),b&&(se.l=b),A=se}return b=d.D,v=d.ya,b&&v&&Pt(A,b,v),Pt(A,"VER",d.la),Rs(d,A),A}function Pc(d,v,b){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Nt(new wa({eb:b})):new Nt(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function jc(){}n=jc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function vo(){}vo.prototype.g=function(d,v){return new or(d,v)};function or(d,v){et.call(this),this.g=new mo(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!le(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!le(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new yi(this)}C(or,et),or.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},or.prototype.close=function(){kl(this.g)},or.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=Ln(d),d=b);v.i.push(new br(v.Ya++,d)),v.G==3&&go(v)},or.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,or.aa.N.call(this)};function Vc(d){Be.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const b in v){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}C(Vc,Be);function Lc(){nt.call(this),this.status=1}C(Lc,nt);function yi(d){this.g=d}C(yi,jc),yi.prototype.ua=function(){Fe(this.g,"a")},yi.prototype.ta=function(d){Fe(this.g,new Vc(d))},yi.prototype.sa=function(d){Fe(this.g,new Lc)},yi.prototype.ra=function(){Fe(this.g,"b")},vo.prototype.createWebChannel=vo.prototype.g,or.prototype.send=or.prototype.o,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,XE=function(){return new vo},QE=function(){return Ve()},KE=Ze,zp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ze.NO_ERROR=0,ze.TIMEOUT=8,ze.HTTP_ERROR=6,Qd=ze,Ke.COMPLETE="complete",GE=Ke,Ee.EventType=je,je.OPEN="a",je.CLOSE="b",je.ERROR="c",je.MESSAGE="d",et.prototype.listen=et.prototype.K,ku=Ee,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,WE=Nt}).apply(typeof zd<"u"?zd:typeof self<"u"?self:typeof window<"u"?window:{});const mb="@firebase/firestore",pb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new _g("@firebase/firestore");function Ko(){return eo.logLevel}function Ie(n,...e){if(eo.logLevel<=pt.DEBUG){const t=e.map(wg);eo.debug(`Firestore (${_l}): ${n}`,...t)}}function pa(n,...e){if(eo.logLevel<=pt.ERROR){const t=e.map(wg);eo.error(`Firestore (${_l}): ${n}`,...t)}}function ss(n,...e){if(eo.logLevel<=pt.WARN){const t=e.map(wg);eo.warn(`Firestore (${_l}): ${n}`,...t)}}function wg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,ZE(n,i,t)}function ZE(n,e,t){let i=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw pa(i),new Error(i)}function Ct(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||ZE(e,s,i)}function rt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends va{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tr.UNAUTHENTICATED))}shutdown(){}}class xC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class TC{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ct(this.o===void 0,42304);let i=this.i;const s=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fa,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await s(this.currentUser)})},f=m=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fa)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct(typeof i.accessToken=="string",31837,{l:i}),new JE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new tr(e)}}class SC{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AC{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new SC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ct(this.o===void 0,3512);const i=l=>{l.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ie("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new gb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=NC(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function ot(n,e){return n<e?-1:n>e?1:0}function Fp(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return ot(i,s);{const l=ew(),c=CC(l.encode(yb(n,t)),l.encode(yb(e,t)));return c!==0?c:ot(i,s)}}t+=i>65535?2:1}return ot(n.length,e.length)}function yb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function CC(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ot(n[t],e[t]);return ot(n.length,e.length)}function ul(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="__name__";class Si{constructor(e,t,i){t===void 0?t=0:t>e.length&&We(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&We(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=Si.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return ot(e.length,t.length)}static compareSegments(e,t){const i=Si.isNumericId(e),s=Si.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Si.extractNumericId(e).compare(Si.extractNumericId(t)):Fp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class Ht extends Si{construct(e,t,i){return new Ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new De(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new Ht(t)}static emptyPath(){return new Ht([])}}const DC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends Si{construct(e,t,i){return new Wn(e,t,i)}static isValidIdentifier(e){return DC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vb}static keyField(){return new Wn([vb])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new De(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new De(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new De(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(i+=f,s++):(l(),s++)}if(l(),c)throw new De(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wn(t)}static emptyPath(){return new Wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Ht.fromString(e))}static fromName(e){return new Ue(Ht.fromString(e).popFirst(5))}static empty(){return new Ue(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(n,e,t){if(!t)throw new De(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IC(n,e,t,i){if(e===!0&&i===!0)throw new De(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _b(n){if(!Ue.isDocumentKey(n))throw new De(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bb(n){if(Ue.isDocumentKey(n))throw new De(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Bh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":We(12329,{type:typeof n})}function ii(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new De(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bh(n);throw new De(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(n,e){const t={typeString:n};return e&&(t.value=e),t}function dc(n,e){if(!nw(n))throw new De(fe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(s&&typeof c!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new De(fe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=-62135596800,wb=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*wb);return new $t(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new De(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new De(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Eb)throw new De(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wb}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dc(e,$t._jsonSchema))return new $t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Eb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$t._jsonSchemaVersion="firestore/timestamp/1.0",$t._jsonSchema={type:vn("string",$t._jsonSchemaVersion),seconds:vn("number"),nanoseconds:vn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new $t(0,0))}static max(){return new tt(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=-1;function MC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=tt.fromTimestamp(i===1e9?new $t(t+1,0):new $t(t,i));return new os(s,Ue.empty(),e)}function OC(n){return new os(n.readTime,n.key,Qu)}class os{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new os(tt.min(),Ue.empty(),Qu)}static max(){return new os(tt.max(),Ue.empty(),Qu)}}function kC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ue.comparator(n.documentKey,e.documentKey),t!==0?t:ot(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==PC)throw n;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&We(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.reject(t)}static resolve(e){return new ye((t,i)=>{t(e)})}static reject(e){return new ye((t,i)=>{i(e)})}static waitFor(e){return new ye((t,i)=>{let s=0,l=0,c=!1;e.forEach(f=>{++s,f.next(()=>{++l,c&&l===s&&t()},m=>i(m))}),c=!0,l===s&&t()})}static or(e){let t=ye.resolve(!1);for(const i of e)t=t.next(s=>s?ye.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new ye((i,s)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(_=>{c[g]=_,++f,f===l&&i(c)},_=>s(_))}})}static doWhile(e,t){return new ye((i,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):i()};l()})}}function VC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function El(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}zh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=-1;function Fh(n){return n==null}function ph(n){return n===0&&1/n==-1/0}function LC(n){return typeof n=="number"&&Number.isInteger(n)&&!ph(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="";function UC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xb(e)),e=BC(n.get(t),e);return xb(e)}function BC(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case rw:t+="";break;default:t+=l}}return t}function xb(n){return n+rw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ps(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t){this.comparator=e,this.root=t||$n.EMPTY}insert(e,t){return new en(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fd(this.root,e,this.comparator,!0)}}class Fd{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $n{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??$n.RED,this.left=s??$n.EMPTY,this.right=l??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new $n(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return $n.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw We(43730,{key:this.key,value:this.value});if(this.right.isRed())throw We(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw We(27949);return e+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw We(57766)}get value(){throw We(16141)}get color(){throw We(16727)}get left(){throw We(29726)}get right(){throw We(36894)}copy(e,t,i,s,l){return this}insert(e,t,i){return new $n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sb(this.data.getIterator())}getIteratorFrom(e){return new Sb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class Sb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.fields=e,e.sort(Wn.comparator)}static empty(){return new Mr([])}unionWith(e){let t=new Nn(Wn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Mr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new aw("Invalid base64 string: "+l):l}}(e);return new Kn(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new Kn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kn.EMPTY_BYTE_STRING=new Kn("");const zC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(n){if(Ct(!!n,39018),typeof n=="string"){let e=0;const t=zC.exec(n);if(Ct(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ln(n.seconds),nanos:ln(n.nanos)}}function ln(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function us(n){return typeof n=="string"?Kn.fromBase64String(n):Kn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="server_timestamp",ow="__type__",lw="__previous_value__",uw="__local_write_time__";function Sg(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ow])===null||t===void 0?void 0:t.stringValue)===sw}function qh(n){const e=n.mapValue.fields[lw];return Sg(e)?qh(e):e}function Xu(n){const e=ls(n.mapValue.fields[uw].timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t,i,s,l,c,f,m,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const gh="(default)";class Zu{constructor(e,t){this.projectId=e,this.database=t||gh}static empty(){return new Zu("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof Zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="__type__",qC="__max__",qd={mapValue:{}},dw="__vector__",yh="value";function cs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sg(n)?4:YC(n)?9007199254740991:HC(n)?10:11:We(28295,{value:n})}function ji(n,e){if(n===e)return!0;const t=cs(n);if(t!==cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xu(n).isEqual(Xu(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=ls(s.timestampValue),f=ls(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return us(s.bytesValue).isEqual(us(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return ln(s.geoPointValue.latitude)===ln(l.geoPointValue.latitude)&&ln(s.geoPointValue.longitude)===ln(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return ln(s.integerValue)===ln(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=ln(s.doubleValue),f=ln(l.doubleValue);return c===f?ph(c)===ph(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return ul(n.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},f=l.mapValue.fields||{};if(Tb(c)!==Tb(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!ji(c[m],f[m])))return!1;return!0}(n,e);default:return We(52216,{left:n})}}function Ju(n,e){return(n.values||[]).find(t=>ji(t,e))!==void 0}function cl(n,e){if(n===e)return 0;const t=cs(n),i=cs(e);if(t!==i)return ot(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ot(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=ln(l.integerValue||l.doubleValue),m=ln(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return Ab(n.timestampValue,e.timestampValue);case 4:return Ab(Xu(n),Xu(e));case 5:return Fp(n.stringValue,e.stringValue);case 6:return function(l,c){const f=us(l),m=us(c);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let g=0;g<f.length&&g<m.length;g++){const _=ot(f[g],m[g]);if(_!==0)return _}return ot(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=ot(ln(l.latitude),ln(c.latitude));return f!==0?f:ot(ln(l.longitude),ln(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Rb(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,m,g,_;const E=l.fields||{},x=c.fields||{},N=(f=E[yh])===null||f===void 0?void 0:f.arrayValue,C=(m=x[yh])===null||m===void 0?void 0:m.arrayValue,Y=ot(((g=N?.values)===null||g===void 0?void 0:g.length)||0,((_=C?.values)===null||_===void 0?void 0:_.length)||0);return Y!==0?Y:Rb(N,C)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===qd.mapValue&&c===qd.mapValue)return 0;if(l===qd.mapValue)return 1;if(c===qd.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let E=0;E<m.length&&E<_.length;++E){const x=Fp(m[E],_[E]);if(x!==0)return x;const N=cl(f[m[E]],g[_[E]]);if(N!==0)return N}return ot(m.length,_.length)}(n.mapValue,e.mapValue);default:throw We(23264,{le:t})}}function Ab(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ot(n,e);const t=ls(n),i=ls(e),s=ot(t.seconds,i.seconds);return s!==0?s:ot(t.nanos,i.nanos)}function Rb(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=cl(t[s],i[s]);if(l)return l}return ot(t.length,i.length)}function dl(n){return qp(n)}function qp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ls(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return us(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ue.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=qp(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${qp(t.fields[c])}`;return s+"}"}(n.mapValue):We(61005,{value:n})}function Xd(n){switch(cs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(n);return e?16+Xd(e):16;case 5:return 2*n.stringValue.length;case 6:return us(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+Xd(l),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return ps(i.fields,(l,c)=>{s+=l.length+Xd(c)}),s}(n.mapValue);default:throw We(13486,{value:n})}}function Nb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Hp(n){return!!n&&"integerValue"in n}function Ag(n){return!!n&&"arrayValue"in n}function Cb(n){return!!n&&"nullValue"in n}function Db(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zd(n){return!!n&&"mapValue"in n}function HC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[cw])===null||t===void 0?void 0:t.stringValue)===dw}function Bu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ps(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Bu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function YC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Zd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(t)}setAll(e){let t=Wn.emptyPath(),i={},s=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,i,s),i={},s=[],t=f.popLast()}c?i[f.lastSegment()]=Bu(c):s.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());Zd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Zd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){ps(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new vr(Bu(this.value))}}function hw(n){const e=[];return ps(n.fields,(t,i)=>{const s=new Wn([t]);if(Zd(i)){const l=hw(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new Mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t,i,s,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new nr(e,0,tt.min(),tt.min(),tt.min(),vr.empty(),0)}static newFoundDocument(e,t,i,s){return new nr(e,1,t,tt.min(),i,s,0)}static newNoDocument(e,t){return new nr(e,2,t,tt.min(),tt.min(),vr.empty(),0)}static newUnknownDocument(e,t){return new nr(e,3,t,tt.min(),tt.min(),vr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){this.position=e,this.inclusive=t}}function Ib(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=Ue.comparator(Ue.fromName(c.referenceValue),t.key):i=cl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Mb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ji(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t="asc"){this.field=e,this.dir=t}}function $C(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{}class yn extends fw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new GC(e,t,i):t==="array-contains"?new XC(e,i):t==="in"?new ZC(e,i):t==="not-in"?new JC(e,i):t==="array-contains-any"?new eD(e,i):new yn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new KC(e,i):new QC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(cl(t,this.value)):t!==null&&cs(this.value)===cs(t)&&this.matchesComparison(cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends fw{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ai(e,t)}matches(e){return mw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function mw(n){return n.op==="and"}function pw(n){return WC(n)&&mw(n)}function WC(n){for(const e of n.filters)if(e instanceof ai)return!1;return!0}function Yp(n){if(n instanceof yn)return n.field.canonicalString()+n.op.toString()+dl(n.value);if(pw(n))return n.filters.map(e=>Yp(e)).join(",");{const e=n.filters.map(t=>Yp(t)).join(",");return`${n.op}(${e})`}}function gw(n,e){return n instanceof yn?function(i,s){return s instanceof yn&&i.op===s.op&&i.field.isEqual(s.field)&&ji(i.value,s.value)}(n,e):n instanceof ai?function(i,s){return s instanceof ai&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,f)=>l&&gw(c,s.filters[f]),!0):!1}(n,e):void We(19439)}function yw(n){return n instanceof yn?function(t){return`${t.field.canonicalString()} ${t.op} ${dl(t.value)}`}(n):n instanceof ai?function(t){return t.op.toString()+" {"+t.getFilters().map(yw).join(" ,")+"}"}(n):"Filter"}class GC extends yn{constructor(e,t,i){super(e,t,i),this.key=Ue.fromName(i.referenceValue)}matches(e){const t=Ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class KC extends yn{constructor(e,t){super(e,"in",t),this.keys=vw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QC extends yn{constructor(e,t){super(e,"not-in",t),this.keys=vw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ue.fromName(i.referenceValue))}class XC extends yn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ag(t)&&Ju(t.arrayValue,this.value)}}class ZC extends yn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ju(this.value.arrayValue,t)}}class JC extends yn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ju(this.value.arrayValue,t)}}class eD extends yn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ju(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,t=null,i=[],s=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=f,this.Pe=null}}function Ob(n,e=null,t=[],i=[],s=null,l=null,c=null){return new tD(n,e,t,i,s,l,c)}function Rg(n){const e=rt(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Yp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Fh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>dl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>dl(i)).join(",")),e.Pe=t}return e.Pe}function Ng(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$C(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Mb(n.startAt,e.startAt)&&Mb(n.endAt,e.endAt)}function $p(n){return Ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t=null,i=[],s=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function nD(n,e,t,i,s,l,c,f){return new hc(n,e,t,i,s,l,c,f)}function Cg(n){return new hc(n)}function kb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _w(n){return n.collectionGroup!==null}function zu(n){const e=rt(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Nn(Wn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new _h(l,i))}),t.has(Wn.keyField().canonicalString())||e.Te.push(new _h(Wn.keyField(),i))}return e.Te}function Di(n){const e=rt(n);return e.Ie||(e.Ie=rD(e,zu(n))),e.Ie}function rD(n,e){if(n.limitType==="F")return Ob(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new _h(s.field,l)});const t=n.endAt?new vh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new vh(n.startAt.position,n.startAt.inclusive):null;return Ob(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Wp(n,e){const t=n.filters.concat([e]);return new hc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Gp(n,e,t){return new hc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hh(n,e){return Ng(Di(n),Di(e))&&n.limitType===e.limitType}function bw(n){return`${Rg(Di(n))}|lt:${n.limitType}`}function Qo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>yw(s)).join(", ")}]`),Fh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>dl(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>dl(s)).join(",")),`Target(${i})`}(Di(n))}; limitType=${n.limitType})`}function Yh(n,e){return e.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ue.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,s){for(const l of zu(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,f,m){const g=Ib(c,f,m);return c.inclusive?g<=0:g<0}(i.startAt,zu(i),s)||i.endAt&&!function(c,f,m){const g=Ib(c,f,m);return c.inclusive?g>=0:g>0}(i.endAt,zu(i),s))}(n,e)}function iD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ew(n){return(e,t)=>{let i=!1;for(const s of zu(n)){const l=aD(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function aD(n,e,t){const i=n.field.isKeyField()?Ue.comparator(e.key,t.key):function(l,c,f){const m=c.data.field(l),g=f.data.field(l);return m!==null&&g!==null?cl(m,g):We(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return We(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return iw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new en(Ue.comparator);function ga(){return sD}const ww=new en(Ue.comparator);function Pu(...n){let e=ww;for(const t of n)e=e.insert(t.key,t);return e}function xw(n){let e=ww;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ks(){return Fu()}function Tw(){return Fu()}function Fu(){return new io(n=>n.toString(),(n,e)=>n.isEqual(e))}const oD=new en(Ue.comparator),lD=new Nn(Ue.comparator);function gt(...n){let e=lD;for(const t of n)e=e.add(t);return e}const uD=new Nn(ot);function cD(){return uD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function Sw(n){return{integerValue:""+n}}function dD(n,e){return LC(e)?Sw(e):Dg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function hD(n,e,t){return n instanceof ec?function(s,l){const c={fields:{[ow]:{stringValue:sw},[uw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Sg(l)&&(l=qh(l)),l&&(c.fields[lw]=l),{mapValue:c}}(t,e):n instanceof tc?Rw(n,e):n instanceof nc?Nw(n,e):function(s,l){const c=Aw(s,l),f=Pb(c)+Pb(s.Ee);return Hp(c)&&Hp(s.Ee)?Sw(f):Dg(s.serializer,f)}(n,e)}function fD(n,e,t){return n instanceof tc?Rw(n,e):n instanceof nc?Nw(n,e):t}function Aw(n,e){return n instanceof bh?function(i){return Hp(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class ec extends $h{}class tc extends $h{constructor(e){super(),this.elements=e}}function Rw(n,e){const t=Cw(e);for(const i of n.elements)t.some(s=>ji(s,i))||t.push(i);return{arrayValue:{values:t}}}class nc extends $h{constructor(e){super(),this.elements=e}}function Nw(n,e){let t=Cw(e);for(const i of n.elements)t=t.filter(s=>!ji(s,i));return{arrayValue:{values:t}}}class bh extends $h{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Pb(n){return ln(n.integerValue||n.doubleValue)}function Cw(n){return Ag(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t){this.field=e,this.transform=t}}function pD(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof tc&&s instanceof tc||i instanceof nc&&s instanceof nc?ul(i.elements,s.elements,ji):i instanceof bh&&s instanceof bh?ji(i.Ee,s.Ee):i instanceof ec&&s instanceof ec}(n.transform,e.transform)}class gD{constructor(e,t){this.version=e,this.transformResults=t}}class Kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Wh{}function Dw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ig(n.key,Kr.none()):new fc(n.key,n.data,Kr.none());{const t=n.data,i=vr.empty();let s=new Nn(Wn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new gs(n.key,i,new Mr(s.toArray()),Kr.none())}}function yD(n,e,t){n instanceof fc?function(s,l,c){const f=s.value.clone(),m=Vb(s.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof gs?function(s,l,c){if(!Jd(s.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Vb(s.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Iw(s)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function qu(n,e,t,i){return n instanceof fc?function(l,c,f,m){if(!Jd(l.precondition,c))return f;const g=l.value.clone(),_=Lb(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof gs?function(l,c,f,m){if(!Jd(l.precondition,c))return f;const g=Lb(l.fieldTransforms,m,c),_=c.data;return _.setAll(Iw(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(l,c,f){return Jd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function vD(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=Aw(i.transform,s||null);l!=null&&(t===null&&(t=vr.empty()),t.set(i.field,l))}return t||null}function jb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&ul(i,s,(l,c)=>pD(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fc extends Wh{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class gs extends Wh{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Iw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Vb(n,e,t){const i=new Map;Ct(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,f=e.data.field(l.field);i.set(l.field,fD(c,f,t[s]))}return i}function Lb(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,hD(l,c,e))}return i}class Ig extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _D extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&yD(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=qu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=qu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Tw();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(s.key)?null:f;const m=Dw(c,f);m!==null&&i.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(tt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gt())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(t,i)=>jb(t,i))&&ul(this.baseMutations,e.baseMutations,(t,i)=>jb(t,i))}}class Mg{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Ct(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let s=function(){return oD}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new Mg(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,wt;function xD(n){switch(n){case fe.OK:return We(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return We(15467,{code:n})}}function Mw(n){if(n===void 0)return pa("GRPC error has no .code"),fe.UNKNOWN;switch(n){case gn.OK:return fe.OK;case gn.CANCELLED:return fe.CANCELLED;case gn.UNKNOWN:return fe.UNKNOWN;case gn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case gn.INTERNAL:return fe.INTERNAL;case gn.UNAVAILABLE:return fe.UNAVAILABLE;case gn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case gn.NOT_FOUND:return fe.NOT_FOUND;case gn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case gn.ABORTED:return fe.ABORTED;case gn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case gn.DATA_LOSS:return fe.DATA_LOSS;default:return We(39323,{code:n})}}(wt=gn||(gn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new ns([4294967295,4294967295],0);function Ub(n){const e=ew().encode(n),t=new $E;return t.update(e),new Uint8Array(t.digest())}function Bb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ns([t,i],0),new ns([s,l],0)]}class Og{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ju(`Invalid padding: ${t}`);if(i<0)throw new ju(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ju(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ju(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ns.fromNumber(this.fe)}pe(e,t,i){let s=e.add(t.multiply(ns.fromNumber(i)));return s.compare(TD)===1&&(s=new ns([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=Ub(e),[i,s]=Bb(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,s,l);if(!this.ye(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Og(l,s,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.fe===0)return;const t=Ub(e),[i,s]=Bb(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,s,l);this.we(c)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Gh(tt.min(),s,new en(ot),ga(),gt())}}class mc{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new mc(i,t,gt(),gt(),gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t,i,s){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=s}}class Ow{constructor(e,t){this.targetId=e,this.De=t}}class kw{constructor(e,t,i=Kn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class zb{constructor(){this.ve=0,this.Ce=Fb(),this.Fe=Kn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=gt(),t=gt(),i=gt();return this.Ce.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:We(38017,{changeType:l})}}),new mc(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=Fb()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class SD{constructor(e){this.We=e,this.Ge=new Map,this.ze=ga(),this.je=Hd(),this.Je=Hd(),this.He=new en(ot)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:We(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,s)=>{this.nt(s)&&t(s)})}it(e){const t=e.targetId,i=e.De.count,s=this.st(t);if(s){const l=s.target;if($p(l))if(i===0){const c=new Ue(l.path);this.Xe(t,c,nr.newNoDocument(c,tt.min()))}else Ct(i===1,20013,{expectedCount:i});else{const c=this.ot(t);if(c!==i){const f=this._t(e),m=f?this.ut(f,e,c):1;if(m!==0){this.rt(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,f;try{c=us(i).toUint8Array()}catch(m){if(m instanceof aw)return ss("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Og(c,s,l)}catch(m){return ss(m instanceof ju?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.fe===0?null:f}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let s=0;return i.forEach(l=>{const c=this.We.lt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.Xe(t,l,null),s++)}),s}Pt(e){const t=new Map;this.Ge.forEach((l,c)=>{const f=this.st(c);if(f){if(l.current&&$p(f.target)){const m=new Ue(f.target.path);this.Tt(m).has(c)||this.It(c,m)||this.Xe(c,m,nr.newNoDocument(m,e))}l.Ne&&(t.set(c,l.Le()),l.ke())}});let i=gt();this.Je.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const g=this.st(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.ze.forEach((l,c)=>c.setReadTime(e));const s=new Gh(e,t,this.He,this.ze,i);return this.ze=ga(),this.je=Hd(),this.Je=Hd(),this.He=new en(ot),s}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new zb,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Nn(ot),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Nn(ot),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Ie("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new zb),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Hd(){return new en(Ue.comparator)}function Fb(){return new en(Ue.comparator)}const AD={asc:"ASCENDING",desc:"DESCENDING"},RD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ND={and:"AND",or:"OR"};class CD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kp(n,e){return n.useProto3Json||Fh(e)?e:{value:e}}function Eh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function DD(n,e){return Eh(n,e.toTimestamp())}function Ii(n){return Ct(!!n,49232),tt.fromTimestamp(function(t){const i=ls(t);return new $t(i.seconds,i.nanos)}(n))}function kg(n,e){return Qp(n,e).canonicalString()}function Qp(n,e){const t=function(s){return new Ht(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function jw(n){const e=Ht.fromString(n);return Ct(zw(e),10190,{key:e.toString()}),e}function Xp(n,e){return kg(n.databaseId,e.path)}function xp(n,e){const t=jw(e);if(t.get(1)!==n.databaseId.projectId)throw new De(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new De(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ue(Lw(t))}function Vw(n,e){return kg(n.databaseId,e)}function ID(n){const e=jw(n);return e.length===4?Ht.emptyPath():Lw(e)}function Zp(n){return new Ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Lw(n){return Ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function qb(n,e,t){return{name:Xp(n,e),fields:t.value.mapValue.fields}}function MD(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:We(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(Ct(_===void 0||typeof _=="string",58123),Kn.fromBase64String(_||"")):(Ct(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Kn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(g){const _=g.code===void 0?fe.UNKNOWN:Mw(g.code);return new De(_,g.message||"")}(c);t=new kw(i,s,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=xp(n,i.document.name),l=Ii(i.document.updateTime),c=i.document.createTime?Ii(i.document.createTime):tt.min(),f=new vr({mapValue:{fields:i.document.fields}}),m=nr.newFoundDocument(s,l,c,f),g=i.targetIds||[],_=i.removedTargetIds||[];t=new eh(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=xp(n,i.document),l=i.readTime?Ii(i.readTime):tt.min(),c=nr.newNoDocument(s,l),f=i.removedTargetIds||[];t=new eh([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=xp(n,i.document),l=i.removedTargetIds||[];t=new eh([],l,s,null)}else{if(!("filter"in e))return We(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new wD(s,l),f=i.targetId;t=new Ow(f,c)}}return t}function OD(n,e){let t;if(e instanceof fc)t={update:qb(n,e.key,e.value)};else if(e instanceof Ig)t={delete:Xp(n,e.key)};else if(e instanceof gs)t={update:qb(n,e.key,e.data),updateMask:FD(e.fieldMask)};else{if(!(e instanceof _D))return We(16599,{Rt:e.type});t={verify:Xp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof ec)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof tc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof nc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof bh)return{fieldPath:c.field.canonicalString(),increment:f.Ee};throw We(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:DD(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:We(27497)}(n,e.precondition)),t}function kD(n,e){return n&&n.length>0?(Ct(e!==void 0,14353),n.map(t=>function(s,l){let c=s.updateTime?Ii(s.updateTime):Ii(l);return c.isEqual(tt.min())&&(c=Ii(l)),new gD(c,s.transformResults||[])}(t,e))):[]}function PD(n,e){return{documents:[Vw(n,e.path)]}}function jD(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Vw(n,s);const l=function(g){if(g.length!==0)return Bw(ai.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(x){return{field:Xo(x.field),direction:UD(x.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Kp(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:s}}function VD(n){let e=ID(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Ct(i===1,65062);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(E){const x=Uw(E);return x instanceof ai&&pw(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(x=>function(C){return new _h(Zo(C.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(x))}(t.orderBy));let f=null;t.limit&&(f=function(E){let x;return x=typeof E=="object"?E.value:E,Fh(x)?null:x}(t.limit));let m=null;t.startAt&&(m=function(E){const x=!!E.before,N=E.values||[];return new vh(N,x)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const x=!E.before,N=E.values||[];return new vh(N,x)}(t.endAt)),nD(e,s,c,l,f,"F",m,g)}function LD(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Uw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Zo(t.unaryFilter.field);return yn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Zo(t.unaryFilter.field);return yn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Zo(t.unaryFilter.field);return yn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Zo(t.unaryFilter.field);return yn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return We(61313);default:return We(60726)}}(n):n.fieldFilter!==void 0?function(t){return yn.create(Zo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return We(58110);default:return We(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ai.create(t.compositeFilter.filters.map(i=>Uw(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return We(1026)}}(t.compositeFilter.op))}(n):We(30097,{filter:n})}function UD(n){return AD[n]}function BD(n){return RD[n]}function zD(n){return ND[n]}function Xo(n){return{fieldPath:n.canonicalString()}}function Zo(n){return Wn.fromServerFormat(n.fieldPath)}function Bw(n){return n instanceof yn?function(t){if(t.op==="=="){if(Db(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NAN"}};if(Cb(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Db(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NAN"}};if(Cb(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(t.field),op:BD(t.op),value:t.value}}}(n):n instanceof ai?function(t){const i=t.getFilters().map(s=>Bw(s));return i.length===1?i[0]:{compositeFilter:{op:zD(t.op),filters:i}}}(n):We(54877,{filter:n})}function FD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t,i,s,l=tt.min(),c=tt.min(),f=Kn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.gt=e}}function HD(n){const e=VD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.Dn=new $D}addToCollectionParentIndex(e,t){return this.Dn.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(os.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(os.min())}updateCollectionGroup(e,t,i){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class $D{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Nn(Ht.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Nn(Ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fw=41943040;class yr{static withCacheSize(e){return new yr(e,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(Fw,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new hl(0)}static ur(){return new hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="LruGarbageCollector",WD=1048576;function $b([n,e],[t,i]){const s=ot(n,t);return s===0?ot(e,i):s}class GD{constructor(e){this.Tr=e,this.buffer=new Nn($b),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();$b(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class KD{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ie(Yb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){El(t)?Ie(Yb,"Ignoring IndexedDB error during garbage collection: ",t):await bl(t)}await this.Rr(3e5)})}}class QD{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ye.resolve(zh.ue);const i=new GD(t);return this.Vr.forEachTarget(e,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(Hb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hb):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,s,l,c,f,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,c=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(i=E,f=Date.now(),this.removeTargets(e,i,t))).next(E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(g=Date.now(),Ko()<=pt.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${s} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:E})))}}function XD(n,e){return new QD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.changes=new io(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ye.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&qu(i.mutation,s,Mr.empty(),$t.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,gt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=gt()){const s=Ks();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let c=Pu();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ks();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,gt()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,s){let l=ga();const c=Fu(),f=function(){return Fu()}();return t.forEach((m,g)=>{const _=i.get(g.key);s.has(g.key)&&(_===void 0||_.mutation instanceof gs)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),qu(_.mutation,g,_.mutation.getFieldMask(),$t.now())):c.set(g.key,Mr.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>{var E;return f.set(g,new JD(_,(E=c.get(g))!==null&&E!==void 0?E:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Fu();let s=new en((c,f)=>c-f),l=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let _=i.get(m)||Mr.empty();_=f.applyToLocalView(g,_),i.set(m,_);const E=(s.get(f.batchId)||gt()).add(m);s=s.insert(f.batchId,E)})}).next(()=>{const c=[],f=s.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,_=m.value,E=Tw();_.forEach(x=>{if(!l.has(x)){const N=Dw(t.get(x),i.get(x));N!==null&&E.set(x,N),l=l.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ye.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return Ue.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_w(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):ye.resolve(Ks());let f=Qu,m=l;return c.next(g=>ye.forEach(g,(_,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(_)?ye.resolve():this.remoteDocumentCache.getEntry(e,_).next(x=>{m=m.insert(_,x)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,gt())).next(_=>({batchId:f,changes:xw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ue(t)).next(i=>{let s=Pu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=Pu();return this.indexManager.getCollectionParents(e,l).next(f=>ye.forEach(f,m=>{const g=function(E,x){return new hc(x,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,s).next(_=>{_.forEach((E,x)=>{c=c.insert(E,x)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s))).next(c=>{l.forEach((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,nr.newInvalidDocument(_)))});let f=Pu();return c.forEach((m,g)=>{const _=l.get(m);_!==void 0&&qu(_.mutation,g,Mr.empty(),$t.now()),Yh(t,g)&&(f=f.insert(m,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ye.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Ii(s.createTime)}}(t)),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(s){return{name:s.name,query:HD(s.bundledQuery),readTime:Ii(s.readTime)}}(t)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.overlays=new en(Ue.comparator),this.kr=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ks();return ye.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.wt(e,t,l)}),ye.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.kr.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(i)),ye.resolve()}getOverlaysForCollection(e,t,i){const s=Ks(),l=t.length+1,c=new Ue(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&s.set(m.getKey(),m)}return ye.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new en((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=Ks(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const f=Ks(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>f.set(g,_)),!(f.size()>=s)););return ye.resolve(f)}wt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.kr.get(s.largestBatchId).delete(i.key);this.kr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new ED(t,i));let l=this.kr.get(t);l===void 0&&(l=gt(),this.kr.set(t,l)),this.kr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.sessionToken=Kn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(){this.qr=new Nn(Vn.Qr),this.$r=new Nn(Vn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new Vn(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new Vn(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){const t=new Ue(new Ht([])),i=new Vn(t,e),s=new Vn(t,e+1),l=[];return this.$r.forEachInRange([i,s],c=>{this.Wr(c),l.push(c.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ue(new Ht([])),i=new Vn(t,e),s=new Vn(t,e+1);let l=gt();return this.$r.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Vn(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Vn{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ue.comparator(e.key,t.key)||ot(e.Hr,t.Hr)}static Ur(e,t){return ot(e.Hr,t.Hr)||Ue.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Nn(Vn.Qr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new bD(l,t,i,s);this.mutationQueue.push(c);for(const f of s)this.Yr=this.Yr.add(new Vn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ye.resolve(c)}lookupMutationBatch(e,t){return ye.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Xr(i),l=s<0?0:s;return ye.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?Tg:this.er-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Vn(t,0),s=new Vn(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([i,s],c=>{const f=this.Zr(c.Hr);l.push(f)}),ye.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Nn(ot);return t.forEach(s=>{const l=new Vn(s,0),c=new Vn(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],f=>{i=i.add(f.Hr)})}),ye.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;Ue.isDocumentKey(l)||(l=l.child(""));const c=new Vn(new Ue(l),0);let f=new Nn(ot);return this.Yr.forEachWhile(m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(f=f.add(m.Hr)),!0)},c),ye.resolve(this.ei(f))}ei(e){const t=[];return e.forEach(i=>{const s=this.Zr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ct(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return ye.forEach(t.mutations,s=>{const l=new Vn(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){const i=new Vn(t,0),s=this.Yr.firstAfterOrEqual(i);return ye.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.ni=e,this.docs=function(){return new en(Ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ye.resolve(i?i.document.mutableCopy():nr.newInvalidDocument(t))}getEntries(e,t){let i=ga();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():nr.newInvalidDocument(s))}),ye.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=ga();const c=t.path,f=new Ue(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||kC(OC(_),i)<=0||(s.has(_.key)||Yh(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ye.resolve(l)}getAllFromCollectionGroup(e,t,i,s){We(9500)}ri(e,t){return ye.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new s4(this)}getSize(e){return ye.resolve(this.size)}}class s4 extends ZD{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(i)}),ye.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.persistence=e,this.ii=new io(t=>Rg(t),Ng),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.si=0,this.oi=new Pg,this.targetCount=0,this._i=hl.ar()}forEachTarget(e,t){return this.ii.forEach((i,s)=>t(s)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),ye.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new hl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.hr(t),ye.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.ii.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),ye.waitFor(l).next(()=>s)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return ye.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),ye.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),ye.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return ye.resolve(i)}containsKey(e,t){return ye.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t){this.ai={},this.overlays={},this.ui=new zh(0),this.ci=!1,this.ci=!0,this.li=new r4,this.referenceDelegate=e(this),this.hi=new o4(this),this.indexManager=new YD,this.remoteDocumentCache=function(s){return new a4(s)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new qD(t),this.Ti=new t4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new n4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new i4(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){Ie("MemoryPersistence","Starting transaction:",e);const s=new l4(this.ui.next());return this.referenceDelegate.Ii(),i(s).next(l=>this.referenceDelegate.di(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ei(e,t){return ye.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}}class l4 extends jC{constructor(e){super(),this.currentSequenceNumber=e}}class jg{constructor(e){this.persistence=e,this.Ai=new Pg,this.Ri=null}static Vi(e){return new jg(e)}get mi(){if(this.Ri)return this.Ri;throw We(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),ye.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(s=>this.mi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.mi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.mi,i=>{const s=Ue.fromPath(i);return this.fi(e,s).next(l=>{l||t.removeEntry(s,tt.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ye.or([()=>ye.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class wh{constructor(e,t){this.persistence=e,this.gi=new io(i=>UC(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=XD(this,t)}static Vi(e,t){return new wh(e,t)}Ii(){}di(e){return ye.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return ye.forEach(this.gi,(i,s)=>this.Sr(e,i,s).next(l=>l?ye.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ri(e,c=>this.Sr(e,c,t).next(f=>{f||(i++,l.removeEntry(c,tt.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ye.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),ye.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ye.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xd(e.data.value)),t}Sr(e,t,i){return ye.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.gi.get(t);return ye.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=s}static Es(e,t){let i=gt(),s=gt();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Vg(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return iN()?8:VC(rr())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.ps(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ys(e,t,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new u4;return this.ws(e,t,c).next(f=>{if(l.result=f,this.Rs)return this.Ss(e,t,c,f.size)})}).next(()=>l.result)}Ss(e,t,i,s){return i.documentReadCount<this.Vs?(Ko()<=pt.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",Qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ye.resolve()):(Ko()<=pt.DEBUG&&Ie("QueryEngine","Query:",Qo(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.fs*s?(Ko()<=pt.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",Qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(t))):ye.resolve())}ps(e,t){if(kb(t))return ye.resolve(null);let i=Di(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Gp(t,null,"F"),i=Di(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=gt(...l);return this.gs.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(m=>{const g=this.bs(t,f);return this.Ds(t,g,c,m.readTime)?this.ps(e,Gp(t,null,"F")):this.vs(e,g,t,m)}))})))}ys(e,t,i,s){return kb(t)||s.isEqual(tt.min())?ye.resolve(null):this.gs.getDocuments(e,i).next(l=>{const c=this.bs(t,l);return this.Ds(t,c,i,s)?ye.resolve(null):(Ko()<=pt.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qo(t)),this.vs(e,c,t,MC(s,Qu)).next(f=>f))})}bs(e,t){let i=new Nn(Ew(e));return t.forEach((s,l)=>{Yh(e,l)&&(i=i.add(l))}),i}Ds(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ws(e,t,i){return Ko()<=pt.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",Qo(t)),this.gs.getDocumentsMatchingQuery(e,t,os.min(),i)}vs(e,t,i,s){return this.gs.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="LocalStore",d4=3e8;class h4{constructor(e,t,i,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new en(ot),this.Ms=new io(l=>Rg(l),Ng),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e4(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function f4(n,e,t,i){return new h4(n,e,t,i)}async function Hw(n,e){const t=rt(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let m=gt();for(const g of s){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){f.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(i,m).next(g=>({Bs:g,removedBatchIds:c,addedBatchIds:f}))})})}function m4(n,e){const t=rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(f,m,g,_){const E=g.batch,x=E.keys();let N=ye.resolve();return x.forEach(C=>{N=N.next(()=>_.getEntry(m,C)).next(Y=>{const B=g.docVersions.get(C);Ct(B!==null,48541),Y.version.compareTo(B)<0&&(E.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),_.addEntry(Y)))})}),N.next(()=>f.mutationQueue.removeMutationBatch(m,E))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let m=gt();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function Yw(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function p4(n,e){const t=rt(n),i=e.snapshotVersion;let s=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Os.newChangeBuffer({trackRemovals:!0});s=t.Fs;const f=[];e.targetChanges.forEach((_,E)=>{const x=s.get(E);if(!x)return;f.push(t.hi.removeMatchingKeys(l,_.removedDocuments,E).next(()=>t.hi.addMatchingKeys(l,_.addedDocuments,E)));let N=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?N=N.withResumeToken(Kn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,i)),s=s.insert(E,N),function(Y,B,q){return Y.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=d4?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(x,N,_)&&f.push(t.hi.updateTargetData(l,N))});let m=ga(),g=gt();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(g4(l,c,e.documentUpdates).next(_=>{m=_.Ls,g=_.ks})),!i.isEqual(tt.min())){const _=t.hi.getLastRemoteSnapshotVersion(l).next(E=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(_)}return ye.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.Fs=s,l))}function g4(n,e,t){let i=gt(),s=gt();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=ga();return t.forEach((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(f)),m.isNoDocument()&&m.version.isEqual(tt.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):Ie(Lg,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)}),{Ls:c,ks:s}})}function y4(n,e){const t=rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Tg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function v4(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.hi.getTargetData(i,e).next(l=>l?(s=l,ye.resolve(s)):t.hi.allocateTargetId(i).next(c=>(s=new Za(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Fs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}async function Jp(n,e,t){const i=rt(n),s=i.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!El(c))throw c;Ie(Lg,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(s.target)}function Wb(n,e,t){const i=rt(n);let s=tt.min(),l=gt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,_){const E=rt(m),x=E.Ms.get(_);return x!==void 0?ye.resolve(E.Fs.get(x)):E.hi.getTargetData(g,_)}(i,c,Di(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,e,t?s:tt.min(),t?l:gt())).next(f=>(_4(i,iD(e),f),{documents:f,qs:l})))}function _4(n,e,t){let i=n.xs.get(e)||tt.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.xs.set(e,i)}class Gb{constructor(){this.activeTargetIds=cD()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b4{constructor(){this.Fo=new Gb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Gb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="ConnectivityMonitor";class Qb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ie(Kb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ie(Kb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd=null;function eg(){return Yd===null?Yd=function(){return 268435456+Math.round(2147483648*Math.random())}():Yd++,"0x"+Yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="RestConnection",w4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x4{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.Ko=this.databaseId.database===gh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,t,i,s,l){const c=eg(),f=this.Go(e,t.toUriEncodedString());Ie(Tp,`Sending RPC '${e}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,s,l);const{host:g}=new URL(f),_=yl(g);return this.jo(e,f,m,i,_).then(E=>(Ie(Tp,`Received RPC '${e}' ${c}: `,E),E),E=>{throw ss(Tp,`RPC '${e}' ${c} failed with error: `,E,"url: ",f,"request:",i),E})}Jo(e,t,i,s,l,c){return this.Wo(e,t,i,s,l)}zo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_l}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}Go(e,t){const i=w4[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn="WebChannelConnection";class S4 extends x4{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,s,l){const c=eg();return new Promise((f,m)=>{const g=new WE;g.setWithCredentials(!0),g.listenOnce(GE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Qd.NO_ERROR:const E=g.getResponseJson();Ie(Jn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),f(E);break;case Qd.TIMEOUT:Ie(Jn,`RPC '${e}' ${c} timed out`),m(new De(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Qd.HTTP_ERROR:const x=g.getStatus();if(Ie(Jn,`RPC '${e}' ${c} failed with status:`,x,"response text:",g.getResponseText()),x>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const C=N?.error;if(C&&C.status&&C.message){const Y=function(q){const le=q.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(le)>=0?le:fe.UNKNOWN}(C.status);m(new De(Y,C.message))}else m(new De(fe.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new De(fe.UNAVAILABLE,"Connection failed."));break;default:We(9055,{c_:e,streamId:c,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{Ie(Jn,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(s);Ie(Jn,`RPC '${e}' ${c} sending request:`,s),g.send(t,"POST",_,i,15)})}P_(e,t,i){const s=eg(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=XE(),f=QE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const _=l.join("");Ie(Jn,`Creating RPC '${e}' stream ${s}: ${_}`,m);const E=c.createWebChannel(_,m);this.T_(E);let x=!1,N=!1;const C=new T4({Ho:B=>{N?Ie(Jn,`Not sending because RPC '${e}' stream ${s} is closed:`,B):(x||(Ie(Jn,`Opening RPC '${e}' stream ${s} transport.`),E.open(),x=!0),Ie(Jn,`RPC '${e}' stream ${s} sending:`,B),E.send(B))},Yo:()=>E.close()}),Y=(B,q,le)=>{B.listen(q,J=>{try{le(J)}catch(pe){setTimeout(()=>{throw pe},0)}})};return Y(E,ku.EventType.OPEN,()=>{N||(Ie(Jn,`RPC '${e}' stream ${s} transport opened.`),C.s_())}),Y(E,ku.EventType.CLOSE,()=>{N||(N=!0,Ie(Jn,`RPC '${e}' stream ${s} transport closed`),C.__(),this.I_(E))}),Y(E,ku.EventType.ERROR,B=>{N||(N=!0,ss(Jn,`RPC '${e}' stream ${s} transport errored. Name:`,B.name,"Message:",B.message),C.__(new De(fe.UNAVAILABLE,"The operation could not be completed")))}),Y(E,ku.EventType.MESSAGE,B=>{var q;if(!N){const le=B.data[0];Ct(!!le,16349);const J=le,pe=J?.error||((q=J[0])===null||q===void 0?void 0:q.error);if(pe){Ie(Jn,`RPC '${e}' stream ${s} received error:`,pe);const ae=pe.status;let L=function(R){const O=gn[R];if(O!==void 0)return Mw(O)}(ae),I=pe.message;L===void 0&&(L=fe.INTERNAL,I="Unknown error status: "+ae+" with message "+pe.message),N=!0,C.__(new De(L,I)),E.close()}else Ie(Jn,`RPC '${e}' stream ${s} received:`,le),C.a_(le)}}),Y(f,KE.STAT_EVENT,B=>{B.stat===zp.PROXY?Ie(Jn,`RPC '${e}' stream ${s} detected buffering proxy`):B.stat===zp.NOPROXY&&Ie(Jn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(n){return new CD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,t,i=1e3,s=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=s,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-i);s>0&&Ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="PersistentStream";class Ww{constructor(e,t,i,s,l,c,f,m){this.Fi=e,this.w_=i,this.S_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new $w(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(pa(t.toString()),pa("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.b_===t&&this.W_(i,s)},i=>{e(()=>{const s=new De(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(s)})})}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{i(()=>this.G_(s))}),this.stream.onMessage(s=>{i(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Ie(Xb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Ie(Xb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A4 extends Ww{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=MD(this.serializer,e),i=function(l){if(!("targetChange"in l))return tt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?tt.min():c.readTime?Ii(c.readTime):tt.min()}(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=Zp(this.serializer),t.addTarget=function(l,c){let f;const m=c.target;if(f=$p(m)?{documents:PD(l,m)}:{query:jD(l,m).Vt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Pw(l,c.resumeToken);const g=Kp(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(tt.min())>0){f.readTime=Eh(l,c.snapshotVersion.toTimestamp());const g=Kp(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const i=LD(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=Zp(this.serializer),t.removeTarget=e,this.k_(t)}}class R4 extends Ww{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=kD(e.writeResults,e.commitTime),i=Ii(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=Zp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>OD(this.serializer,i))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{}class C4 extends N4{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new De(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,Qp(t,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new De(fe.UNKNOWN,l.toString())})}Jo(e,t,i,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Jo(e,Qp(t,i),s,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new De(fe.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class D4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(pa(t),this._a=!1):Ie("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="RemoteStore";class I4{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{ao(this)&&(Ie(to,"Restarting streams for network reachability change."),await async function(m){const g=rt(m);g.Ia.add(4),await pc(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Qh(g)}(this))})}),this.Aa=new D4(i,s)}}async function Qh(n){if(ao(n))for(const e of n.da)await e(!0)}async function pc(n){for(const e of n.da)await e(!1)}function Gw(n,e){const t=rt(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Fg(t)?zg(t):wl(t).x_()&&Bg(t,e))}function Ug(n,e){const t=rt(n),i=wl(t);t.Ta.delete(e),i.x_()&&Kw(t,e),t.Ta.size===0&&(i.x_()?i.B_():ao(t)&&t.Aa.set("Unknown"))}function Bg(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wl(n).H_(e)}function Kw(n,e){n.Ra.$e(e),wl(n).Y_(e)}function zg(n){n.Ra=new SD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),wl(n).start(),n.Aa.aa()}function Fg(n){return ao(n)&&!wl(n).M_()&&n.Ta.size>0}function ao(n){return rt(n).Ia.size===0}function Qw(n){n.Ra=void 0}async function M4(n){n.Aa.set("Online")}async function O4(n){n.Ta.forEach((e,t)=>{Bg(n,e)})}async function k4(n,e){Qw(n),Fg(n)?(n.Aa.la(e),zg(n)):n.Aa.set("Unknown")}async function P4(n,e,t){if(n.Aa.set("Online"),e instanceof kw&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const f of l.targetIds)s.Ta.has(f)&&(await s.remoteSyncer.rejectListen(f,c),s.Ta.delete(f),s.Ra.removeTarget(f))}(n,e)}catch(i){Ie(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await xh(n,i)}else if(e instanceof eh?n.Ra.Ye(e):e instanceof Ow?n.Ra.it(e):n.Ra.et(e),!t.isEqual(tt.min()))try{const i=await Yw(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.Ra.Pt(c);return f.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ta.get(g);_&&l.Ta.set(g,_.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,g)=>{const _=l.Ta.get(m);if(!_)return;l.Ta.set(m,_.withResumeToken(Kn.EMPTY_BYTE_STRING,_.snapshotVersion)),Kw(l,m);const E=new Za(_.target,m,g,_.sequenceNumber);Bg(l,E)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){Ie(to,"Failed to raise snapshot:",i),await xh(n,i)}}async function xh(n,e,t){if(!El(e))throw e;n.Ia.add(1),await pc(n),n.Aa.set("Offline"),t||(t=()=>Yw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ie(to,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Qh(n)})}function Xw(n,e){return e().catch(t=>xh(n,t,e))}async function Xh(n){const e=rt(n),t=ds(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Tg;for(;j4(e);)try{const s=await y4(e.localStore,i);if(s===null){e.Pa.length===0&&t.B_();break}i=s.batchId,V4(e,s)}catch(s){await xh(e,s)}Zw(e)&&Jw(e)}function j4(n){return ao(n)&&n.Pa.length<10}function V4(n,e){n.Pa.push(e);const t=ds(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function Zw(n){return ao(n)&&!ds(n).M_()&&n.Pa.length>0}function Jw(n){ds(n).start()}async function L4(n){ds(n).na()}async function U4(n){const e=ds(n);for(const t of n.Pa)e.X_(t.mutations)}async function B4(n,e,t){const i=n.Pa.shift(),s=Mg.from(i,e,t);await Xw(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Xh(n)}async function z4(n,e){e&&ds(n).Z_&&await async function(i,s){if(function(c){return xD(c)&&c!==fe.ABORTED}(s.code)){const l=i.Pa.shift();ds(i).N_(),await Xw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Xh(i)}}(n,e),Zw(n)&&Jw(n)}async function Zb(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),Ie(to,"RemoteStore received new credentials");const i=ao(t);t.Ia.add(3),await pc(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Qh(t)}async function F4(n,e){const t=rt(n);e?(t.Ia.delete(2),await Qh(t)):e||(t.Ia.add(2),await pc(t),t.Aa.set("Unknown"))}function wl(n){return n.Va||(n.Va=function(t,i,s){const l=rt(t);return l.ia(),new A4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Zo:M4.bind(null,n),e_:O4.bind(null,n),n_:k4.bind(null,n),J_:P4.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),Fg(n)?zg(n):n.Aa.set("Unknown")):(await n.Va.stop(),Qw(n))})),n.Va}function ds(n){return n.ma||(n.ma=function(t,i,s){const l=rt(t);return l.ia(),new R4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:L4.bind(null,n),n_:z4.bind(null,n),ea:U4.bind(null,n),ta:B4.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Xh(n)):(await n.ma.stop(),n.Pa.length>0&&(Ie(to,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,f=new qg(e,t,c,s,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(n,e){if(pa("AsyncQueue",`${e}: ${n}`),El(n))return new De(fe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ue.comparator(t.key,i.key):(t,i)=>Ue.comparator(t.key,i.key),this.keyedMap=Pu(),this.sortedSet=new en(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new nl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.fa=new en(Ue.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):We(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}}class fl{constructor(e,t,i,s,l,c,f,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new fl(e,t,nl.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class H4{constructor(){this.queries=e1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const s=rt(t),l=s.queries;s.queries=e1(),l.forEach((c,f)=>{for(const m of f.wa)m.onError(i)})})(this,new De(fe.ABORTED,"Firestore shutting down"))}}function e1(){return new io(n=>bw(n),Hh)}async function ex(n,e){const t=rt(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.Sa()&&e.ba()&&(i=2):(l=new q4,i=e.ba()?0:1);try{switch(i){case 0:l.ya=await t.onListen(s,!0);break;case 1:l.ya=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const f=Hg(c,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&Yg(t)}async function tx(n,e){const t=rt(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.wa.indexOf(e);c>=0&&(l.wa.splice(c,1),l.wa.length===0?s=e.ba()?0:1:!l.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Y4(n,e){const t=rt(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const f of c.wa)f.Ca(s)&&(i=!0);c.ya=s}}i&&Yg(t)}function $4(n,e,t){const i=rt(n),s=i.queries.get(e);if(s)for(const l of s.wa)l.onError(t);i.queries.delete(e)}function Yg(n){n.Da.forEach(e=>{e.next()})}var tg,t1;(t1=tg||(tg={})).Fa="default",t1.Cache="cache";class nx{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new fl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.key=e}}class ix{constructor(e){this.key=e}}class W4{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=gt(),this.mutatedKeys=gt(),this.Xa=Ew(e),this.eu=new nl(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new Jb,s=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,f=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,E)=>{const x=s.get(_),N=Yh(this.query,E)?E:null,C=!!x&&this.mutatedKeys.has(x.key),Y=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let B=!1;x&&N?x.data.isEqual(N.data)?C!==Y&&(i.track({type:3,doc:N}),B=!0):this.iu(x,N)||(i.track({type:2,doc:N}),B=!0,(m&&this.Xa(N,m)>0||g&&this.Xa(N,g)<0)&&(f=!0)):!x&&N?(i.track({type:0,doc:N}),B=!0):x&&!N&&(i.track({type:1,doc:x}),B=!0,(m||g)&&(f=!0)),B&&(N?(c=c.add(N),l=Y?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{eu:c,ru:i,Ds:f,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((_,E)=>function(N,C){const Y=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We(20277,{At:B})}};return Y(N)-Y(C)}(_.type,E.type)||this.Xa(_.doc,E.doc)),this.su(i),s=s!=null&&s;const f=t&&!s?this.ou():[],m=this.Za.size===0&&this.current&&!s?1:0,g=m!==this.Ya;return this.Ya=m,c.length!==0||g?{snapshot:new fl(this.query,e.eu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Jb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=gt(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new ix(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new rx(i))}),t}uu(e){this.Ha=e.qs,this.Za=gt();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return fl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const $g="SyncEngine";class G4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class K4{constructor(e){this.key=e,this.lu=!1}}class Q4{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new io(f=>bw(f),Hh),this.Tu=new Map,this.Iu=new Set,this.du=new en(Ue.comparator),this.Eu=new Map,this.Au=new Pg,this.Ru={},this.Vu=new Map,this.mu=hl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function X4(n,e,t=!0){const i=cx(n);let s;const l=i.Pu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.cu()):s=await ax(i,e,t,!0),s}async function Z4(n,e){const t=cx(n);await ax(t,e,!0,!1)}async function ax(n,e,t,i){const s=await v4(n.localStore,Di(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await J4(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&Gw(n.remoteStore,s),f}async function J4(n,e,t,i,s){n.gu=(E,x,N)=>async function(Y,B,q,le){let J=B.view.nu(q);J.Ds&&(J=await Wb(Y.localStore,B.query,!1).then(({documents:I})=>B.view.nu(I,J)));const pe=le&&le.targetChanges.get(B.targetId),ae=le&&le.targetMismatches.get(B.targetId)!=null,L=B.view.applyChanges(J,Y.isPrimaryClient,pe,ae);return r1(Y,B.targetId,L._u),L.snapshot}(n,E,x,N);const l=await Wb(n.localStore,e,!0),c=new W4(e,l.qs),f=c.nu(l.documents),m=mc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),g=c.applyChanges(f,n.isPrimaryClient,m);r1(n,t,g._u);const _=new G4(e,t,c);return n.Pu.set(e,_),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),g.snapshot}async function eI(n,e,t){const i=rt(n),s=i.Pu.get(e),l=i.Tu.get(s.targetId);if(l.length>1)return i.Tu.set(s.targetId,l.filter(c=>!Hh(c,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Jp(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Ug(i.remoteStore,s.targetId),ng(i,s.targetId)}).catch(bl)):(ng(i,s.targetId),await Jp(i.localStore,s.targetId,!0))}async function tI(n,e){const t=rt(n),i=t.Pu.get(e),s=t.Tu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ug(t.remoteStore,i.targetId))}async function nI(n,e,t){const i=uI(n);try{const s=await function(c,f){const m=rt(c),g=$t.now(),_=f.reduce((N,C)=>N.add(C.key),gt());let E,x;return m.persistence.runTransaction("Locally write mutations","readwrite",N=>{let C=ga(),Y=gt();return m.Os.getEntries(N,_).next(B=>{C=B,C.forEach((q,le)=>{le.isValidDocument()||(Y=Y.add(q))})}).next(()=>m.localDocuments.getOverlayedDocuments(N,C)).next(B=>{E=B;const q=[];for(const le of f){const J=vD(le,E.get(le.key).overlayedDocument);J!=null&&q.push(new gs(le.key,J,hw(J.value.mapValue),Kr.exists(!0)))}return m.mutationQueue.addMutationBatch(N,g,q,f)}).next(B=>{x=B;const q=B.applyToLocalDocumentSet(E,Y);return m.documentOverlayCache.saveOverlays(N,B.batchId,q)})}).then(()=>({batchId:x.batchId,changes:xw(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,f,m){let g=c.Ru[c.currentUser.toKey()];g||(g=new en(ot)),g=g.insert(f,m),c.Ru[c.currentUser.toKey()]=g}(i,s.batchId,t),await gc(i,s.changes),await Xh(i.remoteStore)}catch(s){const l=Hg(s,"Failed to persist write");t.reject(l)}}async function sx(n,e){const t=rt(n);try{const i=await p4(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.Eu.get(l);c&&(Ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.lu=!0:s.modifiedDocuments.size>0?Ct(c.lu,14607):s.removedDocuments.size>0&&(Ct(c.lu,42227),c.lu=!1))}),await gc(t,i,e)}catch(i){await bl(i)}}function n1(n,e,t){const i=rt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Pu.forEach((l,c)=>{const f=c.view.va(e);f.snapshot&&s.push(f.snapshot)}),function(c,f){const m=rt(c);m.onlineState=f;let g=!1;m.queries.forEach((_,E)=>{for(const x of E.wa)x.va(f)&&(g=!0)}),g&&Yg(m)}(i.eventManager,e),s.length&&i.hu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function rI(n,e,t){const i=rt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Eu.get(e),l=s&&s.key;if(l){let c=new en(Ue.comparator);c=c.insert(l,nr.newNoDocument(l,tt.min()));const f=gt().add(l),m=new Gh(tt.min(),new Map,new en(ot),c,f);await sx(i,m),i.du=i.du.remove(l),i.Eu.delete(e),Wg(i)}else await Jp(i.localStore,e,!1).then(()=>ng(i,e,t)).catch(bl)}async function iI(n,e){const t=rt(n),i=e.batch.batchId;try{const s=await m4(t.localStore,e);lx(t,i,null),ox(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await gc(t,s)}catch(s){await bl(s)}}async function aI(n,e,t){const i=rt(n);try{const s=await function(c,f){const m=rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,f).next(E=>(Ct(E!==null,37113),_=E.keys(),m.mutationQueue.removeMutationBatch(g,E))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(i.localStore,e);lx(i,e,t),ox(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await gc(i,s)}catch(s){await bl(s)}}function ox(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function lx(n,e,t){const i=rt(n);let s=i.Ru[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.Ru[i.currentUser.toKey()]=s}}function ng(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(i=>{n.Au.containsKey(i)||ux(n,i)})}function ux(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Ug(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Wg(n))}function r1(n,e,t){for(const i of t)i instanceof rx?(n.Au.addReference(i.key,e),sI(n,i)):i instanceof ix?(Ie($g,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||ux(n,i.key)):We(19791,{yu:i})}function sI(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(Ie($g,"New document in limbo: "+t),n.Iu.add(i),Wg(n))}function Wg(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Ue(Ht.fromString(e)),i=n.mu.next();n.Eu.set(i,new K4(t)),n.du=n.du.insert(t,i),Gw(n.remoteStore,new Za(Di(Cg(t.path)),i,"TargetPurposeLimboResolution",zh.ue))}}async function gc(n,e,t){const i=rt(n),s=[],l=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((f,m)=>{c.push(i.gu(m,e,t).then(g=>{var _;if((g||t)&&i.isPrimaryClient){const E=g?!g.fromCache:(_=t?.targetChanges.get(m.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){s.push(g);const E=Vg.Es(m.targetId,g);l.push(E)}}))}),await Promise.all(c),i.hu.J_(s),await async function(m,g){const _=rt(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ye.forEach(g,x=>ye.forEach(x.Is,N=>_.persistence.referenceDelegate.addReference(E,x.targetId,N)).next(()=>ye.forEach(x.ds,N=>_.persistence.referenceDelegate.removeReference(E,x.targetId,N)))))}catch(E){if(!El(E))throw E;Ie(Lg,"Failed to update sequence numbers: "+E)}for(const E of g){const x=E.targetId;if(!E.fromCache){const N=_.Fs.get(x),C=N.snapshotVersion,Y=N.withLastLimboFreeSnapshotVersion(C);_.Fs=_.Fs.insert(x,Y)}}}(i.localStore,l))}async function oI(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){Ie($g,"User change. New user:",e.toKey());const i=await Hw(t.localStore,e);t.currentUser=e,function(l,c){l.Vu.forEach(f=>{f.forEach(m=>{m.reject(new De(fe.CANCELLED,c))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await gc(t,i.Bs)}}function lI(n,e){const t=rt(n),i=t.Eu.get(e);if(i&&i.lu)return gt().add(i.key);{let s=gt();const l=t.Tu.get(e);if(!l)return s;for(const c of l){const f=t.Pu.get(c);s=s.unionWith(f.view.tu)}return s}}function cx(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rI.bind(null,e),e.hu.J_=Y4.bind(null,e.eventManager),e.hu.pu=$4.bind(null,e.eventManager),e}function uI(n){const e=rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aI.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return f4(this.persistence,new c4,e.initialUser,this.serializer)}Du(e){return new qw(jg.Vi,this.serializer)}bu(e){return new b4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class cI extends Th{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ct(this.persistence.referenceDelegate instanceof wh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new KD(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new qw(i=>wh.Vi(i,t),this.serializer)}}class rg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>n1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=oI.bind(null,this.syncEngine),await F4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new H4}()}createDatastore(e){const t=Kh(e.databaseInfo.databaseId),i=function(l){return new S4(l)}(e.databaseInfo);return function(l,c,f,m){return new C4(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,l,c,f){return new I4(i,s,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>n1(this.syncEngine,t,0),function(){return Qb.C()?new Qb:new E4}())}createSyncEngine(e,t){return function(s,l,c,f,m,g,_){const E=new Q4(s,l,c,f,m,g);return _&&(E.fu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=rt(s);Ie(to,"RemoteStore shutting down."),l.Ia.add(5),await pc(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}rg.provider={build:()=>new rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):pa("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class dI{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=tr.UNAUTHENTICATED,this.clientId=xg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{Ie(hs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Ie(hs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Hg(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ap(n,e){n.asyncQueue.verifyOperationInProgress(),Ie(hs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Hw(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>{ss("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Ie("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{ss("Terminating Firestore due to IndexedDb database deletion failed",s)})}),n._offlineComponents=e}async function i1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await hI(n);Ie(hs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Zb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Zb(e.remoteStore,s)),n._onlineComponents=e}async function hI(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ie(hs,"Using user provided OfflineComponentProvider");try{await Ap(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===fe.FAILED_PRECONDITION||s.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ss("Error using user provided cache. Falling back to memory cache: "+t),await Ap(n,new Th)}}else Ie(hs,"Using default OfflineComponentProvider"),await Ap(n,new cI(void 0));return n._offlineComponents}async function hx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ie(hs,"Using user provided OnlineComponentProvider"),await i1(n,n._uninitializedComponentsProvider._online)):(Ie(hs,"Using default OnlineComponentProvider"),await i1(n,new rg))),n._onlineComponents}function fI(n){return hx(n).then(e=>e.syncEngine)}async function fx(n){const e=await hx(n),t=e.eventManager;return t.onListen=X4.bind(null,e.syncEngine),t.onUnlisten=eI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Z4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=tI.bind(null,e.syncEngine),t}function mI(n,e,t={}){const i=new fa;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,g){const _=new dx({next:x=>{_.Ou(),c.enqueueAndForget(()=>tx(l,E));const N=x.docs.has(f);!N&&x.fromCache?g.reject(new De(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&x.fromCache&&m&&m.source==="server"?g.reject(new De(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),E=new nx(Cg(f.path),_,{includeMetadataChanges:!0,ka:!0});return ex(l,E)}(await fx(n),n.asyncQueue,e,t,i)),i.promise}function pI(n,e,t={}){const i=new fa;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,g){const _=new dx({next:x=>{_.Ou(),c.enqueueAndForget(()=>tx(l,E)),x.fromCache&&m.source==="server"?g.reject(new De(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),E=new nx(f,_,{includeMetadataChanges:!0,ka:!0});return ex(l,E)}(await fx(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="firestore.googleapis.com",s1=!0;class o1{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new De(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=px,this.ssl=s1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:s1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Fw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WD)throw new De(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mx((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new De(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new De(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new De(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new wC;switch(i.type){case"firstParty":return new AC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new De(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=a1.get(t);i&&(Ie("ComponentProvider","Removing Datastore"),a1.delete(t),i.terminate())}(this),Promise.resolve()}}function gI(n,e,t,i={}){var s;n=ii(n,Zh);const l=yl(e),c=n._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;l&&(LE(`https://${m}`),UE("Firestore",!0)),c.host!==px&&c.host!==m&&ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:i});if(!Zs(g,f)&&(n._setSettings(g),i.mockUserToken)){let _,E;if(typeof i.mockUserToken=="string")_=i.mockUserToken,E=tr.MOCK_USER;else{_=KR(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new De(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tr(x)}n._authCredentials=new xC(new JE(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new xl(this.firestore,e,this._query)}}class un{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}toJSON(){return{type:un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(dc(t,un._jsonSchema))return new un(e,i||null,new Ue(Ht.fromString(t.referencePath)))}}un._jsonSchemaVersion="firestore/documentReference/1.0",un._jsonSchema={type:vn("string",un._jsonSchemaVersion),referencePath:vn("string")};class rs extends xl{constructor(e,t,i){super(e,t,Cg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new Ue(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function oa(n,e,...t){if(n=Gn(n),tw("collection","path",e),n instanceof Zh){const i=Ht.fromString(e,...t);return bb(i),new rs(n,null,i)}{if(!(n instanceof un||n instanceof rs))throw new De(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ht.fromString(e,...t));return bb(i),new rs(n.firestore,null,i)}}function Ys(n,e,...t){if(n=Gn(n),arguments.length===1&&(e=xg.newId()),tw("doc","path",e),n instanceof Zh){const i=Ht.fromString(e,...t);return _b(i),new un(n,null,new Ue(i))}{if(!(n instanceof un||n instanceof rs))throw new De(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ht.fromString(e,...t));return _b(i),new un(n.firestore,n instanceof rs?n.converter:null,new Ue(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="AsyncQueue";class u1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new $w(this,"async_queue_retry"),this.oc=()=>{const i=Sp();i&&Ie(l1,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=Sp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Sp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new fa;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!El(e))throw e;Ie(l1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,pa("INTERNAL UNHANDLED ERROR: ",c1(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=qg.createAndSchedule(this,e,t,i,l=>this.lc(l));return this.ec.push(s),s}ac(){this.tc&&We(47125,{hc:c1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function c1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class so extends Zh{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new u1,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u1(e),this._firestoreClient=void 0,await e}}}function yI(n,e){const t=typeof n=="object"?n:qE(),i=typeof n=="string"?n:gh,s=Eg(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=WR("firestore");l&&gI(s,...l)}return s}function Gg(n){if(n._terminated)throw new De(fe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vI(n),n._firestoreClient}function vI(n){var e,t,i;const s=n._freezeSettings(),l=function(f,m,g,_){return new FC(f,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,mx(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new dI(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const m=f?._online.build();return{_offline:f?._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gr(Kn.fromBase64String(e))}catch(t){throw new De(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Gr(Kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dc(e,Gr._jsonSchema))return Gr.fromBase64String(e.bytes)}}Gr._jsonSchemaVersion="firestore/bytes/1.0",Gr._jsonSchema={type:vn("string",Gr._jsonSchemaVersion),bytes:vn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new De(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new De(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new De(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(dc(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:vn("string",Mi._jsonSchemaVersion),latitude:vn("number"),longitude:vn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dc(e,Oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Oi(e.vectorValues);throw new De(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:vn("string",Oi._jsonSchemaVersion),vectorValues:vn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=/^__.*__$/;class bI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,t,this.fieldTransforms):new fc(e,this.data,t,this.fieldTransforms)}}class gx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new gs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We(40011,{Ec:n})}}class Kg{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:i,mc:!1});return s.fc(e),s}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:i,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Sh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(yx(this.Ec)&&_I.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class EI{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Kh(e)}Dc(e,t,i,s=!1){return new Kg({Ec:e,methodName:t,bc:i,path:Wn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(n){const e=n._freezeSettings(),t=Kh(n._databaseId);return new EI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vx(n,e,t,i,s,l={}){const c=n.Dc(l.merge||l.mergeFields?2:0,e,t,s);Xg("Data must be an object, but it was:",c,i);const f=_x(i,c);let m,g;if(l.merge)m=new Mr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const x=ig(e,E,t);if(!c.contains(x))throw new De(fe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Ex(_,x)||_.push(x)}m=new Mr(_),g=c.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,g=c.fieldTransforms;return new bI(new vr(f),m,g)}class nf extends ef{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}class Qg extends ef{_toFieldTransform(e){return new mD(e.path,new ec)}isEqual(e){return e instanceof Qg}}function wI(n,e,t,i){const s=n.Dc(1,e,t);Xg("Data must be an object, but it was:",s,i);const l=[],c=vr.empty();ps(i,(m,g)=>{const _=Zg(e,m,t);g=Gn(g);const E=s.gc(_);if(g instanceof nf)l.push(_);else{const x=yc(g,E);x!=null&&(l.push(_),c.set(_,x))}});const f=new Mr(l);return new gx(c,f,s.fieldTransforms)}function xI(n,e,t,i,s,l){const c=n.Dc(1,e,t),f=[ig(e,i,t)],m=[s];if(l.length%2!=0)throw new De(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)f.push(ig(e,l[x])),m.push(l[x+1]);const g=[],_=vr.empty();for(let x=f.length-1;x>=0;--x)if(!Ex(g,f[x])){const N=f[x];let C=m[x];C=Gn(C);const Y=c.gc(N);if(C instanceof nf)g.push(N);else{const B=yc(C,Y);B!=null&&(g.push(N),_.set(N,B))}}const E=new Mr(g);return new gx(_,E,c.fieldTransforms)}function TI(n,e,t,i=!1){return yc(t,n.Dc(i?4:3,e))}function yc(n,e){if(bx(n=Gn(n)))return Xg("Unsupported field value:",e,n),_x(n,e);if(n instanceof ef)return function(i,s){if(!yx(s.Ec))throw s.wc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const f of i){let m=yc(f,s.yc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,s){if((i=Gn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dD(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=$t.fromDate(i);return{timestampValue:Eh(s.serializer,l)}}if(i instanceof $t){const l=new $t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Eh(s.serializer,l)}}if(i instanceof Mi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Gr)return{bytesValue:Pw(s.serializer,i._byteString)};if(i instanceof un){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:kg(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Oi)return function(c,f){return{mapValue:{fields:{[cw]:{stringValue:dw},[yh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw f.wc("VectorValues must only contain numeric values.");return Dg(f.serializer,g)})}}}}}}(i,s);throw s.wc(`Unsupported field value: ${Bh(i)}`)}(n,e)}function _x(n,e){const t={};return iw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(n,(i,s)=>{const l=yc(s,e.Vc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function bx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof $t||n instanceof Mi||n instanceof Gr||n instanceof un||n instanceof ef||n instanceof Oi)}function Xg(n,e,t){if(!bx(t)||!nw(t)){const i=Bh(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function ig(n,e,t){if((e=Gn(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return Zg(n,e);throw Sh("Field path arguments must be of type string or ",n,!1,void 0,t)}const SI=new RegExp("[~\\*/\\[\\]]");function Zg(n,e,t){if(e.search(SI)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jh(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sh(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${s}`),m+=")"),new De(fe.INVALID_ARGUMENT,f+n+m)}function Ex(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class AI extends wx{data(){return super.data()}}function Jg(n,e){return typeof e=="string"?Zg(n,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new De(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ey{}class NI extends ey{}function Hu(n,e,...t){let i=[];e instanceof ey&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof ty).length,f=l.filter(m=>m instanceof rf).length;if(c>1||c>0&&f>0)throw new De(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class rf extends NI{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new rf(e,t,i)}_apply(e){const t=this._parse(e);return xx(e._query,t),new xl(e.firestore,e.converter,Wp(e._query,t))}_parse(e){const t=tf(e.firestore);return function(l,c,f,m,g,_,E){let x;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new De(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){h1(E,_);const C=[];for(const Y of E)C.push(d1(m,l,Y));x={arrayValue:{values:C}}}else x=d1(m,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||h1(E,_),x=TI(f,c,E,_==="in"||_==="not-in");return yn.create(g,_,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function la(n,e,t){const i=e,s=Jg("where",n);return rf._create(s,i,t)}class ty extends ey{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ty(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ai.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let c=s;const f=l.getFlattenedFilters();for(const m of f)xx(c,m),c=Wp(c,m)}(e._query,t),new xl(e.firestore,e.converter,Wp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function d1(n,e,t){if(typeof(t=Gn(t))=="string"){if(t==="")throw new De(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_w(e)&&t.indexOf("/")!==-1)throw new De(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ht.fromString(t));if(!Ue.isDocumentKey(i))throw new De(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Nb(n,new Ue(i))}if(t instanceof un)return Nb(n,t._key);throw new De(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(t)}.`)}function h1(n,e){if(!Array.isArray(n)||n.length===0)throw new De(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xx(n,e){const t=function(s,l){for(const c of s)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new De(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class CI{convertValue(e,t="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw We(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ps(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[yh].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>ln(c.doubleValue));return new Oi(l)}convertGeoPoint(e){return new Mi(ln(e.latitude),ln(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=qh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const t=ls(e);return new $t(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ht.fromString(e);Ct(zw(i),9688,{name:e});const s=new Zu(i.get(1),i.get(3)),l=new Ue(i.popFirst(5));return s.isEqual(t)||pa(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends wx{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Jg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Xs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:vn("string",Xs._jsonSchemaVersion),bundleSource:vn("string","DocumentSnapshot"),bundleName:vn("string"),bundle:vn("string")};class th extends Xs{data(e={}){return super.data(e)}}class rl{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Vu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new th(this._firestore,this._userDataWriter,i.key,i,new Vu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new De(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>{const m=new th(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Vu(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new th(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Vu(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,_=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:DI(f.type),doc:m,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(n){n=ii(n,un);const e=ii(n.firestore,so);return mI(Gg(e),n._key).then(t=>OI(e,n,t))}rl._jsonSchemaVersion="firestore/querySnapshot/1.0",rl._jsonSchema={type:vn("string",rl._jsonSchemaVersion),bundleSource:vn("string","QuerySnapshot"),bundleName:vn("string"),bundle:vn("string")};class Sx extends CI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,t)}}function Qs(n){n=ii(n,xl);const e=ii(n.firestore,so),t=Gg(e),i=new Sx(e);return RI(n._query),pI(t,n._query).then(s=>new rl(e,i,n,s))}function MI(n,e,t){n=ii(n,un);const i=ii(n.firestore,so),s=Tx(n.converter,e,t);return af(i,[vx(tf(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Kr.none())])}function f1(n,e,t,...i){n=ii(n,un);const s=ii(n.firestore,so),l=tf(s);let c;return c=typeof(e=Gn(e))=="string"||e instanceof Jh?xI(l,"updateDoc",n._key,e,t,i):wI(l,"updateDoc",n._key,e),af(s,[c.toMutation(n._key,Kr.exists(!0))])}function m1(n){return af(ii(n.firestore,so),[new Ig(n._key,Kr.none())])}function p1(n,e){const t=ii(n.firestore,so),i=Ys(n),s=Tx(n.converter,e);return af(t,[vx(tf(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Kr.exists(!1))]).then(()=>i)}function af(n,e){return function(i,s){const l=new fa;return i.asyncQueue.enqueueAndForget(async()=>nI(await fI(i),s,l)),l.promise}(Gg(n),e)}function OI(n,e,t){const i=t.docs.get(e._key),s=new Sx(n);return new Xs(n,s,e._key,i,new Vu(t.hasPendingWrites,t.fromCache),e.converter)}function kI(){return new Qg("serverTimestamp")}(function(e,t=!0){(function(s){_l=s})(vl),ll(new Js("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new so(new TC(i.getProvider("auth-internal")),new RC(c,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new De(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(g.options.projectId,_)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),ts(mb,pb,e),ts(mb,pb,"esm2017")})();var PI="firebase",jI="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(PI,jI,"app");function ny(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function Ax(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VI=Ax,Rx=new uc("auth","Firebase",Ax());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new _g("@firebase/auth");function LI(n,...e){Ah.logLevel<=pt.WARN&&Ah.warn(`Auth (${vl}): ${n}`,...e)}function nh(n,...e){Ah.logLevel<=pt.ERROR&&Ah.error(`Auth (${vl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(n,...e){throw ry(n,...e)}function ki(n,...e){return ry(n,...e)}function Nx(n,e,t){const i=Object.assign(Object.assign({},VI()),{[e]:t});return new uc("auth","Firebase",i).create(e,{appName:n.name})}function is(n){return Nx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ry(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Rx.create(n,...e)}function $e(n,e,...t){if(!n)throw ry(e,...t)}function ua(n){const e="INTERNAL ASSERTION FAILED: "+n;throw nh(e),new Error(e)}function ya(n,e){n||ua(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function UI(){return g1()==="http:"||g1()==="https:"}function g1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UI()||tN()||"connection"in navigator)?navigator.onLine:!0}function zI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ya(t>e,"Short delay should be less than long delay!"),this.isMobile=ZR()||nN()}get(){return BI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(n,e){ya(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ua("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ua("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ua("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HI=new vc(3e4,6e4);function oo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ys(n,e,t,i,s={}){return Dx(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=cc(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:m},l);return eN()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&yl(n.emulatorConfig.host)&&(g.credentials="include"),Cx.fetch()(await Ix(n,n.config.apiHost,t,f),g)})}async function Dx(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},FI),e);try{const s=new $I(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw $d(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw $d(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw $d(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw $d(n,"user-disabled",c);const _=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Nx(n,_,g);si(n,_)}}catch(s){if(s instanceof va)throw s;si(n,"network-request-failed",{message:String(s)})}}async function sf(n,e,t,i,s={}){const l=await ys(n,e,t,i,s);return"mfaPendingCredential"in l&&si(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Ix(n,e,t,i){const s=`${e}${t}?${i}`,l=n,c=l.config.emulator?iy(n.config,s):`${n.config.apiScheme}://${s}`;return qI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function YI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $I{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ki(this.auth,"network-request-failed")),HI.get())})}}function $d(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=ki(n,e,i);return s.customData._tokenResponse=t,s}function y1(n){return n!==void 0&&n.enterprise!==void 0}class WI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return YI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GI(n,e){return ys(n,"GET","/v2/recaptchaConfig",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(n,e){return ys(n,"POST","/v1/accounts:delete",e)}async function Rh(n,e){return ys(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QI(n,e=!1){const t=Gn(n),i=await t.getIdToken(e),s=ay(i);$e(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l?.sign_in_provider;return{claims:s,token:i,authTime:Yu(Rp(s.auth_time)),issuedAtTime:Yu(Rp(s.iat)),expirationTime:Yu(Rp(s.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Rp(n){return Number(n)*1e3}function ay(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const s=kE(t);return s?JSON.parse(s):(nh("Failed to decode base64 JWT payload"),null)}catch(s){return nh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function v1(n){const e=ay(n);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof va&&XI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function XI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(n){var e;const t=n.auth,i=await n.getIdToken(),s=await rc(n,Rh(t,{idToken:i}));$e(s?.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Mx(l.providerUserInfo):[],f=eM(n.providerData,c),m=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!f?.length,_=m?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new sg(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function JI(n){const e=Gn(n);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eM(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Mx(n){return n.map(e=>{var{providerId:t}=e,i=ny(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(n,e){const t=await Dx(n,{},async()=>{const i=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await Ix(n,s,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return n.emulatorConfig&&yl(n.emulatorConfig.host)&&(m.credentials="include"),Cx.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function nM(n,e){return ys(n,"POST","/v2/accounts:revokeToken",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const t=v1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await tM(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new il;return i&&($e(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&($e(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&($e(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return ua("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(n,e){$e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,l=ny(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new sg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await rc(this,this.stsTokenManager.getToken(this.auth,e));return $e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return QI(this,e)}reload(){return JI(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Nh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await rc(this,KI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,l,c,f,m,g,_;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,x=(s=t.email)!==null&&s!==void 0?s:void 0,N=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,Y=(f=t.tenantId)!==null&&f!==void 0?f:void 0,B=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,le=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:J,emailVerified:pe,isAnonymous:ae,providerData:L,stsTokenManager:I}=t;$e(J&&I,e,"internal-error");const S=il.fromJSON(this.name,I);$e(typeof J=="string",e,"internal-error"),Ha(E,e.name),Ha(x,e.name),$e(typeof pe=="boolean",e,"internal-error"),$e(typeof ae=="boolean",e,"internal-error"),Ha(N,e.name),Ha(C,e.name),Ha(Y,e.name),Ha(B,e.name),Ha(q,e.name),Ha(le,e.name);const R=new ni({uid:J,auth:e,email:x,emailVerified:pe,displayName:E,isAnonymous:ae,photoURL:C,phoneNumber:N,tenantId:Y,stsTokenManager:S,createdAt:q,lastLoginAt:le});return L&&Array.isArray(L)&&(R.providerData=L.map(O=>Object.assign({},O))),B&&(R._redirectEventId=B),R}static async _fromIdTokenResponse(e,t,i=!1){const s=new il;s.updateFromServerResponse(t);const l=new ni({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Nh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];$e(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?Mx(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!l?.length,f=new il;f.updateFromIdToken(i);const m=new ni({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new sg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=new Map;function ca(n){ya(n instanceof Function,"Expected a class definition");let e=_1.get(n);return e?(ya(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ox.type="NONE";const b1=Ox;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(n,e,t){return`firebase:${n}:${e}:${t}`}class al{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=rh(this.userKey,s.apiKey,l),this.fullPersistenceKey=rh("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Rh(this.auth,{idToken:e}).catch(()=>{});return t?ni._fromGetAccountInfoResponse(this.auth,t,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new al(ca(b1),e,i);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||ca(b1);const c=rh(i,e.config.apiKey,e.name);let f=null;for(const g of t)try{const _=await g._get(c);if(_){let E;if(typeof _=="string"){const x=await Rh(e,{idToken:_}).catch(()=>{});if(!x)break;E=await ni._fromGetAccountInfoResponse(e,x,_)}else E=ni._fromJSON(e,_);g!==l&&(f=E),l=g;break}}catch{}const m=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new al(l,e,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new al(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ux(e))return"Blackberry";if(Bx(e))return"Webos";if(Px(e))return"Safari";if((e.includes("chrome/")||jx(e))&&!e.includes("edge/"))return"Chrome";if(Lx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function kx(n=rr()){return/firefox\//i.test(n)}function Px(n=rr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jx(n=rr()){return/crios\//i.test(n)}function Vx(n=rr()){return/iemobile/i.test(n)}function Lx(n=rr()){return/android/i.test(n)}function Ux(n=rr()){return/blackberry/i.test(n)}function Bx(n=rr()){return/webos/i.test(n)}function sy(n=rr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function rM(n=rr()){var e;return sy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iM(){return rN()&&document.documentMode===10}function zx(n=rr()){return sy(n)||Lx(n)||Bx(n)||Ux(n)||/windows phone/i.test(n)||Vx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(n,e=[]){let t;switch(n){case"Browser":t=E1(rr());break;case"Worker":t=`${E1(rr())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(n,e={}){return ys(n,"GET","/v2/passwordPolicy",oo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=6;class lM{constructor(e){var t,i,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:oM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(s=m.containsLowercaseLetter)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w1(this),this.idTokenSubscription=new w1(this),this.beforeStateQueue=new aM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ca(t)),this._initializationPromise=this.queue(async()=>{var i,s,l;if(!this._deleted&&(this.persistenceManager=await al.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Rh(this,{idToken:e}),i=await ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&m?.user&&(s=m.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(is(this));const t=e?Gn(e):null;return t&&$e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ca(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sM(this),t=new lM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await nM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ca(e)||this._popupRedirectResolver;$e(t,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[ca(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,s);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&LI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Tl(n){return Gn(n)}class w1{constructor(e){this.auth=e,this.observer=null,this.addObserver=dN(t=>this.observer=t)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cM(n){of=n}function qx(n){return of.loadJS(n)}function dM(){return of.recaptchaEnterpriseScript}function hM(){return of.gapiScript}function fM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class mM{constructor(){this.enterprise=new pM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class pM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const gM="recaptcha-enterprise",Hx="NO_RECAPTCHA";class yM{constructor(e){this.type=gM,this.auth=Tl(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{GI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new WI(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{f(m)})})}function s(l,c,f){const m=window.grecaptcha;y1(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(Hx)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!t&&y1(window.grecaptcha))s(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=dM();m.length!==0&&(m+=f),qx(m).then(()=>{s(f,l,c)}).catch(g=>{c(g)})}}).catch(f=>{c(f)})})}}async function x1(n,e,t,i=!1,s=!1){const l=new yM(n);let c;if(s)c=Hx;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function T1(n,e,t,i,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await x1(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await x1(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(n,e){const t=Eg(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(Zs(l,e??{}))return s;si(s,"already-initialized")}return t.initialize({options:e})}function _M(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ca);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function bM(n,e,t){const i=Tl(n);$e(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=Yx(e),{host:c,port:f}=EM(e),m=f===null?"":`:${f}`,g={url:`${l}//${c}${m}/`},_=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){$e(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),$e(Zs(g,i.config.emulator)&&Zs(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,yl(c)?(LE(`${l}//${c}${m}`),UE("Auth",!0)):wM()}function Yx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function EM(n){const e=Yx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:S1(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:S1(c)}}}function S1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function wM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ua("not implemented")}_getIdTokenResponse(e){return ua("not implemented")}_linkToIdToken(e,t){return ua("not implemented")}_getReauthenticationResolver(e){return ua("not implemented")}}async function xM(n,e){return ys(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(n,e){return sf(n,"POST","/v1/accounts:signInWithPassword",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(n,e){return sf(n,"POST","/v1/accounts:signInWithEmailLink",oo(n,e))}async function AM(n,e){return sf(n,"POST","/v1/accounts:signInWithEmailLink",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends oy{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new ic(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new ic(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T1(e,t,"signInWithPassword",TM);case"emailLink":return SM(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T1(e,i,"signUpPassword",xM);case"emailLink":return AM(e,{idToken:t,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(n,e){return sf(n,"POST","/v1/accounts:signInWithIdp",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="http://localhost";class no extends oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,l=ny(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new no(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return sl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,sl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sl(e,t)}buildRequest(){const e={requestUri:RM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CM(n){const e=Mu(Ou(n)).link,t=e?Mu(Ou(e)).deep_link_id:null,i=Mu(Ou(n)).deep_link_id;return(i?Mu(Ou(i)).link:null)||i||t||e||n}class ly{constructor(e){var t,i,s,l,c,f;const m=Mu(Ou(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,_=(i=m.oobCode)!==null&&i!==void 0?i:null,E=NM((s=m.mode)!==null&&s!==void 0?s:null);$e(g&&_&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=_,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=CM(e);try{return new ly(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.providerId=Sl.PROVIDER_ID}static credential(e,t){return ic._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=ly.parseLink(t);return $e(i,"argument-error"),ic._fromEmailAndCode(e,i.code,i.tenantId)}}Sl.PROVIDER_ID="password";Sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends $x{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends _c{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ga.credential(e.oauthAccessToken)}catch{return null}}}Ga.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ga.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return no._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ka.credential(t,i)}catch{return null}}}Ka.GOOGLE_SIGN_IN_METHOD="google.com";Ka.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends _c{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qa.credential(e.oauthAccessToken)}catch{return null}}}Qa.GITHUB_SIGN_IN_METHOD="github.com";Qa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends _c{constructor(){super("twitter.com")}static credential(e,t){return no._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Xa.credential(t,i)}catch{return null}}}Xa.TWITTER_SIGN_IN_METHOD="twitter.com";Xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await ni._fromIdTokenResponse(e,i,s),c=A1(i);return new ml({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=A1(i);return new ml({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function A1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends va{constructor(e,t,i,s){var l;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Ch(e,t,i,s)}}function Wx(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(n,l,e,i):l})}async function DM(n,e,t=!1){const i=await rc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ml._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(n,e,t=!1){const{auth:i}=n;if(ti(i.app))return Promise.reject(is(i));const s="reauthenticate";try{const l=await rc(n,Wx(i,s,e,n),t);$e(l.idToken,i,"internal-error");const c=ay(l.idToken);$e(c,i,"internal-error");const{sub:f}=c;return $e(n.uid===f,i,"user-mismatch"),ml._forOperation(n,s,l)}catch(l){throw l?.code==="auth/user-not-found"&&si(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(n,e,t=!1){if(ti(n.app))return Promise.reject(is(n));const i="signIn",s=await Wx(n,i,e),l=await ml._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function MM(n,e){return Gx(Tl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(n){const e=Tl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function kM(n,e,t){return ti(n.app)?Promise.reject(is(n)):MM(Gn(n),Sl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&OM(n),i})}function PM(n,e,t,i){return Gn(n).onIdTokenChanged(e,t,i)}function jM(n,e,t){return Gn(n).beforeAuthStateChanged(e,t)}function VM(n,e,t,i){return Gn(n).onAuthStateChanged(e,t,i)}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=1e3,UM=10;class Qx extends Kx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);iM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,UM):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},LM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qx.type="LOCAL";const BM=Qx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx extends Kx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Xx.type="SESSION";const Zx=Xx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new lf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const f=Array.from(c).map(async g=>g(t.origin,l)),m=await zM(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const g=uy("",20);s.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(E){const x=E;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(x.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function qM(n){Pi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function HM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YM(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function $M(){return Jx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firebaseLocalStorageDb",WM=1,Ih="firebaseLocalStorage",tT="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function uf(n,e){return n.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function GM(){const n=indexedDB.deleteDatabase(eT);return new bc(n).toPromise()}function og(){const n=indexedDB.open(eT,WM);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ih,{keyPath:tT})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ih)?e(i):(i.close(),await GM(),e(await og()))})})}async function R1(n,e,t){const i=uf(n,!0).put({[tT]:e,value:t});return new bc(i).toPromise()}async function KM(n,e){const t=uf(n,!1).get(e),i=await new bc(t).toPromise();return i===void 0?null:i.value}function N1(n,e){const t=uf(n,!0).delete(e);return new bc(t).toPromise()}const QM=800,XM=3;class nT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await og(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>XM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance($M()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await HM(),!this.activeServiceWorker)return;this.sender=new FM(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await og();return await R1(e,Dh,"1"),await N1(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>R1(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>KM(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>N1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=uf(s,!1).getAll();return new bc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nT.type="LOCAL";const ZM=nT;new vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(n,e){return e?ca(e):($e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends oy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eO(n){return Gx(n.auth,new cy(n),n.bypassAuthState)}function tO(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),IM(t,new cy(n),n.bypassAuthState)}async function nO(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),DM(t,new cy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eO;case"linkViaPopup":case"linkViaRedirect":return nO;case"reauthViaPopup":case"reauthViaRedirect":return tO;default:si(this.auth,"internal-error")}}resolve(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new vc(2e3,1e4);class Jo extends rT{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){ya(this.filter.length===1,"Popup operations only handle one event");const e=uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rO.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="pendingRedirect",ih=new Map;class aO extends rT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const i=await sO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sO(n,e){const t=uO(e),i=lO(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function oO(n,e){ih.set(n._key(),e)}function lO(n){return ca(n._redirectPersistence)}function uO(n){return rh(iO,n.config.apiKey,n.name)}async function cO(n,e,t=!1){if(ti(n.app))return Promise.reject(is(n));const i=Tl(n),s=JM(i,e),c=await new aO(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=10*60*1e3;class hO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!iT(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ki(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dO&&this.cachedEventUids.clear(),this.cachedEventUids.has(C1(e))}saveEventToCache(e){this.cachedEventUids.add(C1(e)),this.lastProcessedEventTime=Date.now()}}function C1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function iT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function fO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(n,e={}){return ys(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gO=/^https?/;async function yO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await mO(n);for(const t of e)try{if(vO(t))return}catch{}si(n,"unauthorized-domain")}function vO(n){const e=ag(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!gO.test(t))return!1;if(pO.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new vc(3e4,6e4);function D1(){const n=Pi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function bO(n){return new Promise((e,t)=>{var i,s,l;function c(){D1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D1(),t(ki(n,"network-request-failed"))},timeout:_O.get()})}if(!((s=(i=Pi().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=Pi().gapi)===null||l===void 0)&&l.load)c();else{const f=fM("iframefcb");return Pi()[f]=()=>{gapi.load?c():t(ki(n,"network-request-failed"))},qx(`${hM()}?onload=${f}`).catch(m=>t(m))}}).catch(e=>{throw ah=null,e})}let ah=null;function EO(n){return ah=ah||bO(n),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=new vc(5e3,15e3),xO="__/auth/iframe",TO="emulator/auth/iframe",SO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RO(n){const e=n.config;$e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?iy(e,TO):`https://${n.config.authDomain}/${xO}`,i={apiKey:e.apiKey,appName:n.name,v:vl},s=AO.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${cc(i).slice(1)}`}async function NO(n){const e=await EO(n),t=Pi().gapi;return $e(t,n,"internal-error"),e.open({where:document.body,url:RO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SO,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=ki(n,"network-request-failed"),f=Pi().setTimeout(()=>{l(c)},wO.get());function m(){Pi().clearTimeout(f),s(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DO=500,IO=600,MO="_blank",OO="http://localhost";class I1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kO(n,e,t,i=DO,s=IO){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m=Object.assign(Object.assign({},CO),{width:i.toString(),height:s.toString(),top:l,left:c}),g=rr().toLowerCase();t&&(f=jx(g)?MO:t),kx(g)&&(e=e||OO,m.scrollbars="yes");const _=Object.entries(m).reduce((x,[N,C])=>`${x}${N}=${C},`,"");if(rM(g)&&f!=="_self")return PO(e||"",f),new I1(null);const E=window.open(e||"",f,_);$e(E,n,"popup-blocked");try{E.focus()}catch{}return new I1(E)}function PO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="__/auth/handler",VO="emulator/auth/handler",LO=encodeURIComponent("fac");async function M1(n,e,t,i,s,l){$e(n.config.authDomain,n,"auth-domain-config-required"),$e(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:vl,eventId:s};if(e instanceof $x){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",cN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof _c){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const m=await n._getAppCheckToken(),g=m?`#${LO}=${encodeURIComponent(m)}`:"";return`${UO(n)}?${cc(f).slice(1)}${g}`}function UO({config:n}){return n.emulator?iy(n,VO):`https://${n.authDomain}/${jO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="webStorageSupport";class BO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zx,this._completeRedirectFn=cO,this._overrideRedirectResult=oO}async _openPopup(e,t,i,s){var l;ya((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await M1(e,t,i,ag(),s);return kO(e,c,uy())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await M1(e,t,i,ag(),s);return qM(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(ya(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await NO(e),i=new hO(e);return t.register("authEvent",s=>($e(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Np,{type:Np},s=>{var l;const c=(l=s?.[0])===null||l===void 0?void 0:l[Np];c!==void 0&&t(!!c),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zx()||Px()||sy()}}const zO=BO;var O1="@firebase/auth",k1="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HO(n){ll(new Js("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;$e(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fx(n)},g=new uM(i,s,l,m);return _M(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ll(new Js("auth-internal",e=>{const t=Tl(e.getProvider("auth").getImmediate());return(i=>new FO(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(O1,k1,qO(n)),ts(O1,k1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=5*60,$O=VE("authIdTokenMaxAge")||YO;let P1=null;const WO=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>$O)return;const s=t?.token;P1!==s&&(P1=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function GO(n=qE()){const e=Eg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=vM(n,{popupRedirectResolver:zO,persistence:[ZM,BM,Zx]}),i=VE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=WO(l.toString());jM(t,c,()=>c(t.currentUser)),PM(t,f=>c(f))}}const s=PE("auth");return s&&bM(t,`http://${s}`),t}function KO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}cM({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=ki("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",KO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HO("Browser");const QO={apiKey:"AIzaSyBBm3tDxQvD8SmB5AIerpe-QL-IXk1N1O4",authDomain:"banco-vagafogo.firebaseapp.com",projectId:"banco-vagafogo",storageBucket:"banco-vagafogo.firebasestorage.app",messagingSenderId:"1037581590966",appId:"1:1037581590966:web:35195eccc16e8f3c742117"},aT=FE(QO),ur=yI(aT),sT=GO(aT),XO={},Lu={};function $u(n,e){try{const i=(XO[n]||=new Intl.DateTimeFormat("en-GB",{timeZone:n,hour:"numeric",timeZoneName:"longOffset"}).format)(e).split("GMT")[1]||"";return i in Lu?Lu[i]:j1(i,i.split(":"))}catch{if(n in Lu)return Lu[n];const t=n?.match(ZO);return t?j1(n,t.slice(1)):NaN}}const ZO=/([+-]\d\d):?(\d\d)?/;function j1(n,e){const t=+e[0],i=+(e[1]||0);return Lu[n]=t>0?t*60+i:t*60-i}class Ni extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN($u(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),oT(this),lg(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new Ni(...t,e):new Ni(Date.now(),e)}withTimeZone(e){return new Ni(+this,e)}getTimezoneOffset(){return-$u(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),lg(this),+this}[Symbol.for("constructDateFrom")](e){return new Ni(+new Date(e),this.timeZone)}}const V1=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(n=>{if(!V1.test(n))return;const e=n.replace(V1,"$1UTC");Ni.prototype[e]&&(n.startsWith("get")?Ni.prototype[n]=function(){return this.internal[e]()}:(Ni.prototype[n]=function(){return Date.prototype[e].apply(this.internal,arguments),JO(this),+this},Ni.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),lg(this),+this}))});function lg(n){n.internal.setTime(+n),n.internal.setUTCMinutes(n.internal.getUTCMinutes()-n.getTimezoneOffset())}function JO(n){Date.prototype.setFullYear.call(n,n.internal.getUTCFullYear(),n.internal.getUTCMonth(),n.internal.getUTCDate()),Date.prototype.setHours.call(n,n.internal.getUTCHours(),n.internal.getUTCMinutes(),n.internal.getUTCSeconds(),n.internal.getUTCMilliseconds()),oT(n)}function oT(n){const e=$u(n.timeZone,n),t=new Date(+n);t.setUTCHours(t.getUTCHours()-1);const i=-new Date(+n).getTimezoneOffset(),s=-new Date(+t).getTimezoneOffset(),l=i-s,c=Date.prototype.getHours.apply(n)!==n.internal.getUTCHours();l&&c&&n.internal.setUTCMinutes(n.internal.getUTCMinutes()+l);const f=i-e;f&&Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+f);const m=$u(n.timeZone,n),_=-new Date(+n).getTimezoneOffset()-m,E=m!==e,x=_-f;if(E&&x){Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+x);const N=$u(n.timeZone,n),C=m-N;C&&(n.internal.setUTCMinutes(n.internal.getUTCMinutes()+C),Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+C))}}class er extends Ni{static tz(e,...t){return t.length?new er(...t,e):new er(Date.now(),e)}toISOString(){const[e,t,i]=this.tzComponents(),s=`${e}${t}:${i}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,i,s]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${i} ${t} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,i,s]=this.tzComponents();return`${e} GMT${t}${i}${s} (${e3(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),t=e>0?"-":"+",i=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[t,i,s]}withTimeZone(e){return new er(+this,e)}[Symbol.for("constructDateFrom")](e){return new er(+new Date(e),this.timeZone)}}function e3(n,e){return new Intl.DateTimeFormat("en-GB",{timeZone:n,timeZoneName:"long"}).format(e).slice(12)}var Le;(function(n){n.Root="root",n.Chevron="chevron",n.Day="day",n.DayButton="day_button",n.CaptionLabel="caption_label",n.Dropdowns="dropdowns",n.Dropdown="dropdown",n.DropdownRoot="dropdown_root",n.Footer="footer",n.MonthGrid="month_grid",n.MonthCaption="month_caption",n.MonthsDropdown="months_dropdown",n.Month="month",n.Months="months",n.Nav="nav",n.NextMonthButton="button_next",n.PreviousMonthButton="button_previous",n.Week="week",n.Weeks="weeks",n.Weekday="weekday",n.Weekdays="weekdays",n.WeekNumber="week_number",n.WeekNumberHeader="week_number_header",n.YearsDropdown="years_dropdown"})(Le||(Le={}));var Jt;(function(n){n.disabled="disabled",n.hidden="hidden",n.outside="outside",n.focused="focused",n.today="today"})(Jt||(Jt={}));var ri;(function(n){n.range_end="range_end",n.range_middle="range_middle",n.range_start="range_start",n.selected="selected"})(ri||(ri={}));var Cr;(function(n){n.weeks_before_enter="weeks_before_enter",n.weeks_before_exit="weeks_before_exit",n.weeks_after_enter="weeks_after_enter",n.weeks_after_exit="weeks_after_exit",n.caption_after_enter="caption_after_enter",n.caption_after_exit="caption_after_exit",n.caption_before_enter="caption_before_enter",n.caption_before_exit="caption_before_exit"})(Cr||(Cr={}));const lT=6048e5,t3=864e5,L1=Symbol.for("constructDateFrom");function Cn(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&L1 in n?n[L1](e):n instanceof Date?new n.constructor(e):new Date(e)}function Ut(n,e){return Cn(e||n,n)}function uT(n,e,t){const i=Ut(n,t?.in);return isNaN(e)?Cn(n,NaN):(e&&i.setDate(i.getDate()+e),i)}function cT(n,e,t){const i=Ut(n,t?.in);if(isNaN(e))return Cn(n,NaN);if(!e)return i;const s=i.getDate(),l=Cn(n,i.getTime());l.setMonth(i.getMonth()+e+1,0);const c=l.getDate();return s>=c?l:(i.setFullYear(l.getFullYear(),l.getMonth(),s),i)}let n3={};function Ec(){return n3}function pl(n,e){const t=Ec(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=Ut(n,e?.in),l=s.getDay(),c=(l<i?7:0)+l-i;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function ac(n,e){return pl(n,{...e,weekStartsOn:1})}function dT(n,e){const t=Ut(n,e?.in),i=t.getFullYear(),s=Cn(t,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const l=ac(s),c=Cn(t,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const f=ac(c);return t.getTime()>=l.getTime()?i+1:t.getTime()>=f.getTime()?i:i-1}function U1(n){const e=Ut(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Al(n,...e){const t=Cn.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function sc(n,e){const t=Ut(n,e?.in);return t.setHours(0,0,0,0),t}function hT(n,e,t){const[i,s]=Al(t?.in,n,e),l=sc(i),c=sc(s),f=+l-U1(l),m=+c-U1(c);return Math.round((f-m)/t3)}function r3(n,e){const t=dT(n,e),i=Cn(n,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),ac(i)}function i3(n,e,t){return uT(n,e*7,t)}function a3(n,e,t){return cT(n,e*12,t)}function s3(n,e){let t,i=e?.in;return n.forEach(s=>{!i&&typeof s=="object"&&(i=Cn.bind(null,s));const l=Ut(s,i);(!t||t<l||isNaN(+l))&&(t=l)}),Cn(i,t||NaN)}function o3(n,e){let t,i=e?.in;return n.forEach(s=>{!i&&typeof s=="object"&&(i=Cn.bind(null,s));const l=Ut(s,i);(!t||t>l||isNaN(+l))&&(t=l)}),Cn(i,t||NaN)}function l3(n,e,t){const[i,s]=Al(t?.in,n,e);return+sc(i)==+sc(s)}function fT(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function u3(n){return!(!fT(n)&&typeof n!="number"||isNaN(+Ut(n)))}function c3(n,e,t){const[i,s]=Al(t?.in,n,e),l=i.getFullYear()-s.getFullYear(),c=i.getMonth()-s.getMonth();return l*12+c}function d3(n,e){const t=Ut(n,e?.in),i=t.getMonth();return t.setFullYear(t.getFullYear(),i+1,0),t.setHours(23,59,59,999),t}function h3(n,e){const[t,i]=Al(n,e.start,e.end);return{start:t,end:i}}function f3(n,e){const{start:t,end:i}=h3(e?.in,n);let s=+t>+i;const l=s?+t:+i,c=s?i:t;c.setHours(0,0,0,0),c.setDate(1);let f=1;const m=[];for(;+c<=l;)m.push(Cn(t,c)),c.setMonth(c.getMonth()+f);return s?m.reverse():m}function m3(n,e){const t=Ut(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function p3(n,e){const t=Ut(n,e?.in),i=t.getFullYear();return t.setFullYear(i+1,0,0),t.setHours(23,59,59,999),t}function mT(n,e){const t=Ut(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function pT(n,e){const t=Ec(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=Ut(n,e?.in),l=s.getDay(),c=(l<i?-7:0)+6-(l-i);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}function g3(n,e){return pT(n,{...e,weekStartsOn:1})}const y3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},v3=(n,e,t)=>{let i;const s=y3[n];return typeof s=="string"?i=s:e===1?i=s.one:i=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function ol(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const _3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},b3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},E3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},w3={date:ol({formats:_3,defaultWidth:"full"}),time:ol({formats:b3,defaultWidth:"full"}),dateTime:ol({formats:E3,defaultWidth:"full"})},x3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},T3=(n,e,t,i)=>x3[n];function Ai(n){return(e,t)=>{const i=t?.context?String(t.context):"standalone";let s;if(i==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,f=t?.width?String(t.width):c;s=n.formattingValues[f]||n.formattingValues[c]}else{const c=n.defaultWidth,f=t?.width?String(t.width):n.defaultWidth;s=n.values[f]||n.values[c]}const l=n.argumentCallback?n.argumentCallback(e):e;return s[l]}}const S3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},A3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},R3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},N3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},C3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},D3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},I3=(n,e)=>{const t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},M3={ordinalNumber:I3,era:Ai({values:S3,defaultWidth:"wide"}),quarter:Ai({values:A3,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ai({values:R3,defaultWidth:"wide"}),day:Ai({values:N3,defaultWidth:"wide"}),dayPeriod:Ai({values:C3,defaultWidth:"wide",formattingValues:D3,defaultFormattingWidth:"wide"})};function Ri(n){return(e,t={})=>{const i=t.width,s=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=e.match(s);if(!l)return null;const c=l[0],f=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(f)?k3(f,E=>E.test(c)):O3(f,E=>E.test(c));let g;g=n.valueCallback?n.valueCallback(m):m,g=t.valueCallback?t.valueCallback(g):g;const _=e.slice(c.length);return{value:g,rest:_}}}function O3(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function k3(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function gT(n){return(e,t={})=>{const i=e.match(n.matchPattern);if(!i)return null;const s=i[0],l=e.match(n.parsePattern);if(!l)return null;let c=n.valueCallback?n.valueCallback(l[0]):l[0];c=t.valueCallback?t.valueCallback(c):c;const f=e.slice(s.length);return{value:c,rest:f}}}const P3=/^(\d+)(th|st|nd|rd)?/i,j3=/\d+/i,V3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L3={any:[/^b/i,/^(a|c)/i]},U3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},B3={any:[/1/i,/2/i,/3/i,/4/i]},z3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},F3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},q3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},H3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Y3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},W3={ordinalNumber:gT({matchPattern:P3,parsePattern:j3,valueCallback:n=>parseInt(n,10)}),era:Ri({matchPatterns:V3,defaultMatchWidth:"wide",parsePatterns:L3,defaultParseWidth:"any"}),quarter:Ri({matchPatterns:U3,defaultMatchWidth:"wide",parsePatterns:B3,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ri({matchPatterns:z3,defaultMatchWidth:"wide",parsePatterns:F3,defaultParseWidth:"any"}),day:Ri({matchPatterns:q3,defaultMatchWidth:"wide",parsePatterns:H3,defaultParseWidth:"any"}),dayPeriod:Ri({matchPatterns:Y3,defaultMatchWidth:"any",parsePatterns:$3,defaultParseWidth:"any"})},dy={code:"en-US",formatDistance:v3,formatLong:w3,formatRelative:T3,localize:M3,match:W3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function G3(n,e){const t=Ut(n,e?.in);return hT(t,mT(t))+1}function yT(n,e){const t=Ut(n,e?.in),i=+ac(t)-+r3(t);return Math.round(i/lT)+1}function vT(n,e){const t=Ut(n,e?.in),i=t.getFullYear(),s=Ec(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=Cn(e?.in||n,0);c.setFullYear(i+1,0,l),c.setHours(0,0,0,0);const f=pl(c,e),m=Cn(e?.in||n,0);m.setFullYear(i,0,l),m.setHours(0,0,0,0);const g=pl(m,e);return+t>=+f?i+1:+t>=+g?i:i-1}function K3(n,e){const t=Ec(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,s=vT(n,e),l=Cn(e?.in||n,0);return l.setFullYear(s,0,i),l.setHours(0,0,0,0),pl(l,e)}function _T(n,e){const t=Ut(n,e?.in),i=+pl(t,e)-+K3(t,e);return Math.round(i/lT)+1}function kt(n,e){const t=n<0?"-":"",i=Math.abs(n).toString().padStart(e,"0");return t+i}const Ya={y(n,e){const t=n.getFullYear(),i=t>0?t:1-t;return kt(e==="yy"?i%100:i,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):kt(t+1,2)},d(n,e){return kt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return kt(n.getHours()%12||12,e.length)},H(n,e){return kt(n.getHours(),e.length)},m(n,e){return kt(n.getMinutes(),e.length)},s(n,e){return kt(n.getSeconds(),e.length)},S(n,e){const t=e.length,i=n.getMilliseconds(),s=Math.trunc(i*Math.pow(10,t-3));return kt(s,e.length)}},Wo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},B1={G:function(n,e,t){const i=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const i=n.getFullYear(),s=i>0?i:1-i;return t.ordinalNumber(s,{unit:"year"})}return Ya.y(n,e)},Y:function(n,e,t,i){const s=vT(n,i),l=s>0?s:1-s;if(e==="YY"){const c=l%100;return kt(c,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):kt(l,e.length)},R:function(n,e){const t=dT(n);return kt(t,e.length)},u:function(n,e){const t=n.getFullYear();return kt(t,e.length)},Q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return kt(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return kt(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){const i=n.getMonth();switch(e){case"M":case"MM":return Ya.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){const i=n.getMonth();switch(e){case"L":return String(i+1);case"LL":return kt(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){const s=_T(n,i);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):kt(s,e.length)},I:function(n,e,t){const i=yT(n);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):kt(i,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Ya.d(n,e)},D:function(n,e,t){const i=G3(n);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):kt(i,e.length)},E:function(n,e,t){const i=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){const s=n.getDay(),l=(s-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return kt(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){const s=n.getDay(),l=(s-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return kt(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const i=n.getDay(),s=i===0?7:i;switch(e){case"i":return String(s);case"ii":return kt(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const i=n.getHours();let s;switch(i===12?s=Wo.noon:i===0?s=Wo.midnight:s=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const i=n.getHours();let s;switch(i>=17?s=Wo.evening:i>=12?s=Wo.afternoon:i>=4?s=Wo.morning:s=Wo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let i=n.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return Ya.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Ya.H(n,e)},K:function(n,e,t){const i=n.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):kt(i,e.length)},k:function(n,e,t){let i=n.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):kt(i,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Ya.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Ya.s(n,e)},S:function(n,e){return Ya.S(n,e)},X:function(n,e,t){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return F1(i);case"XXXX":case"XX":return $s(i);case"XXXXX":case"XXX":default:return $s(i,":")}},x:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"x":return F1(i);case"xxxx":case"xx":return $s(i);case"xxxxx":case"xxx":default:return $s(i,":")}},O:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+z1(i,":");case"OOOO":default:return"GMT"+$s(i,":")}},z:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+z1(i,":");case"zzzz":default:return"GMT"+$s(i,":")}},t:function(n,e,t){const i=Math.trunc(+n/1e3);return kt(i,e.length)},T:function(n,e,t){return kt(+n,e.length)}};function z1(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),s=Math.trunc(i/60),l=i%60;return l===0?t+String(s):t+String(s)+e+kt(l,2)}function F1(n,e){return n%60===0?(n>0?"-":"+")+kt(Math.abs(n)/60,2):$s(n,e)}function $s(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),s=kt(Math.trunc(i/60),2),l=kt(i%60,2);return t+s+e+l}const q1=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},bT=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Q3=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],i=t[1],s=t[2];if(!s)return q1(n,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",q1(i,e)).replace("{{time}}",bT(s,e))},X3={p:bT,P:Q3},Z3=/^D+$/,J3=/^Y+$/,ek=["D","DD","YY","YYYY"];function tk(n){return Z3.test(n)}function nk(n){return J3.test(n)}function rk(n,e,t){const i=ik(n,e,t);if(console.warn(i),ek.includes(n))throw new RangeError(i)}function ik(n,e,t){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ak=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ok=/^'([^]*?)'?$/,lk=/''/g,uk=/[a-zA-Z]/;function ck(n,e,t){const i=Ec(),s=t?.locale??i.locale??dy,l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=Ut(n,t?.in);if(!u3(f))throw new RangeError("Invalid time value");let m=e.match(sk).map(_=>{const E=_[0];if(E==="p"||E==="P"){const x=X3[E];return x(_,s.formatLong)}return _}).join("").match(ak).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const E=_[0];if(E==="'")return{isToken:!1,value:dk(_)};if(B1[E])return{isToken:!0,value:_};if(E.match(uk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:_}});s.localize.preprocessor&&(m=s.localize.preprocessor(f,m));const g={firstWeekContainsDate:l,weekStartsOn:c,locale:s};return m.map(_=>{if(!_.isToken)return _.value;const E=_.value;(!t?.useAdditionalWeekYearTokens&&nk(E)||!t?.useAdditionalDayOfYearTokens&&tk(E))&&rk(E,e,String(n));const x=B1[E[0]];return x(f,E,s.localize,g)}).join("")}function dk(n){const e=n.match(ok);return e?e[1].replace(lk,"'"):n}function hk(n,e){const t=Ut(n,e?.in),i=t.getFullYear(),s=t.getMonth(),l=Cn(t,0);return l.setFullYear(i,s+1,0),l.setHours(0,0,0,0),l.getDate()}function fk(n,e){return Ut(n,e?.in).getMonth()}function mk(n,e){return Ut(n,e?.in).getFullYear()}function pk(n,e){return+Ut(n)>+Ut(e)}function gk(n,e){return+Ut(n)<+Ut(e)}function yk(n,e,t){const[i,s]=Al(t?.in,n,e);return i.getFullYear()===s.getFullYear()&&i.getMonth()===s.getMonth()}function vk(n,e,t){const[i,s]=Al(t?.in,n,e);return i.getFullYear()===s.getFullYear()}function _k(n,e,t){const i=Ut(n,t?.in),s=i.getFullYear(),l=i.getDate(),c=Cn(n,0);c.setFullYear(s,e,15),c.setHours(0,0,0,0);const f=hk(c);return i.setMonth(e,Math.min(l,f)),i}function bk(n,e,t){const i=Ut(n,t?.in);return isNaN(+i)?Cn(n,NaN):(i.setFullYear(e),i)}const H1=5,Ek=4;function wk(n,e){const t=e.startOfMonth(n),i=t.getDay()>0?t.getDay():7,s=e.addDays(n,-i+1),l=e.addDays(s,H1*7-1);return e.getMonth(n)===e.getMonth(l)?H1:Ek}function ET(n,e){const t=e.startOfMonth(n),i=t.getDay();return i===1?t:i===0?e.addDays(t,-1*6):e.addDays(t,-1*(i-1))}function xk(n,e){const t=ET(n,e),i=wk(n,e);return e.addDays(t,i*7-1)}class _a{constructor(e,t){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?er.tz(this.options.timeZone):new this.Date,this.newDate=(i,s,l)=>this.overrides?.newDate?this.overrides.newDate(i,s,l):this.options.timeZone?new er(i,s,l,this.options.timeZone):new Date(i,s,l),this.addDays=(i,s)=>this.overrides?.addDays?this.overrides.addDays(i,s):uT(i,s),this.addMonths=(i,s)=>this.overrides?.addMonths?this.overrides.addMonths(i,s):cT(i,s),this.addWeeks=(i,s)=>this.overrides?.addWeeks?this.overrides.addWeeks(i,s):i3(i,s),this.addYears=(i,s)=>this.overrides?.addYears?this.overrides.addYears(i,s):a3(i,s),this.differenceInCalendarDays=(i,s)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,s):hT(i,s),this.differenceInCalendarMonths=(i,s)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,s):c3(i,s),this.eachMonthOfInterval=i=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):f3(i),this.endOfBroadcastWeek=i=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):xk(i,this),this.endOfISOWeek=i=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(i):g3(i),this.endOfMonth=i=>this.overrides?.endOfMonth?this.overrides.endOfMonth(i):d3(i),this.endOfWeek=(i,s)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(i,s):pT(i,this.options),this.endOfYear=i=>this.overrides?.endOfYear?this.overrides.endOfYear(i):p3(i),this.format=(i,s,l)=>{const c=this.overrides?.format?this.overrides.format(i,s,this.options):ck(i,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=i=>this.overrides?.getISOWeek?this.overrides.getISOWeek(i):yT(i),this.getMonth=(i,s)=>this.overrides?.getMonth?this.overrides.getMonth(i,this.options):fk(i,this.options),this.getYear=(i,s)=>this.overrides?.getYear?this.overrides.getYear(i,this.options):mk(i,this.options),this.getWeek=(i,s)=>this.overrides?.getWeek?this.overrides.getWeek(i,this.options):_T(i,this.options),this.isAfter=(i,s)=>this.overrides?.isAfter?this.overrides.isAfter(i,s):pk(i,s),this.isBefore=(i,s)=>this.overrides?.isBefore?this.overrides.isBefore(i,s):gk(i,s),this.isDate=i=>this.overrides?.isDate?this.overrides.isDate(i):fT(i),this.isSameDay=(i,s)=>this.overrides?.isSameDay?this.overrides.isSameDay(i,s):l3(i,s),this.isSameMonth=(i,s)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(i,s):yk(i,s),this.isSameYear=(i,s)=>this.overrides?.isSameYear?this.overrides.isSameYear(i,s):vk(i,s),this.max=i=>this.overrides?.max?this.overrides.max(i):s3(i),this.min=i=>this.overrides?.min?this.overrides.min(i):o3(i),this.setMonth=(i,s)=>this.overrides?.setMonth?this.overrides.setMonth(i,s):_k(i,s),this.setYear=(i,s)=>this.overrides?.setYear?this.overrides.setYear(i,s):bk(i,s),this.startOfBroadcastWeek=(i,s)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):ET(i,this),this.startOfDay=i=>this.overrides?.startOfDay?this.overrides.startOfDay(i):sc(i),this.startOfISOWeek=i=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(i):ac(i),this.startOfMonth=i=>this.overrides?.startOfMonth?this.overrides.startOfMonth(i):m3(i),this.startOfWeek=(i,s)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(i,this.options):pl(i,this.options),this.startOfYear=i=>this.overrides?.startOfYear?this.overrides.startOfYear(i):mT(i),this.options={locale:dy,...e},this.overrides=t}getDigitMap(){const{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),i={};for(let s=0;s<10;s++)i[s.toString()]=t.format(s);return i}replaceDigits(e){const t=this.getDigitMap();return e.replace(/\d/g,i=>t[i]||i)}formatNumber(e){return this.replaceDigits(e.toString())}}const Li=new _a;class wT{constructor(e,t,i=Li){this.date=e,this.displayMonth=t,this.outside=!!(t&&!i.isSameMonth(e,t)),this.dateLib=i}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class Tk{constructor(e,t){this.date=e,this.weeks=t}}class Sk{constructor(e,t){this.days=t,this.weekNumber=e}}function da(n,e,t=!1,i=Li){let{from:s,to:l}=n;const{differenceInCalendarDays:c,isSameDay:f}=i;return s&&l?(c(l,s)<0&&([s,l]=[l,s]),c(e,s)>=(t?1:0)&&c(l,e)>=(t?1:0)):!t&&l?f(l,e):!t&&s?f(s,e):!1}function xT(n){return!!(n&&typeof n=="object"&&"before"in n&&"after"in n)}function hy(n){return!!(n&&typeof n=="object"&&"from"in n)}function TT(n){return!!(n&&typeof n=="object"&&"after"in n)}function ST(n){return!!(n&&typeof n=="object"&&"before"in n)}function AT(n){return!!(n&&typeof n=="object"&&"dayOfWeek"in n)}function RT(n,e){return Array.isArray(n)&&n.every(e.isDate)}function ha(n,e,t=Li){const i=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:l,isAfter:c}=t;return i.some(f=>{if(typeof f=="boolean")return f;if(t.isDate(f))return s(n,f);if(RT(f,t))return f.includes(n);if(hy(f))return da(f,n,!1,t);if(AT(f))return Array.isArray(f.dayOfWeek)?f.dayOfWeek.includes(n.getDay()):f.dayOfWeek===n.getDay();if(xT(f)){const m=l(f.before,n),g=l(f.after,n),_=m>0,E=g<0;return c(f.before,f.after)?E&&_:_||E}return TT(f)?l(n,f.after)>0:ST(f)?l(f.before,n)>0:typeof f=="function"?f(n):!1})}function Ak(n,e,t,i,s){const{disabled:l,hidden:c,modifiers:f,showOutsideDays:m,broadcastCalendar:g,today:_}=e,{isSameDay:E,isSameMonth:x,startOfMonth:N,isBefore:C,endOfMonth:Y,isAfter:B}=s,q=t&&N(t),le=i&&Y(i),J={[Jt.focused]:[],[Jt.outside]:[],[Jt.disabled]:[],[Jt.hidden]:[],[Jt.today]:[]},pe={};for(const ae of n){const{date:L,displayMonth:I}=ae,S=!!(I&&!x(L,I)),R=!!(q&&C(L,q)),O=!!(le&&B(L,le)),k=!!(l&&ha(L,l,s)),z=!!(c&&ha(L,c,s))||R||O||!g&&!m&&S||g&&m===!1&&S,M=E(L,_??s.today());S&&J.outside.push(ae),k&&J.disabled.push(ae),z&&J.hidden.push(ae),M&&J.today.push(ae),f&&Object.keys(f).forEach(_e=>{const ge=f?.[_e];ge&&ha(L,ge,s)&&(pe[_e]?pe[_e].push(ae):pe[_e]=[ae])})}return ae=>{const L={[Jt.focused]:!1,[Jt.disabled]:!1,[Jt.hidden]:!1,[Jt.outside]:!1,[Jt.today]:!1},I={};for(const S in J){const R=J[S];L[S]=R.some(O=>O===ae)}for(const S in pe)I[S]=pe[S].some(R=>R===ae);return{...L,...I}}}function Rk(n,e,t={}){return Object.entries(n).filter(([,s])=>s===!0).reduce((s,[l])=>(t[l]?s.push(t[l]):e[Jt[l]]?s.push(e[Jt[l]]):e[ri[l]]&&s.push(e[ri[l]]),s),[e[Le.Day]])}function Nk(n){return Ne.createElement("button",{...n})}function Ck(n){return Ne.createElement("span",{...n})}function Dk(n){const{size:e=24,orientation:t="left",className:i}=n;return Ne.createElement("svg",{className:i,width:e,height:e,viewBox:"0 0 24 24"},t==="up"&&Ne.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),t==="down"&&Ne.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),t==="left"&&Ne.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),t==="right"&&Ne.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Ik(n){const{day:e,modifiers:t,...i}=n;return Ne.createElement("td",{...i})}function Mk(n){const{day:e,modifiers:t,...i}=n,s=Ne.useRef(null);return Ne.useEffect(()=>{t.focused&&s.current?.focus()},[t.focused]),Ne.createElement("button",{ref:s,...i})}function Ok(n){const{options:e,className:t,components:i,classNames:s,...l}=n,c=[s[Le.Dropdown],t].join(" "),f=e?.find(({value:m})=>m===l.value);return Ne.createElement("span",{"data-disabled":l.disabled,className:s[Le.DropdownRoot]},Ne.createElement(i.Select,{className:c,...l},e?.map(({value:m,label:g,disabled:_})=>Ne.createElement(i.Option,{key:m,value:m,disabled:_},g))),Ne.createElement("span",{className:s[Le.CaptionLabel],"aria-hidden":!0},f?.label,Ne.createElement(i.Chevron,{orientation:"down",size:18,className:s[Le.Chevron]})))}function kk(n){return Ne.createElement("div",{...n})}function Pk(n){return Ne.createElement("div",{...n})}function jk(n){const{calendarMonth:e,displayIndex:t,...i}=n;return Ne.createElement("div",{...i},n.children)}function Vk(n){const{calendarMonth:e,displayIndex:t,...i}=n;return Ne.createElement("div",{...i})}function Lk(n){return Ne.createElement("table",{...n})}function Uk(n){return Ne.createElement("div",{...n})}const NT=U.createContext(void 0);function wc(){const n=U.useContext(NT);if(n===void 0)throw new Error("useDayPicker() must be used within a custom component.");return n}function Bk(n){const{components:e}=wc();return Ne.createElement(e.Dropdown,{...n})}function zk(n){const{onPreviousClick:e,onNextClick:t,previousMonth:i,nextMonth:s,...l}=n,{components:c,classNames:f,labels:{labelPrevious:m,labelNext:g}}=wc(),_=U.useCallback(x=>{s&&t?.(x)},[s,t]),E=U.useCallback(x=>{i&&e?.(x)},[i,e]);return Ne.createElement("nav",{...l},Ne.createElement(c.PreviousMonthButton,{type:"button",className:f[Le.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":m(i),onClick:E},Ne.createElement(c.Chevron,{disabled:i?void 0:!0,className:f[Le.Chevron],orientation:"left"})),Ne.createElement(c.NextMonthButton,{type:"button",className:f[Le.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":g(s),onClick:_},Ne.createElement(c.Chevron,{disabled:s?void 0:!0,orientation:"right",className:f[Le.Chevron]})))}function Fk(n){const{components:e}=wc();return Ne.createElement(e.Button,{...n})}function qk(n){return Ne.createElement("option",{...n})}function Hk(n){const{components:e}=wc();return Ne.createElement(e.Button,{...n})}function Yk(n){const{rootRef:e,...t}=n;return Ne.createElement("div",{...t,ref:e})}function $k(n){return Ne.createElement("select",{...n})}function Wk(n){const{week:e,...t}=n;return Ne.createElement("tr",{...t})}function Gk(n){return Ne.createElement("th",{...n})}function Kk(n){return Ne.createElement("thead",{"aria-hidden":!0},Ne.createElement("tr",{...n}))}function Qk(n){const{week:e,...t}=n;return Ne.createElement("th",{...t})}function Xk(n){return Ne.createElement("th",{...n})}function Zk(n){return Ne.createElement("tbody",{...n})}function Jk(n){const{components:e}=wc();return Ne.createElement(e.Dropdown,{...n})}const eP=Object.freeze(Object.defineProperty({__proto__:null,Button:Nk,CaptionLabel:Ck,Chevron:Dk,Day:Ik,DayButton:Mk,Dropdown:Ok,DropdownNav:kk,Footer:Pk,Month:jk,MonthCaption:Vk,MonthGrid:Lk,Months:Uk,MonthsDropdown:Bk,Nav:zk,NextMonthButton:Fk,Option:qk,PreviousMonthButton:Hk,Root:Yk,Select:$k,Week:Wk,WeekNumber:Qk,WeekNumberHeader:Xk,Weekday:Gk,Weekdays:Kk,Weeks:Zk,YearsDropdown:Jk},Symbol.toStringTag,{value:"Module"}));function tP(n){return{...eP,...n}}function nP(n){const e={"data-mode":n.mode??void 0,"data-required":"required"in n?n.required:void 0,"data-multiple-months":n.numberOfMonths&&n.numberOfMonths>1||void 0,"data-week-numbers":n.showWeekNumber||void 0,"data-broadcast-calendar":n.broadcastCalendar||void 0,"data-nav-layout":n.navLayout||void 0};return Object.entries(n).forEach(([t,i])=>{t.startsWith("data-")&&(e[t]=i)}),e}function rP(){const n={};for(const e in Le)n[Le[e]]=`rdp-${Le[e]}`;for(const e in Jt)n[Jt[e]]=`rdp-${Jt[e]}`;for(const e in ri)n[ri[e]]=`rdp-${ri[e]}`;for(const e in Cr)n[Cr[e]]=`rdp-${Cr[e]}`;return n}function CT(n,e,t){return(t??new _a(e)).format(n,"LLLL y")}const iP=CT;function aP(n,e,t){return(t??new _a(e)).format(n,"d")}function sP(n,e=Li){return e.format(n,"LLLL")}function oP(n,e=Li){return n<10?e.formatNumber(`0${n.toLocaleString()}`):e.formatNumber(`${n.toLocaleString()}`)}function lP(){return""}function uP(n,e,t){return(t??new _a(e)).format(n,"cccccc")}function DT(n,e=Li){return e.format(n,"yyyy")}const cP=DT,dP=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:CT,formatDay:aP,formatMonthCaption:iP,formatMonthDropdown:sP,formatWeekNumber:oP,formatWeekNumberHeader:lP,formatWeekdayName:uP,formatYearCaption:cP,formatYearDropdown:DT},Symbol.toStringTag,{value:"Module"}));function hP(n){return n?.formatMonthCaption&&!n.formatCaption&&(n.formatCaption=n.formatMonthCaption),n?.formatYearCaption&&!n.formatYearDropdown&&(n.formatYearDropdown=n.formatYearCaption),{...dP,...n}}function fP(n,e,t,i,s){const{startOfMonth:l,startOfYear:c,endOfYear:f,eachMonthOfInterval:m,getMonth:g}=s;return m({start:c(n),end:f(n)}).map(x=>{const N=i.formatMonthDropdown(x,s),C=g(x),Y=e&&x<l(e)||t&&x>l(t)||!1;return{value:C,label:N,disabled:Y}})}function mP(n,e={},t={}){let i={...e?.[Le.Day]};return Object.entries(n).filter(([,s])=>s===!0).forEach(([s])=>{i={...i,...t?.[s]}}),i}function pP(n,e,t){const i=n.today(),s=e?n.startOfISOWeek(i):n.startOfWeek(i),l=[];for(let c=0;c<7;c++){const f=n.addDays(s,c);l.push(f)}return l}function gP(n,e,t,i){if(!n||!e)return;const{startOfYear:s,endOfYear:l,addYears:c,getYear:f,isBefore:m,isSameYear:g}=i,_=s(n),E=l(e),x=[];let N=_;for(;m(N,E)||g(N,E);)x.push(N),N=c(N,1);return x.map(C=>{const Y=t.formatYearDropdown(C,i);return{value:f(C),label:Y,disabled:!1}})}function IT(n,e,t){return(t??new _a(e)).format(n,"LLLL y")}const yP=IT;function vP(n,e,t,i){let s=(i??new _a(t)).format(n,"PPPP");return e?.today&&(s=`Today, ${s}`),s}function MT(n,e,t,i){let s=(i??new _a(t)).format(n,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const _P=MT;function bP(){return""}function EP(n){return"Choose the Month"}function wP(n){return"Go to the Next Month"}function xP(n){return"Go to the Previous Month"}function TP(n,e,t){return(t??new _a(e)).format(n,"cccc")}function SP(n,e){return`Week ${n}`}function AP(n){return"Week Number"}function RP(n){return"Choose the Year"}const NP=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:yP,labelDay:_P,labelDayButton:MT,labelGrid:IT,labelGridcell:vP,labelMonthDropdown:EP,labelNav:bP,labelNext:wP,labelPrevious:xP,labelWeekNumber:SP,labelWeekNumberHeader:AP,labelWeekday:TP,labelYearDropdown:RP},Symbol.toStringTag,{value:"Module"})),xc=n=>n instanceof HTMLElement?n:null,Cp=n=>[...n.querySelectorAll("[data-animated-month]")??[]],CP=n=>xc(n.querySelector("[data-animated-month]")),Dp=n=>xc(n.querySelector("[data-animated-caption]")),Ip=n=>xc(n.querySelector("[data-animated-weeks]")),DP=n=>xc(n.querySelector("[data-animated-nav]")),IP=n=>xc(n.querySelector("[data-animated-weekdays]"));function MP(n,e,{classNames:t,months:i,focused:s,dateLib:l}){const c=U.useRef(null),f=U.useRef(i),m=U.useRef(!1);U.useLayoutEffect(()=>{const g=f.current;if(f.current=i,!e||!n.current||!(n.current instanceof HTMLElement)||i.length===0||g.length===0||i.length!==g.length)return;const _=l.isSameMonth(i[0].date,g[0].date),E=l.isAfter(i[0].date,g[0].date),x=E?t[Cr.caption_after_enter]:t[Cr.caption_before_enter],N=E?t[Cr.weeks_after_enter]:t[Cr.weeks_before_enter],C=c.current,Y=n.current.cloneNode(!0);if(Y instanceof HTMLElement?(Cp(Y).forEach(J=>{if(!(J instanceof HTMLElement))return;const pe=CP(J);pe&&J.contains(pe)&&J.removeChild(pe);const ae=Dp(J);ae&&ae.classList.remove(x);const L=Ip(J);L&&L.classList.remove(N)}),c.current=Y):c.current=null,m.current||_||s)return;const B=C instanceof HTMLElement?Cp(C):[],q=Cp(n.current);if(q&&q.every(le=>le instanceof HTMLElement)&&B&&B.every(le=>le instanceof HTMLElement)){m.current=!0,n.current.style.isolation="isolate";const le=DP(n.current);le&&(le.style.zIndex="1"),q.forEach((J,pe)=>{const ae=B[pe];if(!ae)return;J.style.position="relative",J.style.overflow="hidden";const L=Dp(J);L&&L.classList.add(x);const I=Ip(J);I&&I.classList.add(N);const S=()=>{m.current=!1,n.current&&(n.current.style.isolation=""),le&&(le.style.zIndex=""),L&&L.classList.remove(x),I&&I.classList.remove(N),J.style.position="",J.style.overflow="",J.contains(ae)&&J.removeChild(ae)};ae.style.pointerEvents="none",ae.style.position="absolute",ae.style.overflow="hidden",ae.setAttribute("aria-hidden","true");const R=IP(ae);R&&(R.style.opacity="0");const O=Dp(ae);O&&(O.classList.add(E?t[Cr.caption_before_exit]:t[Cr.caption_after_exit]),O.addEventListener("animationend",S));const k=Ip(ae);k&&k.classList.add(E?t[Cr.weeks_before_exit]:t[Cr.weeks_after_exit]),J.insertBefore(ae,J.firstChild)})}})}function OP(n,e,t,i){const s=n[0],l=n[n.length-1],{ISOWeek:c,fixedWeeks:f,broadcastCalendar:m}=t??{},{addDays:g,differenceInCalendarDays:_,differenceInCalendarMonths:E,endOfBroadcastWeek:x,endOfISOWeek:N,endOfMonth:C,endOfWeek:Y,isAfter:B,startOfBroadcastWeek:q,startOfISOWeek:le,startOfWeek:J}=i,pe=m?q(s,i):c?le(s):J(s),ae=m?x(l):c?N(C(l)):Y(C(l)),L=_(ae,pe),I=E(l,s)+1,S=[];for(let k=0;k<=L;k++){const z=g(pe,k);if(e&&B(z,e))break;S.push(z)}const O=(m?35:42)*I;if(f&&S.length<O){const k=O-S.length;for(let z=0;z<k;z++){const M=g(S[S.length-1],1);S.push(M)}}return S}function kP(n){const e=[];return n.reduce((t,i)=>{const s=i.weeks.reduce((l,c)=>[...l,...c.days],e);return[...t,...s]},e)}function PP(n,e,t,i){const{numberOfMonths:s=1}=t,l=[];for(let c=0;c<s;c++){const f=i.addMonths(n,c);if(e&&f>e)break;l.push(f)}return l}function Y1(n,e,t,i){const{month:s,defaultMonth:l,today:c=i.today(),numberOfMonths:f=1}=n;let m=s||l||c;const{differenceInCalendarMonths:g,addMonths:_,startOfMonth:E}=i;if(t&&g(t,m)<f-1){const x=-1*(f-1);m=_(t,x)}return e&&g(m,e)<0&&(m=e),E(m)}function jP(n,e,t,i){const{addDays:s,endOfBroadcastWeek:l,endOfISOWeek:c,endOfMonth:f,endOfWeek:m,getISOWeek:g,getWeek:_,startOfBroadcastWeek:E,startOfISOWeek:x,startOfWeek:N}=i,C=n.reduce((Y,B)=>{const q=t.broadcastCalendar?E(B,i):t.ISOWeek?x(B):N(B),le=t.broadcastCalendar?l(B):t.ISOWeek?c(f(B)):m(f(B)),J=e.filter(I=>I>=q&&I<=le),pe=t.broadcastCalendar?35:42;if(t.fixedWeeks&&J.length<pe){const I=e.filter(S=>{const R=pe-J.length;return S>le&&S<=s(le,R)});J.push(...I)}const ae=J.reduce((I,S)=>{const R=t.ISOWeek?g(S):_(S),O=I.find(z=>z.weekNumber===R),k=new wT(S,B,i);return O?O.days.push(k):I.push(new Sk(R,[k])),I},[]),L=new Tk(B,ae);return Y.push(L),Y},[]);return t.reverseMonths?C.reverse():C}function VP(n,e){let{startMonth:t,endMonth:i}=n;const{startOfYear:s,startOfDay:l,startOfMonth:c,endOfMonth:f,addYears:m,endOfYear:g,newDate:_,today:E}=e,{fromYear:x,toYear:N,fromMonth:C,toMonth:Y}=n;!t&&C&&(t=C),!t&&x&&(t=e.newDate(x,0,1)),!i&&Y&&(i=Y),!i&&N&&(i=_(N,11,31));const B=n.captionLayout==="dropdown"||n.captionLayout==="dropdown-years";return t?t=c(t):x?t=_(x,0,1):!t&&B&&(t=s(m(n.today??E(),-100))),i?i=f(i):N?i=_(N,11,31):!i&&B&&(i=g(n.today??E())),[t&&l(t),i&&l(i)]}function LP(n,e,t,i){if(t.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:l=1}=t,{startOfMonth:c,addMonths:f,differenceInCalendarMonths:m}=i,g=s?l:1,_=c(n);if(!e)return f(_,g);if(!(m(e,n)<l))return f(_,g)}function UP(n,e,t,i){if(t.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:l}=t,{startOfMonth:c,addMonths:f,differenceInCalendarMonths:m}=i,g=s?l??1:1,_=c(n);if(!e)return f(_,-g);if(!(m(_,e)<=0))return f(_,-g)}function BP(n){const e=[];return n.reduce((t,i)=>[...t,...i.weeks],e)}function cf(n,e){const[t,i]=U.useState(n);return[e===void 0?t:e,i]}function zP(n,e){const[t,i]=VP(n,e),{startOfMonth:s,endOfMonth:l}=e,c=Y1(n,t,i,e),[f,m]=cf(c,n.month?c:void 0);U.useEffect(()=>{const L=Y1(n,t,i,e);m(L)},[n.timeZone]);const g=PP(f,i,n,e),_=OP(g,n.endMonth?l(n.endMonth):void 0,n,e),E=jP(g,_,n,e),x=BP(E),N=kP(E),C=UP(f,t,n,e),Y=LP(f,i,n,e),{disableNavigation:B,onMonthChange:q}=n,le=L=>x.some(I=>I.days.some(S=>S.isEqualTo(L))),J=L=>{if(B)return;let I=s(L);t&&I<s(t)&&(I=s(t)),i&&I>s(i)&&(I=s(i)),m(I),q?.(I)};return{months:E,weeks:x,days:N,navStart:t,navEnd:i,previousMonth:C,nextMonth:Y,goToMonth:J,goToDay:L=>{le(L)||J(L.date)}}}var Ti;(function(n){n[n.Today=0]="Today",n[n.Selected=1]="Selected",n[n.LastFocused=2]="LastFocused",n[n.FocusedModifier=3]="FocusedModifier"})(Ti||(Ti={}));function $1(n){return!n[Jt.disabled]&&!n[Jt.hidden]&&!n[Jt.outside]}function FP(n,e,t,i){let s,l=-1;for(const c of n){const f=e(c);$1(f)&&(f[Jt.focused]&&l<Ti.FocusedModifier?(s=c,l=Ti.FocusedModifier):i?.isEqualTo(c)&&l<Ti.LastFocused?(s=c,l=Ti.LastFocused):t(c.date)&&l<Ti.Selected?(s=c,l=Ti.Selected):f[Jt.today]&&l<Ti.Today&&(s=c,l=Ti.Today))}return s||(s=n.find(c=>$1(e(c)))),s}function qP(n,e,t,i,s,l,c){const{ISOWeek:f,broadcastCalendar:m}=l,{addDays:g,addMonths:_,addWeeks:E,addYears:x,endOfBroadcastWeek:N,endOfISOWeek:C,endOfWeek:Y,max:B,min:q,startOfBroadcastWeek:le,startOfISOWeek:J,startOfWeek:pe}=c;let L={day:g,week:E,month:_,year:x,startOfWeek:I=>m?le(I,c):f?J(I):pe(I),endOfWeek:I=>m?N(I):f?C(I):Y(I)}[n](t,e==="after"?1:-1);return e==="before"&&i?L=B([i,L]):e==="after"&&s&&(L=q([s,L])),L}function OT(n,e,t,i,s,l,c,f=0){if(f>365)return;const m=qP(n,e,t.date,i,s,l,c),g=!!(l.disabled&&ha(m,l.disabled,c)),_=!!(l.hidden&&ha(m,l.hidden,c)),E=m,x=new wT(m,E,c);return!g&&!_?x:OT(n,e,x,i,s,l,c,f+1)}function HP(n,e,t,i,s){const{autoFocus:l}=n,[c,f]=U.useState(),m=FP(e.days,t,i||(()=>!1),c),[g,_]=U.useState(l?m:void 0);return{isFocusTarget:Y=>!!m?.isEqualTo(Y),setFocused:_,focused:g,blur:()=>{f(g),_(void 0)},moveFocus:(Y,B)=>{if(!g)return;const q=OT(Y,B,g,e.navStart,e.navEnd,n,s);q&&(e.goToDay(q),_(q))}}}function YP(n,e){const{selected:t,required:i,onSelect:s}=n,[l,c]=cf(t,s?t:void 0),f=s?t:l,{isSameDay:m}=e,g=N=>f?.some(C=>m(C,N))??!1,{min:_,max:E}=n;return{selected:f,select:(N,C,Y)=>{let B=[...f??[]];if(g(N)){if(f?.length===_||i&&f?.length===1)return;B=f?.filter(q=>!m(q,N))}else f?.length===E?B=[N]:B=[...B,N];return s||c(B),s?.(B,N,C,Y),B},isSelected:g}}function $P(n,e,t=0,i=0,s=!1,l=Li){const{from:c,to:f}=e||{},{isSameDay:m,isAfter:g,isBefore:_}=l;let E;if(!c&&!f)E={from:n,to:t>0?void 0:n};else if(c&&!f)m(c,n)?s?E={from:c,to:void 0}:E=void 0:_(n,c)?E={from:n,to:c}:E={from:c,to:n};else if(c&&f)if(m(c,n)&&m(f,n))s?E={from:c,to:f}:E=void 0;else if(m(c,n))E={from:c,to:t>0?void 0:n};else if(m(f,n))E={from:n,to:t>0?void 0:n};else if(_(n,c))E={from:n,to:f};else if(g(n,c))E={from:c,to:n};else if(g(n,f))E={from:c,to:n};else throw new Error("Invalid range");if(E?.from&&E?.to){const x=l.differenceInCalendarDays(E.to,E.from);i>0&&x>i?E={from:n,to:void 0}:t>1&&x<t&&(E={from:n,to:void 0})}return E}function WP(n,e,t=Li){const i=Array.isArray(e)?e:[e];let s=n.from;const l=t.differenceInCalendarDays(n.to,n.from),c=Math.min(l,6);for(let f=0;f<=c;f++){if(i.includes(s.getDay()))return!0;s=t.addDays(s,1)}return!1}function W1(n,e,t=Li){return da(n,e.from,!1,t)||da(n,e.to,!1,t)||da(e,n.from,!1,t)||da(e,n.to,!1,t)}function GP(n,e,t=Li){const i=Array.isArray(e)?e:[e];if(i.filter(f=>typeof f!="function").some(f=>typeof f=="boolean"?f:t.isDate(f)?da(n,f,!1,t):RT(f,t)?f.some(m=>da(n,m,!1,t)):hy(f)?f.from&&f.to?W1(n,{from:f.from,to:f.to},t):!1:AT(f)?WP(n,f.dayOfWeek,t):xT(f)?t.isAfter(f.before,f.after)?W1(n,{from:t.addDays(f.after,1),to:t.addDays(f.before,-1)},t):ha(n.from,f,t)||ha(n.to,f,t):TT(f)||ST(f)?ha(n.from,f,t)||ha(n.to,f,t):!1))return!0;const c=i.filter(f=>typeof f=="function");if(c.length){let f=n.from;const m=t.differenceInCalendarDays(n.to,n.from);for(let g=0;g<=m;g++){if(c.some(_=>_(f)))return!0;f=t.addDays(f,1)}}return!1}function KP(n,e){const{disabled:t,excludeDisabled:i,selected:s,required:l,onSelect:c}=n,[f,m]=cf(s,c?s:void 0),g=c?s:f;return{selected:g,select:(x,N,C)=>{const{min:Y,max:B}=n,q=x?$P(x,g,Y,B,l,e):void 0;return i&&t&&q?.from&&q.to&&GP({from:q.from,to:q.to},t,e)&&(q.from=x,q.to=void 0),c||m(q),c?.(q,x,N,C),q},isSelected:x=>g&&da(g,x,!1,e)}}function QP(n,e){const{selected:t,required:i,onSelect:s}=n,[l,c]=cf(t,s?t:void 0),f=s?t:l,{isSameDay:m}=e;return{selected:f,select:(E,x,N)=>{let C=E;return!i&&f&&f&&m(E,f)&&(C=void 0),s||c(C),s?.(C,E,x,N),C},isSelected:E=>f?m(f,E):!1}}function XP(n,e){const t=QP(n,e),i=YP(n,e),s=KP(n,e);switch(n.mode){case"single":return t;case"multiple":return i;case"range":return s;default:return}}function ZP(n){let e=n;e.timeZone&&(e={...n},e.today&&(e.today=new er(e.today,e.timeZone)),e.month&&(e.month=new er(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new er(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new er(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new er(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new er(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(Ge=>new er(Ge,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new er(e.selected.from,e.timeZone):void 0,to:e.selected.to?new er(e.selected.to,e.timeZone):void 0}));const{components:t,formatters:i,labels:s,dateLib:l,locale:c,classNames:f}=U.useMemo(()=>{const Ge={...dy,...e.locale};return{dateLib:new _a({locale:Ge,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:tP(e.components),formatters:hP(e.formatters),labels:{...NP,...e.labels},locale:Ge,classNames:{...rP(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:m,mode:g,navLayout:_,numberOfMonths:E=1,onDayBlur:x,onDayClick:N,onDayFocus:C,onDayKeyDown:Y,onDayMouseEnter:B,onDayMouseLeave:q,onNextClick:le,onPrevClick:J,showWeekNumber:pe,styles:ae}=e,{formatCaption:L,formatDay:I,formatMonthDropdown:S,formatWeekNumber:R,formatWeekNumberHeader:O,formatWeekdayName:k,formatYearDropdown:z}=i,M=zP(e,l),{days:_e,months:ge,navStart:P,navEnd:X,previousMonth:te,nextMonth:ve,goToMonth:D}=M,ne=Ak(_e,e,P,X,l),{isSelected:ue,select:oe,selected:xe}=XP(e,l)??{},{blur:Me,focused:Se,isFocusTarget:mt,moveFocus:it,setFocused:yt}=HP(e,M,ne,ue??(()=>!1),l),{labelDayButton:Xe,labelGridcell:xt,labelGrid:Wt,labelMonthDropdown:dn,labelNav:Qt,labelPrevious:Dn,labelNext:Or,labelWeekday:Re,labelWeekNumber:Gt,labelWeekNumberHeader:_n,labelYearDropdown:bn}=s,Dt=U.useMemo(()=>pP(l,e.ISOWeek),[l,e.ISOWeek]),Xt=g!==void 0||N!==void 0,Yt=U.useCallback(()=>{te&&(D(te),J?.(te))},[te,D,J]),En=U.useCallback(()=>{ve&&(D(ve),le?.(ve))},[D,ve,le]),an=U.useCallback((Ge,H)=>Ee=>{Ee.preventDefault(),Ee.stopPropagation(),yt(Ge),oe?.(Ge.date,H,Ee),N?.(Ge.date,H,Ee)},[oe,N,yt]),et=U.useCallback((Ge,H)=>Ee=>{yt(Ge),C?.(Ge.date,H,Ee)},[C,yt]),Fe=U.useCallback((Ge,H)=>Ee=>{Me(),x?.(Ge.date,H,Ee)},[Me,x]),tn=U.useCallback((Ge,H)=>Ee=>{const je={ArrowLeft:[Ee.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[Ee.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[Ee.shiftKey?"year":"week","after"],ArrowUp:[Ee.shiftKey?"year":"week","before"],PageUp:[Ee.shiftKey?"year":"month","before"],PageDown:[Ee.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(je[Ee.key]){Ee.preventDefault(),Ee.stopPropagation();const[Be,nt]=je[Ee.key];it(Be,nt)}Y?.(Ge.date,H,Ee)},[it,Y,e.dir]),Ft=U.useCallback((Ge,H)=>Ee=>{B?.(Ge.date,H,Ee)},[B]),ui=U.useCallback((Ge,H)=>Ee=>{q?.(Ge.date,H,Ee)},[q]),In=U.useCallback(Ge=>H=>{const Ee=Number(H.target.value),je=l.setMonth(l.startOfMonth(Ge),Ee);D(je)},[l,D]),cr=U.useCallback(Ge=>H=>{const Ee=Number(H.target.value),je=l.setYear(l.startOfMonth(Ge),Ee);D(je)},[l,D]),{className:dr,style:hr}=U.useMemo(()=>({className:[f[Le.Root],e.className].filter(Boolean).join(" "),style:{...ae?.[Le.Root],...e.style}}),[f,e.className,e.style,ae]),Ln=nP(e),ir=U.useRef(null);MP(ir,!!e.animate,{classNames:f,months:ge,focused:Se,dateLib:l});const Un={dayPickerProps:e,selected:xe,select:oe,isSelected:ue,months:ge,nextMonth:ve,previousMonth:te,goToMonth:D,getModifiers:ne,components:t,classNames:f,styles:ae,labels:s,formatters:i};return Ne.createElement(NT.Provider,{value:Un},Ne.createElement(t.Root,{rootRef:e.animate?ir:void 0,className:dr,style:hr,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...Ln},Ne.createElement(t.Months,{className:f[Le.Months],style:ae?.[Le.Months]},!e.hideNavigation&&!_&&Ne.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:f[Le.Nav],style:ae?.[Le.Nav],"aria-label":Qt(),onPreviousClick:Yt,onNextClick:En,previousMonth:te,nextMonth:ve}),ge.map((Ge,H)=>{const Ee=fP(Ge.date,P,X,i,l),je=gP(P,X,i,l);return Ne.createElement(t.Month,{"data-animated-month":e.animate?"true":void 0,className:f[Le.Month],style:ae?.[Le.Month],key:H,displayIndex:H,calendarMonth:Ge},_==="around"&&!e.hideNavigation&&H===0&&Ne.createElement(t.PreviousMonthButton,{type:"button",className:f[Le.PreviousMonthButton],tabIndex:te?void 0:-1,"aria-disabled":te?void 0:!0,"aria-label":Dn(te),onClick:Yt,"data-animated-button":e.animate?"true":void 0},Ne.createElement(t.Chevron,{disabled:te?void 0:!0,className:f[Le.Chevron],orientation:e.dir==="rtl"?"right":"left"})),Ne.createElement(t.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:f[Le.MonthCaption],style:ae?.[Le.MonthCaption],calendarMonth:Ge,displayIndex:H},m?.startsWith("dropdown")?Ne.createElement(t.DropdownNav,{className:f[Le.Dropdowns],style:ae?.[Le.Dropdowns]},m==="dropdown"||m==="dropdown-months"?Ne.createElement(t.MonthsDropdown,{className:f[Le.MonthsDropdown],"aria-label":dn(),classNames:f,components:t,disabled:!!e.disableNavigation,onChange:In(Ge.date),options:Ee,style:ae?.[Le.Dropdown],value:l.getMonth(Ge.date)}):Ne.createElement("span",null,S(Ge.date,l)),m==="dropdown"||m==="dropdown-years"?Ne.createElement(t.YearsDropdown,{className:f[Le.YearsDropdown],"aria-label":bn(l.options),classNames:f,components:t,disabled:!!e.disableNavigation,onChange:cr(Ge.date),options:je,style:ae?.[Le.Dropdown],value:l.getYear(Ge.date)}):Ne.createElement("span",null,z(Ge.date,l)),Ne.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},L(Ge.date,l.options,l))):Ne.createElement(t.CaptionLabel,{className:f[Le.CaptionLabel],role:"status","aria-live":"polite"},L(Ge.date,l.options,l))),_==="around"&&!e.hideNavigation&&H===E-1&&Ne.createElement(t.NextMonthButton,{type:"button",className:f[Le.NextMonthButton],tabIndex:ve?void 0:-1,"aria-disabled":ve?void 0:!0,"aria-label":Or(ve),onClick:En,"data-animated-button":e.animate?"true":void 0},Ne.createElement(t.Chevron,{disabled:ve?void 0:!0,className:f[Le.Chevron],orientation:e.dir==="rtl"?"left":"right"})),H===E-1&&_==="after"&&!e.hideNavigation&&Ne.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:f[Le.Nav],style:ae?.[Le.Nav],"aria-label":Qt(),onPreviousClick:Yt,onNextClick:En,previousMonth:te,nextMonth:ve}),Ne.createElement(t.MonthGrid,{role:"grid","aria-multiselectable":g==="multiple"||g==="range","aria-label":Wt(Ge.date,l.options,l)||void 0,className:f[Le.MonthGrid],style:ae?.[Le.MonthGrid]},!e.hideWeekdays&&Ne.createElement(t.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:f[Le.Weekdays],style:ae?.[Le.Weekdays]},pe&&Ne.createElement(t.WeekNumberHeader,{"aria-label":_n(l.options),className:f[Le.WeekNumberHeader],style:ae?.[Le.WeekNumberHeader],scope:"col"},O()),Dt.map((Be,nt)=>Ne.createElement(t.Weekday,{"aria-label":Re(Be,l.options,l),className:f[Le.Weekday],key:nt,style:ae?.[Le.Weekday],scope:"col"},k(Be,l.options,l)))),Ne.createElement(t.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:f[Le.Weeks],style:ae?.[Le.Weeks]},Ge.weeks.map((Be,nt)=>Ne.createElement(t.Week,{className:f[Le.Week],key:Be.weekNumber,style:ae?.[Le.Week],week:Be},pe&&Ne.createElement(t.WeekNumber,{week:Be,style:ae?.[Le.WeekNumber],"aria-label":Gt(Be.weekNumber,{locale:c}),className:f[Le.WeekNumber],scope:"row",role:"rowheader"},R(Be.weekNumber,l)),Be.days.map(Ze=>{const{date:It}=Ze,Ve=ne(Ze);if(Ve[Jt.focused]=!Ve.hidden&&!!Se?.isEqualTo(Ze),Ve[ri.selected]=ue?.(It)||Ve.selected,hy(xe)){const{from:$,to:K}=xe;Ve[ri.range_start]=!!($&&K&&l.isSameDay(It,$)),Ve[ri.range_end]=!!($&&K&&l.isSameDay(It,K)),Ve[ri.range_middle]=da(xe,It,!0,l)}const wn=mP(Ve,ae,e.modifiersStyles),V=Rk(Ve,f,e.modifiersClassNames),G=!Xt&&!Ve.hidden?xt(It,Ve,l.options,l):void 0;return Ne.createElement(t.Day,{key:`${l.format(It,"yyyy-MM-dd")}_${l.format(Ze.displayMonth,"yyyy-MM")}`,day:Ze,modifiers:Ve,className:V.join(" "),style:wn,role:"gridcell","aria-selected":Ve.selected||void 0,"aria-label":G,"data-day":l.format(It,"yyyy-MM-dd"),"data-month":Ze.outside?l.format(It,"yyyy-MM"):void 0,"data-selected":Ve.selected||void 0,"data-disabled":Ve.disabled||void 0,"data-hidden":Ve.hidden||void 0,"data-outside":Ze.outside||void 0,"data-focused":Ve.focused||void 0,"data-today":Ve.today||void 0},!Ve.hidden&&Xt?Ne.createElement(t.DayButton,{className:f[Le.DayButton],style:ae?.[Le.DayButton],type:"button",day:Ze,modifiers:Ve,disabled:Ve.disabled||void 0,tabIndex:mt(Ze)?0:-1,"aria-label":Xe(It,Ve,l.options,l),onClick:an(Ze,Ve),onBlur:Fe(Ze,Ve),onFocus:et(Ze,Ve),onKeyDown:tn(Ze,Ve),onMouseEnter:Ft(Ze,Ve),onMouseLeave:ui(Ze,Ve)},I(It,l.options,l)):!Ve.hidden&&I(Ze.date,l.options,l))}))))))})),e.footer&&Ne.createElement(t.Footer,{className:f[Le.Footer],style:ae?.[Le.Footer],role:"status","aria-live":"polite"},e.footer)))}const JP={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},e6=(n,e,t)=>{let i;const s=JP[n];return typeof s=="string"?i=s:e===1?i=s.one:i=s.other.replace("{{count}}",String(e)),t?.addSuffix?t.comparison&&t.comparison>0?"em "+i:"h "+i:i},t6={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},n6={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},r6={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},i6={date:ol({formats:t6,defaultWidth:"full"}),time:ol({formats:n6,defaultWidth:"full"}),dateTime:ol({formats:r6,defaultWidth:"full"})},a6={lastWeek:n=>{const e=n.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},s6=(n,e,t,i)=>{const s=a6[n];return typeof s=="function"?s(e):s},o6={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},l6={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},u6={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},c6={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},d6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},h6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},f6=(n,e)=>{const t=Number(n);return e?.unit==="week"?t+"":t+""},m6={ordinalNumber:f6,era:Ai({values:o6,defaultWidth:"wide"}),quarter:Ai({values:l6,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ai({values:u6,defaultWidth:"wide"}),day:Ai({values:c6,defaultWidth:"wide"}),dayPeriod:Ai({values:d6,defaultWidth:"wide",formattingValues:h6,defaultFormattingWidth:"wide"})},p6=/^(\d+)[o]?/i,g6=/\d+/i,y6={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},v6={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},_6={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},b6={any:[/1/i,/2/i,/3/i,/4/i]},E6={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},w6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},x6={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},T6={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},S6={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},A6={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},R6={ordinalNumber:gT({matchPattern:p6,parsePattern:g6,valueCallback:n=>parseInt(n,10)}),era:Ri({matchPatterns:y6,defaultMatchWidth:"wide",parsePatterns:v6,defaultParseWidth:"any"}),quarter:Ri({matchPatterns:_6,defaultMatchWidth:"wide",parsePatterns:b6,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ri({matchPatterns:E6,defaultMatchWidth:"wide",parsePatterns:w6,defaultParseWidth:"any"}),day:Ri({matchPatterns:x6,defaultMatchWidth:"wide",parsePatterns:T6,defaultParseWidth:"any"}),dayPeriod:Ri({matchPatterns:S6,defaultMatchWidth:"any",parsePatterns:A6,defaultParseWidth:"any"})},N6={code:"pt-BR",formatDistance:e6,formatLong:i6,formatRelative:s6,localize:m6,match:R6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function C6(){const[n,e]=U.useState([]),[t,i]=U.useState(!0),[s,l]=U.useState(0),[c,f]=U.useState(""),[m,g]=U.useState(""),[_,E]=U.useState(""),[x,N]=U.useState(""),[C,Y]=U.useState(),[B,q]=U.useState(""),[le,J]=U.useState(1),[pe,ae]=U.useState(0),[L,I]=U.useState(0),[S,R]=U.useState(0),[O,k]=U.useState(null),[z,M]=U.useState(!1),[_e,ge]=U.useState(null),[P,X]=U.useState("CREDIT_CARD"),[te,ve]=U.useState(null),[D,ne]=U.useState(null),[ue,oe]=U.useState(null),[xe,Me]=U.useState(null);if(U.useEffect(()=>{async function Re(){try{const _n=(await Qs(oa(ur,"pacotes"))).docs.map(bn=>{const Dt=bn.data();return{id:bn.id,nome:Dt.nome,tipo:Dt.tipo,precoAdulto:Number(Dt.precoAdulto),precoCrianca:Number(Dt.precoCrianca),precoBariatrica:Number(Dt.precoBariatrica),horarios:Dt.horarios??[],dias:Array.isArray(Dt.dias)?Dt.dias:[],limite:Dt.limite!==void 0?Number(Dt.limite):void 0}});e(_n)}catch{e([])}finally{i(!1)}}Re()},[]),t)return y.jsx("section",{id:"reservas",className:"py-16 bg-[#F7FAEF]",children:y.jsx("div",{className:"container mx-auto px-4",children:y.jsxs("div",{className:"max-w-2xl mx-auto text-center mb-10",children:[y.jsx("span",{className:"text-green-600 font-semibold text-xs uppercase tracking-widest",children:"RESERVE SEU PASSEIO"}),y.jsx("h2",{className:"font-heading text-3xl md:text-4xl font-bold text-[#8B4F23] mt-2 mb-1",children:"Carregando pacotes..."})]})})});if(n.length===0)return y.jsx("section",{id:"reservas",className:"py-16 bg-[#F7FAEF]",children:y.jsx("div",{className:"container mx-auto px-4",children:y.jsxs("div",{className:"max-w-2xl mx-auto text-center mb-10",children:[y.jsx("span",{className:"text-green-600 font-semibold text-xs uppercase tracking-widest",children:"RESERVE SEU PASSEIO"}),y.jsx("h2",{className:"font-heading text-3xl md:text-4xl font-bold text-[#8B4F23] mt-2 mb-1",children:"Nenhum pacote disponvel para reserva."})]})})});const Se=n[s],mt=le*Se.precoAdulto+L*Se.precoCrianca+pe*Se.precoBariatrica,it=Re=>Se.dias.includes(Re.getDay()),yt=Se.horarios||[];async function Xe(Re,Gt,_n){if(!Gt||!_n||!Re.limite){ve(null);return}const bn=Gt.toISOString().slice(0,10);try{const Dt=Hu(oa(ur,"reservas"),la("data","==",bn),la("horario","==",_n),la("status","==","pago")),Xt=await Qs(Dt);let Yt=0;Xt.forEach(an=>{const et=an.data();Yt+=et.participantes||0});const En=Re.limite-Yt;ve(En)}catch{ve(null)}}function xt(Re){l(Re),q(""),ve(null),C&&n[Re].horarios&&B&&Xe(n[Re],C,B)}function Wt(Re){Y(Re),q(""),ve(null),Re&&yt.length>0&&B&&Xe(Se,Re,B)}function dn(Re){q(Re),C&&Re&&Se.limite&&Xe(Se,C,Re)}async function Qt(Re){if(Re.preventDefault(),!C)return alert("Selecione uma data vlida!");if(yt.length>0&&!B)return alert("Selecione o horrio!");if(!c||!m||!x)return alert("Preencha todos os campos obrigatrios!");if(O===null)return alert("Informe se vai levar um pet!");M(!0);try{const Gt=C.toISOString().slice(0,10),_n=[la("data","==",Gt),la("status","==","pago")];yt.length>0&&_n.push(la("horario","==",B));const bn=Hu(oa(ur,"reservas"),..._n),Dt=await Qs(bn);let Xt=0;Dt.forEach(tn=>{const Ft=tn.data();Xt+=Ft.participantes||0});const Yt=Se.limite??30,En=le+L+pe+S;if(Se.limite&&Xt+En>Yt){alert(`Limite de ${Yt} pessoas por horrio j atingido. Por favor, escolha outro horrio.`),M(!1);return}ve(Se.limite?Yt-Xt:null);const an={nome:c,email:m,valor:mt,cpf:x,telefone:_,atividade:Se.nome,data:Gt,participantes:En,adultos:le,bariatrica:pe,criancas:L,naoPagante:S,billingType:P,horario:yt.length>0?B:"Trilha",temPet:O},et=await fetch("https://vagafogo-production.up.railway.app/criar-cobranca",{method:"POST",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(an)}),Fe=await et.json().catch(()=>({}));if(!et.ok){alert("Erro ao criar a cobrana: "+(Fe?.message||et.statusText)),M(!1);return}Fe?.status==="ok"?(ge(Fe.cobranca.invoiceUrl),ne(Fe.cobranca.pixKey),oe(Fe.cobranca.qrCodeImage),Me(Fe.cobranca.expirationDate)):alert(Fe?.cobranca?.status?`Cobrana criada, mas o link no foi retornado. Status: ${Fe.cobranca.status}`:"Erro ao criar a cobrana. Verifique os dados ou tente novamente.")}catch{alert("Erro ao verificar disponibilidade. Tente novamente.")}finally{M(!1)}}const Dn=["2025-08-12"];function Or(Re){const Gt=Re.toISOString().slice(0,10);return Dn.includes(Gt)}return y.jsx("section",{id:"reservas",className:"py-16 bg-[#F7FAEF]",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"max-w-2xl mx-auto text-center mb-10",children:[y.jsx("span",{className:"text-green-600 font-semibold text-xs uppercase tracking-widest",children:"RESERVE SEU PASSEIO"}),y.jsx("h2",{className:"font-heading text-3xl md:text-4xl font-bold text-[#8B4F23] mt-2 mb-1",children:"Faa sua Reserva Agora"})]}),y.jsx("div",{className:"max-w-3xl mx-auto",children:y.jsxs("form",{onSubmit:Qt,className:"bg-white rounded-2xl shadow-xl p-6 md:p-8",children:[y.jsx("label",{className:"block text-base font-semibold text-[#8B4F23] mb-4",children:"Escolha seu Pacote:"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6",children:n.map((Re,Gt)=>y.jsxs("div",{className:`border-2 p-4 rounded-xl text-center cursor-pointer transition ${s===Gt?"border-[#8B4F23] bg-[#F7FAEF]":"border-gray-200"}`,onClick:()=>xt(Gt),children:[y.jsx("div",{className:"text-3xl mb-2 text-[#8B4F23]",children:Re.tipo==="brunch"?"":Re.tipo==="trilha"?"":""}),y.jsx("h4",{className:"font-bold text-[#8B4F23]",children:Re.nome}),y.jsxs("p",{className:"text-sm text-gray-500",children:["Adulto: R$ ",Re.precoAdulto," | Criana: R$ ",Re.precoCrianca]})]},Re.id||Gt))}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nome Completo *"}),y.jsx("input",{type:"text",className:"w-full px-4 py-3 border rounded-lg text-sm",value:c,onChange:Re=>f(Re.target.value),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"E-mail *"}),y.jsx("input",{type:"email",className:"w-full px-4 py-3 border rounded-lg text-sm",value:m,onChange:Re=>g(Re.target.value),required:!0})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Telefone/WhatsApp *"}),y.jsx("input",{type:"tel",className:"w-full px-4 py-3 border rounded-lg text-sm",value:_,onChange:Re=>E(Re.target.value),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"CPF *"}),y.jsx("input",{type:"text",placeholder:"000.000.000-00",className:"w-full px-4 py-3 border rounded-lg text-sm",value:x,onChange:Re=>N(Re.target.value),required:!0})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("style",{children:`
                .rdp-mobile {
                  width: 100%;
                  max-width: 320px;
                  margin: 0 auto;
                  text-align: center;
                }
                .rdp-mobile .rdp-table {
                  width: 100%;
                  margin: 0 auto;
                }
                .rdp-mobile .rdp-table {
                  width: 100%;
                }
                .rdp-mobile .rdp-day {
                  width: 48px;
                  height: 48px;
                  font-size: 14px;
                }
                @media (max-width: 640px) {
                  .rdp-mobile {
                    max-width: 260px;
                  }
                  .rdp-mobile .rdp-day {
                    width: 28px;
                    height: 28px;
                    font-size: 9px;
                  }
                }
                @media (max-width: 450px) {
                  .rdp-mobile {
                    max-width: 240px;
                  }
                  .rdp-mobile .rdp-day {
                    width: 26px;
                    height: 26px;
                    font-size: 8px;
                  }
                }
              `}),y.jsx("label",{className:"block text-xs font-semibold text-[#8B4F23] mb-2",children:"Data Preferida *"}),y.jsx("div",{className:"w-full flex justify-center md:justify-center sm:justify-start sm:-ml-8",children:y.jsx(ZP,{mode:"single",selected:C,onSelect:Wt,fromDate:new Date,locale:N6,modifiers:{allowed:it},modifiersClassNames:{allowed:"bg-[#F7FAEF] text-[#8B4F23] font-bold",selected:"bg-white text-[#8B4F23] ring-2 ring-[#8B4F23] font-bold",today:"bg-[#e7dfd7] text-[#8B4F23] font-bold",disabled:"bg-gray-100 text-gray-400 cursor-not-allowed"},disabled:Re=>!it(Re)||Or(Re),footer:!C&&y.jsx("span",{className:"text-xs text-red-400",children:"Selecione uma data vlida."}),className:"rdp-mobile"})})]}),yt.length>0&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-xs font-semibold text-[#8B4F23] mb-2",children:"Horrio *"}),y.jsxs("select",{className:"w-full px-4 py-3 border rounded-lg text-sm",value:B,onChange:Re=>dn(Re.target.value),required:!0,children:[y.jsx("option",{value:"",children:"Selecione o horrio"}),yt.map(Re=>y.jsx("option",{value:Re,children:Re},Re))]}),te!==null&&y.jsx("p",{className:`text-sm mt-2 ${te<=0?"text-red-600":"text-green-600 font-bold"}`,children:te<=0?"Sem vagas disponveis para este horrio.":` ${te} Vagas restantes`})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-xs font-semibold text-[#8B4F23] mb-2",children:"Vai levar um pet? *"}),y.jsxs("div",{className:"flex gap-6",children:[y.jsxs("label",{className:"flex items-center gap-2 text-sm text-[#8B4F23]",children:[y.jsx("input",{type:"radio",name:"pet",value:"true",checked:O===!0,onChange:()=>k(!0),required:!0}),"Sim"]}),y.jsxs("label",{className:"flex items-center gap-2 text-sm text-[#8B4F23]",children:[y.jsx("input",{type:"radio",name:"pet",value:"false",checked:O===!1,onChange:()=>k(!1),required:!0}),"No"]})]})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Adultos"}),y.jsx("input",{type:"number",min:1,max:30,className:"w-full px-4 py-3 border rounded-lg text-sm",value:le,onChange:Re=>J(Number(Re.target.value)),required:!0})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Crianas (5 a 12 anos)"}),y.jsx("input",{type:"number",min:0,max:30,className:"w-full px-4 py-3 border rounded-lg text-sm",value:L,onChange:Re=>I(Number(Re.target.value)),required:!0})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Baritrico"}),y.jsx("input",{type:"number",min:0,max:30,className:"w-full px-4 py-3 border rounded-lg text-sm",value:pe,onChange:Re=>ae(Number(Re.target.value)),required:!0})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"No pagante (<5 anos)"}),y.jsx("input",{type:"number",min:0,max:30,className:"w-full px-4 py-3 border rounded-lg text-sm",value:S,onChange:Re=>R(Number(Re.target.value)),required:!0})]})]}),y.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[y.jsxs("span",{children:[y.jsx("b",{children:"Total de Pessoas:"})," ",y.jsx("span",{className:"font-semibold text-[#8B4F23]",children:le+L+pe+S})]}),y.jsxs("span",{children:[y.jsx("b",{children:"Valor Total:"})," ",y.jsxs("span",{className:"font-semibold text-[#8B4F23]",children:["R$ ",mt.toFixed(2)]})]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-xs font-semibold text-[#8B4F23] mb-2",children:"Forma de Pagamento *"}),y.jsxs("div",{className:"flex gap-6",children:[y.jsxs("label",{className:"flex items-center gap-2 text-sm text-[#8B4F23]",children:[y.jsx("input",{type:"radio",name:"formaPagamento",value:"CREDIT_CARD",checked:P==="CREDIT_CARD",onChange:()=>X("CREDIT_CARD")}),"Carto de Crdito"]}),y.jsxs("label",{className:"flex items-center gap-2 text-sm text-[#8B4F23]",children:[y.jsx("input",{type:"radio",name:"formaPagamento",value:"PIX",checked:P==="PIX",onChange:()=>X("PIX")}),"PIX"]})]})]}),y.jsx("div",{className:"flex justify-center mt-8",children:y.jsxs("button",{type:"submit",className:"bg-[#8B4F23] flex items-center gap-2 text-white font-medium px-8 py-3 rounded-full shadow hover:bg-[#A05D2B] transition-all duration-300",disabled:z,children:[y.jsx("i",{className:"fas fa-paper-plane"})," ",z?"Enviando...":"Enviar Reserva e Pagar"]})}),_e&&y.jsx("div",{className:"text-center mt-8",children:y.jsx("a",{href:_e,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-6 py-3 bg-green-600 text-white rounded-full font-semibold shadow hover:bg-green-700 transition",children:"Clique aqui para concluir o pagamento"})}),P==="PIX"&&D&&ue&&y.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[y.jsx("h3",{className:"text-xl font-bold text-[#8B4F23] mb-4",children:"Pagamento via PIX"}),y.jsx("div",{className:"flex justify-center mb-6",children:y.jsx("img",{src:`data:image/png;base64,${ue}`,alt:"QR Code para pagamento via PIX",className:"w-56 h-56 border-4 border-white shadow-md"})}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chave PIX (copiar e colar):"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",readOnly:!0,value:D,className:"flex-1 px-3 py-2 bg-white border border-gray-300 rounded-md text-sm shadow-sm focus:outline-none"}),y.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(D||""),alert("Chave PIX copiada com sucesso!")},className:"px-3 py-2 bg-[#8B4F23] text-white rounded-md hover:bg-[#A05D2B] transition-colors",children:"Copiar"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-gray-700",children:"Valor:"}),y.jsxs("p",{className:"text-[#8B4F23] font-semibold",children:["R$ ",mt.toFixed(2)]})]}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-gray-700",children:"Vlido at:"}),y.jsx("p",{className:"text-[#8B4F23] font-semibold",children:xe?new Date(xe).toLocaleString("pt-BR"):"-"})]})]}),_e&&y.jsx("div",{className:"mt-4 text-center",children:y.jsx("a",{href:_e,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-4 py-2 text-sm text-[#8B4F23] underline hover:text-[#A05D2B]",children:"Visualizar fatura completa"})}),y.jsx("div",{className:"mt-6 p-3 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700",children:y.jsxs("p",{className:"text-sm",children:[y.jsx("strong",{children:"Ateno:"})," O pagamento via PIX pode levar alguns minutos para ser confirmado."]})})]})]})})]})})}const D6="/assets/logo-Di_XZ8sh.jpg";function I6(){return y.jsx("footer",{className:"bg-[#302110] text-white py-12",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx("img",{src:D6,alt:"Logo Vagafogo",className:"w-12 h-12 rounded-full object-cover border border-white",loading:"lazy"}),y.jsx("span",{className:"ml-3 font-heading font-bold text-2xl",children:"VAGAFOGO"})]}),y.jsxs("p",{className:"text-gray-300 mb-4 leading-snug",children:["Experincias gastronmicas e aventuras ecolgicas no ",y.jsx("br",{}),"corao do cerrado brasileiro."]}),y.jsxs("div",{className:"flex space-x-6 mt-2",children:[y.jsx("a",{href:"#",className:"text-gray-300 hover:text-yellow-400 transition",children:y.jsx("i",{className:"fab fa-facebook-f text-2xl"})}),y.jsx("a",{href:"#",className:"text-gray-300 hover:text-yellow-400 transition",children:y.jsx("i",{className:"fab fa-instagram text-2xl"})}),y.jsx("a",{href:"#",className:"text-gray-300 hover:text-yellow-400 transition",children:y.jsx("i",{className:"fab fa-whatsapp text-2xl"})})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-heading font-bold text-2xl mb-4",children:"Contato"}),y.jsxs("div",{className:"space-y-3 text-base",children:[y.jsxs("p",{className:"flex items-center text-gray-300",children:[y.jsx("i",{className:"fas fa-map-marker-alt mr-3 text-yellow-400"}),"Estrada Rural, Km 15 - Cerrado, Brasil"]}),y.jsxs("p",{className:"flex items-center text-gray-300",children:[y.jsx("i",{className:"fas fa-phone mr-3 text-yellow-400"}),"62 9222-5471"]}),y.jsxs("p",{className:"flex items-center text-gray-300",children:[y.jsx("i",{className:"fas fa-envelope mr-3 text-yellow-400"}),"contato@vagafogo.com.br"]})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-heading font-bold text-2xl mb-4",children:"Horrios"}),y.jsxs("div",{className:"space-y-2 text-gray-300 text-base",children:[y.jsxs("p",{children:[y.jsx("span",{className:"font-bold text-white",children:"Brunch:"})," Todos os dias - 9h, 11h e 13h"]}),y.jsxs("p",{children:[y.jsx("span",{className:"font-bold text-white",children:"Trilha:"})," Todos os dias - 9h s 16h"]}),y.jsxs("p",{children:[y.jsx("span",{className:"font-bold text-white",children:"Educao Ambiental:"})," Agendamento prvio"]})]})]})]}),y.jsx("div",{className:"border-t border-gray-500 mt-8 mb-2"}),y.jsx("div",{className:"flex justify-center"}),y.jsx("div",{className:"text-center mt-2",children:y.jsx("p",{className:"text-gray-300 text-base",children:" 2025 Vagafogo. Todos os direitos reservados."})})]})})}function M6(){return y.jsxs(y.Fragment,{children:[y.jsx(SR,{}),y.jsxs("main",{className:"mt-24 px-4",children:[y.jsx(RR,{}),y.jsx(NR,{}),y.jsx(OR,{}),y.jsx(jR,{}),y.jsx(LR,{}),y.jsx(C6,{}),y.jsx(I6,{})]})]})}function O6(){const[n,e]=U.useState(""),[t,i]=U.useState(""),[s,l]=U.useState(!1),[c,f]=U.useState(!1),[m,g]=U.useState(""),_=mg(),E=async x=>{if(x.preventDefault(),g(""),!n||!t){g("Por favor, preencha todos os campos.");return}if(f(!0),n==="temp@admin.com"&&t==="temp123"){if(localStorage.getItem("tempLoginUsed")){g("Login temporrio j foi utilizado!"),f(!1);return}localStorage.setItem("tempLoginUsed","true"),localStorage.setItem("tempAuth","authenticated"),_("/admin"),f(!1);return}try{await kM(sT,n,t),_("/admin")}catch{g("Usurio ou senha invlidos!")}finally{f(!1)}};return y.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-4xl w-full flex flex-col md:flex-row rounded-2xl overflow-hidden shadow-2xl",children:[y.jsx("div",{className:"w-full md:w-2/5 bg-black text-white flex flex-col items-center justify-center p-8 text-center pattern-bg",children:y.jsxs("div",{className:"mb-8",children:[y.jsx("img",{src:IE,alt:"Santurio Vagafogo",className:"w-32 h-32 mx-auto mb-4 rounded-full object-cover"}),y.jsx("h1",{className:"font-serif text-3xl font-bold mb-2",children:"Santurio Vagafogo"}),y.jsx("p",{className:"text-gray-300",children:"Painel Administrativo"})]})}),y.jsxs("div",{className:"w-full md:w-3/5 bg-white p-8 md:p-12",children:[y.jsx("h2",{className:"text-3xl font-bold mb-2 text-center md:text-left",children:"Acesso Restrito"}),y.jsx("p",{className:"text-gray-600 mb-8 text-center md:text-left",children:"Credenciais de administrador"}),y.jsxs("form",{className:"space-y-6",onSubmit:E,children:[m&&y.jsx("div",{className:"text-red-600 font-semibold text-center",children:m}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio administrador"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("i",{className:"fas fa-user text-gray-400"})}),y.jsx("input",{type:"email",id:"email",value:n,onChange:x=>e(x.target.value),placeholder:"seu@email.com",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B4513] focus:border-[#8B4513] transition duration-300"})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("i",{className:"fas fa-lock text-gray-400"})}),y.jsx("input",{type:s?"text":"password",id:"password",value:t,onChange:x=>i(x.target.value),placeholder:"",className:"pl-10 pr-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B4513] focus:border-[#8B4513] transition duration-300",autoComplete:"current-password"}),y.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:y.jsx("button",{type:"button",onClick:()=>l(!s),className:"text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Toggle password visibility",children:y.jsx("i",{className:`fas ${s?"fa-eye-slash":"fa-eye"}`})})})]})]}),y.jsx("div",{children:y.jsxs("button",{type:"submit",className:`w-full bg-[#8B4513] hover:bg-[#6b2d0c] text-white py-3 px-4 rounded-lg font-medium transition duration-300 flex items-center justify-center ${c?"opacity-60 cursor-not-allowed":""}`,disabled:c,children:[y.jsx("i",{className:"fas fa-sign-in-alt mr-2"}),c?"Entrando...":"Entrar"]})})]})]})]})})}var sh={exports:{}},k6=sh.exports,G1;function kT(){return G1||(G1=1,function(n,e){(function(t,i){n.exports=i()})(k6,function(){var t=1e3,i=6e4,s=36e5,l="millisecond",c="second",f="minute",m="hour",g="day",_="week",E="month",x="quarter",N="year",C="date",Y="Invalid Date",B=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,q=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,le={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_e){var ge=["th","st","nd","rd"],P=_e%100;return"["+_e+(ge[(P-20)%10]||ge[P]||ge[0])+"]"}},J=function(_e,ge,P){var X=String(_e);return!X||X.length>=ge?_e:""+Array(ge+1-X.length).join(P)+_e},pe={s:J,z:function(_e){var ge=-_e.utcOffset(),P=Math.abs(ge),X=Math.floor(P/60),te=P%60;return(ge<=0?"+":"-")+J(X,2,"0")+":"+J(te,2,"0")},m:function _e(ge,P){if(ge.date()<P.date())return-_e(P,ge);var X=12*(P.year()-ge.year())+(P.month()-ge.month()),te=ge.clone().add(X,E),ve=P-te<0,D=ge.clone().add(X+(ve?-1:1),E);return+(-(X+(P-te)/(ve?te-D:D-te))||0)},a:function(_e){return _e<0?Math.ceil(_e)||0:Math.floor(_e)},p:function(_e){return{M:E,y:N,w:_,d:g,D:C,h:m,m:f,s:c,ms:l,Q:x}[_e]||String(_e||"").toLowerCase().replace(/s$/,"")},u:function(_e){return _e===void 0}},ae="en",L={};L[ae]=le;var I="$isDayjsObject",S=function(_e){return _e instanceof z||!(!_e||!_e[I])},R=function _e(ge,P,X){var te;if(!ge)return ae;if(typeof ge=="string"){var ve=ge.toLowerCase();L[ve]&&(te=ve),P&&(L[ve]=P,te=ve);var D=ge.split("-");if(!te&&D.length>1)return _e(D[0])}else{var ne=ge.name;L[ne]=ge,te=ne}return!X&&te&&(ae=te),te||!X&&ae},O=function(_e,ge){if(S(_e))return _e.clone();var P=typeof ge=="object"?ge:{};return P.date=_e,P.args=arguments,new z(P)},k=pe;k.l=R,k.i=S,k.w=function(_e,ge){return O(_e,{locale:ge.$L,utc:ge.$u,x:ge.$x,$offset:ge.$offset})};var z=function(){function _e(P){this.$L=R(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[I]=!0}var ge=_e.prototype;return ge.parse=function(P){this.$d=function(X){var te=X.date,ve=X.utc;if(te===null)return new Date(NaN);if(k.u(te))return new Date;if(te instanceof Date)return new Date(te);if(typeof te=="string"&&!/Z$/i.test(te)){var D=te.match(B);if(D){var ne=D[2]-1||0,ue=(D[7]||"0").substring(0,3);return ve?new Date(Date.UTC(D[1],ne,D[3]||1,D[4]||0,D[5]||0,D[6]||0,ue)):new Date(D[1],ne,D[3]||1,D[4]||0,D[5]||0,D[6]||0,ue)}}return new Date(te)}(P),this.init()},ge.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},ge.$utils=function(){return k},ge.isValid=function(){return this.$d.toString()!==Y},ge.isSame=function(P,X){var te=O(P);return this.startOf(X)<=te&&te<=this.endOf(X)},ge.isAfter=function(P,X){return O(P)<this.startOf(X)},ge.isBefore=function(P,X){return this.endOf(X)<O(P)},ge.$g=function(P,X,te){return k.u(P)?this[X]:this.set(te,P)},ge.unix=function(){return Math.floor(this.valueOf()/1e3)},ge.valueOf=function(){return this.$d.getTime()},ge.startOf=function(P,X){var te=this,ve=!!k.u(X)||X,D=k.p(P),ne=function(yt,Xe){var xt=k.w(te.$u?Date.UTC(te.$y,Xe,yt):new Date(te.$y,Xe,yt),te);return ve?xt:xt.endOf(g)},ue=function(yt,Xe){return k.w(te.toDate()[yt].apply(te.toDate("s"),(ve?[0,0,0,0]:[23,59,59,999]).slice(Xe)),te)},oe=this.$W,xe=this.$M,Me=this.$D,Se="set"+(this.$u?"UTC":"");switch(D){case N:return ve?ne(1,0):ne(31,11);case E:return ve?ne(1,xe):ne(0,xe+1);case _:var mt=this.$locale().weekStart||0,it=(oe<mt?oe+7:oe)-mt;return ne(ve?Me-it:Me+(6-it),xe);case g:case C:return ue(Se+"Hours",0);case m:return ue(Se+"Minutes",1);case f:return ue(Se+"Seconds",2);case c:return ue(Se+"Milliseconds",3);default:return this.clone()}},ge.endOf=function(P){return this.startOf(P,!1)},ge.$set=function(P,X){var te,ve=k.p(P),D="set"+(this.$u?"UTC":""),ne=(te={},te[g]=D+"Date",te[C]=D+"Date",te[E]=D+"Month",te[N]=D+"FullYear",te[m]=D+"Hours",te[f]=D+"Minutes",te[c]=D+"Seconds",te[l]=D+"Milliseconds",te)[ve],ue=ve===g?this.$D+(X-this.$W):X;if(ve===E||ve===N){var oe=this.clone().set(C,1);oe.$d[ne](ue),oe.init(),this.$d=oe.set(C,Math.min(this.$D,oe.daysInMonth())).$d}else ne&&this.$d[ne](ue);return this.init(),this},ge.set=function(P,X){return this.clone().$set(P,X)},ge.get=function(P){return this[k.p(P)]()},ge.add=function(P,X){var te,ve=this;P=Number(P);var D=k.p(X),ne=function(xe){var Me=O(ve);return k.w(Me.date(Me.date()+Math.round(xe*P)),ve)};if(D===E)return this.set(E,this.$M+P);if(D===N)return this.set(N,this.$y+P);if(D===g)return ne(1);if(D===_)return ne(7);var ue=(te={},te[f]=i,te[m]=s,te[c]=t,te)[D]||1,oe=this.$d.getTime()+P*ue;return k.w(oe,this)},ge.subtract=function(P,X){return this.add(-1*P,X)},ge.format=function(P){var X=this,te=this.$locale();if(!this.isValid())return te.invalidDate||Y;var ve=P||"YYYY-MM-DDTHH:mm:ssZ",D=k.z(this),ne=this.$H,ue=this.$m,oe=this.$M,xe=te.weekdays,Me=te.months,Se=te.meridiem,mt=function(Xe,xt,Wt,dn){return Xe&&(Xe[xt]||Xe(X,ve))||Wt[xt].slice(0,dn)},it=function(Xe){return k.s(ne%12||12,Xe,"0")},yt=Se||function(Xe,xt,Wt){var dn=Xe<12?"AM":"PM";return Wt?dn.toLowerCase():dn};return ve.replace(q,function(Xe,xt){return xt||function(Wt){switch(Wt){case"YY":return String(X.$y).slice(-2);case"YYYY":return k.s(X.$y,4,"0");case"M":return oe+1;case"MM":return k.s(oe+1,2,"0");case"MMM":return mt(te.monthsShort,oe,Me,3);case"MMMM":return mt(Me,oe);case"D":return X.$D;case"DD":return k.s(X.$D,2,"0");case"d":return String(X.$W);case"dd":return mt(te.weekdaysMin,X.$W,xe,2);case"ddd":return mt(te.weekdaysShort,X.$W,xe,3);case"dddd":return xe[X.$W];case"H":return String(ne);case"HH":return k.s(ne,2,"0");case"h":return it(1);case"hh":return it(2);case"a":return yt(ne,ue,!0);case"A":return yt(ne,ue,!1);case"m":return String(ue);case"mm":return k.s(ue,2,"0");case"s":return String(X.$s);case"ss":return k.s(X.$s,2,"0");case"SSS":return k.s(X.$ms,3,"0");case"Z":return D}return null}(Xe)||D.replace(":","")})},ge.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ge.diff=function(P,X,te){var ve,D=this,ne=k.p(X),ue=O(P),oe=(ue.utcOffset()-this.utcOffset())*i,xe=this-ue,Me=function(){return k.m(D,ue)};switch(ne){case N:ve=Me()/12;break;case E:ve=Me();break;case x:ve=Me()/3;break;case _:ve=(xe-oe)/6048e5;break;case g:ve=(xe-oe)/864e5;break;case m:ve=xe/s;break;case f:ve=xe/i;break;case c:ve=xe/t;break;default:ve=xe}return te?ve:k.a(ve)},ge.daysInMonth=function(){return this.endOf(E).$D},ge.$locale=function(){return L[this.$L]},ge.locale=function(P,X){if(!P)return this.$L;var te=this.clone(),ve=R(P,X,!0);return ve&&(te.$L=ve),te},ge.clone=function(){return k.w(this.$d,this)},ge.toDate=function(){return new Date(this.valueOf())},ge.toJSON=function(){return this.isValid()?this.toISOString():null},ge.toISOString=function(){return this.$d.toISOString()},ge.toString=function(){return this.$d.toUTCString()},_e}(),M=z.prototype;return O.prototype=M,[["$ms",l],["$s",c],["$m",f],["$H",m],["$W",g],["$M",E],["$y",N],["$D",C]].forEach(function(_e){M[_e[1]]=function(ge){return this.$g(ge,_e[0],_e[1])}}),O.extend=function(_e,ge){return _e.$i||(_e(ge,z,O),_e.$i=!0),O},O.locale=R,O.isDayjs=S,O.unix=function(_e){return O(1e3*_e)},O.en=L[ae],O.Ls=L,O.p={},O})}(sh)),sh.exports}var P6=kT();const sa=kh(P6);var oh={exports:{}},j6=oh.exports,K1;function V6(){return K1||(K1=1,function(n,e){(function(t,i){n.exports=i(kT())})(j6,function(t){function i(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var s=i(t),l={name:"pt-br",weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(c){return c+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"}};return s.default.locale(l,null,!0),l})}(oh)),oh.exports}V6();var PT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Q1=Ne.createContext&&Ne.createContext(PT),L6=["attr","size","title"];function U6(n,e){if(n==null)return{};var t=B6(n,e),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(s=0;s<l.length;s++)i=l[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function B6(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Mh(){return Mh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Mh.apply(this,arguments)}function X1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Oh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?X1(Object(t),!0).forEach(function(i){z6(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):X1(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function z6(n,e,t){return e=F6(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function F6(n){var e=q6(n,"string");return typeof e=="symbol"?e:e+""}function q6(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jT(n){return n&&n.map((e,t)=>Ne.createElement(e.tag,Oh({key:t},e.attr),jT(e.child)))}function li(n){return e=>Ne.createElement(H6,Mh({attr:Oh({},n.attr)},e),jT(n.child))}function H6(n){var e=t=>{var{attr:i,size:s,title:l}=n,c=U6(n,L6),f=s||t.size||"1em",m;return t.className&&(m=t.className),n.className&&(m=(m?m+" ":"")+n.className),Ne.createElement("svg",Mh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:m,style:Oh(Oh({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Ne.createElement("title",null,l),n.children)};return Q1!==void 0?Ne.createElement(Q1.Consumer,null,t=>e(t)):e(PT)}function Y6(n){return li({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function $6(n){return li({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(n)}function W6(n){return li({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function G6(n){return li({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function Z1(n){return li({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function J1(n){return li({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function K6(n){return li({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function eE(n){return li({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function Q6(n){return li({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function X6(n){return li({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function tE(n){return li({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}var lh={exports:{}},Z6=lh.exports,nE;function J6(){return nE||(nE=1,function(n,e){(function(t,i){n.exports=i()})(Z6,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(i,s,l){var c=s.prototype,f=c.format;l.en.formats=t,c.format=function(m){m===void 0&&(m="YYYY-MM-DDTHH:mm:ssZ");var g=this.$locale().formats,_=function(E,x){return E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(N,C,Y){var B=Y&&Y.toUpperCase();return C||x[Y]||t[Y]||x[B].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(q,le,J){return le||J.slice(1)})})}(m,g===void 0?{}:g);return f.call(this,_)}}})}(lh)),lh.exports}var ej=J6();const tj=kh(ej);sa.extend(tj);sa.locale("pt-br");const rE=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],nj=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],rj=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","18:00"],iE="Ol {nome}! Aqui  Vaga Fogo confirmando sua reserva para {data} s {horario}.";function ij(){const[n,e]=U.useState("reservas"),[t,i]=U.useState(!1),[s,l]=U.useState(iE),[c,f]=U.useState(!1),[m,g]=U.useState(!1),[_,E]=U.useState(sa().startOf("month").format("YYYY-MM-DD")),[x,N]=U.useState(sa().format("YYYY-MM-DD")),[C,Y]=U.useState([]),[B,q]=U.useState(!1),[le,J]=U.useState(null),[pe,ae]=U.useState(new Date),[L,I]=U.useState({}),[S,R]=U.useState(null),[O,k]=U.useState(!1),[z,M]=U.useState(!1),[_e,ge]=U.useState(""),[P,X]=U.useState(null),[te,ve]=U.useState([]),[D,ne]=U.useState(!1),[ue,oe]=U.useState(null),[xe,Me]=U.useState(!1),[Se,mt]=U.useState(""),[it,yt]=U.useState([]),[Xe,xt]=U.useState(!1),Wt=async H=>{const Ee=sa(H).format("YYYY-MM-DD");try{const je=Hu(oa(ur,"reservas"),la("data","==",Ee)),It=(await Qs(je)).docs.map(Ve=>({id:Ve.id,...Ve.data()})).filter(Ve=>Ve.status==="pago").reduce((Ve,wn)=>{const V=wn.horario||"No especificado";return Ve[V]||(Ve[V]=[]),Ve[V].push(wn),Ve},{});I(It)}catch{I({})}};U.useEffect(()=>{Wt(pe)},[pe]),U.useEffect(()=>{if(P){const H=setTimeout(()=>X(null),3e3);return()=>clearTimeout(H)}},[P]),U.useEffect(()=>{const H=localStorage.getItem("admin:calendarCollapsed");H!==null&&i(H==="true")},[]),U.useEffect(()=>{localStorage.setItem("admin:calendarCollapsed",String(t))},[t]),U.useEffect(()=>{(async()=>{try{const Ee=Ys(ur,"configuracoes","disparador"),je=await II(Ee),Be=je.exists()?je.data().whatsappConfirmacaoTemplate:void 0;typeof Be=="string"&&Be.trim()&&l(Be)}catch{}})()},[]);const dn=(H,Ee)=>new Date(Ee,H+1,0).getDate(),Qt=new Date,[Dn,Or]=U.useState(Qt.getMonth()),[Re,Gt]=U.useState(Qt.getFullYear()),_n=new Date(Re,Dn,1).getDay(),bn=dn(Dn,Re),Dt=Array(_n).fill(null).concat([...Array(bn).keys()].map(H=>H+1)),Xt=H=>{const Ee=new Date(Re,Dn+H);Or(Ee.getMonth()),Gt(Ee.getFullYear())},Yt=async H=>{if(confirm("Tem certeza que deseja excluir esta reserva?"))try{await m1(Ys(ur,"reservas",H)),Wt(pe)}catch{}},En=H=>{R(H),M(!0),k(!0)};function an(H){return(H.adultos??0)+(H.criancas??0)+(H.naoPagante??0)+(H.bariatrica??0)}const et=H=>{const Ee=sa(H);return Ee.isValid()?Ee.format("DD/MM/YYYY"):H},Fe=H=>{const Ee=s?.trim()||iE,je={nome:H.nome??"",data:et(H.data),horario:H.horario??"",atividade:H.atividade??"",adultos:String(H.adultos??0),criancas:String(H.criancas??0),naoPagante:String(H.naoPagante??0),bariatrica:String(H.bariatrica??0),participantes:String(an(H))};return Ee.replace(/\{(\w+)\}/g,(Be,nt)=>je[nt]??`{${nt}}`)},tn=H=>{const Ee=H.telefone?.replace(/\D/g,"")??"";if(!Ee)return"https://wa.me/55";const je=Fe(H);return`https://wa.me/55${Ee}?text=${encodeURIComponent(je)}`},Ft=async()=>{const H=s.trim();if(!H){X({type:"error",message:"O template do WhatsApp no pode ficar vazio."});return}g(!0);try{await MI(Ys(ur,"configuracoes","disparador"),{whatsappConfirmacaoTemplate:H,updatedAt:kI()},{merge:!0}),X({type:"success",message:"Template do WhatsApp atualizado com sucesso!"}),f(!1)}catch{X({type:"error",message:"Erro ao salvar template do WhatsApp."})}finally{g(!1)}},ui=async()=>{if(S){if(!S.data){X({type:"error",message:"Por favor, selecione a data da reserva."});return}try{const H=an(S);if(z&&S.id){const Ee=Ys(ur,"reservas",S.id);await f1(Ee,{...S,participantes:H,status:"pago"}),X({type:"success",message:"Reserva atualizada com sucesso!"})}else await p1(oa(ur,"reservas"),{...S,participantes:H,status:"pago"}),X({type:"success",message:"Reserva cadastrada com sucesso!"});k(!1),R(null),Wt(pe)}catch{X({type:"error",message:"Erro ao salvar reserva."})}}},In=async()=>{const H=await Qs(oa(ur,"pacotes"));ve(H.docs.map(Ee=>({id:Ee.id,...Ee.data()})))};U.useEffect(()=>{n==="pacotes"&&In()},[n]);const cr=H=>{oe(H),Me(!0),ne(!0)},dr=()=>{oe({nome:"",tipo:"",precoAdulto:0,precoCrianca:0,precoBariatrica:0,horarios:[],dias:[],limite:0}),Me(!1),ne(!0)},hr=async()=>{if(!ue?.nome){X({type:"error",message:"Nome obrigatrio!"});return}try{xe&&ue.id?(await f1(Ys(ur,"pacotes",ue.id),{...ue}),X({type:"success",message:"Pacote atualizado com sucesso!"})):(await p1(oa(ur,"pacotes"),{...ue}),X({type:"success",message:"Pacote cadastrado com sucesso!"})),ne(!1),oe(null),In()}catch{X({type:"error",message:"Erro ao salvar pacote."})}},Ln=async H=>{window.confirm("Excluir pacote?")&&(await m1(Ys(ur,"pacotes",H)),In())},ir=async()=>{if(Se.trim()){xt(!0);try{const H=Hu(oa(ur,"reservas")),je=(await Qs(H)).docs.map(Be=>({id:Be.id,...Be.data()})).filter(Be=>Be.nome&&Be.nome.toLowerCase().includes(Se.toLowerCase())||Be.cpf&&Be.cpf.includes(Se)||Be.telefone&&Be.telefone.includes(Se));yt(je)}catch{yt([])}xt(!1)}},Un=async(H,Ee)=>{if(!(!H||!Ee)){q(!0),J(null);try{const je=Hu(oa(ur,"reservas"),la("data",">=",H),la("data","<=",Ee)),nt=(await Qs(je)).docs.map(Ze=>({id:Ze.id,...Ze.data()}));Y(nt)}catch{Y([]),J("Erro ao carregar dados do dashboard.")}finally{q(!1)}}};U.useEffect(()=>{n==="dashboard"&&Un(_,x)},[n,_,x]);const Ge=()=>{const H=C.filter(be=>be.status==="pago"),Ee=H.reduce((be,we)=>be+(we.valor??0),0),je=H.length,Be=H.reduce((be,we)=>be+an(we),0),nt=je?Ee/je:0,Ze=new Map;for(const be of H){const we=be.atividade||"Sem atividade",Ce=Ze.get(we)??{quantidade:0,receita:0};Ze.set(we,{quantidade:Ce.quantidade+1,receita:Ce.receita+(be.valor??0)})}const It=[...Ze.entries()].map(([be,we])=>({atividade:be,...we})).sort((be,we)=>we.receita-be.receita),Ve=new Map;for(const be of H){const we=be.cpf||be.telefone||be.nome||"cliente",Ce=Ve.get(we)??{nome:be.nome,quantidade:0,receita:0};Ve.set(we,{nome:Ce.nome||be.nome,quantidade:Ce.quantidade+1,receita:Ce.receita+(be.valor??0)})}const wn=[...Ve.entries()].map(([be,we])=>({clienteId:be,...we})).sort((be,we)=>we.receita-be.receita).slice(0,15),V=new Map;for(const be of H){const we=be.data||"sem-data",Ce=V.get(we)??{quantidade:0,receita:0};V.set(we,{quantidade:Ce.quantidade+1,receita:Ce.receita+(be.valor??0)})}const G=[...V.entries()].map(([be,we])=>({data:be,...we})).sort((be,we)=>be.data.localeCompare(we.data)),$=be=>be.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;"),K=be=>be.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),ce=window.open("","_blank");if(!ce){X({type:"error",message:"No foi possvel abrir a janela de exportao."});return}const Ae=`
<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Relatrio - Vagafogo</title>
    <style>
      body { font-family: Arial, sans-serif; color: #111827; padding: 24px; }
      h1 { font-size: 18px; margin: 0 0 8px 0; }
      h2 { font-size: 14px; margin: 18px 0 8px 0; }
      .muted { color: #6b7280; font-size: 12px; margin-bottom: 16px; }
      .cards { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
      .card { border: 1px solid #e5e7eb; border-radius: 8px; padding: 10px; }
      .label { font-size: 11px; color: #6b7280; }
      .value { font-size: 16px; font-weight: 700; margin-top: 4px; }
      table { width: 100%; border-collapse: collapse; margin-top: 8px; }
      th, td { border: 1px solid #e5e7eb; padding: 6px 8px; font-size: 11px; }
      th { background: #f3f4f6; text-align: left; }
      .right { text-align: right; }
      @media print { body { padding: 0; } }
    </style>
  </head>
  <body>
    <h1>Relatrio - Vagafogo</h1>
    <div class="muted">Perodo: ${$(et(_))} a ${$(et(x))}</div>

    <div class="cards">
      <div class="card"><div class="label">Receita (pagas)</div><div class="value">${$(K(Ee))}</div></div>
      <div class="card"><div class="label">Reservas pagas</div><div class="value">${je}</div></div>
      <div class="card"><div class="label">Participantes</div><div class="value">${Be}</div></div>
      <div class="card"><div class="label">Ticket mdio</div><div class="value">${$(K(nt))}</div></div>
    </div>

    <h2>Por atividade</h2>
    <table>
      <thead>
        <tr>
          <th>Atividade</th>
          <th class="right">Reservas</th>
          <th class="right">Receita</th>
        </tr>
      </thead>
      <tbody>
        ${It.map(be=>`<tr>
                <td>${$(be.atividade)}</td>
                <td class="right">${be.quantidade}</td>
                <td class="right">${$(K(be.receita))}</td>
              </tr>`).join("")}
      </tbody>
    </table>

    <h2>Top clientes</h2>
    <table>
      <thead>
        <tr>
          <th>Cliente</th>
          <th>ID (CPF/Telefone)</th>
          <th class="right">Reservas</th>
          <th class="right">Receita</th>
        </tr>
      </thead>
      <tbody>
        ${wn.map(be=>`<tr>
                <td>${$(be.nome||"-")}</td>
                <td>${$(be.clienteId)}</td>
                <td class="right">${be.quantidade}</td>
                <td class="right">${$(K(be.receita))}</td>
              </tr>`).join("")}
      </tbody>
    </table>

    <h2>Por dia</h2>
    <table>
      <thead>
        <tr>
          <th>Data</th>
          <th class="right">Reservas</th>
          <th class="right">Receita</th>
        </tr>
      </thead>
      <tbody>
        ${G.map(be=>`<tr>
                <td>${$(et(be.data))}</td>
                <td class="right">${be.quantidade}</td>
                <td class="right">${$(K(be.receita))}</td>
              </tr>`).join("")}
      </tbody>
    </table>
  </body>
</html>
    `.trim();ce.document.open(),ce.document.write(Ae),ce.document.close(),setTimeout(()=>{ce.focus(),ce.print()},300)};return y.jsxs("main",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[P&&y.jsx("div",{className:`fixed top-4 right-4 z-[99] px-6 py-2 rounded shadow transition-all text-white ${P.type==="success"?"bg-green-600":"bg-red-600"}`,children:P.message}),y.jsxs("div",{className:"mx-auto max-w-7xl px-4 pt-6 pb-8",children:[y.jsxs("div",{className:"mb-6 flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-gray-900",children:"Painel Administrativo"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Gerencie reservas, pacotes e relatrios."})]}),y.jsxs("div",{className:"text-xs text-gray-500",children:["Atualizado em ",sa().format("DD/MM/YYYY HH:mm")]})]}),y.jsx("div",{className:"mb-6 rounded-2xl border border-gray-200 bg-white/80 backdrop-blur shadow-sm p-2",children:y.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.jsxs("button",{onClick:()=>e("reservas"),className:`flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-900/20 ${n==="reservas"?"bg-gray-900 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:[y.jsx(W6,{className:"text-base"})," Reservas"]}),y.jsxs("button",{onClick:()=>e("pacotes"),className:`flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-900/20 ${n==="pacotes"?"bg-gray-900 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:[y.jsx($6,{className:"text-base"})," Pacotes"]}),y.jsxs("button",{onClick:()=>e("pesquisa"),className:`flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-900/20 ${n==="pesquisa"?"bg-gray-900 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:[y.jsx(X6,{className:"text-base"})," Clientes"]}),y.jsxs("button",{onClick:()=>e("dashboard"),className:`flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-900/20 ${n==="dashboard"?"bg-gray-900 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:[y.jsx(G6,{className:"text-base"})," Dashboard"]})]})}),n==="reservas"&&y.jsxs("section",{className:"pb-6 w-full",children:[y.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 w-full",children:[y.jsxs("aside",{className:`bg-white rounded-2xl border border-gray-200 shadow-sm w-full transition-all lg:sticky lg:top-4 ${t?"lg:w-14":"lg:w-[360px]"}`,children:[y.jsxs("div",{className:`flex items-center p-3 border-b border-gray-200 ${t?"justify-center":"justify-between"}`,children:[y.jsx("button",{onClick:()=>i(H=>!H),className:"h-9 w-9 inline-flex items-center justify-center rounded-xl hover:bg-gray-100 transition",title:t?"Mostrar calendrio":"Ocultar calendrio","aria-label":t?"Mostrar calendrio":"Ocultar calendrio",children:t?y.jsx(J1,{}):y.jsx(Z1,{})}),!t&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>Xt(-1),className:"h-9 w-9 inline-flex items-center justify-center rounded-xl hover:bg-gray-100 transition","aria-label":"Ms anterior",title:"Ms anterior",children:y.jsx(Z1,{})}),y.jsx("h2",{className:"text-sm font-semibold whitespace-nowrap text-gray-900",children:sa(new Date(Re,Dn)).format("MMMM [de] YYYY")}),y.jsx("button",{onClick:()=>Xt(1),className:"h-9 w-9 inline-flex items-center justify-center rounded-xl hover:bg-gray-100 transition","aria-label":"Prximo ms",title:"Prximo ms",children:y.jsx(J1,{})})]})]}),!t&&y.jsxs("div",{className:"p-4",children:[y.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:nj.map(H=>y.jsx("div",{className:"text-center font-semibold text-gray-500 text-xs",children:H},H))}),y.jsx("div",{className:"grid grid-cols-7 gap-1",children:Dt.map((H,Ee)=>{const je=H&&pe.getDate()===H&&pe.getMonth()===Dn&&pe.getFullYear()===Re;return y.jsx("div",{className:`text-center rounded-xl cursor-pointer transition-all h-10 flex items-center justify-center text-xs font-semibold ${H?je?"bg-green-600 text-white":"bg-gray-50 hover:bg-gray-100 text-gray-800":""}`,onClick:()=>H&&ae(new Date(Re,Dn,H)),children:H||""},Ee)})})]})]}),y.jsxs("section",{className:"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm w-full flex-1",children:[y.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between mb-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Agendamentos"}),y.jsxs("div",{className:"text-xs text-gray-500",children:["Para ",sa(pe).format("DD/MM/YYYY")]})]}),y.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[y.jsxs("select",{value:_e,onChange:H=>ge(H.target.value),className:"h-10 rounded-xl border border-gray-200 bg-white px-3 text-sm text-gray-900",children:[y.jsx("option",{value:"",children:"Todas as atividades"}),y.jsx("option",{value:"Trilha Ecolgica",children:"Trilha Ecolgica"}),y.jsx("option",{value:"Brunch Gastronmico",children:"Brunch Gastronmico"}),y.jsx("option",{value:"Brunch + trilha",children:"Brunch + trilha"})]}),y.jsxs("button",{onClick:()=>f(!0),className:"h-10 rounded-xl bg-gray-900 px-4 text-sm font-medium text-white hover:bg-gray-800 transition flex items-center gap-2",title:"Configurar disparador do WhatsApp",children:[y.jsx(K6,{})," Disparador"]})]})]}),y.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-2 py-2 font-medium text-left text-gray-600",children:"Reservista"}),y.jsx("th",{className:"px-2 py-2 font-medium text-left text-gray-600",children:"Adultos"}),y.jsx("th",{className:"px-2 py-2 font-medium text-left text-gray-600",children:"Criana"}),y.jsx("th",{className:"px-2 py-2 font-medium text-left text-gray-600",children:"No Pagante"}),y.jsx("th",{className:"px-2 py-2 font-medium text-left text-gray-600",children:"Baritrica"}),y.jsx("th",{className:"px-2 py-2 font-medium text-left text-gray-600",children:"Participantes"}),y.jsx("th",{className:"px-2 py-2 font-medium text-left text-gray-600",children:"Pet"}),y.jsx("th",{className:"px-2 py-2 font-medium text-left text-gray-600",children:"Atividade"}),y.jsx("th",{className:"px-2 py-2 font-medium text-left text-gray-600",children:"Valor"}),y.jsx("th",{className:"px-2 py-2 font-medium text-left text-gray-600",children:"Aes"})]})}),y.jsx("tbody",{children:Object.keys(L).length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:10,className:"px-2 py-3 text-gray-500 text-xs",children:"Nenhuma reserva paga encontrada."})}):Object.keys(L).sort((H,Ee)=>H==="No especificado"?1:Ee==="No especificado"?-1:H.localeCompare(Ee)).map(H=>{const je=L[H].filter(nt=>!_e||nt.atividade===_e);if(je.length===0)return null;const Be=je.reduce((nt,Ze)=>nt+an(Ze),0);return y.jsxs(Ne.Fragment,{children:[y.jsx("tr",{children:y.jsxs("td",{colSpan:10,className:"font-bold bg-gray-100 text-gray-700 px-2 py-2",children:[H," - ",Be," pessoa",Be>1?"s":""]})}),je.map(nt=>y.jsxs("tr",{className:"border-t",children:[y.jsx("td",{className:"px-2 py-2",children:nt.nome}),y.jsx("td",{className:"px-2 py-2",children:nt.adultos??0}),y.jsx("td",{className:"px-2 py-2",children:nt.criancas??0}),y.jsx("td",{className:"px-2 py-2",children:nt.naoPagante??0}),y.jsx("td",{className:"px-2 py-2",children:nt.bariatrica??0}),y.jsx("td",{className:"px-2 py-2",children:an(nt)}),y.jsx("td",{className:"px-2 py-2",children:nt.temPet?" Sim":"No"}),y.jsx("td",{className:"px-2 py-2",children:nt.atividade}),y.jsx("td",{className:"px-2 py-2",children:nt.valor!==void 0?nt.valor.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"-"}),y.jsxs("td",{className:"px-2 py-2 flex gap-1",children:[y.jsx("a",{href:tn(nt),target:"_blank",rel:"noopener noreferrer",className:"h-9 w-9 inline-flex items-center justify-center rounded-xl bg-green-50 text-green-700 hover:bg-green-100 transition",title:"Enviar WhatsApp",children:y.jsx(Y6,{})}),y.jsx("button",{onClick:()=>En(nt),className:"h-9 w-9 inline-flex items-center justify-center rounded-xl bg-blue-50 text-blue-700 hover:bg-blue-100 transition",title:"Editar reserva",children:y.jsx(eE,{})}),y.jsx("button",{onClick:()=>Yt(nt.id),className:"h-9 w-9 inline-flex items-center justify-center rounded-xl bg-red-50 text-red-700 hover:bg-red-100 transition",title:"Excluir reserva",children:y.jsx(tE,{})})]})]},nt.id))]},H)})})]})}),O&&S&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200 w-full max-w-md",children:[y.jsxs("h4",{className:"text-base font-bold mb-2",children:[z?"Editar":"Nova"," Reserva"]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[y.jsxs("label",{className:"block text-xs",children:["Nome:",y.jsx("input",{type:"text",value:S.nome,onChange:H=>R({...S,nome:H.target.value}),className:"w-full border px-2 py-1 rounded mt-1 text-xs"})]}),y.jsxs("label",{className:"block text-xs",children:["CPF:",y.jsx("input",{type:"text",value:S.cpf,onChange:H=>R({...S,cpf:H.target.value}),className:"w-full border px-2 py-1 rounded mt-1 text-xs"})]}),y.jsxs("label",{className:"block text-xs",children:["Telefone:",y.jsx("input",{type:"text",value:S.telefone,onChange:H=>R({...S,telefone:H.target.value}),className:"w-full border px-2 py-1 rounded mt-1 text-xs"})]}),y.jsxs("label",{className:"block text-xs",children:["Data:",y.jsx("input",{type:"date",value:S.data,onChange:H=>R({...S,data:H.target.value}),className:"w-full border px-2 py-1 rounded mt-1 text-xs"})]}),y.jsxs("label",{className:"block text-xs",children:["Adultos:",y.jsx("input",{type:"number",value:S.adultos??0,min:0,onChange:H=>R({...S,adultos:Number(H.target.value)}),className:"w-full border px-2 py-1 rounded mt-1 text-xs"})]}),y.jsxs("label",{className:"block text-xs",children:["Crianas:",y.jsx("input",{type:"number",value:S.criancas??0,min:0,onChange:H=>R({...S,criancas:Number(H.target.value)}),className:"w-full border px-2 py-1 rounded mt-1 text-xs"})]}),y.jsxs("label",{className:"block text-xs",children:["No Pagante:",y.jsx("input",{type:"number",value:S.naoPagante??0,min:0,onChange:H=>R({...S,naoPagante:Number(H.target.value)}),className:"w-full border px-2 py-1 rounded mt-1 text-xs"})]}),y.jsxs("label",{className:"block text-xs",children:["Baritrica:",y.jsx("input",{type:"number",value:S.bariatrica??0,min:0,onChange:H=>R({...S,bariatrica:Number(H.target.value)}),className:"w-full border px-2 py-1 rounded mt-1 text-xs"})]})]}),y.jsxs("label",{className:"block text-xs mb-2",children:["Horrio:",y.jsx("input",{type:"time",value:S.horario,onChange:H=>R({...S,horario:H.target.value}),className:"w-full border px-2 py-1 rounded mt-1 text-xs"})]}),y.jsxs("label",{className:"block text-xs mb-2",children:["Pet:",y.jsxs("div",{className:"flex gap-4 mt-1",children:[y.jsxs("label",{className:"flex items-center gap-1 text-xs",children:[y.jsx("input",{type:"radio",name:"editPet",checked:S.temPet===!0,onChange:()=>R({...S,temPet:!0})}),"Sim"]}),y.jsxs("label",{className:"flex items-center gap-1 text-xs",children:[y.jsx("input",{type:"radio",name:"editPet",checked:S.temPet===!1,onChange:()=>R({...S,temPet:!1})}),"No"]})]})]}),y.jsxs("label",{className:"block text-xs mb-2",children:["Atividade:",y.jsxs("select",{value:S.atividade,onChange:H=>R({...S,atividade:H.target.value}),className:"w-full border px-2 py-1 rounded mt-1 text-xs",children:[y.jsx("option",{value:"",children:"Todas Atividades"}),y.jsx("option",{value:"Trilha Ecolgica",children:"Trilha Ecolgica"}),y.jsx("option",{value:"Brunch Gastronmico",children:"Brunch Gastronmico"}),y.jsx("option",{value:"Brunch + trilha",children:"Brunch + trilha"})]})]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[y.jsx("button",{onClick:()=>k(!1),className:"px-3 py-1 bg-gray-400 text-white rounded text-xs",children:"Cancelar"}),y.jsx("button",{onClick:ui,className:"px-3 py-1 bg-green-600 text-white rounded text-xs",children:"Salvar"})]})]})})]})]}),c&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200 w-full max-w-xl",children:[y.jsx("h4",{className:"text-base font-bold mb-2",children:"Disparador (WhatsApp)"}),y.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["Use variveis como ","{nome}",", ","{data}",", ","{horario}",", ","{atividade}",", ","{participantes}","."]}),y.jsx("textarea",{value:s,onChange:H=>l(H.target.value),className:"w-full border rounded p-2 text-sm min-h-[140px]"}),y.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[y.jsx("button",{onClick:()=>f(!1),className:"px-3 py-1 bg-gray-400 text-white rounded text-sm",disabled:m,children:"Cancelar"}),y.jsx("button",{onClick:Ft,className:"px-3 py-1 bg-green-600 text-white rounded text-sm",disabled:m,children:m?"Salvando...":"Salvar"})]})]})})]}),n==="pacotes"&&y.jsxs("section",{className:"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm w-full",children:[y.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between mb-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"font-semibold text-gray-900",children:"Pacotes"}),y.jsx("p",{className:"text-xs text-gray-500",children:"Cadastre e gerencie valores, dias e horrios."})]}),y.jsxs("button",{onClick:dr,className:"h-10 rounded-xl bg-blue-600 text-white px-4 text-sm font-medium hover:bg-blue-700 transition inline-flex items-center gap-2",children:[y.jsx(Q6,{})," Novo pacote"]})]}),y.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs mb-4",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-2 py-2 text-left",children:"Nome"}),y.jsx("th",{className:"px-2 py-2 text-left",children:"Tipo"}),y.jsx("th",{className:"px-2 py-2 text-left",children:"Preo Adulto"}),y.jsx("th",{className:"px-2 py-2 text-left",children:"Preo Criana"}),y.jsx("th",{className:"px-2 py-2 text-left",children:"Preo Baritrica"}),y.jsx("th",{className:"px-2 py-2 text-left",children:"Dias"}),y.jsx("th",{className:"px-2 py-2 text-left",children:"Horrios"}),y.jsx("th",{className:"px-2 py-2 text-left",children:"Limite"}),y.jsx("th",{className:"px-2 py-2 text-left"})]})}),y.jsx("tbody",{children:te.map(H=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-2 py-1",children:H.nome}),y.jsx("td",{className:"px-2 py-1",children:H.tipo}),y.jsxs("td",{className:"px-2 py-1",children:["R$ ",Number(H.precoAdulto).toLocaleString("pt-BR")]}),y.jsxs("td",{className:"px-2 py-1",children:["R$ ",Number(H.precoCrianca).toLocaleString("pt-BR")]}),y.jsxs("td",{className:"px-2 py-1",children:["R$ ",Number(H.precoBariatrica).toLocaleString("pt-BR")]}),y.jsx("td",{className:"px-2 py-1",children:H.dias.map(Ee=>rE[Ee]).join(", ")||"-"}),y.jsx("td",{className:"px-2 py-1",children:H.horarios.join(", ")||"-"}),y.jsx("td",{className:"px-2 py-1",children:H.limite}),y.jsx("td",{className:"px-2 py-1",children:y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{className:"h-9 w-9 inline-flex items-center justify-center rounded-xl bg-blue-50 text-blue-700 hover:bg-blue-100 transition",onClick:()=>cr(H),title:"Editar pacote",children:y.jsx(eE,{})}),y.jsx("button",{className:"h-9 w-9 inline-flex items-center justify-center rounded-xl bg-red-50 text-red-700 hover:bg-red-100 transition",onClick:()=>Ln(H.id),title:"Excluir pacote",children:y.jsx(tE,{})})]})})]},H.id))})]})}),D&&ue&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200 w-full max-w-xs max-h-[95vh] overflow-y-auto",children:[y.jsxs("h4",{className:"font-bold mb-2",children:[xe?"Editar":"Novo"," Pacote"]}),y.jsxs("label",{className:"block mb-1 text-xs",children:["Nome da atividade:",y.jsx("input",{value:ue.nome,onChange:H=>oe(Ee=>({...Ee,nome:H.target.value})),className:"w-full border px-2 py-1 rounded"})]}),y.jsxs("label",{className:"block mb-1 text-xs",children:["Tipo de atividade:",y.jsx("input",{value:ue.tipo,onChange:H=>oe(Ee=>({...Ee,tipo:H.target.value})),className:"w-full border px-2 py-1 rounded"})]}),y.jsxs("label",{className:"block mb-1 text-xs",children:["Preo Adulto:",y.jsx("input",{type:"number",value:ue.precoAdulto,onChange:H=>oe(Ee=>({...Ee,precoAdulto:Number(H.target.value)})),className:"w-full border px-2 py-1 rounded"})]}),y.jsxs("label",{className:"block mb-1 text-xs",children:["Preo Criana:",y.jsx("input",{type:"number",value:ue.precoCrianca,onChange:H=>oe(Ee=>({...Ee,precoCrianca:Number(H.target.value)})),className:"w-full border px-2 py-1 rounded"})]}),y.jsxs("label",{className:"block mb-1 text-xs",children:["Preo Baritrica:",y.jsx("input",{type:"number",value:ue.precoBariatrica,onChange:H=>oe(Ee=>({...Ee,precoBariatrica:Number(H.target.value)})),className:"w-full border px-2 py-1 rounded"})]}),y.jsxs("label",{className:"block mb-1 text-xs",children:["Limite disponvel:",y.jsx("input",{type:"number",value:ue.limite,onChange:H=>oe(Ee=>({...Ee,limite:Number(H.target.value)})),className:"w-full border px-2 py-1 rounded"})]}),y.jsx("label",{className:"block mb-1 mt-2 text-xs font-semibold",children:"Dias disponveis:"}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:rE.map((H,Ee)=>y.jsxs("label",{className:"flex items-center text-xs",children:[y.jsx("input",{type:"checkbox",checked:ue.dias.includes(Ee),onChange:je=>oe(Be=>({...Be,dias:je.target.checked?[...Be.dias,Ee]:Be.dias.filter(nt=>nt!==Ee)})),className:"mr-1"}),H]},H))}),y.jsx("label",{className:"block mb-1 mt-2 text-xs font-semibold",children:"Horrios:"}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:rj.map(H=>y.jsxs("label",{className:"flex items-center text-xs",children:[y.jsx("input",{type:"checkbox",checked:ue.horarios.includes(H),onChange:Ee=>oe(je=>({...je,horarios:Ee.target.checked?[...je.horarios,H]:je.horarios.filter(Be=>Be!==H)})),className:"mr-1"}),H]},H))}),y.jsxs("div",{className:"flex gap-2 mt-2",children:[y.jsx("button",{onClick:()=>ne(!1),className:"px-2 py-1 bg-gray-400 text-white rounded text-xs",children:"Cancelar"}),y.jsx("button",{onClick:hr,className:"px-2 py-1 bg-green-600 text-white rounded text-xs",children:"Salvar"})]})]})})]}),n==="dashboard"&&y.jsxs("section",{className:"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm w-full",children:[y.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"font-bold text-lg",children:"Dashboard"}),y.jsx("p",{className:"text-xs text-gray-500",children:"Relatrios financeiros e operacionais (reservas pagas)."})]}),y.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[y.jsxs("label",{className:"text-xs text-gray-600",children:["De:",y.jsx("input",{type:"date",value:_,onChange:H=>E(H.target.value),className:"border px-2 py-1 rounded ml-2 text-xs"})]}),y.jsxs("label",{className:"text-xs text-gray-600",children:["At:",y.jsx("input",{type:"date",value:x,onChange:H=>N(H.target.value),className:"border px-2 py-1 rounded ml-2 text-xs"})]}),y.jsx("button",{onClick:()=>Un(_,x),className:"bg-blue-600 text-white px-3 py-2 rounded text-xs",children:"Atualizar"}),y.jsx("button",{onClick:Ge,className:"bg-gray-800 text-white px-3 py-2 rounded text-xs",children:"Exportar PDF"})]})]}),B?y.jsx("div",{className:"text-sm text-gray-500",children:"Carregando dados..."}):le?y.jsx("div",{className:"text-sm text-red-600",children:le}):(()=>{const H=C.filter(K=>K.status==="pago"),Ee=H.reduce((K,ce)=>K+(ce.valor??0),0),je=H.length,Be=H.reduce((K,ce)=>K+an(ce),0),nt=je?Ee/je:0,Ze=new Map;for(const K of H){const ce=K.atividade||"Sem atividade",Ae=Ze.get(ce)??{quantidade:0,receita:0};Ze.set(ce,{quantidade:Ae.quantidade+1,receita:Ae.receita+(K.valor??0)})}const It=[...Ze.entries()].map(([K,ce])=>({atividade:K,...ce})).sort((K,ce)=>ce.receita-K.receita),Ve=Math.max(1,...It.map(K=>K.receita)),wn=new Map;for(const K of H){const ce=K.cpf||K.telefone||K.nome||"cliente",Ae=wn.get(ce)??{nome:K.nome,quantidade:0,receita:0};wn.set(ce,{nome:Ae.nome||K.nome,quantidade:Ae.quantidade+1,receita:Ae.receita+(K.valor??0)})}const V=[...wn.entries()].map(([K,ce])=>({clienteId:K,...ce})).sort((K,ce)=>ce.receita-K.receita).slice(0,10),G=new Map;for(const K of H){const ce=K.data||"sem-data",Ae=G.get(ce)??{quantidade:0,receita:0};G.set(ce,{quantidade:Ae.quantidade+1,receita:Ae.receita+(K.valor??0)})}const $=[...G.entries()].map(([K,ce])=>({data:K,...ce})).sort((K,ce)=>K.data.localeCompare(ce.data));return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[y.jsxs("div",{className:"bg-gray-50 rounded p-3 border",children:[y.jsx("div",{className:"text-xs text-gray-500",children:"Receita (pagas)"}),y.jsx("div",{className:"text-xl font-bold",children:Ee.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),y.jsxs("div",{className:"bg-gray-50 rounded p-3 border",children:[y.jsx("div",{className:"text-xs text-gray-500",children:"Reservas pagas"}),y.jsx("div",{className:"text-xl font-bold",children:je})]}),y.jsxs("div",{className:"bg-gray-50 rounded p-3 border",children:[y.jsx("div",{className:"text-xs text-gray-500",children:"Participantes"}),y.jsx("div",{className:"text-xl font-bold",children:Be})]}),y.jsxs("div",{className:"bg-gray-50 rounded p-3 border",children:[y.jsx("div",{className:"text-xs text-gray-500",children:"Ticket mdio"}),y.jsx("div",{className:"text-xl font-bold",children:nt.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold mb-3",children:"Receita por atividade"}),It.length===0?y.jsx("div",{className:"text-sm text-gray-500",children:"Sem dados no perodo."}):y.jsx("div",{className:"space-y-2",children:It.map(K=>y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-40 text-xs text-gray-700 truncate",title:K.atividade,children:K.atividade}),y.jsx("div",{className:"flex-1 bg-gray-100 h-3 rounded",children:y.jsx("div",{className:"bg-green-600 h-3 rounded",style:{width:`${K.receita/Ve*100}%`}})}),y.jsx("div",{className:"w-28 text-right text-xs",children:K.receita.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},K.atividade))})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold mb-3",children:"Top clientes (por receita)"}),V.length===0?y.jsx("div",{className:"text-sm text-gray-500",children:"Sem dados no perodo."}):y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-2 py-2 text-left",children:"Cliente"}),y.jsx("th",{className:"px-2 py-2 text-left",children:"CPF/Telefone"}),y.jsx("th",{className:"px-2 py-2 text-right",children:"Reservas"}),y.jsx("th",{className:"px-2 py-2 text-right",children:"Receita"})]})}),y.jsx("tbody",{children:V.map(K=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-2 py-2",children:K.nome||"-"}),y.jsx("td",{className:"px-2 py-2",children:K.clienteId}),y.jsx("td",{className:"px-2 py-2 text-right",children:K.quantidade}),y.jsx("td",{className:"px-2 py-2 text-right",children:K.receita.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},K.clienteId))})]})})]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"font-semibold mb-3",children:"Receita por dia"}),$.length===0?y.jsx("div",{className:"text-sm text-gray-500",children:"Sem dados no perodo."}):y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-2 py-2 text-left",children:"Data"}),y.jsx("th",{className:"px-2 py-2 text-right",children:"Reservas"}),y.jsx("th",{className:"px-2 py-2 text-right",children:"Receita"})]})}),y.jsx("tbody",{children:$.map(K=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-2 py-2",children:et(K.data)}),y.jsx("td",{className:"px-2 py-2 text-right",children:K.quantidade}),y.jsx("td",{className:"px-2 py-2 text-right",children:K.receita.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},K.data))})]})})]})]})})()]}),n==="pesquisa"&&y.jsxs("section",{className:"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm w-full",children:[y.jsx("h2",{className:"font-bold mb-4",children:"Pesquisa de Clientes"}),y.jsxs("div",{className:"flex gap-2 mb-4",children:[y.jsx("input",{type:"text",value:Se,onChange:H=>mt(H.target.value),className:"border px-3 py-2 rounded w-full",placeholder:"Digite nome, CPF ou telefone",onKeyDown:H=>H.key==="Enter"&&ir()}),y.jsx("button",{onClick:ir,className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Pesquisar"})]}),Xe?y.jsx("div",{className:"text-sm text-gray-500",children:"Buscando..."}):it.length>0?y.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-2 py-2 text-left",children:"Nome"}),y.jsx("th",{className:"px-2 py-2 text-left",children:"CPF"}),y.jsx("th",{className:"px-2 py-2 text-left",children:"Telefone"}),y.jsx("th",{className:"px-2 py-2 text-left",children:"Data"}),y.jsx("th",{className:"px-2 py-2 text-left",children:"Atividade"})]})}),y.jsx("tbody",{children:it.map(H=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-2 py-1",children:H.nome}),y.jsx("td",{className:"px-2 py-1",children:H.cpf}),y.jsx("td",{className:"px-2 py-1",children:H.telefone}),y.jsx("td",{className:"px-2 py-1",children:H.data}),y.jsx("td",{className:"px-2 py-1",children:H.atividade})]},H.id))})]}):y.jsx("div",{className:"text-gray-500 text-sm",children:"Nenhum cliente encontrado."})]})]})]})}function aj(){return y.jsx(ij,{})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function sj(n,e,t,i){function s(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function f(_){try{g(i.next(_))}catch(E){c(E)}}function m(_){try{g(i.throw(_))}catch(E){c(E)}}function g(_){_.done?l(_.value):s(_.value).then(f,m)}g((i=i.apply(n,[])).next())})}function oj(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,s,l,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(g){return function(_){return m([g,_])}}function m(g){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,s&&(l=g[0]&2?s.return:g[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,g[1])).done)return l;switch(s=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,s=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(n,t)}catch(_){g=[6,_],s=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var el=function(){return el=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},el.apply(this,arguments)},VT=function(n){return{loading:n==null,value:n}},lj=function(){return function(n,e){switch(e.type){case"error":return el(el({},n),{error:e.error,loading:!1,value:void 0});case"reset":return VT(e.defaultValue);case"value":return el(el({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},uj=function(n){var e=n?n():void 0,t=U.useReducer(lj(),VT(e)),i=t[0],s=t[1],l=U.useCallback(function(){var m=n?n():void 0;s({type:"reset",defaultValue:m})},[n]),c=U.useCallback(function(m){s({type:"error",error:m})},[]),f=U.useCallback(function(m){s({type:"value",value:m})},[]);return U.useMemo(function(){return{error:i.error,loading:i.loading,reset:l,setError:c,setValue:f,value:i.value}},[i.error,i.loading,l,c,f,i.value])},cj=function(n,e){var t=uj(function(){return n.currentUser}),i=t.error,s=t.loading,l=t.setError,c=t.setValue,f=t.value;return U.useEffect(function(){var m=VM(n,function(g){return sj(void 0,void 0,void 0,function(){var _;return oj(this,function(E){switch(E.label){case 0:return[3,4];case 1:return E.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return E.sent(),[3,4];case 3:return _=E.sent(),l(_),[3,4];case 4:return c(g),[2]}})})},l);return function(){m()}},[n]),[f,s,i]};function dj({children:n}){const[e,t]=cj(sT),i=localStorage.getItem("tempAuth");return t?y.jsx("div",{children:"Carregando..."}):!e&&!i?y.jsx(BA,{to:"/login"}):y.jsx(y.Fragment,{children:n})}const hj=dR([{path:"/",element:y.jsx(M6,{})},{path:"/login",element:y.jsx(O6,{})},{path:"/admin",element:y.jsx(dj,{children:y.jsx(aj,{})})}]);yS.createRoot(document.getElementById("root")).render(y.jsx(Ne.StrictMode,{children:y.jsx(TR,{router:hj})}));
