(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();var Dk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gg={exports:{}},Lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function yS(){if(Ib)return Lu;Ib=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,i,l){var d=null;if(l!==void 0&&(d=""+l),i.key!==void 0&&(d=""+i.key),"key"in i){l={};for(var m in i)m!=="key"&&(l[m]=i[m])}else l=i;return i=l.ref,{$$typeof:n,type:a,key:d,ref:i!==void 0?i:null,props:l}}return Lu.Fragment=e,Lu.jsx=t,Lu.jsxs=t,Lu}var Pb;function vS(){return Pb||(Pb=1,gg.exports=yS()),gg.exports}var u=vS(),yg={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function xS(){if(Ob)return Vt;Ob=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.iterator;function E(P){return P===null||typeof P!="object"?null:(P=_&&P[_]||P["@@iterator"],typeof P=="function"?P:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,z={};function q(P,ie,_e){this.props=P,this.context=ie,this.refs=z,this.updater=_e||D}q.prototype.isReactComponent={},q.prototype.setState=function(P,ie){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ie,"setState")},q.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function K(){}K.prototype=q.prototype;function ge(P,ie,_e){this.props=P,this.context=ie,this.refs=z,this.updater=_e||D}var ae=ge.prototype=new K;ae.constructor=ge,O(ae,q.prototype),ae.isPureReactComponent=!0;var Re=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function k(P,ie,_e,me,De,Fe){return _e=Fe.ref,{$$typeof:n,type:P,key:ie,ref:_e!==void 0?_e:null,props:Fe}}function R(P,ie){return k(P.type,ie,void 0,void 0,void 0,P.props)}function I(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function M(P){var ie={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(_e){return ie[_e]})}var B=/\/+/g;function G(P,ie){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):ie.toString(36)}function V(){}function Te(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(V,V):(P.status="pending",P.then(function(ie){P.status==="pending"&&(P.status="fulfilled",P.value=ie)},function(ie){P.status==="pending"&&(P.status="rejected",P.reason=ie)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ve(P,ie,_e,me,De){var Fe=typeof P;(Fe==="undefined"||Fe==="boolean")&&(P=null);var $e=!1;if(P===null)$e=!0;else switch(Fe){case"bigint":case"string":case"number":$e=!0;break;case"object":switch(P.$$typeof){case n:case e:$e=!0;break;case b:return $e=P._init,ve($e(P._payload),ie,_e,me,De)}}if($e)return De=De(P),$e=me===""?"."+G(P,0):me,Re(De)?(_e="",$e!=null&&(_e=$e.replace(B,"$&/")+"/"),ve(De,ie,_e,"",function(ct){return ct})):De!=null&&(I(De)&&(De=R(De,_e+(De.key==null||P&&P.key===De.key?"":(""+De.key).replace(B,"$&/")+"/")+$e)),ie.push(De)),1;$e=0;var Mt=me===""?".":me+":";if(Re(P))for(var jt=0;jt<P.length;jt++)me=P[jt],Fe=Mt+G(me,jt),$e+=ve(me,ie,_e,Fe,De);else if(jt=E(P),typeof jt=="function")for(P=jt.call(P),jt=0;!(me=P.next()).done;)me=me.value,Fe=Mt+G(me,jt++),$e+=ve(me,ie,_e,Fe,De);else if(Fe==="object"){if(typeof P.then=="function")return ve(Te(P),ie,_e,me,De);throw ie=String(P),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return $e}function F(P,ie,_e){if(P==null)return P;var me=[],De=0;return ve(P,me,"","",function(Fe){return ie.call(_e,Fe,De++)}),me}function le(P){if(P._status===-1){var ie=P._result;ie=ie(),ie.then(function(_e){(P._status===0||P._status===-1)&&(P._status=1,P._result=_e)},function(_e){(P._status===0||P._status===-1)&&(P._status=2,P._result=_e)}),P._status===-1&&(P._status=0,P._result=ie)}if(P._status===1)return P._result.default;throw P._result}var ce=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Ae(){}return Vt.Children={map:F,forEach:function(P,ie,_e){F(P,function(){ie.apply(this,arguments)},_e)},count:function(P){var ie=0;return F(P,function(){ie++}),ie},toArray:function(P){return F(P,function(ie){return ie})||[]},only:function(P){if(!I(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Vt.Component=q,Vt.Fragment=t,Vt.Profiler=i,Vt.PureComponent=ge,Vt.StrictMode=a,Vt.Suspense=p,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return fe.H.useMemoCache(P)}},Vt.cache=function(P){return function(){return P.apply(null,arguments)}},Vt.cloneElement=function(P,ie,_e){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var me=O({},P.props),De=P.key,Fe=void 0;if(ie!=null)for($e in ie.ref!==void 0&&(Fe=void 0),ie.key!==void 0&&(De=""+ie.key),ie)!U.call(ie,$e)||$e==="key"||$e==="__self"||$e==="__source"||$e==="ref"&&ie.ref===void 0||(me[$e]=ie[$e]);var $e=arguments.length-2;if($e===1)me.children=_e;else if(1<$e){for(var Mt=Array($e),jt=0;jt<$e;jt++)Mt[jt]=arguments[jt+2];me.children=Mt}return k(P.type,De,void 0,void 0,Fe,me)},Vt.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Vt.createElement=function(P,ie,_e){var me,De={},Fe=null;if(ie!=null)for(me in ie.key!==void 0&&(Fe=""+ie.key),ie)U.call(ie,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(De[me]=ie[me]);var $e=arguments.length-2;if($e===1)De.children=_e;else if(1<$e){for(var Mt=Array($e),jt=0;jt<$e;jt++)Mt[jt]=arguments[jt+2];De.children=Mt}if(P&&P.defaultProps)for(me in $e=P.defaultProps,$e)De[me]===void 0&&(De[me]=$e[me]);return k(P,Fe,void 0,void 0,null,De)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(P){return{$$typeof:m,render:P}},Vt.isValidElement=I,Vt.lazy=function(P){return{$$typeof:b,_payload:{_status:-1,_result:P},_init:le}},Vt.memo=function(P,ie){return{$$typeof:g,type:P,compare:ie===void 0?null:ie}},Vt.startTransition=function(P){var ie=fe.T,_e={};fe.T=_e;try{var me=P(),De=fe.S;De!==null&&De(_e,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Ae,ce)}catch(Fe){ce(Fe)}finally{fe.T=ie}},Vt.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Vt.use=function(P){return fe.H.use(P)},Vt.useActionState=function(P,ie,_e){return fe.H.useActionState(P,ie,_e)},Vt.useCallback=function(P,ie){return fe.H.useCallback(P,ie)},Vt.useContext=function(P){return fe.H.useContext(P)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(P,ie){return fe.H.useDeferredValue(P,ie)},Vt.useEffect=function(P,ie,_e){var me=fe.H;if(typeof _e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(P,ie)},Vt.useId=function(){return fe.H.useId()},Vt.useImperativeHandle=function(P,ie,_e){return fe.H.useImperativeHandle(P,ie,_e)},Vt.useInsertionEffect=function(P,ie){return fe.H.useInsertionEffect(P,ie)},Vt.useLayoutEffect=function(P,ie){return fe.H.useLayoutEffect(P,ie)},Vt.useMemo=function(P,ie){return fe.H.useMemo(P,ie)},Vt.useOptimistic=function(P,ie){return fe.H.useOptimistic(P,ie)},Vt.useReducer=function(P,ie,_e){return fe.H.useReducer(P,ie,_e)},Vt.useRef=function(P){return fe.H.useRef(P)},Vt.useState=function(P){return fe.H.useState(P)},Vt.useSyncExternalStore=function(P,ie,_e){return fe.H.useSyncExternalStore(P,ie,_e)},Vt.useTransition=function(){return fe.H.useTransition()},Vt.version="19.1.0",Vt}var kb;function j0(){return kb||(kb=1,yg.exports=xS()),yg.exports}var T=j0();const ke=nm(T);var vg={exports:{}},Uu={},xg={exports:{}},bg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function bS(){return Vb||(Vb=1,function(n){function e(F,le){var ce=F.length;F.push(le);e:for(;0<ce;){var Ae=ce-1>>>1,P=F[Ae];if(0<i(P,le))F[Ae]=le,F[ce]=P,ce=Ae;else break e}}function t(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var le=F[0],ce=F.pop();if(ce!==le){F[0]=ce;e:for(var Ae=0,P=F.length,ie=P>>>1;Ae<ie;){var _e=2*(Ae+1)-1,me=F[_e],De=_e+1,Fe=F[De];if(0>i(me,ce))De<P&&0>i(Fe,me)?(F[Ae]=Fe,F[De]=ce,Ae=De):(F[Ae]=me,F[_e]=ce,Ae=_e);else if(De<P&&0>i(Fe,ce))F[Ae]=Fe,F[De]=ce,Ae=De;else break e}}return le}function i(F,le){var ce=F.sortIndex-le.sortIndex;return ce!==0?ce:F.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,m=d.now();n.unstable_now=function(){return d.now()-m}}var p=[],g=[],b=1,_=null,E=3,D=!1,O=!1,z=!1,q=!1,K=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function Re(F){for(var le=t(g);le!==null;){if(le.callback===null)a(g);else if(le.startTime<=F)a(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function fe(F){if(z=!1,Re(F),!O)if(t(p)!==null)O=!0,U||(U=!0,G());else{var le=t(g);le!==null&&ve(fe,le.startTime-F)}}var U=!1,k=-1,R=5,I=-1;function M(){return q?!0:!(n.unstable_now()-I<R)}function B(){if(q=!1,U){var F=n.unstable_now();I=F;var le=!0;try{e:{O=!1,z&&(z=!1,ge(k),k=-1),D=!0;var ce=E;try{t:{for(Re(F),_=t(p);_!==null&&!(_.expirationTime>F&&M());){var Ae=_.callback;if(typeof Ae=="function"){_.callback=null,E=_.priorityLevel;var P=Ae(_.expirationTime<=F);if(F=n.unstable_now(),typeof P=="function"){_.callback=P,Re(F),le=!0;break t}_===t(p)&&a(p),Re(F)}else a(p);_=t(p)}if(_!==null)le=!0;else{var ie=t(g);ie!==null&&ve(fe,ie.startTime-F),le=!1}}break e}finally{_=null,E=ce,D=!1}le=void 0}}finally{le?G():U=!1}}}var G;if(typeof ae=="function")G=function(){ae(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Te=V.port2;V.port1.onmessage=B,G=function(){Te.postMessage(null)}}else G=function(){K(B,0)};function ve(F,le){k=K(function(){F(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(F){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var ce=E;E=le;try{return F()}finally{E=ce}},n.unstable_requestPaint=function(){q=!0},n.unstable_runWithPriority=function(F,le){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ce=E;E=F;try{return le()}finally{E=ce}},n.unstable_scheduleCallback=function(F,le,ce){var Ae=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ae+ce:Ae):ce=Ae,F){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ce+P,F={id:b++,callback:le,priorityLevel:F,startTime:ce,expirationTime:P,sortIndex:-1},ce>Ae?(F.sortIndex=ce,e(g,F),t(p)===null&&F===t(g)&&(z?(ge(k),k=-1):z=!0,ve(fe,ce-Ae))):(F.sortIndex=P,e(p,F),O||D||(O=!0,U||(U=!0,G()))),F},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(F){var le=E;return function(){var ce=E;E=le;try{return F.apply(this,arguments)}finally{E=ce}}}}(bg)),bg}var Lb;function _S(){return Lb||(Lb=1,xg.exports=bS()),xg.exports}var _g={exports:{}},Ea={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function wS(){if(Ub)return Ea;Ub=1;var n=j0();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(p,g,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:p,containerInfo:g,implementation:b}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ea.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ea.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,b)},Ea.flushSync=function(p){var g=d.T,b=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=g,a.p=b,a.d.f()}},Ea.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Ea.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Ea.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,_=m(b,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:D}):b==="script"&&a.d.X(p,{crossOrigin:_,integrity:E,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ea.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Ea.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,_=m(b,g.crossOrigin);a.d.L(p,b,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ea.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Ea.requestFormReset=function(p){a.d.r(p)},Ea.unstable_batchedUpdates=function(p,g){return p(g)},Ea.useFormState=function(p,g,b){return d.H.useFormState(p,g,b)},Ea.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ea.version="19.1.0",Ea}var zb;function S1(){if(zb)return _g.exports;zb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_g.exports=wS(),_g.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function ES(){if(Bb)return Uu;Bb=1;var n=_S(),e=j0(),t=S1();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function d(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(a(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(a(188));return s!==r?null:r}for(var o=r,c=s;;){var f=o.return;if(f===null)break;var y=f.alternate;if(y===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===o)return m(f),r;if(y===c)return m(f),s;y=y.sibling}throw Error(a(188))}if(o.return!==c.return)o=f,c=y;else{for(var N=!1,S=f.child;S;){if(S===o){N=!0,o=f,c=y;break}if(S===c){N=!0,c=f,o=y;break}S=S.sibling}if(!N){for(S=y.child;S;){if(S===o){N=!0,o=y,c=f;break}if(S===c){N=!0,c=y,o=f;break}S=S.sibling}if(!N)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),ge=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=B&&r[B]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function Te(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case q:return"Profiler";case z:return"StrictMode";case fe:return"Suspense";case U:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case ae:return(r.displayName||"Context")+".Provider";case ge:return(r._context.displayName||"Context")+".Consumer";case Re:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return s=r.displayName||null,s!==null?s:Te(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return Te(r(s))}catch{}}return null}var ve=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ae=[],P=-1;function ie(r){return{current:r}}function _e(r){0>P||(r.current=Ae[P],Ae[P]=null,P--)}function me(r,s){P++,Ae[P]=r.current,r.current=s}var De=ie(null),Fe=ie(null),$e=ie(null),Mt=ie(null);function jt(r,s){switch(me($e,s),me(Fe,r),me(De,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?ob(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=ob(s),r=lb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}_e(De),me(De,r)}function ct(){_e(De),_e(Fe),_e($e)}function Nt(r){r.memoizedState!==null&&me(Mt,r);var s=De.current,o=lb(s,r.type);s!==o&&(me(Fe,r),me(De,o))}function cn(r){Fe.current===r&&(_e(De),_e(Fe)),Mt.current===r&&(_e(Mt),Iu._currentValue=ce)}var An=Object.prototype.hasOwnProperty,We=n.unstable_scheduleCallback,wt=n.unstable_cancelCallback,ya=n.unstable_shouldYield,ka=n.unstable_requestPaint,Pn=n.unstable_now,Qr=n.unstable_getCurrentPriorityLevel,gr=n.unstable_ImmediatePriority,Ar=n.unstable_UserBlockingPriority,Kr=n.unstable_NormalPriority,or=n.unstable_LowPriority,Vn=n.unstable_IdlePriority,Xr=n.log,va=n.unstable_setDisableYieldValue,It=null,Ke=null;function pn(r){if(typeof Xr=="function"&&va(r),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(It,r)}catch{}}var Rn=Math.clz32?Math.clz32:Rr,ia=Math.log,Kn=Math.LN2;function Rr(r){return r>>>=0,r===0?32:31-(ia(r)/Kn|0)|0}var nt=256,lr=4194304;function Xn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Lr(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var f=0,y=r.suspendedLanes,N=r.pingedLanes;r=r.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?f=Xn(c):(N&=S,N!==0?f=Xn(N):o||(o=S&~r,o!==0&&(f=Xn(o))))):(S=c&~y,S!==0?f=Xn(S):N!==0?f=Xn(N):o||(o=c&~r,o!==0&&(f=Xn(o)))),f===0?0:s!==0&&s!==f&&(s&y)===0&&(y=f&-f,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:f}function yr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function dt(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lt(){var r=nt;return nt<<=1,(nt&4194048)===0&&(nt=256),r}function Et(){var r=lr;return lr<<=1,(lr&62914560)===0&&(lr=4194304),r}function wn(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function gn(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function vr(r,s,o,c,f,y){var N=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,H=r.expirationTimes,se=r.hiddenUpdates;for(o=N&~o;0<o;){var be=31-Rn(o),Se=1<<be;S[be]=0,H[be]=-1;var de=se[be];if(de!==null)for(se[be]=null,be=0;be<de.length;be++){var he=de[be];he!==null&&(he.lane&=-536870913)}o&=~Se}c!==0&&Bt(r,c,0),y!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=y&~(N&~s))}function Bt(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Rn(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function xn(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Rn(o),f=1<<c;f&s|r[c]&s&&(r[c]|=s),o&=~f}}function Tt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ur(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function $(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:Cb(r.type))}function J(r,s){var o=le.p;try{return le.p=r,s()}finally{le.p=o}}var te=Math.random().toString(36).slice(2),ye="__reactFiber$"+te,je="__reactProps$"+te,Ie="__reactContainer$"+te,Qe="__reactEvents$"+te,Ve="__reactListeners$"+te,Ye="__reactHandles$"+te,Be="__reactResources$"+te,st="__reactMarker$"+te;function Xe(r){delete r[ye],delete r[je],delete r[Qe],delete r[Ve],delete r[Ye]}function it(r){var s=r[ye];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Ie]||o[ye]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=hb(r);r!==null;){if(o=r[ye])return o;r=hb(r)}return s}r=o,o=r.parentNode}return null}function Ze(r){if(r=r[ye]||r[Ie]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function vt(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function Dt(r){var s=r[Be];return s||(s=r[Be]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ot(r){r[st]=!0}var Je=new Set,St={};function Bn(r,s){xr(r,s),xr(r+"Capture",s)}function xr(r,s){for(St[r]=s,r=0;r<s.length;r++)Je.add(s[r])}var Zn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qn={},tn={};function ja(r){return An.call(tn,r)?!0:An.call(qn,r)?!1:Zn.test(r)?tn[r]=!0:(qn[r]=!0,!1)}function On(r,s,o){if(ja(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function ht(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function ut(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var Ln,cr;function Jn(r){if(Ln===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ln=s&&s[1]||"",cr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ln+r+cr}var ur=!1;function He(r,s){if(!r||ur)return"";ur=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(he){var de=he}Reflect.construct(r,[],Se)}else{try{Se.call()}catch(he){de=he}r.call(Se.prototype)}}else{try{throw Error()}catch(he){de=he}(Se=r())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(he){if(he&&de&&typeof he.stack=="string")return[he.stack,de.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),N=y[0],S=y[1];if(N&&S){var H=N.split(`
`),se=S.split(`
`);for(f=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;f<se.length&&!se[f].includes("DetermineComponentFrameRoot");)f++;if(c===H.length||f===se.length)for(c=H.length-1,f=se.length-1;1<=c&&0<=f&&H[c]!==se[f];)f--;for(;1<=c&&0<=f;c--,f--)if(H[c]!==se[f]){if(c!==1||f!==1)do if(c--,f--,0>f||H[c]!==se[f]){var be=`
`+H[c].replace(" at new "," at ");return r.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",r.displayName)),be}while(1<=c&&0<=f);break}}}finally{ur=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Jn(o):""}function an(r){switch(r.tag){case 26:case 27:case 5:return Jn(r.type);case 16:return Jn("Lazy");case 13:return Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return He(r.type,!1);case 11:return He(r.type.render,!1);case 1:return He(r.type,!0);case 31:return Jn("Activity");default:return""}}function Da(r){try{var s="";do s+=an(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function En(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ma(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xa(r){var s=Ma(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(N){c=""+N,y.call(this,N)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function er(r){r._valueTracker||(r._valueTracker=xa(r))}function dr(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Ma(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function jr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Zr=/[\n"\\]/g;function bn(r){return r.replace(Zr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function hr(r,s,o,c,f,y,N,S){r.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.type=N:r.removeAttribute("type"),s!=null?N==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+En(s)):r.value!==""+En(s)&&(r.value=""+En(s)):N!=="submit"&&N!=="reset"||r.removeAttribute("value"),s!=null?$a(r,N,En(s)):o!=null?$a(r,N,En(o)):c!=null&&r.removeAttribute("value"),f==null&&y!=null&&(r.defaultChecked=!!y),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+En(S):r.removeAttribute("name")}function _s(r,s,o,c,f,y,N,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+En(o):"",s=s!=null?""+En(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=S?r.checked:!!c,r.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(r.name=N)}function $a(r,s,o){s==="number"&&jr(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ba(r,s,o,c){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&c&&(r[o].defaultSelected=!0)}else{for(o=""+En(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function hn(r,s,o){if(s!=null&&(s=""+En(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+En(o):""}function Va(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(a(92));if(ve(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=En(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function br(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ya(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||is.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function os(r,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&o[f]!==c&&Ya(r,f,c)}else for(var y in s)s.hasOwnProperty(y)&&Ya(r,y,s[y])}function Bs(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(r){return Hi.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Wa=null;function _r(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ft=null,fr=null;function ls(r){var s=Ze(r);if(s&&(r=s.stateNode)){var o=r[je]||null;e:switch(r=s.stateNode,s.type){case"input":if(hr(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var f=c[je]||null;if(!f)throw Error(a(90));hr(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&dr(c)}break e;case"textarea":hn(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ba(r,!!o.multiple,s,!1)}}}var _a=!1;function Hs(r,s,o){if(_a)return r(s,o);_a=!0;try{var c=r(s);return c}finally{if(_a=!1,(ft!==null||fr!==null)&&(Ah(),ft&&(s=ft,r=fr,fr=ft=null,ls(s),r)))for(s=0;s<r.length;s++)ls(r[s])}}function wr(r,s){var o=r.stateNode;if(o===null)return null;var c=o[je]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=!1;if(zr)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){oa=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{oa=!1}var la=null,Ga=null,Ut=null;function A(){if(Ut)return Ut;var r,s=Ga,o=s.length,c,f="value"in la?la.value:la.textContent,y=f.length;for(r=0;r<o&&s[r]===f[r];r++);var N=o-r;for(c=1;c<=N&&s[o-c]===f[y-c];c++);return Ut=f.slice(r,1<c?1-c:void 0)}function Y(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function oe(){return!0}function ue(){return!1}function we(r){function s(o,c,f,y,N){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=y,this.target=N,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?oe:ue,this.isPropagationStopped=ue,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=oe)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=oe)},persist:function(){},isPersistent:oe}),s}var xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Le=we(xe),gt=b({},xe,{view:0,detail:0}),ze=we(gt),tt,yn,Ft,Jr=b({},gt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ft&&(Ft&&r.type==="mousemove"?(tt=r.screenX-Ft.screenX,yn=r.screenY-Ft.screenY):yn=tt=0,Ft=r),tt)},movementY:function(r){return"movementY"in r?r.movementY:yn}}),Fn=we(Jr),Es=b({},Jr,{dataTransfer:0}),Ua=we(Es),$n=b({},gt,{relatedTarget:0}),Dr=we($n),Ns=b({},xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ts=we(Ns),pi=b({},xe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ss=we(pi),Dl=b({},xe,{data:0}),$o=we(Dl),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gi(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Ml[r])?!!s[r]:!1}function $s(){return gi}var Er=b({},gt,{key:function(r){if(r.key){var s=qs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Y(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Yo[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(r){return r.type==="keypress"?Y(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Y(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),yi=we(Er),qi=b({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=we(qi),Qa=b({},gt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),Il=we(Qa),Cs=b({},xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),As=we(Cs),Go=b({},Jr,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$i=we(Go),Br=b({},xe,{newState:0,oldState:0}),Pl=we(Br),Ol=[9,13,27,32],cs=zr&&"CompositionEvent"in window,h=null;zr&&"documentMode"in document&&(h=document.documentMode);var x=zr&&"TextEvent"in window&&!h,w=zr&&(!cs||h&&8<h&&11>=h),j=" ",ne=!1;function pe(r,s){switch(r){case"keyup":return Ol.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Me(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var $t=!1;function tr(r,s){switch(r){case"compositionend":return Me(s);case"keypress":return s.which!==32?null:(ne=!0,j);case"textInput":return r=s.data,r===j&&ne?null:r;default:return null}}function Xt(r,s){if($t)return r==="compositionend"||!cs&&pe(r,s)?(r=A(),Ut=Ga=la=null,$t=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Hn[r.type]:s==="textarea"}function Rs(r,s,o,c){ft?fr?fr.push(c):fr=[c]:ft=c,s=Ph(s,"onChange"),0<s.length&&(o=new Le("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Fr=null,us=null;function Qo(r){nb(r,0)}function kl(r){var s=vt(r);if(dr(s))return r}function Fd(r,s){if(r==="change")return s}var Hd=!1;if(zr){var Jc;if(zr){var eu="oninput"in document;if(!eu){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),eu=typeof qd.oninput=="function"}Jc=eu}else Jc=!1;Hd=Jc&&(!document.documentMode||9<document.documentMode)}function $d(){Fr&&(Fr.detachEvent("onpropertychange",Yd),us=Fr=null)}function Yd(r){if(r.propertyName==="value"&&kl(us)){var s=[];Rs(s,us,r,_r(r)),Hs(Qo,s)}}function Rm(r,s,o){r==="focusin"?($d(),Fr=s,us=o,Fr.attachEvent("onpropertychange",Yd)):r==="focusout"&&$d()}function jm(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return kl(us)}function Dm(r,s){if(r==="click")return kl(s)}function Mm(r,s){if(r==="input"||r==="change")return kl(s)}function Wd(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ia=typeof Object.is=="function"?Object.is:Wd;function Ko(r,s){if(Ia(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!An.call(s,f)||!Ia(r[f],s[f]))return!1}return!0}function Gd(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Qd(r,s){var o=Gd(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Gd(o)}}function v(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?v(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function C(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=jr(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=jr(r.document)}return s}function L(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var W=zr&&"documentMode"in document&&11>=document.documentMode,ee=null,X=null,Oe=null,et=!1;function nn(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;et||ee==null||ee!==jr(c)||(c=ee,"selectionStart"in c&&L(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Oe&&Ko(Oe,c)||(Oe=c,c=Ph(X,"onSelect"),0<c.length&&(s=new Le("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=ee)))}function ot(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Zt={animationend:ot("Animation","AnimationEnd"),animationiteration:ot("Animation","AnimationIteration"),animationstart:ot("Animation","AnimationStart"),transitionrun:ot("Transition","TransitionRun"),transitionstart:ot("Transition","TransitionStart"),transitioncancel:ot("Transition","TransitionCancel"),transitionend:ot("Transition","TransitionEnd")},sn={},Wn={};zr&&(Wn=document.createElement("div").style,"AnimationEvent"in window||(delete Zt.animationend.animation,delete Zt.animationiteration.animation,delete Zt.animationstart.animation),"TransitionEvent"in window||delete Zt.transitionend.transition);function un(r){if(sn[r])return sn[r];if(!Zt[r])return r;var s=Zt[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Wn)return sn[r]=s[o];return r}var nr=un("animationend"),Gt=un("animationiteration"),Gn=un("animationstart"),fn=un("transitionrun"),kt=un("transitionstart"),Pe=un("transitioncancel"),mt=un("transitionend"),rn=new Map,Ct="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ct.push("scrollEnd");function zt(r,s){rn.set(r,s),Bn(s,[r])}var Hr=new WeakMap;function ds(r,s){if(typeof r=="object"&&r!==null){var o=Hr.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Da(s)},Hr.set(r,s),s)}return{value:r,source:s,stack:Da(s)}}var hs=[],Vl=0,Im=0;function Kd(){for(var r=Vl,s=Im=Vl=0;s<r;){var o=hs[s];hs[s++]=null;var c=hs[s];hs[s++]=null;var f=hs[s];hs[s++]=null;var y=hs[s];if(hs[s++]=null,c!==null&&f!==null){var N=c.pending;N===null?f.next=f:(f.next=N.next,N.next=f),c.pending=f}y!==0&&zy(o,f,y)}}function Xd(r,s,o,c){hs[Vl++]=r,hs[Vl++]=s,hs[Vl++]=o,hs[Vl++]=c,Im|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Pm(r,s,o,c){return Xd(r,s,o,c),Zd(r)}function Ll(r,s){return Xd(r,null,null,s),Zd(r)}function zy(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var f=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(f=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,f&&s!==null&&(f=31-Rn(o),r=y.hiddenUpdates,c=r[f],c===null?r[f]=[s]:c.push(s),s.lane=o|536870912),y):null}function Zd(r){if(50<Tu)throw Tu=0,zp=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Ul={};function nT(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ka(r,s,o,c){return new nT(r,s,o,c)}function Om(r){return r=r.prototype,!(!r||!r.isReactComponent)}function vi(r,s){var o=r.alternate;return o===null?(o=Ka(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function By(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Jd(r,s,o,c,f,y){var N=0;if(c=r,typeof r=="function")Om(r)&&(N=1);else if(typeof r=="string")N=aS(r,o,De.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Ka(31,o,s,f),r.elementType=I,r.lanes=y,r;case O:return Xo(o.children,f,y,s);case z:N=8,f|=24;break;case q:return r=Ka(12,o,s,f|2),r.elementType=q,r.lanes=y,r;case fe:return r=Ka(13,o,s,f),r.elementType=fe,r.lanes=y,r;case U:return r=Ka(19,o,s,f),r.elementType=U,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case K:case ae:N=10;break e;case ge:N=9;break e;case Re:N=11;break e;case k:N=14;break e;case R:N=16,c=null;break e}N=29,o=Error(a(130,r===null?"null":typeof r,"")),c=null}return s=Ka(N,o,s,f),s.elementType=r,s.type=c,s.lanes=y,s}function Xo(r,s,o,c){return r=Ka(7,r,c,s),r.lanes=o,r}function km(r,s,o){return r=Ka(6,r,null,s),r.lanes=o,r}function Vm(r,s,o){return s=Ka(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var zl=[],Bl=0,eh=null,th=0,fs=[],ms=0,Zo=null,xi=1,bi="";function Jo(r,s){zl[Bl++]=th,zl[Bl++]=eh,eh=r,th=s}function Fy(r,s,o){fs[ms++]=xi,fs[ms++]=bi,fs[ms++]=Zo,Zo=r;var c=xi;r=bi;var f=32-Rn(c)-1;c&=~(1<<f),o+=1;var y=32-Rn(s)+f;if(30<y){var N=f-f%5;y=(c&(1<<N)-1).toString(32),c>>=N,f-=N,xi=1<<32-Rn(s)+f|o<<f|c,bi=y+r}else xi=1<<y|o<<f|c,bi=r}function Lm(r){r.return!==null&&(Jo(r,1),Fy(r,1,0))}function Um(r){for(;r===eh;)eh=zl[--Bl],zl[Bl]=null,th=zl[--Bl],zl[Bl]=null;for(;r===Zo;)Zo=fs[--ms],fs[ms]=null,bi=fs[--ms],fs[ms]=null,xi=fs[--ms],fs[ms]=null}var Pa=null,mr=null,vn=!1,el=null,Ys=!1,zm=Error(a(519));function tl(r){var s=Error(a(418,""));throw ru(ds(s,r)),zm}function Hy(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[ye]=r,s[je]=c,o){case"dialog":Kt("cancel",s),Kt("close",s);break;case"iframe":case"object":case"embed":Kt("load",s);break;case"video":case"audio":for(o=0;o<Cu.length;o++)Kt(Cu[o],s);break;case"source":Kt("error",s);break;case"img":case"image":case"link":Kt("error",s),Kt("load",s);break;case"details":Kt("toggle",s);break;case"input":Kt("invalid",s),_s(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),er(s);break;case"select":Kt("invalid",s);break;case"textarea":Kt("invalid",s),Va(s,c.value,c.defaultValue,c.children),er(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||ib(s.textContent,o)?(c.popover!=null&&(Kt("beforetoggle",s),Kt("toggle",s)),c.onScroll!=null&&Kt("scroll",s),c.onScrollEnd!=null&&Kt("scrollend",s),c.onClick!=null&&(s.onclick=Oh),s=!0):s=!1,s||tl(r)}function qy(r){for(Pa=r.return;Pa;)switch(Pa.tag){case 5:case 13:Ys=!1;return;case 27:case 3:Ys=!0;return;default:Pa=Pa.return}}function tu(r){if(r!==Pa)return!1;if(!vn)return qy(r),vn=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||ng(r.type,r.memoizedProps)),o=!o),o&&mr&&tl(r),qy(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){mr=Ds(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}mr=null}}else s===27?(s=mr,oo(r.type)?(r=ig,ig=null,mr=r):mr=s):mr=Pa?Ds(r.stateNode.nextSibling):null;return!0}function nu(){mr=Pa=null,vn=!1}function $y(){var r=el;return r!==null&&(Fa===null?Fa=r:Fa.push.apply(Fa,r),el=null),r}function ru(r){el===null?el=[r]:el.push(r)}var Bm=ie(null),nl=null,_i=null;function Yi(r,s,o){me(Bm,s._currentValue),s._currentValue=o}function wi(r){r._currentValue=Bm.current,_e(Bm)}function Fm(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function Hm(r,s,o,c){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var y=f.dependencies;if(y!==null){var N=f.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=f;for(var H=0;H<s.length;H++)if(S.context===s[H]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),Fm(y.return,o,r),c||(N=null);break e}y=S.next}}else if(f.tag===18){if(N=f.return,N===null)throw Error(a(341));N.lanes|=o,y=N.alternate,y!==null&&(y.lanes|=o),Fm(N,o,r),N=null}else N=f.child;if(N!==null)N.return=f;else for(N=f;N!==null;){if(N===r){N=null;break}if(f=N.sibling,f!==null){f.return=N.return,N=f;break}N=N.return}f=N}}function au(r,s,o,c){r=null;for(var f=s,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var N=f.alternate;if(N===null)throw Error(a(387));if(N=N.memoizedProps,N!==null){var S=f.type;Ia(f.pendingProps.value,N.value)||(r!==null?r.push(S):r=[S])}}else if(f===Mt.current){if(N=f.alternate,N===null)throw Error(a(387));N.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Iu):r=[Iu])}f=f.return}r!==null&&Hm(s,r,o,c),s.flags|=262144}function nh(r){for(r=r.firstContext;r!==null;){if(!Ia(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function rl(r){nl=r,_i=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function wa(r){return Yy(nl,r)}function rh(r,s){return nl===null&&rl(r),Yy(r,s)}function Yy(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},_i===null){if(r===null)throw Error(a(308));_i=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else _i=_i.next=s;return o}var rT=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},aT=n.unstable_scheduleCallback,sT=n.unstable_NormalPriority,qr={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qm(){return{controller:new rT,data:new Map,refCount:0}}function su(r){r.refCount--,r.refCount===0&&aT(sT,function(){r.controller.abort()})}var iu=null,$m=0,Fl=0,Hl=null;function iT(r,s){if(iu===null){var o=iu=[];$m=0,Fl=Wp(),Hl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return $m++,s.then(Wy,Wy),s}function Wy(){if(--$m===0&&iu!==null){Hl!==null&&(Hl.status="fulfilled");var r=iu;iu=null,Fl=0,Hl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function oT(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Gy=F.S;F.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&iT(r,s),Gy!==null&&Gy(r,s)};var al=ie(null);function Ym(){var r=al.current;return r!==null?r:Un.pooledCache}function ah(r,s){s===null?me(al,al.current):me(al,s.pool)}function Qy(){var r=Ym();return r===null?null:{parent:qr._currentValue,pool:r}}var ou=Error(a(460)),Ky=Error(a(474)),sh=Error(a(542)),Wm={then:function(){}};function Xy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ih(){}function Zy(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(ih,ih),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,ev(r),r;default:if(typeof s.status=="string")s.then(ih,ih);else{if(r=Un,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,ev(r),r}throw lu=s,ou}}var lu=null;function Jy(){if(lu===null)throw Error(a(459));var r=lu;return lu=null,r}function ev(r){if(r===ou||r===sh)throw Error(a(483))}var Wi=!1;function Gm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Gi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Qi(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Nn&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=Zd(r),zy(r,null,o),s}return Xd(r,c,s,o),Zd(r)}function cu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,xn(r,o)}}function Km(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var N={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?f=y=N:y=y.next=N,o=o.next}while(o!==null);y===null?f=y=s:y=y.next=s}else f=y=s;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Xm=!1;function uu(){if(Xm){var r=Hl;if(r!==null)throw r}}function du(r,s,o,c){Xm=!1;var f=r.updateQueue;Wi=!1;var y=f.firstBaseUpdate,N=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var H=S,se=H.next;H.next=null,N===null?y=se:N.next=se,N=H;var be=r.alternate;be!==null&&(be=be.updateQueue,S=be.lastBaseUpdate,S!==N&&(S===null?be.firstBaseUpdate=se:S.next=se,be.lastBaseUpdate=H))}if(y!==null){var Se=f.baseState;N=0,be=se=H=null,S=y;do{var de=S.lane&-536870913,he=de!==S.lane;if(he?(on&de)===de:(c&de)===de){de!==0&&de===Fl&&(Xm=!0),be!==null&&(be=be.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var _t=r,pt=S;de=s;var Mn=o;switch(pt.tag){case 1:if(_t=pt.payload,typeof _t=="function"){Se=_t.call(Mn,Se,de);break e}Se=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=pt.payload,de=typeof _t=="function"?_t.call(Mn,Se,de):_t,de==null)break e;Se=b({},Se,de);break e;case 2:Wi=!0}}de=S.callback,de!==null&&(r.flags|=64,he&&(r.flags|=8192),he=f.callbacks,he===null?f.callbacks=[de]:he.push(de))}else he={lane:de,tag:S.tag,payload:S.payload,callback:S.callback,next:null},be===null?(se=be=he,H=Se):be=be.next=he,N|=de;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;he=S,S=he.next,he.next=null,f.lastBaseUpdate=he,f.shared.pending=null}}while(!0);be===null&&(H=Se),f.baseState=H,f.firstBaseUpdate=se,f.lastBaseUpdate=be,y===null&&(f.shared.lanes=0),ro|=N,r.lanes=N,r.memoizedState=Se}}function tv(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function nv(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)tv(o[r],s)}var ql=ie(null),oh=ie(0);function rv(r,s){r=Ri,me(oh,r),me(ql,s),Ri=r|s.baseLanes}function Zm(){me(oh,Ri),me(ql,ql.current)}function Jm(){Ri=oh.current,_e(ql),_e(oh)}var Ki=0,Ht=null,jn=null,Mr=null,lh=!1,$l=!1,sl=!1,ch=0,hu=0,Yl=null,lT=0;function Nr(){throw Error(a(321))}function ep(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Ia(r[o],s[o]))return!1;return!0}function tp(r,s,o,c,f,y){return Ki=y,Ht=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=r===null||r.memoizedState===null?zv:Bv,sl=!1,y=o(c,f),sl=!1,$l&&(y=sv(s,o,c,f)),av(r),y}function av(r){F.H=ph;var s=jn!==null&&jn.next!==null;if(Ki=0,Mr=jn=Ht=null,lh=!1,hu=0,Yl=null,s)throw Error(a(300));r===null||ea||(r=r.dependencies,r!==null&&nh(r)&&(ea=!0))}function sv(r,s,o,c){Ht=r;var f=0;do{if($l&&(Yl=null),hu=0,$l=!1,25<=f)throw Error(a(301));if(f+=1,Mr=jn=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}F.H=pT,y=s(o,c)}while($l);return y}function cT(){var r=F.H,s=r.useState()[0];return s=typeof s.then=="function"?fu(s):s,r=r.useState()[0],(jn!==null?jn.memoizedState:null)!==r&&(Ht.flags|=1024),s}function np(){var r=ch!==0;return ch=0,r}function rp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function ap(r){if(lh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lh=!1}Ki=0,Mr=jn=Ht=null,$l=!1,hu=ch=0,Yl=null}function za(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?Ht.memoizedState=Mr=r:Mr=Mr.next=r,Mr}function Ir(){if(jn===null){var r=Ht.alternate;r=r!==null?r.memoizedState:null}else r=jn.next;var s=Mr===null?Ht.memoizedState:Mr.next;if(s!==null)Mr=s,jn=r;else{if(r===null)throw Ht.alternate===null?Error(a(467)):Error(a(310));jn=r,r={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},Mr===null?Ht.memoizedState=Mr=r:Mr=Mr.next=r}return Mr}function sp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fu(r){var s=hu;return hu+=1,Yl===null&&(Yl=[]),r=Zy(Yl,r,s),s=Ht,(Mr===null?s.memoizedState:Mr.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?zv:Bv),r}function uh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return fu(r);if(r.$$typeof===ae)return wa(r)}throw Error(a(438,String(r)))}function ip(r){var s=null,o=Ht.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ht.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=sp(),Ht.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=M;return s.index++,o}function Ei(r,s){return typeof s=="function"?s(r):s}function dh(r){var s=Ir();return op(s,jn,r)}function op(r,s,o){var c=r.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var f=r.baseQueue,y=c.pending;if(y!==null){if(f!==null){var N=f.next;f.next=y.next,y.next=N}s.baseQueue=f=y,c.pending=null}if(y=r.baseState,f===null)r.memoizedState=y;else{s=f.next;var S=N=null,H=null,se=s,be=!1;do{var Se=se.lane&-536870913;if(Se!==se.lane?(on&Se)===Se:(Ki&Se)===Se){var de=se.revertLane;if(de===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Se===Fl&&(be=!0);else if((Ki&de)===de){se=se.next,de===Fl&&(be=!0);continue}else Se={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(S=H=Se,N=y):H=H.next=Se,Ht.lanes|=de,ro|=de;Se=se.action,sl&&o(y,Se),y=se.hasEagerState?se.eagerState:o(y,Se)}else de={lane:Se,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(S=H=de,N=y):H=H.next=de,Ht.lanes|=Se,ro|=Se;se=se.next}while(se!==null&&se!==s);if(H===null?N=y:H.next=S,!Ia(y,r.memoizedState)&&(ea=!0,be&&(o=Hl,o!==null)))throw o;r.memoizedState=y,r.baseState=N,r.baseQueue=H,c.lastRenderedState=y}return f===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function lp(r){var s=Ir(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=o.dispatch,f=o.pending,y=s.memoizedState;if(f!==null){o.pending=null;var N=f=f.next;do y=r(y,N.action),N=N.next;while(N!==f);Ia(y,s.memoizedState)||(ea=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function iv(r,s,o){var c=Ht,f=Ir(),y=vn;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=s();var N=!Ia((jn||f).memoizedState,o);N&&(f.memoizedState=o,ea=!0),f=f.queue;var S=cv.bind(null,c,f,r);if(mu(2048,8,S,[r]),f.getSnapshot!==s||N||Mr!==null&&Mr.memoizedState.tag&1){if(c.flags|=2048,Wl(9,hh(),lv.bind(null,c,f,o,s),null),Un===null)throw Error(a(349));y||(Ki&124)!==0||ov(c,s,o)}return o}function ov(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ht.updateQueue,s===null?(s=sp(),Ht.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function lv(r,s,o,c){s.value=o,s.getSnapshot=c,uv(s)&&dv(r)}function cv(r,s,o){return o(function(){uv(s)&&dv(r)})}function uv(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Ia(r,o)}catch{return!0}}function dv(r){var s=Ll(r,2);s!==null&&ts(s,r,2)}function cp(r){var s=za();if(typeof r=="function"){var o=r;if(r=o(),sl){pn(!0);try{o()}finally{pn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},s}function hv(r,s,o,c){return r.baseState=o,op(r,jn,typeof c=="function"?c:Ei)}function uT(r,s,o,c,f){if(mh(r))throw Error(a(485));if(r=s.action,r!==null){var y={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){y.listeners.push(N)}};F.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,fv(s,y)):(y.next=o.next,s.pending=o.next=y)}}function fv(r,s){var o=s.action,c=s.payload,f=r.state;if(s.isTransition){var y=F.T,N={};F.T=N;try{var S=o(f,c),H=F.S;H!==null&&H(N,S),mv(r,s,S)}catch(se){up(r,s,se)}finally{F.T=y}}else try{y=o(f,c),mv(r,s,y)}catch(se){up(r,s,se)}}function mv(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){pv(r,s,c)},function(c){return up(r,s,c)}):pv(r,s,o)}function pv(r,s,o){s.status="fulfilled",s.value=o,gv(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,fv(r,o)))}function up(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,gv(s),s=s.next;while(s!==c)}r.action=null}function gv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function yv(r,s){return s}function vv(r,s){if(vn){var o=Un.formState;if(o!==null){e:{var c=Ht;if(vn){if(mr){t:{for(var f=mr,y=Ys;f.nodeType!==8;){if(!y){f=null;break t}if(f=Ds(f.nextSibling),f===null){f=null;break t}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){mr=Ds(f.nextSibling),c=f.data==="F!";break e}}tl(c)}c=!1}c&&(s=o[0])}}return o=za(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yv,lastRenderedState:s},o.queue=c,o=Vv.bind(null,Ht,c),c.dispatch=o,c=cp(!1),y=pp.bind(null,Ht,!1,c.queue),c=za(),f={state:s,dispatch:null,action:r,pending:null},c.queue=f,o=uT.bind(null,Ht,f,y,o),f.dispatch=o,c.memoizedState=r,[s,o,!1]}function xv(r){var s=Ir();return bv(s,jn,r)}function bv(r,s,o){if(s=op(r,s,yv)[0],r=dh(Ei)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=fu(s)}catch(N){throw N===ou?sh:N}else c=s;s=Ir();var f=s.queue,y=f.dispatch;return o!==s.memoizedState&&(Ht.flags|=2048,Wl(9,hh(),dT.bind(null,f,o),null)),[c,y,r]}function dT(r,s){r.action=s}function _v(r){var s=Ir(),o=jn;if(o!==null)return bv(s,o,r);Ir(),s=s.memoizedState,o=Ir();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Wl(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Ht.updateQueue,s===null&&(s=sp(),Ht.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function hh(){return{destroy:void 0,resource:void 0}}function wv(){return Ir().memoizedState}function fh(r,s,o,c){var f=za();c=c===void 0?null:c,Ht.flags|=r,f.memoizedState=Wl(1|s,hh(),o,c)}function mu(r,s,o,c){var f=Ir();c=c===void 0?null:c;var y=f.memoizedState.inst;jn!==null&&c!==null&&ep(c,jn.memoizedState.deps)?f.memoizedState=Wl(s,y,o,c):(Ht.flags|=r,f.memoizedState=Wl(1|s,y,o,c))}function Ev(r,s){fh(8390656,8,r,s)}function Nv(r,s){mu(2048,8,r,s)}function Tv(r,s){return mu(4,2,r,s)}function Sv(r,s){return mu(4,4,r,s)}function Cv(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Av(r,s,o){o=o!=null?o.concat([r]):null,mu(4,4,Cv.bind(null,s,r),o)}function dp(){}function Rv(r,s){var o=Ir();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&ep(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function jv(r,s){var o=Ir();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&ep(s,c[1]))return c[0];if(c=r(),sl){pn(!0);try{r()}finally{pn(!1)}}return o.memoizedState=[c,s],c}function hp(r,s,o){return o===void 0||(Ki&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Ix(),Ht.lanes|=r,ro|=r,o)}function Dv(r,s,o,c){return Ia(o,s)?o:ql.current!==null?(r=hp(r,o,c),Ia(r,s)||(ea=!0),r):(Ki&42)===0?(ea=!0,r.memoizedState=o):(r=Ix(),Ht.lanes|=r,ro|=r,s)}function Mv(r,s,o,c,f){var y=le.p;le.p=y!==0&&8>y?y:8;var N=F.T,S={};F.T=S,pp(r,!1,s,o);try{var H=f(),se=F.S;if(se!==null&&se(S,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var be=oT(H,c);pu(r,s,be,es(r))}else pu(r,s,c,es(r))}catch(Se){pu(r,s,{then:function(){},status:"rejected",reason:Se},es())}finally{le.p=y,F.T=N}}function hT(){}function fp(r,s,o,c){if(r.tag!==5)throw Error(a(476));var f=Iv(r).queue;Mv(r,f,s,ce,o===null?hT:function(){return Pv(r),o(c)})}function Iv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:ce},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Pv(r){var s=Iv(r).next.queue;pu(r,s,{},es())}function mp(){return wa(Iu)}function Ov(){return Ir().memoizedState}function kv(){return Ir().memoizedState}function fT(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=es();r=Gi(o);var c=Qi(s,r,o);c!==null&&(ts(c,s,o),cu(c,s,o)),s={cache:qm()},r.payload=s;return}s=s.return}}function mT(r,s,o){var c=es();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},mh(r)?Lv(s,o):(o=Pm(r,s,o,c),o!==null&&(ts(o,r,c),Uv(o,s,c)))}function Vv(r,s,o){var c=es();pu(r,s,o,c)}function pu(r,s,o,c){var f={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(mh(r))Lv(s,f);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var N=s.lastRenderedState,S=y(N,o);if(f.hasEagerState=!0,f.eagerState=S,Ia(S,N))return Xd(r,s,f,0),Un===null&&Kd(),!1}catch{}finally{}if(o=Pm(r,s,f,c),o!==null)return ts(o,r,c),Uv(o,s,c),!0}return!1}function pp(r,s,o,c){if(c={lane:2,revertLane:Wp(),action:c,hasEagerState:!1,eagerState:null,next:null},mh(r)){if(s)throw Error(a(479))}else s=Pm(r,o,c,2),s!==null&&ts(s,r,2)}function mh(r){var s=r.alternate;return r===Ht||s!==null&&s===Ht}function Lv(r,s){$l=lh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Uv(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,xn(r,o)}}var ph={readContext:wa,use:uh,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useLayoutEffect:Nr,useInsertionEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useSyncExternalStore:Nr,useId:Nr,useHostTransitionStatus:Nr,useFormState:Nr,useActionState:Nr,useOptimistic:Nr,useMemoCache:Nr,useCacheRefresh:Nr},zv={readContext:wa,use:uh,useCallback:function(r,s){return za().memoizedState=[r,s===void 0?null:s],r},useContext:wa,useEffect:Ev,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,fh(4194308,4,Cv.bind(null,s,r),o)},useLayoutEffect:function(r,s){return fh(4194308,4,r,s)},useInsertionEffect:function(r,s){fh(4,2,r,s)},useMemo:function(r,s){var o=za();s=s===void 0?null:s;var c=r();if(sl){pn(!0);try{r()}finally{pn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=za();if(o!==void 0){var f=o(s);if(sl){pn(!0);try{o(s)}finally{pn(!1)}}}else f=s;return c.memoizedState=c.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},c.queue=r,r=r.dispatch=mT.bind(null,Ht,r),[c.memoizedState,r]},useRef:function(r){var s=za();return r={current:r},s.memoizedState=r},useState:function(r){r=cp(r);var s=r.queue,o=Vv.bind(null,Ht,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:dp,useDeferredValue:function(r,s){var o=za();return hp(o,r,s)},useTransition:function(){var r=cp(!1);return r=Mv.bind(null,Ht,r.queue,!0,!1),za().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Ht,f=za();if(vn){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),Un===null)throw Error(a(349));(on&124)!==0||ov(c,s,o)}f.memoizedState=o;var y={value:o,getSnapshot:s};return f.queue=y,Ev(cv.bind(null,c,y,r),[r]),c.flags|=2048,Wl(9,hh(),lv.bind(null,c,y,o,s),null),o},useId:function(){var r=za(),s=Un.identifierPrefix;if(vn){var o=bi,c=xi;o=(c&~(1<<32-Rn(c)-1)).toString(32)+o,s=""+s+"R"+o,o=ch++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=lT++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:mp,useFormState:vv,useActionState:vv,useOptimistic:function(r){var s=za();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=pp.bind(null,Ht,!0,o),o.dispatch=s,[r,s]},useMemoCache:ip,useCacheRefresh:function(){return za().memoizedState=fT.bind(null,Ht)}},Bv={readContext:wa,use:uh,useCallback:Rv,useContext:wa,useEffect:Nv,useImperativeHandle:Av,useInsertionEffect:Tv,useLayoutEffect:Sv,useMemo:jv,useReducer:dh,useRef:wv,useState:function(){return dh(Ei)},useDebugValue:dp,useDeferredValue:function(r,s){var o=Ir();return Dv(o,jn.memoizedState,r,s)},useTransition:function(){var r=dh(Ei)[0],s=Ir().memoizedState;return[typeof r=="boolean"?r:fu(r),s]},useSyncExternalStore:iv,useId:Ov,useHostTransitionStatus:mp,useFormState:xv,useActionState:xv,useOptimistic:function(r,s){var o=Ir();return hv(o,jn,r,s)},useMemoCache:ip,useCacheRefresh:kv},pT={readContext:wa,use:uh,useCallback:Rv,useContext:wa,useEffect:Nv,useImperativeHandle:Av,useInsertionEffect:Tv,useLayoutEffect:Sv,useMemo:jv,useReducer:lp,useRef:wv,useState:function(){return lp(Ei)},useDebugValue:dp,useDeferredValue:function(r,s){var o=Ir();return jn===null?hp(o,r,s):Dv(o,jn.memoizedState,r,s)},useTransition:function(){var r=lp(Ei)[0],s=Ir().memoizedState;return[typeof r=="boolean"?r:fu(r),s]},useSyncExternalStore:iv,useId:Ov,useHostTransitionStatus:mp,useFormState:_v,useActionState:_v,useOptimistic:function(r,s){var o=Ir();return jn!==null?hv(o,jn,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:ip,useCacheRefresh:kv},Gl=null,gu=0;function gh(r){var s=gu;return gu+=1,Gl===null&&(Gl=[]),Zy(Gl,r,s)}function yu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function yh(r,s){throw s.$$typeof===_?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Fv(r){var s=r._init;return s(r._payload)}function Hv(r){function s(Z,Q){if(r){var re=Z.deletions;re===null?(Z.deletions=[Q],Z.flags|=16):re.push(Q)}}function o(Z,Q){if(!r)return null;for(;Q!==null;)s(Z,Q),Q=Q.sibling;return null}function c(Z){for(var Q=new Map;Z!==null;)Z.key!==null?Q.set(Z.key,Z):Q.set(Z.index,Z),Z=Z.sibling;return Q}function f(Z,Q){return Z=vi(Z,Q),Z.index=0,Z.sibling=null,Z}function y(Z,Q,re){return Z.index=re,r?(re=Z.alternate,re!==null?(re=re.index,re<Q?(Z.flags|=67108866,Q):re):(Z.flags|=67108866,Q)):(Z.flags|=1048576,Q)}function N(Z){return r&&Z.alternate===null&&(Z.flags|=67108866),Z}function S(Z,Q,re,Ee){return Q===null||Q.tag!==6?(Q=km(re,Z.mode,Ee),Q.return=Z,Q):(Q=f(Q,re),Q.return=Z,Q)}function H(Z,Q,re,Ee){var Ge=re.type;return Ge===O?be(Z,Q,re.props.children,Ee,re.key):Q!==null&&(Q.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===R&&Fv(Ge)===Q.type)?(Q=f(Q,re.props),yu(Q,re),Q.return=Z,Q):(Q=Jd(re.type,re.key,re.props,null,Z.mode,Ee),yu(Q,re),Q.return=Z,Q)}function se(Z,Q,re,Ee){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=Vm(re,Z.mode,Ee),Q.return=Z,Q):(Q=f(Q,re.children||[]),Q.return=Z,Q)}function be(Z,Q,re,Ee,Ge){return Q===null||Q.tag!==7?(Q=Xo(re,Z.mode,Ee,Ge),Q.return=Z,Q):(Q=f(Q,re),Q.return=Z,Q)}function Se(Z,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=km(""+Q,Z.mode,re),Q.return=Z,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return re=Jd(Q.type,Q.key,Q.props,null,Z.mode,re),yu(re,Q),re.return=Z,re;case D:return Q=Vm(Q,Z.mode,re),Q.return=Z,Q;case R:var Ee=Q._init;return Q=Ee(Q._payload),Se(Z,Q,re)}if(ve(Q)||G(Q))return Q=Xo(Q,Z.mode,re,null),Q.return=Z,Q;if(typeof Q.then=="function")return Se(Z,gh(Q),re);if(Q.$$typeof===ae)return Se(Z,rh(Z,Q),re);yh(Z,Q)}return null}function de(Z,Q,re,Ee){var Ge=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Ge!==null?null:S(Z,Q,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return re.key===Ge?H(Z,Q,re,Ee):null;case D:return re.key===Ge?se(Z,Q,re,Ee):null;case R:return Ge=re._init,re=Ge(re._payload),de(Z,Q,re,Ee)}if(ve(re)||G(re))return Ge!==null?null:be(Z,Q,re,Ee,null);if(typeof re.then=="function")return de(Z,Q,gh(re),Ee);if(re.$$typeof===ae)return de(Z,Q,rh(Z,re),Ee);yh(Z,re)}return null}function he(Z,Q,re,Ee,Ge){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Z=Z.get(re)||null,S(Q,Z,""+Ee,Ge);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case E:return Z=Z.get(Ee.key===null?re:Ee.key)||null,H(Q,Z,Ee,Ge);case D:return Z=Z.get(Ee.key===null?re:Ee.key)||null,se(Q,Z,Ee,Ge);case R:var Yt=Ee._init;return Ee=Yt(Ee._payload),he(Z,Q,re,Ee,Ge)}if(ve(Ee)||G(Ee))return Z=Z.get(re)||null,be(Q,Z,Ee,Ge,null);if(typeof Ee.then=="function")return he(Z,Q,re,gh(Ee),Ge);if(Ee.$$typeof===ae)return he(Z,Q,re,rh(Q,Ee),Ge);yh(Q,Ee)}return null}function _t(Z,Q,re,Ee){for(var Ge=null,Yt=null,rt=Q,yt=Q=0,na=null;rt!==null&&yt<re.length;yt++){rt.index>yt?(na=rt,rt=null):na=rt.sibling;var mn=de(Z,rt,re[yt],Ee);if(mn===null){rt===null&&(rt=na);break}r&&rt&&mn.alternate===null&&s(Z,rt),Q=y(mn,Q,yt),Yt===null?Ge=mn:Yt.sibling=mn,Yt=mn,rt=na}if(yt===re.length)return o(Z,rt),vn&&Jo(Z,yt),Ge;if(rt===null){for(;yt<re.length;yt++)rt=Se(Z,re[yt],Ee),rt!==null&&(Q=y(rt,Q,yt),Yt===null?Ge=rt:Yt.sibling=rt,Yt=rt);return vn&&Jo(Z,yt),Ge}for(rt=c(rt);yt<re.length;yt++)na=he(rt,Z,yt,re[yt],Ee),na!==null&&(r&&na.alternate!==null&&rt.delete(na.key===null?yt:na.key),Q=y(na,Q,yt),Yt===null?Ge=na:Yt.sibling=na,Yt=na);return r&&rt.forEach(function(fo){return s(Z,fo)}),vn&&Jo(Z,yt),Ge}function pt(Z,Q,re,Ee){if(re==null)throw Error(a(151));for(var Ge=null,Yt=null,rt=Q,yt=Q=0,na=null,mn=re.next();rt!==null&&!mn.done;yt++,mn=re.next()){rt.index>yt?(na=rt,rt=null):na=rt.sibling;var fo=de(Z,rt,mn.value,Ee);if(fo===null){rt===null&&(rt=na);break}r&&rt&&fo.alternate===null&&s(Z,rt),Q=y(fo,Q,yt),Yt===null?Ge=fo:Yt.sibling=fo,Yt=fo,rt=na}if(mn.done)return o(Z,rt),vn&&Jo(Z,yt),Ge;if(rt===null){for(;!mn.done;yt++,mn=re.next())mn=Se(Z,mn.value,Ee),mn!==null&&(Q=y(mn,Q,yt),Yt===null?Ge=mn:Yt.sibling=mn,Yt=mn);return vn&&Jo(Z,yt),Ge}for(rt=c(rt);!mn.done;yt++,mn=re.next())mn=he(rt,Z,yt,mn.value,Ee),mn!==null&&(r&&mn.alternate!==null&&rt.delete(mn.key===null?yt:mn.key),Q=y(mn,Q,yt),Yt===null?Ge=mn:Yt.sibling=mn,Yt=mn);return r&&rt.forEach(function(gS){return s(Z,gS)}),vn&&Jo(Z,yt),Ge}function Mn(Z,Q,re,Ee){if(typeof re=="object"&&re!==null&&re.type===O&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case E:e:{for(var Ge=re.key;Q!==null;){if(Q.key===Ge){if(Ge=re.type,Ge===O){if(Q.tag===7){o(Z,Q.sibling),Ee=f(Q,re.props.children),Ee.return=Z,Z=Ee;break e}}else if(Q.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===R&&Fv(Ge)===Q.type){o(Z,Q.sibling),Ee=f(Q,re.props),yu(Ee,re),Ee.return=Z,Z=Ee;break e}o(Z,Q);break}else s(Z,Q);Q=Q.sibling}re.type===O?(Ee=Xo(re.props.children,Z.mode,Ee,re.key),Ee.return=Z,Z=Ee):(Ee=Jd(re.type,re.key,re.props,null,Z.mode,Ee),yu(Ee,re),Ee.return=Z,Z=Ee)}return N(Z);case D:e:{for(Ge=re.key;Q!==null;){if(Q.key===Ge)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){o(Z,Q.sibling),Ee=f(Q,re.children||[]),Ee.return=Z,Z=Ee;break e}else{o(Z,Q);break}else s(Z,Q);Q=Q.sibling}Ee=Vm(re,Z.mode,Ee),Ee.return=Z,Z=Ee}return N(Z);case R:return Ge=re._init,re=Ge(re._payload),Mn(Z,Q,re,Ee)}if(ve(re))return _t(Z,Q,re,Ee);if(G(re)){if(Ge=G(re),typeof Ge!="function")throw Error(a(150));return re=Ge.call(re),pt(Z,Q,re,Ee)}if(typeof re.then=="function")return Mn(Z,Q,gh(re),Ee);if(re.$$typeof===ae)return Mn(Z,Q,rh(Z,re),Ee);yh(Z,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,Q!==null&&Q.tag===6?(o(Z,Q.sibling),Ee=f(Q,re),Ee.return=Z,Z=Ee):(o(Z,Q),Ee=km(re,Z.mode,Ee),Ee.return=Z,Z=Ee),N(Z)):o(Z,Q)}return function(Z,Q,re,Ee){try{gu=0;var Ge=Mn(Z,Q,re,Ee);return Gl=null,Ge}catch(rt){if(rt===ou||rt===sh)throw rt;var Yt=Ka(29,rt,null,Z.mode);return Yt.lanes=Ee,Yt.return=Z,Yt}finally{}}}var Ql=Hv(!0),qv=Hv(!1),ps=ie(null),Ws=null;function Xi(r){var s=r.alternate;me($r,$r.current&1),me(ps,r),Ws===null&&(s===null||ql.current!==null||s.memoizedState!==null)&&(Ws=r)}function $v(r){if(r.tag===22){if(me($r,$r.current),me(ps,r),Ws===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Ws=r)}}else Zi()}function Zi(){me($r,$r.current),me(ps,ps.current)}function Ni(r){_e(ps),Ws===r&&(Ws=null),_e($r)}var $r=ie(0);function vh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||sg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function gp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:b({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var yp={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=es(),f=Gi(c);f.payload=s,o!=null&&(f.callback=o),s=Qi(r,f,c),s!==null&&(ts(s,r,c),cu(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=es(),f=Gi(c);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Qi(r,f,c),s!==null&&(ts(s,r,c),cu(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=es(),c=Gi(o);c.tag=2,s!=null&&(c.callback=s),s=Qi(r,c,o),s!==null&&(ts(s,r,o),cu(s,r,o))}};function Yv(r,s,o,c,f,y,N){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,N):s.prototype&&s.prototype.isPureReactComponent?!Ko(o,c)||!Ko(f,y):!0}function Wv(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&yp.enqueueReplaceState(s,s.state,null)}function il(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=b({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var xh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Gv(r){xh(r)}function Qv(r){console.error(r)}function Kv(r){xh(r)}function bh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Xv(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vp(r,s,o){return o=Gi(o),o.tag=3,o.payload={element:null},o.callback=function(){bh(r,s)},o}function Zv(r){return r=Gi(r),r.tag=3,r}function Jv(r,s,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=c.value;r.payload=function(){return f(y)},r.callback=function(){Xv(s,o,c)}}var N=o.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(r.callback=function(){Xv(s,o,c),typeof f!="function"&&(ao===null?ao=new Set([this]):ao.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function gT(r,s,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&au(s,o,f,!0),o=ps.current,o!==null){switch(o.tag){case 13:return Ws===null?Fp():o.alternate===null&&pr===0&&(pr=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Wm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),qp(r,c,f)),!1;case 22:return o.flags|=65536,c===Wm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),qp(r,c,f)),!1}throw Error(a(435,o.tag))}return qp(r,c,f),Fp(),!1}if(vn)return s=ps.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==zm&&(r=Error(a(422),{cause:c}),ru(ds(r,o)))):(c!==zm&&(s=Error(a(423),{cause:c}),ru(ds(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,c=ds(c,o),f=vp(r.stateNode,c,f),Km(r,f),pr!==4&&(pr=2)),!1;var y=Error(a(520),{cause:c});if(y=ds(y,o),Nu===null?Nu=[y]:Nu.push(y),pr!==4&&(pr=2),s===null)return!0;c=ds(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=vp(o.stateNode,c,r),Km(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ao===null||!ao.has(y))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Zv(f),Jv(f,r,o,c),Km(o,f),!1}o=o.return}while(o!==null);return!1}var ex=Error(a(461)),ea=!1;function ca(r,s,o,c){s.child=r===null?qv(s,null,o,c):Ql(s,r.child,o,c)}function tx(r,s,o,c,f){o=o.render;var y=s.ref;if("ref"in c){var N={};for(var S in c)S!=="ref"&&(N[S]=c[S])}else N=c;return rl(s),c=tp(r,s,o,N,y,f),S=np(),r!==null&&!ea?(rp(r,s,f),Ti(r,s,f)):(vn&&S&&Lm(s),s.flags|=1,ca(r,s,c,f),s.child)}function nx(r,s,o,c,f){if(r===null){var y=o.type;return typeof y=="function"&&!Om(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,rx(r,s,y,c,f)):(r=Jd(o.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Sp(r,f)){var N=y.memoizedProps;if(o=o.compare,o=o!==null?o:Ko,o(N,c)&&r.ref===s.ref)return Ti(r,s,f)}return s.flags|=1,r=vi(y,c),r.ref=s.ref,r.return=s,s.child=r}function rx(r,s,o,c,f){if(r!==null){var y=r.memoizedProps;if(Ko(y,c)&&r.ref===s.ref)if(ea=!1,s.pendingProps=c=y,Sp(r,f))(r.flags&131072)!==0&&(ea=!0);else return s.lanes=r.lanes,Ti(r,s,f)}return xp(r,s,o,c,f)}function ax(r,s,o){var c=s.pendingProps,f=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,r!==null){for(f=s.child=r.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return sx(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&ah(s,y!==null?y.cachePool:null),y!==null?rv(s,y):Zm(),$v(s);else return s.lanes=s.childLanes=536870912,sx(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(ah(s,y.cachePool),rv(s,y),Zi(),s.memoizedState=null):(r!==null&&ah(s,null),Zm(),Zi());return ca(r,s,f,o),s.child}function sx(r,s,o,c){var f=Ym();return f=f===null?null:{parent:qr._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&ah(s,null),Zm(),$v(s),r!==null&&au(r,s,c,!0),null}function _h(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function xp(r,s,o,c,f){return rl(s),o=tp(r,s,o,c,void 0,f),c=np(),r!==null&&!ea?(rp(r,s,f),Ti(r,s,f)):(vn&&c&&Lm(s),s.flags|=1,ca(r,s,o,f),s.child)}function ix(r,s,o,c,f,y){return rl(s),s.updateQueue=null,o=sv(s,c,o,f),av(r),c=np(),r!==null&&!ea?(rp(r,s,y),Ti(r,s,y)):(vn&&c&&Lm(s),s.flags|=1,ca(r,s,o,y),s.child)}function ox(r,s,o,c,f){if(rl(s),s.stateNode===null){var y=Ul,N=o.contextType;typeof N=="object"&&N!==null&&(y=wa(N)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=yp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},Gm(s),N=o.contextType,y.context=typeof N=="object"&&N!==null?wa(N):Ul,y.state=s.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(gp(s,o,N,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(N=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),N!==y.state&&yp.enqueueReplaceState(y,y.state,null),du(s,c,y,f),uu(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var S=s.memoizedProps,H=il(o,S);y.props=H;var se=y.context,be=o.contextType;N=Ul,typeof be=="object"&&be!==null&&(N=wa(be));var Se=o.getDerivedStateFromProps;be=typeof Se=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,be||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||se!==N)&&Wv(s,y,c,N),Wi=!1;var de=s.memoizedState;y.state=de,du(s,c,y,f),uu(),se=s.memoizedState,S||de!==se||Wi?(typeof Se=="function"&&(gp(s,o,Se,c),se=s.memoizedState),(H=Wi||Yv(s,o,H,c,de,se,N))?(be||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=se),y.props=c,y.state=se,y.context=N,c=H):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,Qm(r,s),N=s.memoizedProps,be=il(o,N),y.props=be,Se=s.pendingProps,de=y.context,se=o.contextType,H=Ul,typeof se=="object"&&se!==null&&(H=wa(se)),S=o.getDerivedStateFromProps,(se=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N!==Se||de!==H)&&Wv(s,y,c,H),Wi=!1,de=s.memoizedState,y.state=de,du(s,c,y,f),uu();var he=s.memoizedState;N!==Se||de!==he||Wi||r!==null&&r.dependencies!==null&&nh(r.dependencies)?(typeof S=="function"&&(gp(s,o,S,c),he=s.memoizedState),(be=Wi||Yv(s,o,be,c,de,he,H)||r!==null&&r.dependencies!==null&&nh(r.dependencies))?(se||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,he,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,he,H)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||N===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=he),y.props=c,y.state=he,y.context=H,c=be):(typeof y.componentDidUpdate!="function"||N===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,_h(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=Ql(s,r.child,null,f),s.child=Ql(s,null,o,f)):ca(r,s,o,f),s.memoizedState=y.state,r=s.child):r=Ti(r,s,f),r}function lx(r,s,o,c){return nu(),s.flags|=256,ca(r,s,o,c),s.child}var bp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _p(r){return{baseLanes:r,cachePool:Qy()}}function wp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=gs),r}function cx(r,s,o){var c=s.pendingProps,f=!1,y=(s.flags&128)!==0,N;if((N=y)||(N=r!==null&&r.memoizedState===null?!1:($r.current&2)!==0),N&&(f=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,r===null){if(vn){if(f?Xi(s):Zi(),vn){var S=mr,H;if(H=S){e:{for(H=S,S=Ys;H.nodeType!==8;){if(!S){S=null;break e}if(H=Ds(H.nextSibling),H===null){S=null;break e}}S=H}S!==null?(s.memoizedState={dehydrated:S,treeContext:Zo!==null?{id:xi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},H=Ka(18,null,null,0),H.stateNode=S,H.return=s,s.child=H,Pa=s,mr=null,H=!0):H=!1}H||tl(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return sg(S)?s.lanes=32:s.lanes=536870912,null;Ni(s)}return S=c.children,c=c.fallback,f?(Zi(),f=s.mode,S=wh({mode:"hidden",children:S},f),c=Xo(c,f,o,null),S.return=s,c.return=s,S.sibling=c,s.child=S,f=s.child,f.memoizedState=_p(o),f.childLanes=wp(r,N,o),s.memoizedState=bp,c):(Xi(s),Ep(s,S))}if(H=r.memoizedState,H!==null&&(S=H.dehydrated,S!==null)){if(y)s.flags&256?(Xi(s),s.flags&=-257,s=Np(r,s,o)):s.memoizedState!==null?(Zi(),s.child=r.child,s.flags|=128,s=null):(Zi(),f=c.fallback,S=s.mode,c=wh({mode:"visible",children:c.children},S),f=Xo(f,S,o,null),f.flags|=2,c.return=s,f.return=s,c.sibling=f,s.child=c,Ql(s,r.child,null,o),c=s.child,c.memoizedState=_p(o),c.childLanes=wp(r,N,o),s.memoizedState=bp,s=f);else if(Xi(s),sg(S)){if(N=S.nextSibling&&S.nextSibling.dataset,N)var se=N.dgst;N=se,c=Error(a(419)),c.stack="",c.digest=N,ru({value:c,source:null,stack:null}),s=Np(r,s,o)}else if(ea||au(r,s,o,!1),N=(o&r.childLanes)!==0,ea||N){if(N=Un,N!==null&&(c=o&-o,c=(c&42)!==0?1:Tt(c),c=(c&(N.suspendedLanes|o))!==0?0:c,c!==0&&c!==H.retryLane))throw H.retryLane=c,Ll(r,c),ts(N,r,c),ex;S.data==="$?"||Fp(),s=Np(r,s,o)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=H.treeContext,mr=Ds(S.nextSibling),Pa=s,vn=!0,el=null,Ys=!1,r!==null&&(fs[ms++]=xi,fs[ms++]=bi,fs[ms++]=Zo,xi=r.id,bi=r.overflow,Zo=s),s=Ep(s,c.children),s.flags|=4096);return s}return f?(Zi(),f=c.fallback,S=s.mode,H=r.child,se=H.sibling,c=vi(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,se!==null?f=vi(se,f):(f=Xo(f,S,o,null),f.flags|=2),f.return=s,c.return=s,c.sibling=f,s.child=c,c=f,f=s.child,S=r.child.memoizedState,S===null?S=_p(o):(H=S.cachePool,H!==null?(se=qr._currentValue,H=H.parent!==se?{parent:se,pool:se}:H):H=Qy(),S={baseLanes:S.baseLanes|o,cachePool:H}),f.memoizedState=S,f.childLanes=wp(r,N,o),s.memoizedState=bp,c):(Xi(s),o=r.child,r=o.sibling,o=vi(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(N=s.deletions,N===null?(s.deletions=[r],s.flags|=16):N.push(r)),s.child=o,s.memoizedState=null,o)}function Ep(r,s){return s=wh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function wh(r,s){return r=Ka(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Np(r,s,o){return Ql(s,r.child,null,o),r=Ep(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function ux(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Fm(r.return,s,o)}function Tp(r,s,o,c,f){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=f)}function dx(r,s,o){var c=s.pendingProps,f=c.revealOrder,y=c.tail;if(ca(r,s,c.children,o),c=$r.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ux(r,o,s);else if(r.tag===19)ux(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(me($r,c),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&vh(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Tp(s,!1,f,o,y);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&vh(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Tp(s,!0,o,null,y);break;case"together":Tp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ti(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ro|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(au(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,o=vi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=vi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Sp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&nh(r)))}function yT(r,s,o){switch(s.tag){case 3:jt(s,s.stateNode.containerInfo),Yi(s,qr,r.memoizedState.cache),nu();break;case 27:case 5:Nt(s);break;case 4:jt(s,s.stateNode.containerInfo);break;case 10:Yi(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Xi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?cx(r,s,o):(Xi(s),r=Ti(r,s,o),r!==null?r.sibling:null);Xi(s);break;case 19:var f=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(au(r,s,o,!1),c=(o&s.childLanes)!==0),f){if(c)return dx(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),me($r,$r.current),c)break;return null;case 22:case 23:return s.lanes=0,ax(r,s,o);case 24:Yi(s,qr,r.memoizedState.cache)}return Ti(r,s,o)}function hx(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)ea=!0;else{if(!Sp(r,o)&&(s.flags&128)===0)return ea=!1,yT(r,s,o);ea=(r.flags&131072)!==0}else ea=!1,vn&&(s.flags&1048576)!==0&&Fy(s,th,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,f=c._init;if(c=f(c._payload),s.type=c,typeof c=="function")Om(c)?(r=il(c,r),s.tag=1,s=ox(null,s,c,r,o)):(s.tag=0,s=xp(null,s,c,r,o));else{if(c!=null){if(f=c.$$typeof,f===Re){s.tag=11,s=tx(null,s,c,r,o);break e}else if(f===k){s.tag=14,s=nx(null,s,c,r,o);break e}}throw s=Te(c)||c,Error(a(306,s,""))}}return s;case 0:return xp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,f=il(c,s.pendingProps),ox(r,s,c,f,o);case 3:e:{if(jt(s,s.stateNode.containerInfo),r===null)throw Error(a(387));c=s.pendingProps;var y=s.memoizedState;f=y.element,Qm(r,s),du(s,c,null,o);var N=s.memoizedState;if(c=N.cache,Yi(s,qr,c),c!==y.cache&&Hm(s,[qr],o,!0),uu(),c=N.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=lx(r,s,c,o);break e}else if(c!==f){f=ds(Error(a(424)),s),ru(f),s=lx(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(mr=Ds(r.firstChild),Pa=s,vn=!0,el=null,Ys=!0,o=qv(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(nu(),c===f){s=Ti(r,s,o);break e}ca(r,s,c,o)}s=s.child}return s;case 26:return _h(r,s),r===null?(o=gb(s.type,null,s.pendingProps,null))?s.memoizedState=o:vn||(o=s.type,r=s.pendingProps,c=kh($e.current).createElement(o),c[ye]=s,c[je]=r,da(c,o,r),Ot(c),s.stateNode=c):s.memoizedState=gb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Nt(s),r===null&&vn&&(c=s.stateNode=fb(s.type,s.pendingProps,$e.current),Pa=s,Ys=!0,f=mr,oo(s.type)?(ig=f,mr=Ds(c.firstChild)):mr=f),ca(r,s,s.pendingProps.children,o),_h(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&vn&&((f=c=mr)&&(c=$T(c,s.type,s.pendingProps,Ys),c!==null?(s.stateNode=c,Pa=s,mr=Ds(c.firstChild),Ys=!1,f=!0):f=!1),f||tl(s)),Nt(s),f=s.type,y=s.pendingProps,N=r!==null?r.memoizedProps:null,c=y.children,ng(f,y)?c=null:N!==null&&ng(f,N)&&(s.flags|=32),s.memoizedState!==null&&(f=tp(r,s,cT,null,null,o),Iu._currentValue=f),_h(r,s),ca(r,s,c,o),s.child;case 6:return r===null&&vn&&((r=o=mr)&&(o=YT(o,s.pendingProps,Ys),o!==null?(s.stateNode=o,Pa=s,mr=null,r=!0):r=!1),r||tl(s)),null;case 13:return cx(r,s,o);case 4:return jt(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Ql(s,null,c,o):ca(r,s,c,o),s.child;case 11:return tx(r,s,s.type,s.pendingProps,o);case 7:return ca(r,s,s.pendingProps,o),s.child;case 8:return ca(r,s,s.pendingProps.children,o),s.child;case 12:return ca(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Yi(s,s.type,c.value),ca(r,s,c.children,o),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,rl(s),f=wa(f),c=c(f),s.flags|=1,ca(r,s,c,o),s.child;case 14:return nx(r,s,s.type,s.pendingProps,o);case 15:return rx(r,s,s.type,s.pendingProps,o);case 19:return dx(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=wh(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=vi(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return ax(r,s,o);case 24:return rl(s),c=wa(qr),r===null?(f=Ym(),f===null&&(f=Un,y=qm(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=o),f=y),s.memoizedState={parent:c,cache:f},Gm(s),Yi(s,qr,f)):((r.lanes&o)!==0&&(Qm(r,s),du(s,null,null,o),uu()),f=r.memoizedState,y=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Yi(s,qr,c)):(c=y.cache,Yi(s,qr,c),c!==f.cache&&Hm(s,[qr],o,!0))),ca(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Si(r){r.flags|=4}function fx(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!_b(s)){if(s=ps.current,s!==null&&((on&4194048)===on?Ws!==null:(on&62914560)!==on&&(on&536870912)===0||s!==Ws))throw lu=Wm,Ky;r.flags|=8192}}function Eh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Et():536870912,r.lanes|=s,Jl|=s)}function vu(r,s){if(!vn)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function rr(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function vT(r,s,o){var c=s.pendingProps;switch(Um(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(s),null;case 1:return rr(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),wi(qr),ct(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(tu(s)?Si(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$y())),rr(s),null;case 26:return o=s.memoizedState,r===null?(Si(s),o!==null?(rr(s),fx(s,o)):(rr(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Si(s),rr(s),fx(s,o)):(rr(s),s.flags&=-16777217):(r.memoizedProps!==c&&Si(s),rr(s),s.flags&=-16777217),null;case 27:cn(s),o=$e.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Si(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return rr(s),null}r=De.current,tu(s)?Hy(s):(r=fb(f,c,o),s.stateNode=r,Si(s))}return rr(s),null;case 5:if(cn(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Si(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return rr(s),null}if(r=De.current,tu(s))Hy(s);else{switch(f=kh($e.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?f.createElement(o,{is:c.is}):f.createElement(o)}}r[ye]=s,r[je]=c;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(da(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Si(s)}}return rr(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Si(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(r=$e.current,tu(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,f=Pa,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}r[ye]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||ib(r.nodeValue,o)),r||tl(s)}else r=kh(r).createTextNode(c),r[ye]=s,s.stateNode=r}return rr(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=tu(s),c!==null&&c.dehydrated!==null){if(r===null){if(!f)throw Error(a(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ye]=s}else nu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rr(s),f=!1}else f=$y(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Ni(s),s):(Ni(s),null)}if(Ni(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==f&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Eh(s,s.updateQueue),rr(s),null;case 4:return ct(),r===null&&Xp(s.stateNode.containerInfo),rr(s),null;case 10:return wi(s.type),rr(s),null;case 19:if(_e($r),f=s.memoizedState,f===null)return rr(s),null;if(c=(s.flags&128)!==0,y=f.rendering,y===null)if(c)vu(f,!1);else{if(pr!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=vh(r),y!==null){for(s.flags|=128,vu(f,!1),r=y.updateQueue,s.updateQueue=r,Eh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)By(o,r),o=o.sibling;return me($r,$r.current&1|2),s.child}r=r.sibling}f.tail!==null&&Pn()>Sh&&(s.flags|=128,c=!0,vu(f,!1),s.lanes=4194304)}else{if(!c)if(r=vh(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,Eh(s,r),vu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!vn)return rr(s),null}else 2*Pn()-f.renderingStartTime>Sh&&o!==536870912&&(s.flags|=128,c=!0,vu(f,!1),s.lanes=4194304);f.isBackwards?(y.sibling=s.child,s.child=y):(r=f.last,r!==null?r.sibling=y:s.child=y,f.last=y)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Pn(),s.sibling=null,r=$r.current,me($r,c?r&1|2:r&1),s):(rr(s),null);case 22:case 23:return Ni(s),Jm(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(rr(s),s.subtreeFlags&6&&(s.flags|=8192)):rr(s),o=s.updateQueue,o!==null&&Eh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&_e(al),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),wi(qr),rr(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function xT(r,s){switch(Um(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return wi(qr),ct(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return cn(s),null;case 13:if(Ni(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));nu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return _e($r),null;case 4:return ct(),null;case 10:return wi(s.type),null;case 22:case 23:return Ni(s),Jm(),r!==null&&_e(al),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return wi(qr),null;case 25:return null;default:return null}}function mx(r,s){switch(Um(s),s.tag){case 3:wi(qr),ct();break;case 26:case 27:case 5:cn(s);break;case 4:ct();break;case 13:Ni(s);break;case 19:_e($r);break;case 10:wi(s.type);break;case 22:case 23:Ni(s),Jm(),r!==null&&_e(al);break;case 24:wi(qr)}}function xu(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&r)===r){c=void 0;var y=o.create,N=o.inst;c=y(),N.destroy=c}o=o.next}while(o!==f)}}catch(S){kn(s,s.return,S)}}function Ji(r,s,o){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&r)===r){var N=c.inst,S=N.destroy;if(S!==void 0){N.destroy=void 0,f=s;var H=o,se=S;try{se()}catch(be){kn(f,H,be)}}}c=c.next}while(c!==y)}}catch(be){kn(s,s.return,be)}}function px(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{nv(s,o)}catch(c){kn(r,r.return,c)}}}function gx(r,s,o){o.props=il(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){kn(r,s,c)}}function bu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(f){kn(r,s,f)}}function Gs(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){kn(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){kn(r,s,f)}else o.current=null}function yx(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){kn(r,r.return,f)}}function Cp(r,s,o){try{var c=r.stateNode;zT(c,r.type,o,s),c[je]=s}catch(f){kn(r,r.return,f)}}function vx(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&oo(r.type)||r.tag===4}function Ap(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||vx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&oo(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Rp(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Oh));else if(c!==4&&(c===27&&oo(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Rp(r,s,o),r=r.sibling;r!==null;)Rp(r,s,o),r=r.sibling}function Nh(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&oo(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Nh(r,s,o),r=r.sibling;r!==null;)Nh(r,s,o),r=r.sibling}function xx(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);da(s,c,o),s[ye]=r,s[je]=o}catch(y){kn(r,r.return,y)}}var Ci=!1,Tr=!1,jp=!1,bx=typeof WeakSet=="function"?WeakSet:Set,ta=null;function bT(r,s){if(r=r.containerInfo,eg=Fh,r=C(r),L(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var N=0,S=-1,H=-1,se=0,be=0,Se=r,de=null;t:for(;;){for(var he;Se!==o||f!==0&&Se.nodeType!==3||(S=N+f),Se!==y||c!==0&&Se.nodeType!==3||(H=N+c),Se.nodeType===3&&(N+=Se.nodeValue.length),(he=Se.firstChild)!==null;)de=Se,Se=he;for(;;){if(Se===r)break t;if(de===o&&++se===f&&(S=N),de===y&&++be===c&&(H=N),(he=Se.nextSibling)!==null)break;Se=de,de=Se.parentNode}Se=he}o=S===-1||H===-1?null:{start:S,end:H}}else o=null}o=o||{start:0,end:0}}else o=null;for(tg={focusedElem:r,selectionRange:o},Fh=!1,ta=s;ta!==null;)if(s=ta,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,ta=r;else for(;ta!==null;){switch(s=ta,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,f=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var _t=il(o.type,f,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(_t,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(pt){kn(o,o.return,pt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)ag(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ag(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,ta=r;break}ta=s.return}}function _x(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:eo(r,o),c&4&&xu(5,o);break;case 1:if(eo(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(N){kn(o,o.return,N)}else{var f=il(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(N){kn(o,o.return,N)}}c&64&&px(o),c&512&&bu(o,o.return);break;case 3:if(eo(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{nv(r,s)}catch(N){kn(o,o.return,N)}}break;case 27:s===null&&c&4&&xx(o);case 26:case 5:eo(r,o),s===null&&c&4&&yx(o),c&512&&bu(o,o.return);break;case 12:eo(r,o);break;case 13:eo(r,o),c&4&&Nx(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=RT.bind(null,o),WT(r,o))));break;case 22:if(c=o.memoizedState!==null||Ci,!c){s=s!==null&&s.memoizedState!==null||Tr,f=Ci;var y=Tr;Ci=c,(Tr=s)&&!y?to(r,o,(o.subtreeFlags&8772)!==0):eo(r,o),Ci=f,Tr=y}break;case 30:break;default:eo(r,o)}}function wx(r){var s=r.alternate;s!==null&&(r.alternate=null,wx(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Xe(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Qn=null,Ba=!1;function Ai(r,s,o){for(o=o.child;o!==null;)Ex(r,s,o),o=o.sibling}function Ex(r,s,o){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(It,o)}catch{}switch(o.tag){case 26:Tr||Gs(o,s),Ai(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Tr||Gs(o,s);var c=Qn,f=Ba;oo(o.type)&&(Qn=o.stateNode,Ba=!1),Ai(r,s,o),Ru(o.stateNode),Qn=c,Ba=f;break;case 5:Tr||Gs(o,s);case 6:if(c=Qn,f=Ba,Qn=null,Ai(r,s,o),Qn=c,Ba=f,Qn!==null)if(Ba)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(o.stateNode)}catch(y){kn(o,s,y)}else try{Qn.removeChild(o.stateNode)}catch(y){kn(o,s,y)}break;case 18:Qn!==null&&(Ba?(r=Qn,db(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Vu(r)):db(Qn,o.stateNode));break;case 4:c=Qn,f=Ba,Qn=o.stateNode.containerInfo,Ba=!0,Ai(r,s,o),Qn=c,Ba=f;break;case 0:case 11:case 14:case 15:Tr||Ji(2,o,s),Tr||Ji(4,o,s),Ai(r,s,o);break;case 1:Tr||(Gs(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&gx(o,s,c)),Ai(r,s,o);break;case 21:Ai(r,s,o);break;case 22:Tr=(c=Tr)||o.memoizedState!==null,Ai(r,s,o),Tr=c;break;default:Ai(r,s,o)}}function Nx(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Vu(r)}catch(o){kn(s,s.return,o)}}function _T(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new bx),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new bx),s;default:throw Error(a(435,r.tag))}}function Dp(r,s){var o=_T(r);s.forEach(function(c){var f=jT.bind(null,r,c);o.has(c)||(o.add(c),c.then(f,f))})}function Xa(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],y=r,N=s,S=N;e:for(;S!==null;){switch(S.tag){case 27:if(oo(S.type)){Qn=S.stateNode,Ba=!1;break e}break;case 5:Qn=S.stateNode,Ba=!1;break e;case 3:case 4:Qn=S.stateNode.containerInfo,Ba=!0;break e}S=S.return}if(Qn===null)throw Error(a(160));Ex(y,N,f),Qn=null,Ba=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Tx(s,r),s=s.sibling}var js=null;function Tx(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Xa(s,r),Za(r),c&4&&(Ji(3,r,r.return),xu(3,r),Ji(5,r,r.return));break;case 1:Xa(s,r),Za(r),c&512&&(Tr||o===null||Gs(o,o.return)),c&64&&Ci&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=js;if(Xa(s,r),Za(r),c&512&&(Tr||o===null||Gs(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":y=f.getElementsByTagName("title")[0],(!y||y[st]||y[ye]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(c),f.head.insertBefore(y,f.querySelector("head > title"))),da(y,c,o),y[ye]=r,Ot(y),c=y;break e;case"link":var N=xb("link","href",f).get(c+(o.href||""));if(N){for(var S=0;S<N.length;S++)if(y=N[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){N.splice(S,1);break t}}y=f.createElement(c),da(y,c,o),f.head.appendChild(y);break;case"meta":if(N=xb("meta","content",f).get(c+(o.content||""))){for(S=0;S<N.length;S++)if(y=N[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){N.splice(S,1);break t}}y=f.createElement(c),da(y,c,o),f.head.appendChild(y);break;default:throw Error(a(468,c))}y[ye]=r,Ot(y),c=y}r.stateNode=c}else bb(f,r.type,r.stateNode);else r.stateNode=vb(f,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?bb(f,r.type,r.stateNode):vb(f,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Cp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Xa(s,r),Za(r),c&512&&(Tr||o===null||Gs(o,o.return)),o!==null&&c&4&&Cp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Xa(s,r),Za(r),c&512&&(Tr||o===null||Gs(o,o.return)),r.flags&32){f=r.stateNode;try{br(f,"")}catch(he){kn(r,r.return,he)}}c&4&&r.stateNode!=null&&(f=r.memoizedProps,Cp(r,f,o!==null?o.memoizedProps:f)),c&1024&&(jp=!0);break;case 6:if(Xa(s,r),Za(r),c&4){if(r.stateNode===null)throw Error(a(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(he){kn(r,r.return,he)}}break;case 3:if(Uh=null,f=js,js=Vh(s.containerInfo),Xa(s,r),js=f,Za(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Vu(s.containerInfo)}catch(he){kn(r,r.return,he)}jp&&(jp=!1,Sx(r));break;case 4:c=js,js=Vh(r.stateNode.containerInfo),Xa(s,r),Za(r),js=c;break;case 12:Xa(s,r),Za(r);break;case 13:Xa(s,r),Za(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Vp=Pn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Dp(r,c)));break;case 22:f=r.memoizedState!==null;var H=o!==null&&o.memoizedState!==null,se=Ci,be=Tr;if(Ci=se||f,Tr=be||H,Xa(s,r),Tr=be,Ci=se,Za(r),c&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||H||Ci||Tr||ol(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){H=o=s;try{if(y=H.stateNode,f)N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{S=H.stateNode;var Se=H.memoizedProps.style,de=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;S.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(he){kn(H,H.return,he)}}}else if(s.tag===6){if(o===null){H=s;try{H.stateNode.nodeValue=f?"":H.memoizedProps}catch(he){kn(H,H.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Dp(r,o))));break;case 19:Xa(s,r),Za(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Dp(r,c)));break;case 30:break;case 21:break;default:Xa(s,r),Za(r)}}function Za(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(vx(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,y=Ap(r);Nh(r,y,f);break;case 5:var N=o.stateNode;o.flags&32&&(br(N,""),o.flags&=-33);var S=Ap(r);Nh(r,S,N);break;case 3:case 4:var H=o.stateNode.containerInfo,se=Ap(r);Rp(r,se,H);break;default:throw Error(a(161))}}catch(be){kn(r,r.return,be)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Sx(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Sx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function eo(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_x(r,s.alternate,s),s=s.sibling}function ol(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ji(4,s,s.return),ol(s);break;case 1:Gs(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&gx(s,s.return,o),ol(s);break;case 27:Ru(s.stateNode);case 26:case 5:Gs(s,s.return),ol(s);break;case 22:s.memoizedState===null&&ol(s);break;case 30:ol(s);break;default:ol(s)}r=r.sibling}}function to(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=r,y=s,N=y.flags;switch(y.tag){case 0:case 11:case 15:to(f,y,o),xu(4,y);break;case 1:if(to(f,y,o),c=y,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(se){kn(c,c.return,se)}if(c=y,f=c.updateQueue,f!==null){var S=c.stateNode;try{var H=f.shared.hiddenCallbacks;if(H!==null)for(f.shared.hiddenCallbacks=null,f=0;f<H.length;f++)tv(H[f],S)}catch(se){kn(c,c.return,se)}}o&&N&64&&px(y),bu(y,y.return);break;case 27:xx(y);case 26:case 5:to(f,y,o),o&&c===null&&N&4&&yx(y),bu(y,y.return);break;case 12:to(f,y,o);break;case 13:to(f,y,o),o&&N&4&&Nx(f,y);break;case 22:y.memoizedState===null&&to(f,y,o),bu(y,y.return);break;case 30:break;default:to(f,y,o)}s=s.sibling}}function Mp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&su(o))}function Ip(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&su(r))}function Qs(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Cx(r,s,o,c),s=s.sibling}function Cx(r,s,o,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Qs(r,s,o,c),f&2048&&xu(9,s);break;case 1:Qs(r,s,o,c);break;case 3:Qs(r,s,o,c),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&su(r)));break;case 12:if(f&2048){Qs(r,s,o,c),r=s.stateNode;try{var y=s.memoizedProps,N=y.id,S=y.onPostCommit;typeof S=="function"&&S(N,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){kn(s,s.return,H)}}else Qs(r,s,o,c);break;case 13:Qs(r,s,o,c);break;case 23:break;case 22:y=s.stateNode,N=s.alternate,s.memoizedState!==null?y._visibility&2?Qs(r,s,o,c):_u(r,s):y._visibility&2?Qs(r,s,o,c):(y._visibility|=2,Kl(r,s,o,c,(s.subtreeFlags&10256)!==0)),f&2048&&Mp(N,s);break;case 24:Qs(r,s,o,c),f&2048&&Ip(s.alternate,s);break;default:Qs(r,s,o,c)}}function Kl(r,s,o,c,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,N=s,S=o,H=c,se=N.flags;switch(N.tag){case 0:case 11:case 15:Kl(y,N,S,H,f),xu(8,N);break;case 23:break;case 22:var be=N.stateNode;N.memoizedState!==null?be._visibility&2?Kl(y,N,S,H,f):_u(y,N):(be._visibility|=2,Kl(y,N,S,H,f)),f&&se&2048&&Mp(N.alternate,N);break;case 24:Kl(y,N,S,H,f),f&&se&2048&&Ip(N.alternate,N);break;default:Kl(y,N,S,H,f)}s=s.sibling}}function _u(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,f=c.flags;switch(c.tag){case 22:_u(o,c),f&2048&&Mp(c.alternate,c);break;case 24:_u(o,c),f&2048&&Ip(c.alternate,c);break;default:_u(o,c)}s=s.sibling}}var wu=8192;function Xl(r){if(r.subtreeFlags&wu)for(r=r.child;r!==null;)Ax(r),r=r.sibling}function Ax(r){switch(r.tag){case 26:Xl(r),r.flags&wu&&r.memoizedState!==null&&iS(js,r.memoizedState,r.memoizedProps);break;case 5:Xl(r);break;case 3:case 4:var s=js;js=Vh(r.stateNode.containerInfo),Xl(r),js=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=wu,wu=16777216,Xl(r),wu=s):Xl(r));break;default:Xl(r)}}function Rx(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Eu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];ta=c,Dx(c,r)}Rx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jx(r),r=r.sibling}function jx(r){switch(r.tag){case 0:case 11:case 15:Eu(r),r.flags&2048&&Ji(9,r,r.return);break;case 3:Eu(r);break;case 12:Eu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Th(r)):Eu(r);break;default:Eu(r)}}function Th(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];ta=c,Dx(c,r)}Rx(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ji(8,s,s.return),Th(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Th(s));break;default:Th(s)}r=r.sibling}}function Dx(r,s){for(;ta!==null;){var o=ta;switch(o.tag){case 0:case 11:case 15:Ji(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:su(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,ta=c;else e:for(o=r;ta!==null;){c=ta;var f=c.sibling,y=c.return;if(wx(c),c===o){ta=null;break e}if(f!==null){f.return=y,ta=f;break e}ta=y}}}var wT={getCacheForType:function(r){var s=wa(qr),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},ET=typeof WeakMap=="function"?WeakMap:Map,Nn=0,Un=null,Qt=null,on=0,Tn=0,Ja=null,no=!1,Zl=!1,Pp=!1,Ri=0,pr=0,ro=0,ll=0,Op=0,gs=0,Jl=0,Nu=null,Fa=null,kp=!1,Vp=0,Sh=1/0,Ch=null,ao=null,ua=0,so=null,ec=null,tc=0,Lp=0,Up=null,Mx=null,Tu=0,zp=null;function es(){if((Nn&2)!==0&&on!==0)return on&-on;if(F.T!==null){var r=Fl;return r!==0?r:Wp()}return $()}function Ix(){gs===0&&(gs=(on&536870912)===0||vn?Lt():536870912);var r=ps.current;return r!==null&&(r.flags|=32),gs}function ts(r,s,o){(r===Un&&(Tn===2||Tn===9)||r.cancelPendingCommit!==null)&&(nc(r,0),io(r,on,gs,!1)),gn(r,o),((Nn&2)===0||r!==Un)&&(r===Un&&((Nn&2)===0&&(ll|=o),pr===4&&io(r,on,gs,!1)),Ks(r))}function Px(r,s,o){if((Nn&6)!==0)throw Error(a(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||yr(r,s),f=c?ST(r,s):Hp(r,s,!0),y=c;do{if(f===0){Zl&&!c&&io(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!NT(o)){f=Hp(r,s,!1),y=!1;continue}if(f===2){if(y=s,r.errorRecoveryDisabledLanes&y)var N=0;else N=r.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var S=r;f=Nu;var H=S.current.memoizedState.isDehydrated;if(H&&(nc(S,N).flags|=256),N=Hp(S,N,!1),N!==2){if(Pp&&!H){S.errorRecoveryDisabledLanes|=y,ll|=y,f=4;break e}y=Fa,Fa=f,y!==null&&(Fa===null?Fa=y:Fa.push.apply(Fa,y))}f=N}if(y=!1,f!==2)continue}}if(f===1){nc(r,0),io(r,s,0,!0);break}e:{switch(c=r,y=f,y){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:io(c,s,gs,!no);break e;case 2:Fa=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(f=Vp+300-Pn(),10<f)){if(io(c,s,gs,!no),Lr(c,0,!0)!==0)break e;c.timeoutHandle=cb(Ox.bind(null,c,o,Fa,Ch,kp,s,gs,ll,Jl,no,y,2,-0,0),f);break e}Ox(c,o,Fa,Ch,kp,s,gs,ll,Jl,no,y,0,-0,0)}}break}while(!0);Ks(r)}function Ox(r,s,o,c,f,y,N,S,H,se,be,Se,de,he){if(r.timeoutHandle=-1,Se=s.subtreeFlags,(Se&8192||(Se&16785408)===16785408)&&(Mu={stylesheets:null,count:0,unsuspend:sS},Ax(s),Se=oS(),Se!==null)){r.cancelPendingCommit=Se(Fx.bind(null,r,s,y,o,c,f,N,S,H,be,1,de,he)),io(r,y,N,!se);return}Fx(r,s,y,o,c,f,N,S,H)}function NT(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],y=f.getSnapshot;f=f.value;try{if(!Ia(y(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function io(r,s,o,c){s&=~Op,s&=~ll,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var f=s;0<f;){var y=31-Rn(f),N=1<<y;c[y]=-1,f&=~N}o!==0&&Bt(r,o,s)}function Ah(){return(Nn&6)===0?(Su(0),!1):!0}function Bp(){if(Qt!==null){if(Tn===0)var r=Qt.return;else r=Qt,_i=nl=null,ap(r),Gl=null,gu=0,r=Qt;for(;r!==null;)mx(r.alternate,r),r=r.return;Qt=null}}function nc(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,FT(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Bp(),Un=r,Qt=o=vi(r.current,null),on=s,Tn=0,Ja=null,no=!1,Zl=yr(r,s),Pp=!1,Jl=gs=Op=ll=ro=pr=0,Fa=Nu=null,kp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var f=31-Rn(c),y=1<<f;s|=r[f],c&=~y}return Ri=s,Kd(),o}function kx(r,s){Ht=null,F.H=ph,s===ou||s===sh?(s=Jy(),Tn=3):s===Ky?(s=Jy(),Tn=4):Tn=s===ex?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ja=s,Qt===null&&(pr=1,bh(r,ds(s,r.current)))}function Vx(){var r=F.H;return F.H=ph,r===null?ph:r}function Lx(){var r=F.A;return F.A=wT,r}function Fp(){pr=4,no||(on&4194048)!==on&&ps.current!==null||(Zl=!0),(ro&134217727)===0&&(ll&134217727)===0||Un===null||io(Un,on,gs,!1)}function Hp(r,s,o){var c=Nn;Nn|=2;var f=Vx(),y=Lx();(Un!==r||on!==s)&&(Ch=null,nc(r,s)),s=!1;var N=pr;e:do try{if(Tn!==0&&Qt!==null){var S=Qt,H=Ja;switch(Tn){case 8:Bp(),N=6;break e;case 3:case 2:case 9:case 6:ps.current===null&&(s=!0);var se=Tn;if(Tn=0,Ja=null,rc(r,S,H,se),o&&Zl){N=0;break e}break;default:se=Tn,Tn=0,Ja=null,rc(r,S,H,se)}}TT(),N=pr;break}catch(be){kx(r,be)}while(!0);return s&&r.shellSuspendCounter++,_i=nl=null,Nn=c,F.H=f,F.A=y,Qt===null&&(Un=null,on=0,Kd()),N}function TT(){for(;Qt!==null;)Ux(Qt)}function ST(r,s){var o=Nn;Nn|=2;var c=Vx(),f=Lx();Un!==r||on!==s?(Ch=null,Sh=Pn()+500,nc(r,s)):Zl=yr(r,s);e:do try{if(Tn!==0&&Qt!==null){s=Qt;var y=Ja;t:switch(Tn){case 1:Tn=0,Ja=null,rc(r,s,y,1);break;case 2:case 9:if(Xy(y)){Tn=0,Ja=null,zx(s);break}s=function(){Tn!==2&&Tn!==9||Un!==r||(Tn=7),Ks(r)},y.then(s,s);break e;case 3:Tn=7;break e;case 4:Tn=5;break e;case 7:Xy(y)?(Tn=0,Ja=null,zx(s)):(Tn=0,Ja=null,rc(r,s,y,7));break;case 5:var N=null;switch(Qt.tag){case 26:N=Qt.memoizedState;case 5:case 27:var S=Qt;if(!N||_b(N)){Tn=0,Ja=null;var H=S.sibling;if(H!==null)Qt=H;else{var se=S.return;se!==null?(Qt=se,Rh(se)):Qt=null}break t}}Tn=0,Ja=null,rc(r,s,y,5);break;case 6:Tn=0,Ja=null,rc(r,s,y,6);break;case 8:Bp(),pr=6;break e;default:throw Error(a(462))}}CT();break}catch(be){kx(r,be)}while(!0);return _i=nl=null,F.H=c,F.A=f,Nn=o,Qt!==null?0:(Un=null,on=0,Kd(),pr)}function CT(){for(;Qt!==null&&!ya();)Ux(Qt)}function Ux(r){var s=hx(r.alternate,r,Ri);r.memoizedProps=r.pendingProps,s===null?Rh(r):Qt=s}function zx(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=ix(o,s,s.pendingProps,s.type,void 0,on);break;case 11:s=ix(o,s,s.pendingProps,s.type.render,s.ref,on);break;case 5:ap(s);default:mx(o,s),s=Qt=By(s,Ri),s=hx(o,s,Ri)}r.memoizedProps=r.pendingProps,s===null?Rh(r):Qt=s}function rc(r,s,o,c){_i=nl=null,ap(s),Gl=null,gu=0;var f=s.return;try{if(gT(r,f,s,o,on)){pr=1,bh(r,ds(o,r.current)),Qt=null;return}}catch(y){if(f!==null)throw Qt=f,y;pr=1,bh(r,ds(o,r.current)),Qt=null;return}s.flags&32768?(vn||c===1?r=!0:Zl||(on&536870912)!==0?r=!1:(no=r=!0,(c===2||c===9||c===3||c===6)&&(c=ps.current,c!==null&&c.tag===13&&(c.flags|=16384))),Bx(s,r)):Rh(s)}function Rh(r){var s=r;do{if((s.flags&32768)!==0){Bx(s,no);return}r=s.return;var o=vT(s.alternate,s,Ri);if(o!==null){Qt=o;return}if(s=s.sibling,s!==null){Qt=s;return}Qt=s=r}while(s!==null);pr===0&&(pr=5)}function Bx(r,s){do{var o=xT(r.alternate,r);if(o!==null){o.flags&=32767,Qt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Qt=r;return}Qt=r=o}while(r!==null);pr=6,Qt=null}function Fx(r,s,o,c,f,y,N,S,H){r.cancelPendingCommit=null;do jh();while(ua!==0);if((Nn&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(y=s.lanes|s.childLanes,y|=Im,vr(r,o,y,N,S,H),r===Un&&(Qt=Un=null,on=0),ec=s,so=r,tc=o,Lp=y,Up=f,Mx=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,DT(Kr,function(){return Wx(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=F.T,F.T=null,f=le.p,le.p=2,N=Nn,Nn|=4;try{bT(r,s,o)}finally{Nn=N,le.p=f,F.T=c}}ua=1,Hx(),qx(),$x()}}function Hx(){if(ua===1){ua=0;var r=so,s=ec,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=F.T,F.T=null;var c=le.p;le.p=2;var f=Nn;Nn|=4;try{Tx(s,r);var y=tg,N=C(r.containerInfo),S=y.focusedElem,H=y.selectionRange;if(N!==S&&S&&S.ownerDocument&&v(S.ownerDocument.documentElement,S)){if(H!==null&&L(S)){var se=H.start,be=H.end;if(be===void 0&&(be=se),"selectionStart"in S)S.selectionStart=se,S.selectionEnd=Math.min(be,S.value.length);else{var Se=S.ownerDocument||document,de=Se&&Se.defaultView||window;if(de.getSelection){var he=de.getSelection(),_t=S.textContent.length,pt=Math.min(H.start,_t),Mn=H.end===void 0?pt:Math.min(H.end,_t);!he.extend&&pt>Mn&&(N=Mn,Mn=pt,pt=N);var Z=Qd(S,pt),Q=Qd(S,Mn);if(Z&&Q&&(he.rangeCount!==1||he.anchorNode!==Z.node||he.anchorOffset!==Z.offset||he.focusNode!==Q.node||he.focusOffset!==Q.offset)){var re=Se.createRange();re.setStart(Z.node,Z.offset),he.removeAllRanges(),pt>Mn?(he.addRange(re),he.extend(Q.node,Q.offset)):(re.setEnd(Q.node,Q.offset),he.addRange(re))}}}}for(Se=[],he=S;he=he.parentNode;)he.nodeType===1&&Se.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Se.length;S++){var Ee=Se[S];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}Fh=!!eg,tg=eg=null}finally{Nn=f,le.p=c,F.T=o}}r.current=s,ua=2}}function qx(){if(ua===2){ua=0;var r=so,s=ec,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=F.T,F.T=null;var c=le.p;le.p=2;var f=Nn;Nn|=4;try{_x(r,s.alternate,s)}finally{Nn=f,le.p=c,F.T=o}}ua=3}}function $x(){if(ua===4||ua===3){ua=0,ka();var r=so,s=ec,o=tc,c=Mx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ua=5:(ua=0,ec=so=null,Yx(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(ao=null),Ur(o),s=s.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(It,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=F.T,f=le.p,le.p=2,F.T=null;try{for(var y=r.onRecoverableError,N=0;N<c.length;N++){var S=c[N];y(S.value,{componentStack:S.stack})}}finally{F.T=s,le.p=f}}(tc&3)!==0&&jh(),Ks(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===zp?Tu++:(Tu=0,zp=r):Tu=0,Su(0)}}function Yx(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,su(s)))}function jh(r){return Hx(),qx(),$x(),Wx()}function Wx(){if(ua!==5)return!1;var r=so,s=Lp;Lp=0;var o=Ur(tc),c=F.T,f=le.p;try{le.p=32>o?32:o,F.T=null,o=Up,Up=null;var y=so,N=tc;if(ua=0,ec=so=null,tc=0,(Nn&6)!==0)throw Error(a(331));var S=Nn;if(Nn|=4,jx(y.current),Cx(y,y.current,N,o),Nn=S,Su(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(It,y)}catch{}return!0}finally{le.p=f,F.T=c,Yx(r,s)}}function Gx(r,s,o){s=ds(o,s),s=vp(r.stateNode,s,2),r=Qi(r,s,2),r!==null&&(gn(r,2),Ks(r))}function kn(r,s,o){if(r.tag===3)Gx(r,r,o);else for(;s!==null;){if(s.tag===3){Gx(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ao===null||!ao.has(c))){r=ds(o,r),o=Zv(2),c=Qi(s,o,2),c!==null&&(Jv(o,c,s,r),gn(c,2),Ks(c));break}}s=s.return}}function qp(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new ET;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(o)||(Pp=!0,f.add(o),r=AT.bind(null,r,s,o),s.then(r,r))}function AT(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Un===r&&(on&o)===o&&(pr===4||pr===3&&(on&62914560)===on&&300>Pn()-Vp?(Nn&2)===0&&nc(r,0):Op|=o,Jl===on&&(Jl=0)),Ks(r)}function Qx(r,s){s===0&&(s=Et()),r=Ll(r,s),r!==null&&(gn(r,s),Ks(r))}function RT(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Qx(r,o)}function jT(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),Qx(r,o)}function DT(r,s){return We(r,s)}var Dh=null,ac=null,$p=!1,Mh=!1,Yp=!1,cl=0;function Ks(r){r!==ac&&r.next===null&&(ac===null?Dh=ac=r:ac=ac.next=r),Mh=!0,$p||($p=!0,IT())}function Su(r,s){if(!Yp&&Mh){Yp=!0;do for(var o=!1,c=Dh;c!==null;){if(r!==0){var f=c.pendingLanes;if(f===0)var y=0;else{var N=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-Rn(42|r)+1)-1,y&=f&~(N&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Jx(c,y))}else y=on,y=Lr(c,c===Un?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||yr(c,y)||(o=!0,Jx(c,y));c=c.next}while(o);Yp=!1}}function MT(){Kx()}function Kx(){Mh=$p=!1;var r=0;cl!==0&&(BT()&&(r=cl),cl=0);for(var s=Pn(),o=null,c=Dh;c!==null;){var f=c.next,y=Xx(c,s);y===0?(c.next=null,o===null?Dh=f:o.next=f,f===null&&(ac=o)):(o=c,(r!==0||(y&3)!==0)&&(Mh=!0)),c=f}Su(r)}function Xx(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var N=31-Rn(y),S=1<<N,H=f[N];H===-1?((S&o)===0||(S&c)!==0)&&(f[N]=dt(S,s)):H<=s&&(r.expiredLanes|=S),y&=~S}if(s=Un,o=on,o=Lr(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(Tn===2||Tn===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&wt(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||yr(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&wt(c),Ur(o)){case 2:case 8:o=Ar;break;case 32:o=Kr;break;case 268435456:o=Vn;break;default:o=Kr}return c=Zx.bind(null,r),o=We(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&wt(c),r.callbackPriority=2,r.callbackNode=null,2}function Zx(r,s){if(ua!==0&&ua!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(jh()&&r.callbackNode!==o)return null;var c=on;return c=Lr(r,r===Un?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Px(r,c,s),Xx(r,Pn()),r.callbackNode!=null&&r.callbackNode===o?Zx.bind(null,r):null)}function Jx(r,s){if(jh())return null;Px(r,s,!0)}function IT(){HT(function(){(Nn&6)!==0?We(gr,MT):Kx()})}function Wp(){return cl===0&&(cl=Lt()),cl}function eb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:La(""+r)}function tb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function PT(r,s,o,c,f){if(s==="submit"&&o&&o.stateNode===f){var y=eb((f[je]||null).action),N=c.submitter;N&&(s=(s=N[je]||null)?eb(s.formAction):N.getAttribute("formAction"),s!==null&&(y=s,N=null));var S=new Le("action","action",null,c,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(cl!==0){var H=N?tb(f,N):new FormData(f);fp(o,{pending:!0,data:H,method:f.method,action:y},null,H)}}else typeof y=="function"&&(S.preventDefault(),H=N?tb(f,N):new FormData(f),fp(o,{pending:!0,data:H,method:f.method,action:y},y,H))},currentTarget:f}]})}}for(var Gp=0;Gp<Ct.length;Gp++){var Qp=Ct[Gp],OT=Qp.toLowerCase(),kT=Qp[0].toUpperCase()+Qp.slice(1);zt(OT,"on"+kT)}zt(nr,"onAnimationEnd"),zt(Gt,"onAnimationIteration"),zt(Gn,"onAnimationStart"),zt("dblclick","onDoubleClick"),zt("focusin","onFocus"),zt("focusout","onBlur"),zt(fn,"onTransitionRun"),zt(kt,"onTransitionStart"),zt(Pe,"onTransitionCancel"),zt(mt,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function nb(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],f=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var N=c.length-1;0<=N;N--){var S=c[N],H=S.instance,se=S.currentTarget;if(S=S.listener,H!==y&&f.isPropagationStopped())break e;y=S,f.currentTarget=se;try{y(f)}catch(be){xh(be)}f.currentTarget=null,y=H}else for(N=0;N<c.length;N++){if(S=c[N],H=S.instance,se=S.currentTarget,S=S.listener,H!==y&&f.isPropagationStopped())break e;y=S,f.currentTarget=se;try{y(f)}catch(be){xh(be)}f.currentTarget=null,y=H}}}}function Kt(r,s){var o=s[Qe];o===void 0&&(o=s[Qe]=new Set);var c=r+"__bubble";o.has(c)||(rb(s,r,2,!1),o.add(c))}function Kp(r,s,o){var c=0;s&&(c|=4),rb(o,r,c,s)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function Xp(r){if(!r[Ih]){r[Ih]=!0,Je.forEach(function(o){o!=="selectionchange"&&(VT.has(o)||Kp(o,!1,r),Kp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ih]||(s[Ih]=!0,Kp("selectionchange",!1,s))}}function rb(r,s,o,c){switch(Cb(s)){case 2:var f=uS;break;case 8:f=dS;break;default:f=dg}o=f.bind(null,s,o,r),f=void 0,!oa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function Zp(r,s,o,c,f){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var S=c.stateNode.containerInfo;if(S===f)break;if(N===4)for(N=c.return;N!==null;){var H=N.tag;if((H===3||H===4)&&N.stateNode.containerInfo===f)return;N=N.return}for(;S!==null;){if(N=it(S),N===null)return;if(H=N.tag,H===5||H===6||H===26||H===27){c=y=N;continue e}S=S.parentNode}}c=c.return}Hs(function(){var se=y,be=_r(o),Se=[];e:{var de=rn.get(r);if(de!==void 0){var he=Le,_t=r;switch(r){case"keypress":if(Y(o)===0)break e;case"keydown":case"keyup":he=yi;break;case"focusin":_t="focus",he=Dr;break;case"focusout":_t="blur",he=Dr;break;case"beforeblur":case"afterblur":he=Dr;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Ua;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Il;break;case nr:case Gt:case Gn:he=Ts;break;case mt:he=As;break;case"scroll":case"scrollend":he=ze;break;case"wheel":he=$i;break;case"copy":case"cut":case"paste":he=Ss;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Wo;break;case"toggle":case"beforetoggle":he=Pl}var pt=(s&4)!==0,Mn=!pt&&(r==="scroll"||r==="scrollend"),Z=pt?de!==null?de+"Capture":null:de;pt=[];for(var Q=se,re;Q!==null;){var Ee=Q;if(re=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||re===null||Z===null||(Ee=wr(Q,Z),Ee!=null&&pt.push(Au(Q,Ee,re))),Mn)break;Q=Q.return}0<pt.length&&(de=new he(de,_t,null,o,be),Se.push({event:de,listeners:pt}))}}if((s&7)===0){e:{if(de=r==="mouseover"||r==="pointerover",he=r==="mouseout"||r==="pointerout",de&&o!==Wa&&(_t=o.relatedTarget||o.fromElement)&&(it(_t)||_t[Ie]))break e;if((he||de)&&(de=be.window===be?be:(de=be.ownerDocument)?de.defaultView||de.parentWindow:window,he?(_t=o.relatedTarget||o.toElement,he=se,_t=_t?it(_t):null,_t!==null&&(Mn=l(_t),pt=_t.tag,_t!==Mn||pt!==5&&pt!==27&&pt!==6)&&(_t=null)):(he=null,_t=se),he!==_t)){if(pt=Fn,Ee="onMouseLeave",Z="onMouseEnter",Q="mouse",(r==="pointerout"||r==="pointerover")&&(pt=Wo,Ee="onPointerLeave",Z="onPointerEnter",Q="pointer"),Mn=he==null?de:vt(he),re=_t==null?de:vt(_t),de=new pt(Ee,Q+"leave",he,o,be),de.target=Mn,de.relatedTarget=re,Ee=null,it(be)===se&&(pt=new pt(Z,Q+"enter",_t,o,be),pt.target=re,pt.relatedTarget=Mn,Ee=pt),Mn=Ee,he&&_t)t:{for(pt=he,Z=_t,Q=0,re=pt;re;re=sc(re))Q++;for(re=0,Ee=Z;Ee;Ee=sc(Ee))re++;for(;0<Q-re;)pt=sc(pt),Q--;for(;0<re-Q;)Z=sc(Z),re--;for(;Q--;){if(pt===Z||Z!==null&&pt===Z.alternate)break t;pt=sc(pt),Z=sc(Z)}pt=null}else pt=null;he!==null&&ab(Se,de,he,pt,!1),_t!==null&&Mn!==null&&ab(Se,Mn,_t,pt,!0)}}e:{if(de=se?vt(se):window,he=de.nodeName&&de.nodeName.toLowerCase(),he==="select"||he==="input"&&de.type==="file")var Ge=Fd;else if(Yn(de))if(Hd)Ge=Mm;else{Ge=jm;var Yt=Rm}else he=de.nodeName,!he||he.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?se&&Bs(se.elementType)&&(Ge=Fd):Ge=Dm;if(Ge&&(Ge=Ge(r,se))){Rs(Se,Ge,o,be);break e}Yt&&Yt(r,de,se),r==="focusout"&&se&&de.type==="number"&&se.memoizedProps.value!=null&&$a(de,"number",de.value)}switch(Yt=se?vt(se):window,r){case"focusin":(Yn(Yt)||Yt.contentEditable==="true")&&(ee=Yt,X=se,Oe=null);break;case"focusout":Oe=X=ee=null;break;case"mousedown":et=!0;break;case"contextmenu":case"mouseup":case"dragend":et=!1,nn(Se,o,be);break;case"selectionchange":if(W)break;case"keydown":case"keyup":nn(Se,o,be)}var rt;if(cs)e:{switch(r){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else $t?pe(r,o)&&(yt="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(yt="onCompositionStart");yt&&(w&&o.locale!=="ko"&&($t||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&$t&&(rt=A()):(la=be,Ga="value"in la?la.value:la.textContent,$t=!0)),Yt=Ph(se,yt),0<Yt.length&&(yt=new $o(yt,r,null,o,be),Se.push({event:yt,listeners:Yt}),rt?yt.data=rt:(rt=Me(o),rt!==null&&(yt.data=rt)))),(rt=x?tr(r,o):Xt(r,o))&&(yt=Ph(se,"onBeforeInput"),0<yt.length&&(Yt=new $o("onBeforeInput","beforeinput",null,o,be),Se.push({event:Yt,listeners:yt}),Yt.data=rt)),PT(Se,r,se,o,be)}nb(Se,s)})}function Au(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Ph(r,s){for(var o=s+"Capture",c=[];r!==null;){var f=r,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=wr(r,o),f!=null&&c.unshift(Au(r,f,y)),f=wr(r,s),f!=null&&c.push(Au(r,f,y))),r.tag===3)return c;r=r.return}return[]}function sc(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function ab(r,s,o,c,f){for(var y=s._reactName,N=[];o!==null&&o!==c;){var S=o,H=S.alternate,se=S.stateNode;if(S=S.tag,H!==null&&H===c)break;S!==5&&S!==26&&S!==27||se===null||(H=se,f?(se=wr(o,y),se!=null&&N.unshift(Au(o,se,H))):f||(se=wr(o,y),se!=null&&N.push(Au(o,se,H)))),o=o.return}N.length!==0&&r.push({event:s,listeners:N})}var LT=/\r\n?/g,UT=/\u0000|\uFFFD/g;function sb(r){return(typeof r=="string"?r:""+r).replace(LT,`
`).replace(UT,"")}function ib(r,s){return s=sb(s),sb(r)===s}function Oh(){}function Dn(r,s,o,c,f,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||br(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&br(r,""+c);break;case"className":ht(r,"class",c);break;case"tabIndex":ht(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ht(r,o,c);break;case"style":os(r,c,y);break;case"data":if(s!=="object"){ht(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=La(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&Dn(r,s,"name",f.name,f,null),Dn(r,s,"formEncType",f.formEncType,f,null),Dn(r,s,"formMethod",f.formMethod,f,null),Dn(r,s,"formTarget",f.formTarget,f,null)):(Dn(r,s,"encType",f.encType,f,null),Dn(r,s,"method",f.method,f,null),Dn(r,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=La(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Oh);break;case"onScroll":c!=null&&Kt("scroll",r);break;case"onScrollEnd":c!=null&&Kt("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=La(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Kt("beforetoggle",r),Kt("toggle",r),On(r,"popover",c);break;case"xlinkActuate":ut(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ut(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ut(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ut(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ut(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ut(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ut(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ut(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ut(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":On(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Fs.get(o)||o,On(r,o,c))}}function Jp(r,s,o,c,f,y){switch(o){case"style":os(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"children":typeof c=="string"?br(r,c):(typeof c=="number"||typeof c=="bigint")&&br(r,""+c);break;case"onScroll":c!=null&&Kt("scroll",r);break;case"onScrollEnd":c!=null&&Kt("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Oh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!St.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),y=r[je]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,f),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,f);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):On(r,o,c)}}}function da(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",r),Kt("load",r);var c=!1,f=!1,y;for(y in o)if(o.hasOwnProperty(y)){var N=o[y];if(N!=null)switch(y){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Dn(r,s,y,N,o,null)}}f&&Dn(r,s,"srcSet",o.srcSet,o,null),c&&Dn(r,s,"src",o.src,o,null);return;case"input":Kt("invalid",r);var S=y=N=f=null,H=null,se=null;for(c in o)if(o.hasOwnProperty(c)){var be=o[c];if(be!=null)switch(c){case"name":f=be;break;case"type":N=be;break;case"checked":H=be;break;case"defaultChecked":se=be;break;case"value":y=be;break;case"defaultValue":S=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(a(137,s));break;default:Dn(r,s,c,be,o,null)}}_s(r,y,S,H,se,N,f,!1),er(r);return;case"select":Kt("invalid",r),c=N=y=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":y=S;break;case"defaultValue":N=S;break;case"multiple":c=S;default:Dn(r,s,f,S,o,null)}s=y,o=N,r.multiple=!!c,s!=null?ba(r,!!c,s,!1):o!=null&&ba(r,!!c,o,!0);return;case"textarea":Kt("invalid",r),y=f=c=null;for(N in o)if(o.hasOwnProperty(N)&&(S=o[N],S!=null))switch(N){case"value":c=S;break;case"defaultValue":f=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:Dn(r,s,N,S,o,null)}Va(r,c,f,y),er(r);return;case"option":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Dn(r,s,H,c,o,null)}return;case"dialog":Kt("beforetoggle",r),Kt("toggle",r),Kt("cancel",r),Kt("close",r);break;case"iframe":case"object":Kt("load",r);break;case"video":case"audio":for(c=0;c<Cu.length;c++)Kt(Cu[c],r);break;case"image":Kt("error",r),Kt("load",r);break;case"details":Kt("toggle",r);break;case"embed":case"source":case"link":Kt("error",r),Kt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in o)if(o.hasOwnProperty(se)&&(c=o[se],c!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Dn(r,s,se,c,o,null)}return;default:if(Bs(s)){for(be in o)o.hasOwnProperty(be)&&(c=o[be],c!==void 0&&Jp(r,s,be,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&Dn(r,s,S,c,o,null))}function zT(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,N=null,S=null,H=null,se=null,be=null;for(he in o){var Se=o[he];if(o.hasOwnProperty(he)&&Se!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":H=Se;default:c.hasOwnProperty(he)||Dn(r,s,he,null,c,Se)}}for(var de in c){var he=c[de];if(Se=o[de],c.hasOwnProperty(de)&&(he!=null||Se!=null))switch(de){case"type":y=he;break;case"name":f=he;break;case"checked":se=he;break;case"defaultChecked":be=he;break;case"value":N=he;break;case"defaultValue":S=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,s));break;default:he!==Se&&Dn(r,s,de,he,c,Se)}}hr(r,N,S,H,se,be,y,f);return;case"select":he=N=S=de=null;for(y in o)if(H=o[y],o.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":he=H;default:c.hasOwnProperty(y)||Dn(r,s,y,null,c,H)}for(f in c)if(y=c[f],H=o[f],c.hasOwnProperty(f)&&(y!=null||H!=null))switch(f){case"value":de=y;break;case"defaultValue":S=y;break;case"multiple":N=y;default:y!==H&&Dn(r,s,f,y,c,H)}s=S,o=N,c=he,de!=null?ba(r,!!o,de,!1):!!c!=!!o&&(s!=null?ba(r,!!o,s,!0):ba(r,!!o,o?[]:"",!1));return;case"textarea":he=de=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Dn(r,s,S,null,c,f)}for(N in c)if(f=c[N],y=o[N],c.hasOwnProperty(N)&&(f!=null||y!=null))switch(N){case"value":de=f;break;case"defaultValue":he=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==y&&Dn(r,s,N,f,c,y)}hn(r,de,he);return;case"option":for(var _t in o)if(de=o[_t],o.hasOwnProperty(_t)&&de!=null&&!c.hasOwnProperty(_t))switch(_t){case"selected":r.selected=!1;break;default:Dn(r,s,_t,null,c,de)}for(H in c)if(de=c[H],he=o[H],c.hasOwnProperty(H)&&de!==he&&(de!=null||he!=null))switch(H){case"selected":r.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Dn(r,s,H,de,c,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in o)de=o[pt],o.hasOwnProperty(pt)&&de!=null&&!c.hasOwnProperty(pt)&&Dn(r,s,pt,null,c,de);for(se in c)if(de=c[se],he=o[se],c.hasOwnProperty(se)&&de!==he&&(de!=null||he!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(137,s));break;default:Dn(r,s,se,de,c,he)}return;default:if(Bs(s)){for(var Mn in o)de=o[Mn],o.hasOwnProperty(Mn)&&de!==void 0&&!c.hasOwnProperty(Mn)&&Jp(r,s,Mn,void 0,c,de);for(be in c)de=c[be],he=o[be],!c.hasOwnProperty(be)||de===he||de===void 0&&he===void 0||Jp(r,s,be,de,c,he);return}}for(var Z in o)de=o[Z],o.hasOwnProperty(Z)&&de!=null&&!c.hasOwnProperty(Z)&&Dn(r,s,Z,null,c,de);for(Se in c)de=c[Se],he=o[Se],!c.hasOwnProperty(Se)||de===he||de==null&&he==null||Dn(r,s,Se,de,c,he)}var eg=null,tg=null;function kh(r){return r.nodeType===9?r:r.ownerDocument}function ob(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function ng(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rg=null;function BT(){var r=window.event;return r&&r.type==="popstate"?r===rg?!1:(rg=r,!0):(rg=null,!1)}var cb=typeof setTimeout=="function"?setTimeout:void 0,FT=typeof clearTimeout=="function"?clearTimeout:void 0,ub=typeof Promise=="function"?Promise:void 0,HT=typeof queueMicrotask=="function"?queueMicrotask:typeof ub<"u"?function(r){return ub.resolve(null).then(r).catch(qT)}:cb;function qT(r){setTimeout(function(){throw r})}function oo(r){return r==="head"}function db(r,s){var o=s,c=0,f=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var N=r.ownerDocument;if(o&1&&Ru(N.documentElement),o&2&&Ru(N.body),o&4)for(o=N.head,Ru(o),N=o.firstChild;N;){var S=N.nextSibling,H=N.nodeName;N[st]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&N.rel.toLowerCase()==="stylesheet"||o.removeChild(N),N=S}}if(f===0){r.removeChild(y),Vu(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);Vu(s)}function ag(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ag(o),Xe(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function $T(r,s,o,c){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[st])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Ds(r.nextSibling),r===null)break}return null}function YT(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Ds(r.nextSibling),r===null))return null;return r}function sg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function WT(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Ds(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var ig=null;function hb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function fb(r,s,o){switch(s=kh(o),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function Ru(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Xe(r)}var ys=new Map,mb=new Set;function Vh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ji=le.d;le.d={f:GT,r:QT,D:KT,C:XT,L:ZT,m:JT,X:tS,S:eS,M:nS};function GT(){var r=ji.f(),s=Ah();return r||s}function QT(r){var s=Ze(r);s!==null&&s.tag===5&&s.type==="form"?Pv(s):ji.r(r)}var ic=typeof document>"u"?null:document;function pb(r,s,o){var c=ic;if(c&&typeof s=="string"&&s){var f=bn(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),mb.has(f)||(mb.add(f),r={rel:r,crossOrigin:o,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),da(s,"link",r),Ot(s),c.head.appendChild(s)))}}function KT(r){ji.D(r),pb("dns-prefetch",r,null)}function XT(r,s){ji.C(r,s),pb("preconnect",r,s)}function ZT(r,s,o){ji.L(r,s,o);var c=ic;if(c&&r&&s){var f='link[rel="preload"][as="'+bn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+bn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+bn(o.imageSizes)+'"]')):f+='[href="'+bn(r)+'"]';var y=f;switch(s){case"style":y=oc(r);break;case"script":y=lc(r)}ys.has(y)||(r=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ys.set(y,r),c.querySelector(f)!==null||s==="style"&&c.querySelector(ju(y))||s==="script"&&c.querySelector(Du(y))||(s=c.createElement("link"),da(s,"link",r),Ot(s),c.head.appendChild(s)))}}function JT(r,s){ji.m(r,s);var o=ic;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(r)+'"]',y=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=lc(r)}if(!ys.has(y)&&(r=b({rel:"modulepreload",href:r},s),ys.set(y,r),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Du(y)))return}c=o.createElement("link"),da(c,"link",r),Ot(c),o.head.appendChild(c)}}}function eS(r,s,o){ji.S(r,s,o);var c=ic;if(c&&r){var f=Dt(c).hoistableStyles,y=oc(r);s=s||"default";var N=f.get(y);if(!N){var S={loading:0,preload:null};if(N=c.querySelector(ju(y)))S.loading=5;else{r=b({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ys.get(y))&&og(r,o);var H=N=c.createElement("link");Ot(H),da(H,"link",r),H._p=new Promise(function(se,be){H.onload=se,H.onerror=be}),H.addEventListener("load",function(){S.loading|=1}),H.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Lh(N,s,c)}N={type:"stylesheet",instance:N,count:1,state:S},f.set(y,N)}}}function tS(r,s){ji.X(r,s);var o=ic;if(o&&r){var c=Dt(o).hoistableScripts,f=lc(r),y=c.get(f);y||(y=o.querySelector(Du(f)),y||(r=b({src:r,async:!0},s),(s=ys.get(f))&&lg(r,s),y=o.createElement("script"),Ot(y),da(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function nS(r,s){ji.M(r,s);var o=ic;if(o&&r){var c=Dt(o).hoistableScripts,f=lc(r),y=c.get(f);y||(y=o.querySelector(Du(f)),y||(r=b({src:r,async:!0,type:"module"},s),(s=ys.get(f))&&lg(r,s),y=o.createElement("script"),Ot(y),da(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function gb(r,s,o,c){var f=(f=$e.current)?Vh(f):null;if(!f)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=oc(o.href),o=Dt(f).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=oc(o.href);var y=Dt(f).hoistableStyles,N=y.get(r);if(N||(f=f.ownerDocument||f,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,N),(y=f.querySelector(ju(r)))&&!y._p&&(N.instance=y,N.state.loading=5),ys.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ys.set(r,o),y||rS(f,r,o,N.state))),s&&c===null)throw Error(a(528,""));return N}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lc(o),o=Dt(f).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function oc(r){return'href="'+bn(r)+'"'}function ju(r){return'link[rel="stylesheet"]['+r+"]"}function yb(r){return b({},r,{"data-precedence":r.precedence,precedence:null})}function rS(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),da(s,"link",o),Ot(s),r.head.appendChild(s))}function lc(r){return'[src="'+bn(r)+'"]'}function Du(r){return"script[async]"+r}function vb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+bn(o.href)+'"]');if(c)return s.instance=c,Ot(c),c;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Ot(c),da(c,"style",f),Lh(c,o.precedence,r),s.instance=c;case"stylesheet":f=oc(o.href);var y=r.querySelector(ju(f));if(y)return s.state.loading|=4,s.instance=y,Ot(y),y;c=yb(o),(f=ys.get(f))&&og(c,f),y=(r.ownerDocument||r).createElement("link"),Ot(y);var N=y;return N._p=new Promise(function(S,H){N.onload=S,N.onerror=H}),da(y,"link",c),s.state.loading|=4,Lh(y,o.precedence,r),s.instance=y;case"script":return y=lc(o.src),(f=r.querySelector(Du(y)))?(s.instance=f,Ot(f),f):(c=o,(f=ys.get(y))&&(c=b({},o),lg(c,f)),r=r.ownerDocument||r,f=r.createElement("script"),Ot(f),da(f,"link",c),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Lh(c,o.precedence,r));return s.instance}function Lh(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,y=f,N=0;N<c.length;N++){var S=c[N];if(S.dataset.precedence===s)y=S;else if(y!==f)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function og(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function lg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Uh=null;function xb(r,s,o){if(Uh===null){var c=new Map,f=Uh=new Map;f.set(o,c)}else f=Uh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var y=o[f];if(!(y[st]||y[ye]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var N=y.getAttribute(s)||"";N=r+N;var S=c.get(N);S?S.push(y):c.set(N,[y])}}return c}function bb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function aS(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _b(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Mu=null;function sS(){}function iS(r,s,o){if(Mu===null)throw Error(a(475));var c=Mu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=oc(o.href),y=r.querySelector(ju(f));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=zh.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,Ot(y);return}y=r.ownerDocument||r,o=yb(o),(f=ys.get(f))&&og(o,f),y=y.createElement("link"),Ot(y);var N=y;N._p=new Promise(function(S,H){N.onload=S,N.onerror=H}),da(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=zh.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function oS(){if(Mu===null)throw Error(a(475));var r=Mu;return r.stylesheets&&r.count===0&&cg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&cg(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function zh(){if(this.count--,this.count===0){if(this.stylesheets)cg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Bh=null;function cg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Bh=new Map,s.forEach(lS,r),Bh=null,zh.call(r))}function lS(r,s){if(!(s.state.loading&4)){var o=Bh.get(r);if(o)var c=o.get(null);else{o=new Map,Bh.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var N=f[y];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(o.set(N.dataset.precedence,N),c=N)}c&&o.set(null,c)}f=s.instance,N=f.getAttribute("data-precedence"),y=o.get(N)||c,y===c&&o.set(null,f),o.set(N,f),this.count++,c=zh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),y?y.parentNode.insertBefore(f,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var Iu={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function cS(r,s,o,c,f,y,N,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wn(0),this.hiddenUpdates=wn(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function wb(r,s,o,c,f,y,N,S,H,se,be,Se){return r=new cS(r,s,o,N,S,H,se,Se),s=1,y===!0&&(s|=24),y=Ka(3,null,null,s),r.current=y,y.stateNode=r,s=qm(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},Gm(y),r}function Eb(r){return r?(r=Ul,r):Ul}function Nb(r,s,o,c,f,y){f=Eb(f),c.context===null?c.context=f:c.pendingContext=f,c=Gi(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Qi(r,c,s),o!==null&&(ts(o,r,s),cu(o,r,s))}function Tb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function ug(r,s){Tb(r,s),(r=r.alternate)&&Tb(r,s)}function Sb(r){if(r.tag===13){var s=Ll(r,67108864);s!==null&&ts(s,r,67108864),ug(r,67108864)}}var Fh=!0;function uS(r,s,o,c){var f=F.T;F.T=null;var y=le.p;try{le.p=2,dg(r,s,o,c)}finally{le.p=y,F.T=f}}function dS(r,s,o,c){var f=F.T;F.T=null;var y=le.p;try{le.p=8,dg(r,s,o,c)}finally{le.p=y,F.T=f}}function dg(r,s,o,c){if(Fh){var f=hg(c);if(f===null)Zp(r,s,c,Hh,o),Ab(r,c);else if(fS(f,r,s,o,c))c.stopPropagation();else if(Ab(r,c),s&4&&-1<hS.indexOf(r)){for(;f!==null;){var y=Ze(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var N=Xn(y.pendingLanes);if(N!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;N;){var H=1<<31-Rn(N);S.entanglements[1]|=H,N&=~H}Ks(y),(Nn&6)===0&&(Sh=Pn()+500,Su(0))}}break;case 13:S=Ll(y,2),S!==null&&ts(S,y,2),Ah(),ug(y,2)}if(y=hg(c),y===null&&Zp(r,s,c,Hh,o),y===f)break;f=y}f!==null&&c.stopPropagation()}else Zp(r,s,c,null,o)}}function hg(r){return r=_r(r),fg(r)}var Hh=null;function fg(r){if(Hh=null,r=it(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=d(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Hh=r,null}function Cb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qr()){case gr:return 2;case Ar:return 8;case Kr:case or:return 32;case Vn:return 268435456;default:return 32}default:return 32}}var mg=!1,lo=null,co=null,uo=null,Pu=new Map,Ou=new Map,ho=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ab(r,s){switch(r){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":Pu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ou.delete(s.pointerId)}}function ku(r,s,o,c,f,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[f]},s!==null&&(s=Ze(s),s!==null&&Sb(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function fS(r,s,o,c,f){switch(s){case"focusin":return lo=ku(lo,r,s,o,c,f),!0;case"dragenter":return co=ku(co,r,s,o,c,f),!0;case"mouseover":return uo=ku(uo,r,s,o,c,f),!0;case"pointerover":var y=f.pointerId;return Pu.set(y,ku(Pu.get(y)||null,r,s,o,c,f)),!0;case"gotpointercapture":return y=f.pointerId,Ou.set(y,ku(Ou.get(y)||null,r,s,o,c,f)),!0}return!1}function Rb(r){var s=it(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=d(o),s!==null){r.blockedOn=s,J(r.priority,function(){if(o.tag===13){var c=es();c=Tt(c);var f=Ll(o,c);f!==null&&ts(f,o,c),ug(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=hg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Wa=c,o.target.dispatchEvent(c),Wa=null}else return s=Ze(o),s!==null&&Sb(s),r.blockedOn=o,!1;s.shift()}return!0}function jb(r,s,o){qh(r)&&o.delete(s)}function mS(){mg=!1,lo!==null&&qh(lo)&&(lo=null),co!==null&&qh(co)&&(co=null),uo!==null&&qh(uo)&&(uo=null),Pu.forEach(jb),Ou.forEach(jb)}function $h(r,s){r.blockedOn===s&&(r.blockedOn=null,mg||(mg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,mS)))}var Yh=null;function Db(r){Yh!==r&&(Yh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yh===r&&(Yh=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],f=r[s+2];if(typeof c!="function"){if(fg(c||o)===null)continue;break}var y=Ze(o);y!==null&&(r.splice(s,3),s-=3,fp(y,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Vu(r){function s(H){return $h(H,r)}lo!==null&&$h(lo,r),co!==null&&$h(co,r),uo!==null&&$h(uo,r),Pu.forEach(s),Ou.forEach(s);for(var o=0;o<ho.length;o++){var c=ho[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<ho.length&&(o=ho[0],o.blockedOn===null);)Rb(o),o.blockedOn===null&&ho.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],y=o[c+1],N=f[je]||null;if(typeof y=="function")N||Db(o);else if(N){var S=null;if(y&&y.hasAttribute("formAction")){if(f=y,N=y[je]||null)S=N.formAction;else if(fg(f)!==null)continue}else S=N.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),Db(o)}}}function pg(r){this._internalRoot=r}Wh.prototype.render=pg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,c=es();Nb(o,c,r,s,null,null)},Wh.prototype.unmount=pg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Nb(r.current,2,null,r,null,null),Ah(),s[Ie]=null}};function Wh(r){this._internalRoot=r}Wh.prototype.unstable_scheduleHydration=function(r){if(r){var s=$();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ho.length&&s!==0&&s<ho[o].priority;o++);ho.splice(o,0,r),o===0&&Rb(r)}};var Mb=e.version;if(Mb!=="19.1.0")throw Error(a(527,Mb,"19.1.0"));le.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var pS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{It=Gh.inject(pS),Ke=Gh}catch{}}return Uu.createRoot=function(r,s){if(!i(r))throw Error(a(299));var o=!1,c="",f=Gv,y=Qv,N=Kv,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=wb(r,1,!1,null,null,o,c,f,y,N,S,null),r[Ie]=s.current,Xp(r),new pg(s)},Uu.hydrateRoot=function(r,s,o){if(!i(r))throw Error(a(299));var c=!1,f="",y=Gv,N=Qv,S=Kv,H=null,se=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(H=o.unstable_transitionCallbacks),o.formState!==void 0&&(se=o.formState)),s=wb(r,1,!0,s,o??null,c,f,y,N,S,H,se),s.context=Eb(null),o=s.current,c=es(),c=Tt(c),f=Gi(c),f.callback=null,Qi(o,f,c),o=c,s.current.lanes=o,gn(s,o),Ks(s),r[Ie]=s.current,Xp(r),new Wh(s)},Uu.version="19.1.0",Uu}var Fb;function NS(){if(Fb)return vg.exports;Fb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vg.exports=ES(),vg.exports}var TS=NS();const SS=nm(TS);var zu={},Hb;function CS(){if(Hb)return zu;Hb=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.parse=d,zu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function d(E,D){const O=new l,z=E.length;if(z<2)return O;const q=D?.decode||b;let K=0;do{const ge=E.indexOf("=",K);if(ge===-1)break;const ae=E.indexOf(";",K),Re=ae===-1?z:ae;if(ge>Re){K=E.lastIndexOf(";",ge-1)+1;continue}const fe=m(E,K,ge),U=p(E,ge,fe),k=E.slice(fe,U);if(O[k]===void 0){let R=m(E,ge+1,Re),I=p(E,Re,R);const M=q(E.slice(R,I));O[k]=M}K=Re+1}while(K<z);return O}function m(E,D,O){do{const z=E.charCodeAt(D);if(z!==32&&z!==9)return D}while(++D<O);return O}function p(E,D,O){for(;D>O;){const z=E.charCodeAt(--D);if(z!==32&&z!==9)return D+1}return O}function g(E,D,O){const z=O?.encode||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const q=z(D);if(!e.test(q))throw new TypeError(`argument val is invalid: ${D}`);let K=E+"="+q;if(!O)return K;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);K+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);K+="; Domain="+O.domain}if(O.path){if(!a.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);K+="; Path="+O.path}if(O.expires){if(!_(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);K+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(K+="; HttpOnly"),O.secure&&(K+="; Secure"),O.partitioned&&(K+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return K}function b(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return i.call(E)==="[object Date]"}return zu}CS();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var C1=n=>{throw TypeError(n)},AS=(n,e,t)=>e.has(n)||C1("Cannot "+t),wg=(n,e,t)=>(AS(n,e,"read from private field"),t?t.call(n):e.get(n)),RS=(n,e,t)=>e.has(n)?C1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),qb="popstate";function jS(n={}){function e(a,i){let{pathname:l,search:d,hash:m}=a.location;return ld("",{pathname:l,search:d,hash:m},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(a,i){return typeof i=="string"?i:Mo(i)}return MS(e,t,null,n)}function Wt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Cr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DS(){return Math.random().toString(36).substring(2,10)}function $b(n,e){return{usr:n.state,key:n.key,idx:e}}function ld(n,e,t=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?zo(e):e,state:t,key:e&&e.key||a||DS()}}function Mo({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function zo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function MS(n,e,t,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,d=i.history,m="POP",p=null,g=b();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function b(){return(d.state||{idx:null}).idx}function _(){m="POP";let q=b(),K=q==null?null:q-g;g=q,p&&p({action:m,location:z.location,delta:K})}function E(q,K){m="PUSH";let ge=ld(z.location,q,K);g=b()+1;let ae=$b(ge,g),Re=z.createHref(ge);try{d.pushState(ae,"",Re)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;i.location.assign(Re)}l&&p&&p({action:m,location:z.location,delta:1})}function D(q,K){m="REPLACE";let ge=ld(z.location,q,K);g=b();let ae=$b(ge,g),Re=z.createHref(ge);d.replaceState(ae,"",Re),l&&p&&p({action:m,location:z.location,delta:0})}function O(q){return A1(q)}let z={get action(){return m},get location(){return n(i,d)},listen(q){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(qb,_),p=q,()=>{i.removeEventListener(qb,_),p=null}},createHref(q){return e(i,q)},createURL:O,encodeLocation(q){let K=O(q);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:E,replace:D,go(q){return d.go(q)}};return z}function A1(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(t,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Mo(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}var Yu,Yb=class{constructor(n){if(RS(this,Yu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(wg(this,Yu).has(n))return wg(this,Yu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){wg(this,Yu).set(n,e)}};Yu=new WeakMap;var IS=new Set(["lazy","caseSensitive","path","id","index","children"]);function PS(n){return IS.has(n)}var OS=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function kS(n){return OS.has(n)}function VS(n){return n.index===!0}function Rf(n,e,t=[],a={}){return n.map((i,l)=>{let d=[...t,String(l)],m=typeof i.id=="string"?i.id:d.join("-");if(Wt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Wt(!a[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),VS(i)){let p={...i,...e(i),id:m};return a[m]=p,p}else{let p={...i,...e(i),id:m,children:void 0};return a[m]=p,i.children&&(p.children=Rf(i.children,e,d,a)),p}})}function vo(n,e,t="/"){return hf(n,e,t,!1)}function hf(n,e,t,a){let i=typeof e=="string"?zo(e):e,l=bs(i.pathname||"/",t);if(l==null)return null;let d=R1(n);US(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let g=KS(l);m=GS(d[p],g,a)}return m}function LS(n,e){let{route:t,pathname:a,params:i}=n;return{id:t.id,pathname:a,params:i,data:e[t.id],handle:t.handle}}function R1(n,e=[],t=[],a=""){let i=(l,d,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};p.relativePath.startsWith("/")&&(Wt(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=si([a,p.relativePath]),b=t.concat(p);l.children&&l.children.length>0&&(Wt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),R1(l.children,e,b,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:YS(g,l.index),routesMeta:b})};return n.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))i(l,d);else for(let m of j1(l.path))i(l,d,m)}),e}function j1(n){let e=n.split("/");if(e.length===0)return[];let[t,...a]=e,i=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let d=j1(a.join("/")),m=[];return m.push(...d.map(p=>p===""?l:[l,p].join("/"))),i&&m.push(...d),m.map(p=>n.startsWith("/")&&p===""?"/":p)}function US(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WS(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var zS=/^:[\w-]+$/,BS=3,FS=2,HS=1,qS=10,$S=-2,Wb=n=>n==="*";function YS(n,e){let t=n.split("/"),a=t.length;return t.some(Wb)&&(a+=$S),e&&(a+=FS),t.filter(i=>!Wb(i)).reduce((i,l)=>i+(zS.test(l)?BS:l===""?HS:qS),a)}function WS(n,e){return n.length===e.length&&n.slice(0,-1).every((a,i)=>a===e[i])?n[n.length-1]-e[e.length-1]:0}function GS(n,e,t=!1){let{routesMeta:a}=n,i={},l="/",d=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,b=l==="/"?e:e.slice(l.length)||"/",_=jf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),E=p.route;if(!_&&g&&t&&!a[a.length-1].route.index&&(_=jf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!_)return null;Object.assign(i,_.params),d.push({params:i,pathname:si([l,_.pathname]),pathnameBase:JS(si([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=si([l,_.pathnameBase]))}return d}function jf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,a]=QS(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let l=i[0],d=l.replace(/(.)\/+$/,"$1"),m=i.slice(1);return{params:a.reduce((g,{paramName:b,isOptional:_},E)=>{if(b==="*"){let O=m[E]||"";d=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const D=m[E];return _&&!D?g[b]=void 0:g[b]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:d,pattern:n}}function QS(n,e=!1,t=!0){Cr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(a.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function KS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function bs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=n.charAt(t);return a&&a!=="/"?null:n.slice(t)||"/"}function XS(n,e="/"){let{pathname:t,search:a="",hash:i=""}=typeof n=="string"?zo(n):n;return{pathname:t?t.startsWith("/")?t:ZS(t,e):e,search:eC(a),hash:tC(i)}}function ZS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Eg(n,e,t,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rm(n){let e=D1(n);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function am(n,e,t,a=!1){let i;typeof n=="string"?i=zo(n):(i={...n},Wt(!i.pathname||!i.pathname.includes("?"),Eg("?","pathname","search",i)),Wt(!i.pathname||!i.pathname.includes("#"),Eg("#","pathname","hash",i)),Wt(!i.search||!i.search.includes("#"),Eg("#","search","hash",i)));let l=n===""||i.pathname==="",d=l?"/":i.pathname,m;if(d==null)m=t;else{let _=e.length-1;if(!a&&d.startsWith("..")){let E=d.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}m=_>=0?e[_]:"/"}let p=XS(i,m),g=d&&d!=="/"&&d.endsWith("/"),b=(l||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var si=n=>n.join("/").replace(/\/\/+/g,"/"),JS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),eC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,tC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Df=class{constructor(n,e,t,a=!1){this.status=n,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function cd(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var M1=["POST","PUT","PATCH","DELETE"],nC=new Set(M1),rC=["GET",...M1],aC=new Set(rC),sC=new Set([301,302,303,307,308]),iC=new Set([307,308]),Ng={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},D0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lC=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),I1="remix-router-transitions",P1=Symbol("ResetLoaderData");function cC(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Wt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=n.hydrationRouteProperties||[],i=n.mapRouteProperties||lC,l={},d=Rf(n.routes,i,void 0,l),m,p=n.basename||"/",g=n.dataStrategy||mC,b={unstable_middleware:!1,...n.future},_=null,E=new Set,D=null,O=null,z=null,q=n.hydrationData!=null,K=vo(d,n.history.location,p),ge=!1,ae=null,Re;if(K==null&&!n.patchRoutesOnNavigation){let $=vs(404,{pathname:n.history.location.pathname}),{matches:J,route:te}=s_(d);Re=!0,K=J,ae={[te.id]:$}}else if(K&&!n.hydrationData&&Bt(K,d,n.history.location.pathname).active&&(K=null),K)if(K.some($=>$.route.lazy))Re=!1;else if(!K.some($=>$.route.loader))Re=!0;else{let $=n.hydrationData?n.hydrationData.loaderData:null,J=n.hydrationData?n.hydrationData.errors:null;if(J){let te=K.findIndex(ye=>J[ye.route.id]!==void 0);Re=K.slice(0,te+1).every(ye=>!Xg(ye.route,$,J))}else Re=K.every(te=>!Xg(te.route,$,J))}else{Re=!1,K=[];let $=Bt(null,d,n.history.location.pathname);$.active&&$.matches&&(ge=!0,K=$.matches)}let fe,U={historyAction:n.history.action,location:n.history.location,matches:K,initialized:Re,navigation:Ng,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||ae,fetchers:new Map,blockers:new Map},k="POP",R=!1,I,M=!1,B=new Map,G=null,V=!1,Te=!1,ve=new Set,F=new Map,le=0,ce=-1,Ae=new Map,P=new Set,ie=new Map,_e=new Map,me=new Set,De=new Map,Fe,$e=null;function Mt(){if(_=n.history.listen(({action:$,location:J,delta:te})=>{if(Fe){Fe(),Fe=void 0;return}Cr(De.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ye=dt({currentLocation:U.location,nextLocation:J,historyAction:$});if(ye&&te!=null){let je=new Promise(Ie=>{Fe=Ie});n.history.go(te*-1),yr(ye,{state:"blocked",location:J,proceed(){yr(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),je.then(()=>n.history.go(te))},reset(){let Ie=new Map(U.blockers);Ie.set(ye,Bu),Nt({blockers:Ie})}});return}return wt($,J)}),t){TC(e,B);let $=()=>SC(e,B);e.addEventListener("pagehide",$),G=()=>e.removeEventListener("pagehide",$)}return U.initialized||wt("POP",U.location,{initialHydration:!0}),fe}function jt(){_&&_(),G&&G(),E.clear(),I&&I.abort(),U.fetchers.forEach(($,J)=>Rn(J)),U.blockers.forEach(($,J)=>Lr(J))}function ct($){return E.add($),()=>E.delete($)}function Nt($,J={}){U={...U,...$};let te=[],ye=[];U.fetchers.forEach((je,Ie)=>{je.state==="idle"&&(me.has(Ie)?te.push(Ie):ye.push(Ie))}),me.forEach(je=>{!U.fetchers.has(je)&&!F.has(je)&&te.push(je)}),[...E].forEach(je=>je(U,{deletedFetchers:te,viewTransitionOpts:J.viewTransitionOpts,flushSync:J.flushSync===!0})),te.forEach(je=>Rn(je)),ye.forEach(je=>U.fetchers.delete(je))}function cn($,J,{flushSync:te}={}){let ye=U.actionData!=null&&U.navigation.formMethod!=null&&as(U.navigation.formMethod)&&U.navigation.state==="loading"&&$.state?._isRedirect!==!0,je;J.actionData?Object.keys(J.actionData).length>0?je=J.actionData:je=null:ye?je=U.actionData:je=null;let Ie=J.loaderData?r_(U.loaderData,J.loaderData,J.matches||[],J.errors):U.loaderData,Qe=U.blockers;Qe.size>0&&(Qe=new Map(Qe),Qe.forEach((Be,st)=>Qe.set(st,Bu)));let Ve=R===!0||U.navigation.formMethod!=null&&as(U.navigation.formMethod)&&$.state?._isRedirect!==!0;m&&(d=m,m=void 0),V||k==="POP"||(k==="PUSH"?n.history.push($,$.state):k==="REPLACE"&&n.history.replace($,$.state));let Ye;if(k==="POP"){let Be=B.get(U.location.pathname);Be&&Be.has($.pathname)?Ye={currentLocation:U.location,nextLocation:$}:B.has($.pathname)&&(Ye={currentLocation:$,nextLocation:U.location})}else if(M){let Be=B.get(U.location.pathname);Be?Be.add($.pathname):(Be=new Set([$.pathname]),B.set(U.location.pathname,Be)),Ye={currentLocation:U.location,nextLocation:$}}Nt({...J,actionData:je,loaderData:Ie,historyAction:k,location:$,initialized:!0,navigation:Ng,revalidation:"idle",restoreScrollPosition:vr($,J.matches||U.matches),preventScrollReset:Ve,blockers:Qe},{viewTransitionOpts:Ye,flushSync:te===!0}),k="POP",R=!1,M=!1,V=!1,Te=!1,$e?.resolve(),$e=null}async function An($,J){if(typeof $=="number"){n.history.go($);return}let te=Kg(U.location,U.matches,p,$,J?.fromRouteId,J?.relative),{path:ye,submission:je,error:Ie}=Gb(!1,te,J),Qe=U.location,Ve=ld(U.location,ye,J&&J.state);Ve={...Ve,...n.history.encodeLocation(Ve)};let Ye=J&&J.replace!=null?J.replace:void 0,Be="PUSH";Ye===!0?Be="REPLACE":Ye===!1||je!=null&&as(je.formMethod)&&je.formAction===U.location.pathname+U.location.search&&(Be="REPLACE");let st=J&&"preventScrollReset"in J?J.preventScrollReset===!0:void 0,Xe=(J&&J.flushSync)===!0,it=dt({currentLocation:Qe,nextLocation:Ve,historyAction:Be});if(it){yr(it,{state:"blocked",location:Ve,proceed(){yr(it,{state:"proceeding",proceed:void 0,reset:void 0,location:Ve}),An($,J)},reset(){let Ze=new Map(U.blockers);Ze.set(it,Bu),Nt({blockers:Ze})}});return}await wt(Be,Ve,{submission:je,pendingError:Ie,preventScrollReset:st,replace:J&&J.replace,enableViewTransition:J&&J.viewTransition,flushSync:Xe})}function We(){$e||($e=CC()),va(),Nt({revalidation:"loading"});let $=$e.promise;return U.navigation.state==="submitting"?$:U.navigation.state==="idle"?(wt(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),$):(wt(k||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:M===!0}),$)}async function wt($,J,te){I&&I.abort(),I=null,k=$,V=(te&&te.startUninterruptedRevalidation)===!0,gn(U.location,U.matches),R=(te&&te.preventScrollReset)===!0,M=(te&&te.enableViewTransition)===!0;let ye=m||d,je=te&&te.overrideNavigation,Ie=te?.initialHydration&&U.matches&&U.matches.length>0&&!ge?U.matches:vo(ye,J,p),Qe=(te&&te.flushSync)===!0;if(Ie&&U.initialized&&!Te&&bC(U.location,J)&&!(te&&te.submission&&as(te.submission.formMethod))){cn(J,{matches:Ie},{flushSync:Qe});return}let Ve=Bt(Ie,ye,J.pathname);if(Ve.active&&Ve.matches&&(Ie=Ve.matches),!Ie){let{error:Dt,notFoundMatches:Ot,route:Je}=Lt(J.pathname);cn(J,{matches:Ot,loaderData:{},errors:{[Je.id]:Dt}},{flushSync:Qe});return}I=new AbortController;let Ye=yc(n.history,J,I.signal,te&&te.submission),Be=new Yb(n.unstable_getContext?await n.unstable_getContext():void 0),st;if(te&&te.pendingError)st=[ml(Ie).route.id,{type:"error",error:te.pendingError}];else if(te&&te.submission&&as(te.submission.formMethod)){let Dt=await ya(Ye,J,te.submission,Ie,Be,Ve.active,te&&te.initialHydration===!0,{replace:te.replace,flushSync:Qe});if(Dt.shortCircuited)return;if(Dt.pendingActionResult){let[Ot,Je]=Dt.pendingActionResult;if(rs(Je)&&cd(Je.error)&&Je.error.status===404){I=null,cn(J,{matches:Dt.matches,loaderData:{},errors:{[Ot]:Je.error}});return}}Ie=Dt.matches||Ie,st=Dt.pendingActionResult,je=Tg(J,te.submission),Qe=!1,Ve.active=!1,Ye=yc(n.history,Ye.url,Ye.signal)}let{shortCircuited:Xe,matches:it,loaderData:Ze,errors:vt}=await ka(Ye,J,Ie,Be,Ve.active,je,te&&te.submission,te&&te.fetcherSubmission,te&&te.replace,te&&te.initialHydration===!0,Qe,st);Xe||(I=null,cn(J,{matches:it||Ie,...a_(st),loaderData:Ze,errors:vt}))}async function ya($,J,te,ye,je,Ie,Qe,Ve={}){va();let Ye=EC(J,te);if(Nt({navigation:Ye},{flushSync:Ve.flushSync===!0}),Ie){let Xe=await xn(ye,J.pathname,$.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){let it=ml(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,pendingActionResult:[it,{type:"error",error:Xe.error}]}}else if(Xe.matches)ye=Xe.matches;else{let{notFoundMatches:it,error:Ze,route:vt}=Lt(J.pathname);return{matches:it,pendingActionResult:[vt.id,{type:"error",error:Ze}]}}}let Be,st=Wu(ye,J);if(!st.route.action&&!st.route.lazy)Be={type:"error",error:vs(405,{method:$.method,pathname:J.pathname,routeId:st.route.id})};else{let Xe=Sc(i,l,$,ye,st,Qe?[]:a,je),it=await Vn($,Xe,je,null);if(Be=it[st.route.id],!Be){for(let Ze of ye)if(it[Ze.route.id]){Be=it[Ze.route.id];break}}if($.signal.aborted)return{shortCircuited:!0}}if(gl(Be)){let Xe;return Ve&&Ve.replace!=null?Xe=Ve.replace:Xe=e_(Be.response.headers.get("Location"),new URL($.url),p)===U.location.pathname+U.location.search,await or($,Be,!0,{submission:te,replace:Xe}),{shortCircuited:!0}}if(rs(Be)){let Xe=ml(ye,st.route.id);return(Ve&&Ve.replace)!==!0&&(k="PUSH"),{matches:ye,pendingActionResult:[Xe.route.id,Be,st.route.id]}}return{matches:ye,pendingActionResult:[st.route.id,Be]}}async function ka($,J,te,ye,je,Ie,Qe,Ve,Ye,Be,st,Xe){let it=Ie||Tg(J,Qe),Ze=Qe||Ve||o_(it),vt=!V&&!Be;if(je){if(vt){let Ln=Pn(Xe);Nt({navigation:it,...Ln!==void 0?{actionData:Ln}:{}},{flushSync:st})}let ut=await xn(te,J.pathname,$.signal);if(ut.type==="aborted")return{shortCircuited:!0};if(ut.type==="error"){let Ln=ml(ut.partialMatches).route.id;return{matches:ut.partialMatches,loaderData:{},errors:{[Ln]:ut.error}}}else if(ut.matches)te=ut.matches;else{let{error:Ln,notFoundMatches:cr,route:Jn}=Lt(J.pathname);return{matches:cr,loaderData:{},errors:{[Jn.id]:Ln}}}}let Dt=m||d,{dsMatches:Ot,revalidatingFetchers:Je}=Qb($,ye,i,l,n.history,U,te,Ze,J,Be?[]:a,Be===!0,Te,ve,me,ie,P,Dt,p,n.patchRoutesOnNavigation!=null,Xe);if(ce=++le,!n.dataStrategy&&!Ot.some(ut=>ut.shouldLoad)&&Je.length===0){let ut=nt();return cn(J,{matches:te,loaderData:{},errors:Xe&&rs(Xe[1])?{[Xe[0]]:Xe[1].error}:null,...a_(Xe),...ut?{fetchers:new Map(U.fetchers)}:{}},{flushSync:st}),{shortCircuited:!0}}if(vt){let ut={};if(!je){ut.navigation=it;let Ln=Pn(Xe);Ln!==void 0&&(ut.actionData=Ln)}Je.length>0&&(ut.fetchers=Qr(Je)),Nt(ut,{flushSync:st})}Je.forEach(ut=>{Kn(ut.key),ut.controller&&F.set(ut.key,ut.controller)});let St=()=>Je.forEach(ut=>Kn(ut.key));I&&I.signal.addEventListener("abort",St);let{loaderResults:Bn,fetcherResults:xr}=await Xr(Ot,Je,$,ye);if($.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",St),Je.forEach(ut=>F.delete(ut.key));let Zn=Qh(Bn);if(Zn)return await or($,Zn.result,!0,{replace:Ye}),{shortCircuited:!0};if(Zn=Qh(xr),Zn)return P.add(Zn.key),await or($,Zn.result,!0,{replace:Ye}),{shortCircuited:!0};let{loaderData:qn,errors:tn}=n_(U,te,Bn,Xe,Je,xr);Be&&U.errors&&(tn={...U.errors,...tn});let ja=nt(),On=lr(ce),ht=ja||On||Je.length>0;return{matches:te,loaderData:qn,errors:tn,...ht?{fetchers:new Map(U.fetchers)}:{}}}function Pn($){if($&&!rs($[1]))return{[$[0]]:$[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Qr($){return $.forEach(J=>{let te=U.fetchers.get(J.key),ye=Fu(void 0,te?te.data:void 0);U.fetchers.set(J.key,ye)}),new Map(U.fetchers)}async function gr($,J,te,ye){Kn($);let je=(ye&&ye.flushSync)===!0,Ie=m||d,Qe=Kg(U.location,U.matches,p,te,J,ye?.relative),Ve=vo(Ie,Qe,p),Ye=Bt(Ve,Ie,Qe);if(Ye.active&&Ye.matches&&(Ve=Ye.matches),!Ve){Ke($,J,vs(404,{pathname:Qe}),{flushSync:je});return}let{path:Be,submission:st,error:Xe}=Gb(!0,Qe,ye);if(Xe){Ke($,J,Xe,{flushSync:je});return}let it=Wu(Ve,Be),Ze=new Yb(n.unstable_getContext?await n.unstable_getContext():void 0),vt=(ye&&ye.preventScrollReset)===!0;if(st&&as(st.formMethod)){await Ar($,J,Be,it,Ve,Ze,Ye.active,je,vt,st);return}ie.set($,{routeId:J,path:Be}),await Kr($,J,Be,it,Ve,Ze,Ye.active,je,vt,st)}async function Ar($,J,te,ye,je,Ie,Qe,Ve,Ye,Be){va(),ie.delete($);function st(He){if(!He.route.action&&!He.route.lazy){let an=vs(405,{method:Be.formMethod,pathname:te,routeId:J});return Ke($,J,an,{flushSync:Ve}),!0}return!1}if(!Qe&&st(ye))return;let Xe=U.fetchers.get($);It($,NC(Be,Xe),{flushSync:Ve});let it=new AbortController,Ze=yc(n.history,te,it.signal,Be);if(Qe){let He=await xn(je,te,Ze.signal,$);if(He.type==="aborted")return;if(He.type==="error"){Ke($,J,He.error,{flushSync:Ve});return}else if(He.matches){if(je=He.matches,ye=Wu(je,te),st(ye))return}else{Ke($,J,vs(404,{pathname:te}),{flushSync:Ve});return}}F.set($,it);let vt=le,Dt=Sc(i,l,Ze,je,ye,a,Ie),Je=(await Vn(Ze,Dt,Ie,$))[ye.route.id];if(Ze.signal.aborted){F.get($)===it&&F.delete($);return}if(me.has($)){if(gl(Je)||rs(Je)){It($,go(void 0));return}}else{if(gl(Je))if(F.delete($),ce>vt){It($,go(void 0));return}else return P.add($),It($,Fu(Be)),or(Ze,Je,!1,{fetcherSubmission:Be,preventScrollReset:Ye});if(rs(Je)){Ke($,J,Je.error);return}}let St=U.navigation.location||U.location,Bn=yc(n.history,St,it.signal),xr=m||d,Zn=U.navigation.state!=="idle"?vo(xr,U.navigation.location,p):U.matches;Wt(Zn,"Didn't find any matches after fetcher action");let qn=++le;Ae.set($,qn);let tn=Fu(Be,Je.data);U.fetchers.set($,tn);let{dsMatches:ja,revalidatingFetchers:On}=Qb(Bn,Ie,i,l,n.history,U,Zn,Be,St,a,!1,Te,ve,me,ie,P,xr,p,n.patchRoutesOnNavigation!=null,[ye.route.id,Je]);On.filter(He=>He.key!==$).forEach(He=>{let an=He.key,Da=U.fetchers.get(an),En=Fu(void 0,Da?Da.data:void 0);U.fetchers.set(an,En),Kn(an),He.controller&&F.set(an,He.controller)}),Nt({fetchers:new Map(U.fetchers)});let ht=()=>On.forEach(He=>Kn(He.key));it.signal.addEventListener("abort",ht);let{loaderResults:ut,fetcherResults:Ln}=await Xr(ja,On,Bn,Ie);if(it.signal.aborted)return;if(it.signal.removeEventListener("abort",ht),Ae.delete($),F.delete($),On.forEach(He=>F.delete(He.key)),U.fetchers.has($)){let He=go(Je.data);U.fetchers.set($,He)}let cr=Qh(ut);if(cr)return or(Bn,cr.result,!1,{preventScrollReset:Ye});if(cr=Qh(Ln),cr)return P.add(cr.key),or(Bn,cr.result,!1,{preventScrollReset:Ye});let{loaderData:Jn,errors:ur}=n_(U,Zn,ut,void 0,On,Ln);lr(qn),U.navigation.state==="loading"&&qn>ce?(Wt(k,"Expected pending action"),I&&I.abort(),cn(U.navigation.location,{matches:Zn,loaderData:Jn,errors:ur,fetchers:new Map(U.fetchers)})):(Nt({errors:ur,loaderData:r_(U.loaderData,Jn,Zn,ur),fetchers:new Map(U.fetchers)}),Te=!1)}async function Kr($,J,te,ye,je,Ie,Qe,Ve,Ye,Be){let st=U.fetchers.get($);It($,Fu(Be,st?st.data:void 0),{flushSync:Ve});let Xe=new AbortController,it=yc(n.history,te,Xe.signal);if(Qe){let Je=await xn(je,te,it.signal,$);if(Je.type==="aborted")return;if(Je.type==="error"){Ke($,J,Je.error,{flushSync:Ve});return}else if(Je.matches)je=Je.matches,ye=Wu(je,te);else{Ke($,J,vs(404,{pathname:te}),{flushSync:Ve});return}}F.set($,Xe);let Ze=le,vt=Sc(i,l,it,je,ye,a,Ie),Ot=(await Vn(it,vt,Ie,$))[ye.route.id];if(F.get($)===Xe&&F.delete($),!it.signal.aborted){if(me.has($)){It($,go(void 0));return}if(gl(Ot))if(ce>Ze){It($,go(void 0));return}else{P.add($),await or(it,Ot,!1,{preventScrollReset:Ye});return}if(rs(Ot)){Ke($,J,Ot.error);return}It($,go(Ot.data))}}async function or($,J,te,{submission:ye,fetcherSubmission:je,preventScrollReset:Ie,replace:Qe}={}){J.response.headers.has("X-Remix-Revalidate")&&(Te=!0);let Ve=J.response.headers.get("Location");Wt(Ve,"Expected a Location header on the redirect Response"),Ve=e_(Ve,new URL($.url),p);let Ye=ld(U.location,Ve,{_isRedirect:!0});if(t){let vt=!1;if(J.response.headers.has("X-Remix-Reload-Document"))vt=!0;else if(D0.test(Ve)){const Dt=A1(Ve,!0);vt=Dt.origin!==e.location.origin||bs(Dt.pathname,p)==null}if(vt){Qe?e.location.replace(Ve):e.location.assign(Ve);return}}I=null;let Be=Qe===!0||J.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:st,formAction:Xe,formEncType:it}=U.navigation;!ye&&!je&&st&&Xe&&it&&(ye=o_(U.navigation));let Ze=ye||je;if(iC.has(J.response.status)&&Ze&&as(Ze.formMethod))await wt(Be,Ye,{submission:{...Ze,formAction:Ve},preventScrollReset:Ie||R,enableViewTransition:te?M:void 0});else{let vt=Tg(Ye,ye);await wt(Be,Ye,{overrideNavigation:vt,fetcherSubmission:je,preventScrollReset:Ie||R,enableViewTransition:te?M:void 0})}}async function Vn($,J,te,ye){let je,Ie={};try{je=await pC(g,$,J,ye,te,!1)}catch(Qe){return J.filter(Ve=>Ve.shouldLoad).forEach(Ve=>{Ie[Ve.route.id]={type:"error",error:Qe}}),Ie}if($.signal.aborted)return Ie;for(let[Qe,Ve]of Object.entries(je))if(_C(Ve)){let Ye=Ve.result;Ie[Qe]={type:"redirect",response:vC(Ye,$,Qe,J,p)}}else Ie[Qe]=await yC(Ve);return Ie}async function Xr($,J,te,ye){let je=Vn(te,$,ye,null),Ie=Promise.all(J.map(async Ye=>{if(Ye.matches&&Ye.match&&Ye.request&&Ye.controller){let st=(await Vn(Ye.request,Ye.matches,ye,Ye.key))[Ye.match.route.id];return{[Ye.key]:st}}else return Promise.resolve({[Ye.key]:{type:"error",error:vs(404,{pathname:Ye.path})}})})),Qe=await je,Ve=(await Ie).reduce((Ye,Be)=>Object.assign(Ye,Be),{});return{loaderResults:Qe,fetcherResults:Ve}}function va(){Te=!0,ie.forEach(($,J)=>{F.has(J)&&ve.add(J),Kn(J)})}function It($,J,te={}){U.fetchers.set($,J),Nt({fetchers:new Map(U.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Ke($,J,te,ye={}){let je=ml(U.matches,J);Rn($),Nt({errors:{[je.route.id]:te},fetchers:new Map(U.fetchers)},{flushSync:(ye&&ye.flushSync)===!0})}function pn($){return _e.set($,(_e.get($)||0)+1),me.has($)&&me.delete($),U.fetchers.get($)||oC}function Rn($){let J=U.fetchers.get($);F.has($)&&!(J&&J.state==="loading"&&Ae.has($))&&Kn($),ie.delete($),Ae.delete($),P.delete($),me.delete($),ve.delete($),U.fetchers.delete($)}function ia($){let J=(_e.get($)||0)-1;J<=0?(_e.delete($),me.add($)):_e.set($,J),Nt({fetchers:new Map(U.fetchers)})}function Kn($){let J=F.get($);J&&(J.abort(),F.delete($))}function Rr($){for(let J of $){let te=pn(J),ye=go(te.data);U.fetchers.set(J,ye)}}function nt(){let $=[],J=!1;for(let te of P){let ye=U.fetchers.get(te);Wt(ye,`Expected fetcher: ${te}`),ye.state==="loading"&&(P.delete(te),$.push(te),J=!0)}return Rr($),J}function lr($){let J=[];for(let[te,ye]of Ae)if(ye<$){let je=U.fetchers.get(te);Wt(je,`Expected fetcher: ${te}`),je.state==="loading"&&(Kn(te),Ae.delete(te),J.push(te))}return Rr(J),J.length>0}function Xn($,J){let te=U.blockers.get($)||Bu;return De.get($)!==J&&De.set($,J),te}function Lr($){U.blockers.delete($),De.delete($)}function yr($,J){let te=U.blockers.get($)||Bu;Wt(te.state==="unblocked"&&J.state==="blocked"||te.state==="blocked"&&J.state==="blocked"||te.state==="blocked"&&J.state==="proceeding"||te.state==="blocked"&&J.state==="unblocked"||te.state==="proceeding"&&J.state==="unblocked",`Invalid blocker state transition: ${te.state} -> ${J.state}`);let ye=new Map(U.blockers);ye.set($,J),Nt({blockers:ye})}function dt({currentLocation:$,nextLocation:J,historyAction:te}){if(De.size===0)return;De.size>1&&Cr(!1,"A router only supports one blocker at a time");let ye=Array.from(De.entries()),[je,Ie]=ye[ye.length-1],Qe=U.blockers.get(je);if(!(Qe&&Qe.state==="proceeding")&&Ie({currentLocation:$,nextLocation:J,historyAction:te}))return je}function Lt($){let J=vs(404,{pathname:$}),te=m||d,{matches:ye,route:je}=s_(te);return{notFoundMatches:ye,route:je,error:J}}function Et($,J,te){if(D=$,z=J,O=te||null,!q&&U.navigation===Ng){q=!0;let ye=vr(U.location,U.matches);ye!=null&&Nt({restoreScrollPosition:ye})}return()=>{D=null,z=null,O=null}}function wn($,J){return O&&O($,J.map(ye=>LS(ye,U.loaderData)))||$.key}function gn($,J){if(D&&z){let te=wn($,J);D[te]=z()}}function vr($,J){if(D){let te=wn($,J),ye=D[te];if(typeof ye=="number")return ye}return null}function Bt($,J,te){if(n.patchRoutesOnNavigation)if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:hf(J,te,p,!0)}}else return{active:!0,matches:hf(J,te,p,!0)||[]};return{active:!1,matches:null}}async function xn($,J,te,ye){if(!n.patchRoutesOnNavigation)return{type:"success",matches:$};let je=$;for(;;){let Ie=m==null,Qe=m||d,Ve=l;try{await n.patchRoutesOnNavigation({signal:te,path:J,matches:je,fetcherKey:ye,patch:(st,Xe)=>{te.aborted||Kb(st,Xe,Qe,Ve,i)}})}catch(st){return{type:"error",error:st,partialMatches:je}}finally{Ie&&!te.aborted&&(d=[...d])}if(te.aborted)return{type:"aborted"};let Ye=vo(Qe,J,p);if(Ye)return{type:"success",matches:Ye};let Be=hf(Qe,J,p,!0);if(!Be||je.length===Be.length&&je.every((st,Xe)=>st.route.id===Be[Xe].route.id))return{type:"success",matches:null};je=Be}}function Tt($){l={},m=Rf($,i,void 0,l)}function Ur($,J){let te=m==null;Kb($,J,m||d,l,i),te&&(d=[...d],Nt({}))}return fe={get basename(){return p},get future(){return b},get state(){return U},get routes(){return d},get window(){return e},initialize:Mt,subscribe:ct,enableScrollRestoration:Et,navigate:An,fetch:gr,revalidate:We,createHref:$=>n.history.createHref($),encodeLocation:$=>n.history.encodeLocation($),getFetcher:pn,deleteFetcher:ia,dispose:jt,getBlocker:Xn,deleteBlocker:Lr,patchRoutes:Ur,_internalFetchControllers:F,_internalSetRoutes:Tt},fe}function uC(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Kg(n,e,t,a,i,l){let d,m;if(i){d=[];for(let g of e)if(d.push(g),g.route.id===i){m=g;break}}else d=e,m=e[e.length-1];let p=am(a||".",rm(d),bs(n.pathname,t)||n.pathname,l==="path");if(a==null&&(p.search=n.search,p.hash=n.hash),(a==null||a===""||a===".")&&m){let g=M0(p.search);if(m.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let b=new URLSearchParams(p.search),_=b.getAll("index");b.delete("index"),_.filter(D=>D).forEach(D=>b.append("index",D));let E=b.toString();p.search=E?`?${E}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:si([t,p.pathname])),Mo(p)}function Gb(n,e,t){if(!t||!uC(t))return{path:e};if(t.formMethod&&!wC(t.formMethod))return{path:e,error:vs(405,{method:t.formMethod})};let a=()=>({path:e,error:vs(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),d=z1(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!as(l))return a();let _=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((E,[D,O])=>`${E}${D}=${O}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:d,formEncType:t.formEncType,formData:void 0,json:void 0,text:_}}}else if(t.formEncType==="application/json"){if(!as(l))return a();try{let _=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:d,formEncType:t.formEncType,formData:void 0,json:_,text:void 0}}}catch{return a()}}}Wt(typeof FormData=="function","FormData is not available in this environment");let m,p;if(t.formData)m=Jg(t.formData),p=t.formData;else if(t.body instanceof FormData)m=Jg(t.body),p=t.body;else if(t.body instanceof URLSearchParams)m=t.body,p=t_(m);else if(t.body==null)m=new URLSearchParams,p=new FormData;else try{m=new URLSearchParams(t.body),p=t_(m)}catch{return a()}let g={formMethod:l,formAction:d,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(as(g.formMethod))return{path:e,submission:g};let b=zo(e);return n&&b.search&&M0(b.search)&&m.append("index",""),b.search=`?${m}`,{path:Mo(b),submission:g}}function Qb(n,e,t,a,i,l,d,m,p,g,b,_,E,D,O,z,q,K,ge,ae){let Re=ae?rs(ae[1])?ae[1].error:ae[1].data:void 0,fe=i.createURL(l.location),U=i.createURL(p),k;if(b&&l.errors){let V=Object.keys(l.errors)[0];k=d.findIndex(Te=>Te.route.id===V)}else if(ae&&rs(ae[1])){let V=ae[0];k=d.findIndex(Te=>Te.route.id===V)-1}let R=ae?ae[1].statusCode:void 0,I=R&&R>=400,M={currentUrl:fe,currentParams:l.matches[0]?.params||{},nextUrl:U,nextParams:d[0].params,...m,actionResult:Re,actionStatus:R},B=d.map((V,Te)=>{let{route:ve}=V,F=null;if(k!=null&&Te>k?F=!1:ve.lazy?F=!0:ve.loader==null?F=!1:b?F=Xg(ve,l.loaderData,l.errors):dC(l.loaderData,l.matches[Te],V)&&(F=!0),F!==null)return Zg(t,a,n,V,g,e,F);let le=I?!1:_||fe.pathname+fe.search===U.pathname+U.search||fe.search!==U.search||hC(l.matches[Te],V),ce={...M,defaultShouldRevalidate:le},Ae=Mf(V,ce);return Zg(t,a,n,V,g,e,Ae,ce)}),G=[];return O.forEach((V,Te)=>{if(b||!d.some(_e=>_e.route.id===V.routeId)||D.has(Te))return;let ve=l.fetchers.get(Te),F=ve&&ve.state!=="idle"&&ve.data===void 0,le=vo(q,V.path,K);if(!le){if(ge&&F)return;G.push({key:Te,routeId:V.routeId,path:V.path,matches:null,match:null,request:null,controller:null});return}if(z.has(Te))return;let ce=Wu(le,V.path),Ae=new AbortController,P=yc(i,V.path,Ae.signal),ie=null;if(E.has(Te))E.delete(Te),ie=Sc(t,a,P,le,ce,g,e);else if(F)_&&(ie=Sc(t,a,P,le,ce,g,e));else{let _e={...M,defaultShouldRevalidate:I?!1:_};Mf(ce,_e)&&(ie=Sc(t,a,P,le,ce,g,e,_e))}ie&&G.push({key:Te,routeId:V.routeId,path:V.path,matches:ie,match:ce,request:P,controller:Ae})}),{dsMatches:B,revalidatingFetchers:G}}function Xg(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let a=e!=null&&n.id in e,i=t!=null&&t[n.id]!==void 0;return!a&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!a&&!i}function dC(n,e,t){let a=!e||t.route.id!==e.route.id,i=!n.hasOwnProperty(t.route.id);return a||i}function hC(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Mf(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Kb(n,e,t,a,i){let l;if(n){let p=a[n];Wt(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let d=e.filter(p=>!l.some(g=>O1(p,g))),m=Rf(d,i,[n||"_","patch",String(l?.length||"0")],a);l.push(...m)}function O1(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,a)=>e.children?.some(i=>O1(t,i))):!1}var Xb=new WeakMap,k1=({key:n,route:e,manifest:t,mapRouteProperties:a})=>{let i=t[e.id];if(Wt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let l=i.lazy[n];if(!l)return;let d=Xb.get(i);d||(d={},Xb.set(i,d));let m=d[n];if(m)return m;let p=(async()=>{let g=PS(n),_=i[n]!==void 0&&n!=="hasErrorBoundary";if(g)Cr(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),d[n]=Promise.resolve();else if(_)Cr(!1,`Route "${i.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let E=await l();E!=null&&(Object.assign(i,{[n]:E}),Object.assign(i,a(i)))}typeof i.lazy=="object"&&(i.lazy[n]=void 0,Object.values(i.lazy).every(E=>E===void 0)&&(i.lazy=void 0))})();return d[n]=p,p},Zb=new WeakMap;function fC(n,e,t,a,i){let l=t[n.id];if(Wt(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let b=Zb.get(l);if(b)return{lazyRoutePromise:b,lazyHandlerPromise:b};let _=(async()=>{Wt(typeof n.lazy=="function","No lazy route function found");let E=await n.lazy(),D={};for(let O in E){let z=E[O];if(z===void 0)continue;let q=kS(O),ge=l[O]!==void 0&&O!=="hasErrorBoundary";q?Cr(!q,"Route property "+O+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ge?Cr(!ge,`Route "${l.id}" has a static property "${O}" defined but its lazy function is also returning a value for this property. The lazy route property "${O}" will be ignored.`):D[O]=z}Object.assign(l,D),Object.assign(l,{...a(l),lazy:void 0})})();return Zb.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let d=Object.keys(n.lazy),m=[],p;for(let b of d){if(i&&i.includes(b))continue;let _=k1({key:b,route:n,manifest:t,mapRouteProperties:a});_&&(m.push(_),b===e&&(p=_))}let g=m.length>0?Promise.all(m).then(()=>{}):void 0;return g?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function Jb(n){let e=n.matches.filter(i=>i.shouldLoad),t={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,l)=>{t[e[l].route.id]=i}),t}async function mC(n){return n.matches.some(e=>e.route.unstable_middleware)?V1(n,!1,()=>Jb(n),(e,t)=>({[t]:{type:"error",result:e}})):Jb(n)}async function V1(n,e,t,a){let{matches:i,request:l,params:d,context:m}=n,p={handlerResult:void 0};try{let g=i.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(E=>[_.route.id,E]):[]),b=await L1({request:l,params:d,context:m},g,e,p,t);return e?b:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let b=await a(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,b):b}}async function L1(n,e,t,a,i,l=0){let{request:d}=n;if(d.signal.aborted)throw d.signal.reason?d.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${d.method} ${d.url}`);let m=e[l];if(!m)return a.handlerResult=await i(),a.handlerResult;let[p,g]=m,b=!1,_,E=async()=>{if(b)throw new Error("You may only call `next()` once per middleware");b=!0,await L1(n,e,t,a,i,l+1)};try{let D=await g({request:n.request,params:n.params,context:n.context},E);return b?D===void 0?_:D:E()}catch(D){throw a.middlewareError?a.middlewareError.error!==D&&(a.middlewareError={routeId:p,error:D}):a.middlewareError={routeId:p,error:D},D}}function U1(n,e,t,a,i){let l=k1({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:n}),d=fC(a.route,as(t.method)?"action":"loader",e,n,i);return{middleware:l,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function Zg(n,e,t,a,i,l,d,m=null){let p=!1,g=U1(n,e,t,a,i);return{...a,_lazyPromises:g,shouldLoad:d,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(b){return p=!0,m?typeof b=="boolean"?Mf(a,{...m,defaultShouldRevalidate:b}):Mf(a,m):d},resolve(b){return p||d||b&&t.method==="GET"&&(a.route.lazy||a.route.loader)?gC({request:t,match:a,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:b,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Sc(n,e,t,a,i,l,d,m=null){return a.map(p=>p.route.id!==i.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:U1(n,e,t,p,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Zg(n,e,t,p,l,d,!0,m))}async function pC(n,e,t,a,i,l){t.some(g=>g._lazyPromises?.middleware)&&await Promise.all(t.map(g=>g._lazyPromises?.middleware));let d={request:e,params:t[0].params,context:i,matches:t},p=await n({...d,fetcherKey:a,unstable_runClientMiddleware:g=>{let b=d;return V1(b,!1,()=>g({...b,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(_,E)=>({[E]:{type:"error",result:_}}))}});try{await Promise.all(t.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return p}async function gC({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:a,handlerOverride:i,scopedContext:l}){let d,m,p=as(n.method),g=p?"action":"loader",b=_=>{let E,D=new Promise((q,K)=>E=K);m=()=>E(),n.signal.addEventListener("abort",m);let O=q=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):_({request:n,params:e.params,context:l},...q!==void 0?[q]:[]),z=(async()=>{try{return{type:"data",result:await(i?i(K=>O(K)):O())}}catch(q){return{type:"error",result:q}}})();return Promise.race([z,D])};try{let _=p?e.route.action:e.route.loader;if(t||a)if(_){let E,[D]=await Promise.all([b(_).catch(O=>{E=O}),t,a]);if(E!==void 0)throw E;d=D}else{await t;let E=p?e.route.action:e.route.loader;if(E)[d]=await Promise.all([b(E),a]);else if(g==="action"){let D=new URL(n.url),O=D.pathname+D.search;throw vs(405,{method:n.method,pathname:O,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)d=await b(_);else{let E=new URL(n.url),D=E.pathname+E.search;throw vs(404,{pathname:D})}}catch(_){return{type:"error",result:_}}finally{m&&n.signal.removeEventListener("abort",m)}return d}async function yC(n){let{result:e,type:t}=n;if(B1(e)){let a;try{let i=e.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?e.body==null?a=null:a=await e.json():a=await e.text()}catch(i){return{type:"error",error:i}}return t==="error"?{type:"error",error:new Df(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return t==="error"?i_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Df(e.init?.status||500,void 0,e.data),statusCode:cd(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:cd(e)?e.status:void 0}:i_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function vC(n,e,t,a,i){let l=n.headers.get("Location");if(Wt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!D0.test(l)){let d=a.slice(0,a.findIndex(m=>m.route.id===t)+1);l=Kg(new URL(e.url),d,i,l),n.headers.set("Location",l)}return n}function e_(n,e,t){if(D0.test(n)){let a=n,i=a.startsWith("//")?new URL(e.protocol+a):new URL(a),l=bs(i.pathname,t)!=null;if(i.origin===e.origin&&l)return i.pathname+i.search+i.hash}return n}function yc(n,e,t,a){let i=n.createURL(z1(e)).toString(),l={signal:t};if(a&&as(a.formMethod)){let{formMethod:d,formEncType:m}=a;l.method=d.toUpperCase(),m==="application/json"?(l.headers=new Headers({"Content-Type":m}),l.body=JSON.stringify(a.json)):m==="text/plain"?l.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?l.body=Jg(a.formData):l.body=a.formData}return new Request(i,l)}function Jg(n){let e=new URLSearchParams;for(let[t,a]of n.entries())e.append(t,typeof a=="string"?a:a.name);return e}function t_(n){let e=new FormData;for(let[t,a]of n.entries())e.append(t,a);return e}function xC(n,e,t,a=!1,i=!1){let l={},d=null,m,p=!1,g={},b=t&&rs(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let E=_.route.id,D=e[E];if(Wt(!gl(D),"Cannot handle redirect results in processLoaderData"),rs(D)){let O=D.error;if(b!==void 0&&(O=b,b=void 0),d=d||{},i)d[E]=O;else{let z=ml(n,E);d[z.route.id]==null&&(d[z.route.id]=O)}a||(l[E]=P1),p||(p=!0,m=cd(D.error)?D.error.status:500),D.headers&&(g[E]=D.headers)}else l[E]=D.data,D.statusCode&&D.statusCode!==200&&!p&&(m=D.statusCode),D.headers&&(g[E]=D.headers)}),b!==void 0&&t&&(d={[t[0]]:b},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:d,statusCode:m||200,loaderHeaders:g}}function n_(n,e,t,a,i,l){let{loaderData:d,errors:m}=xC(e,t,a);return i.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:b,controller:_}=p,E=l[g];if(Wt(E,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(rs(E)){let D=ml(n.matches,b?.route.id);m&&m[D.route.id]||(m={...m,[D.route.id]:E.error}),n.fetchers.delete(g)}else if(gl(E))Wt(!1,"Unhandled fetcher revalidation redirect");else{let D=go(E.data);n.fetchers.set(g,D)}}),{loaderData:d,errors:m}}function r_(n,e,t,a){let i=Object.entries(e).filter(([,l])=>l!==P1).reduce((l,[d,m])=>(l[d]=m,l),{});for(let l of t){let d=l.route.id;if(!e.hasOwnProperty(d)&&n.hasOwnProperty(d)&&l.route.loader&&(i[d]=n[d]),a&&a.hasOwnProperty(d))break}return i}function a_(n){return n?rs(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ml(n,e){return(e?n.slice(0,n.findIndex(a=>a.route.id===e)+1):[...n]).reverse().find(a=>a.route.hasErrorBoundary===!0)||n[0]}function s_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function vs(n,{pathname:e,routeId:t,method:a,type:i,message:l}={}){let d="Unknown Server Error",m="Unknown @remix-run/router error";return n===400?(d="Bad Request",a&&e&&t?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(m="Unable to encode submission body")):n===403?(d="Forbidden",m=`Route "${t}" does not match URL "${e}"`):n===404?(d="Not Found",m=`No route matches URL "${e}"`):n===405&&(d="Method Not Allowed",a&&e&&t?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new Df(n||500,d,new Error(m),!0)}function Qh(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[a,i]=e[t];if(gl(i))return{key:a,result:i}}}function z1(n){let e=typeof n=="string"?zo(n):n;return Mo({...e,hash:""})}function bC(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function _C(n){return B1(n.result)&&sC.has(n.result.status)}function rs(n){return n.type==="error"}function gl(n){return(n&&n.type)==="redirect"}function i_(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function B1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function wC(n){return aC.has(n.toUpperCase())}function as(n){return nC.has(n.toUpperCase())}function M0(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Wu(n,e){let t=typeof e=="string"?zo(e).search:e.search;if(n[n.length-1].route.index&&M0(t||""))return n[n.length-1];let a=D1(n);return a[a.length-1]}function o_(n){let{formMethod:e,formAction:t,formEncType:a,text:i,formData:l,json:d}=n;if(!(!e||!t||!a)){if(i!=null)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:void 0,text:i};if(l!=null)return{formMethod:e,formAction:t,formEncType:a,formData:l,json:void 0,text:void 0};if(d!==void 0)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:d,text:void 0}}}function Tg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function EC(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function NC(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function go(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function TC(n,e){try{let t=n.sessionStorage.getItem(I1);if(t){let a=JSON.parse(t);for(let[i,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(i,new Set(l||[]))}}catch{}}function SC(n,e){if(e.size>0){let t={};for(let[a,i]of e)t[a]=[...i];try{n.sessionStorage.setItem(I1,JSON.stringify(t))}catch(a){Cr(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function CC(){let n,e,t=new Promise((a,i)=>{n=async l=>{a(l);try{await t}catch{}},e=async l=>{i(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Sl=T.createContext(null);Sl.displayName="DataRouter";var _d=T.createContext(null);_d.displayName="DataRouterState";var I0=T.createContext({isTransitioning:!1});I0.displayName="ViewTransition";var F1=T.createContext(new Map);F1.displayName="Fetchers";var AC=T.createContext(null);AC.displayName="Await";var zs=T.createContext(null);zs.displayName="Navigation";var sm=T.createContext(null);sm.displayName="Location";var fi=T.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var P0=T.createContext(null);P0.displayName="RouteError";function RC(n,{relative:e}={}){Wt(Fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=T.useContext(zs),{hash:i,pathname:l,search:d}=wd(n,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:si([t,l])),a.createHref({pathname:m,search:d,hash:i})}function Fc(){return T.useContext(sm)!=null}function Bo(){return Wt(Fc(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(sm).location}var H1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q1(n){T.useContext(zs).static||T.useLayoutEffect(n)}function O0(){let{isDataRoute:n}=T.useContext(fi);return n?FC():jC()}function jC(){Wt(Fc(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(Sl),{basename:e,navigator:t}=T.useContext(zs),{matches:a}=T.useContext(fi),{pathname:i}=Bo(),l=JSON.stringify(rm(a)),d=T.useRef(!1);return q1(()=>{d.current=!0}),T.useCallback((p,g={})=>{if(Cr(d.current,H1),!d.current)return;if(typeof p=="number"){t.go(p);return}let b=am(p,JSON.parse(l),i,g.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:si([e,b.pathname])),(g.replace?t.replace:t.push)(b,g.state,g)},[e,t,l,i,n])}T.createContext(null);function wd(n,{relative:e}={}){let{matches:t}=T.useContext(fi),{pathname:a}=Bo(),i=JSON.stringify(rm(t));return T.useMemo(()=>am(n,JSON.parse(i),a,e==="path"),[n,i,a,e])}function DC(n,e,t,a){Wt(Fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(zs),{matches:l}=T.useContext(fi),d=l[l.length-1],m=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",b=d&&d.route;{let K=b&&b.path||"";$1(p,!b||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let _=Bo(),E;E=_;let D=E.pathname||"/",O=D;if(g!=="/"){let K=g.replace(/^\//,"").split("/");O="/"+D.replace(/^\//,"").split("/").slice(K.length).join("/")}let z=vo(n,{pathname:O});return Cr(b||z!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Cr(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),kC(z&&z.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:si([g,i.encodeLocation?i.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?g:si([g,i.encodeLocation?i.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),l,t,a)}function MC(){let n=BC(),e=cd(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:l},"ErrorBoundary")," or"," ",T.createElement("code",{style:l},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:i},t):null,d)}var IC=T.createElement(MC,null),PC=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?T.createElement(fi.Provider,{value:this.props.routeContext},T.createElement(P0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OC({routeContext:n,match:e,children:t}){let a=T.useContext(Sl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(fi.Provider,{value:n},t)}function kC(n,e=[],t=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,l=t?.errors;if(l!=null){let p=i.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);Wt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,p+1))}let d=!1,m=-1;if(t)for(let p=0;p<i.length;p++){let g=i[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:b,errors:_}=t,E=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||E){d=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((p,g,b)=>{let _,E=!1,D=null,O=null;t&&(_=l&&g.route.id?l[g.route.id]:void 0,D=g.route.errorElement||IC,d&&(m<0&&b===0?($1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,O=null):m===b&&(E=!0,O=g.route.hydrateFallbackElement||null)));let z=e.concat(i.slice(0,b+1)),q=()=>{let K;return _?K=D:E?K=O:g.route.Component?K=T.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,T.createElement(OC,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:t!=null},children:K})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?T.createElement(PC,{location:t.location,revalidation:t.revalidation,component:D,error:_,children:q(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):q()},null)}function k0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VC(n){let e=T.useContext(Sl);return Wt(e,k0(n)),e}function LC(n){let e=T.useContext(_d);return Wt(e,k0(n)),e}function UC(n){let e=T.useContext(fi);return Wt(e,k0(n)),e}function V0(n){let e=UC(n),t=e.matches[e.matches.length-1];return Wt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function zC(){return V0("useRouteId")}function BC(){let n=T.useContext(P0),e=LC("useRouteError"),t=V0("useRouteError");return n!==void 0?n:e.errors?.[t]}function FC(){let{router:n}=VC("useNavigate"),e=V0("useNavigate"),t=T.useRef(!1);return q1(()=>{t.current=!0}),T.useCallback(async(i,l={})=>{Cr(t.current,H1),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...l}))},[n,e])}var l_={};function $1(n,e,t){!e&&!l_[n]&&(l_[n]=!0,Cr(!1,t))}var c_={};function u_(n,e){!n&&!c_[e]&&(c_[e]=!0,console.warn(e))}function HC(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Cr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:T.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Cr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:T.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Cr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:T.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var qC=["HydrateFallback","hydrateFallbackElement"],$C=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}};function YC({router:n,flushSync:e}){let[t,a]=T.useState(n.state),[i,l]=T.useState(),[d,m]=T.useState({isTransitioning:!1}),[p,g]=T.useState(),[b,_]=T.useState(),[E,D]=T.useState(),O=T.useRef(new Map),z=T.useCallback((ae,{deletedFetchers:Re,flushSync:fe,viewTransitionOpts:U})=>{ae.fetchers.forEach((R,I)=>{R.data!==void 0&&O.current.set(I,R.data)}),Re.forEach(R=>O.current.delete(R)),u_(fe===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(u_(U==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!k){e&&fe?e(()=>a(ae)):T.startTransition(()=>a(ae));return}if(e&&fe){e(()=>{b&&(p&&p.resolve(),b.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let R=n.window.document.startViewTransition(()=>{e(()=>a(ae))});R.finished.finally(()=>{e(()=>{g(void 0),_(void 0),l(void 0),m({isTransitioning:!1})})}),e(()=>_(R));return}b?(p&&p.resolve(),b.skipTransition(),D({state:ae,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(l(ae),m({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[n.window,e,b,p]);T.useLayoutEffect(()=>n.subscribe(z),[n,z]),T.useEffect(()=>{d.isTransitioning&&!d.flushSync&&g(new $C)},[d]),T.useEffect(()=>{if(p&&i&&n.window){let ae=i,Re=p.promise,fe=n.window.document.startViewTransition(async()=>{T.startTransition(()=>a(ae)),await Re});fe.finished.finally(()=>{g(void 0),_(void 0),l(void 0),m({isTransitioning:!1})}),_(fe)}},[i,p,n.window]),T.useEffect(()=>{p&&i&&t.location.key===i.location.key&&p.resolve()},[p,b,t.location,i]),T.useEffect(()=>{!d.isTransitioning&&E&&(l(E.state),m({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),D(void 0))},[d.isTransitioning,E]);let q=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:ae=>n.navigate(ae),push:(ae,Re,fe)=>n.navigate(ae,{state:Re,preventScrollReset:fe?.preventScrollReset}),replace:(ae,Re,fe)=>n.navigate(ae,{replace:!0,state:Re,preventScrollReset:fe?.preventScrollReset})}),[n]),K=n.basename||"/",ge=T.useMemo(()=>({router:n,navigator:q,static:!1,basename:K}),[n,q,K]);return T.createElement(T.Fragment,null,T.createElement(Sl.Provider,{value:ge},T.createElement(_d.Provider,{value:t},T.createElement(F1.Provider,{value:O.current},T.createElement(I0.Provider,{value:d},T.createElement(KC,{basename:K,location:t.location,navigationType:t.historyAction,navigator:q},T.createElement(WC,{routes:n.routes,future:n.future,state:t})))))),null)}var WC=T.memo(GC);function GC({routes:n,future:e,state:t}){return DC(n,void 0,t,e)}function QC({to:n,replace:e,state:t,relative:a}){Wt(Fc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(zs);Cr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=T.useContext(fi),{pathname:d}=Bo(),m=O0(),p=am(n,rm(l),d,a==="path"),g=JSON.stringify(p);return T.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:a})},[m,g,a,e,t]),null}function KC({basename:n="/",children:e=null,location:t,navigationType:a="POP",navigator:i,static:l=!1}){Wt(!Fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),m=T.useMemo(()=>({basename:d,navigator:i,static:l,future:{}}),[d,i,l]);typeof t=="string"&&(t=zo(t));let{pathname:p="/",search:g="",hash:b="",state:_=null,key:E="default"}=t,D=T.useMemo(()=>{let O=bs(p,d);return O==null?null:{location:{pathname:O,search:g,hash:b,state:_,key:E},navigationType:a}},[d,p,g,b,_,E,a]);return Cr(D!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:T.createElement(zs.Provider,{value:m},T.createElement(sm.Provider,{children:e,value:D}))}var ff="get",mf="application/x-www-form-urlencoded";function im(n){return n!=null&&typeof n.tagName=="string"}function XC(n){return im(n)&&n.tagName.toLowerCase()==="button"}function ZC(n){return im(n)&&n.tagName.toLowerCase()==="form"}function JC(n){return im(n)&&n.tagName.toLowerCase()==="input"}function eA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tA(n,e){return n.button===0&&(!e||e==="_self")&&!eA(n)}var Kh=null;function nA(){if(Kh===null)try{new FormData(document.createElement("form"),0),Kh=!1}catch{Kh=!0}return Kh}var rA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sg(n){return n!=null&&!rA.has(n)?(Cr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mf}"`),null):n}function aA(n,e){let t,a,i,l,d;if(ZC(n)){let m=n.getAttribute("action");a=m?bs(m,e):null,t=n.getAttribute("method")||ff,i=Sg(n.getAttribute("enctype"))||mf,l=new FormData(n)}else if(XC(n)||JC(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||m.getAttribute("action");if(a=p?bs(p,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||ff,i=Sg(n.getAttribute("formenctype"))||Sg(m.getAttribute("enctype"))||mf,l=new FormData(m,n),!nA()){let{name:g,type:b,value:_}=n;if(b==="image"){let E=g?`${g}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else g&&l.append(g,_)}}else{if(im(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ff,a=null,i=mf,d=n}return l&&i==="text/plain"&&(d=l,l=void 0),{action:a,method:t.toLowerCase(),encType:i,formData:l,body:d}}function L0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function sA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function oA(n,e,t){let a=await Promise.all(n.map(async i=>{let l=e.routes[i.route.id];if(l){let d=await sA(l,t);return d.links?d.links():[]}return[]}));return dA(a.flat(1).filter(iA).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function d_(n,e,t,a,i,l){let d=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>d(p,g)||m(p,g)):l==="data"?e.filter((p,g)=>{let b=a.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(d(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function lA(n,e,{includeHydrateFallback:t}={}){return cA(n.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function cA(n){return[...new Set(n)]}function uA(n){let e={},t=Object.keys(n).sort();for(let a of t)e[a]=n[a];return e}function dA(n,e){let t=new Set;return new Set(e),n.reduce((a,i)=>{let l=JSON.stringify(uA(i));return t.has(l)||(t.add(l),a.push({key:l,link:i})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hA=new Set([100,101,204,205]);function fA(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&bs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Y1(){let n=T.useContext(Sl);return L0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function mA(){let n=T.useContext(_d);return L0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var U0=T.createContext(void 0);U0.displayName="FrameworkContext";function W1(){let n=T.useContext(U0);return L0(n,"You must render this element inside a <HydratedRouter> element"),n}function pA(n,e){let t=T.useContext(U0),[a,i]=T.useState(!1),[l,d]=T.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:_}=e,E=T.useRef(null);T.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let z=K=>{K.forEach(ge=>{d(ge.isIntersecting)})},q=new IntersectionObserver(z,{threshold:.5});return E.current&&q.observe(E.current),()=>{q.disconnect()}}},[n]),T.useEffect(()=>{if(a){let z=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(z)}}},[a]);let D=()=>{i(!0)},O=()=>{i(!1),d(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:Hu(m,D),onBlur:Hu(p,O),onMouseEnter:Hu(g,D),onMouseLeave:Hu(b,O),onTouchStart:Hu(_,D)}]:[!1,E,{}]}function Hu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function gA({page:n,...e}){let{router:t}=Y1(),a=T.useMemo(()=>vo(t.routes,n,t.basename),[t.routes,n,t.basename]);return a?T.createElement(vA,{page:n,matches:a,...e}):null}function yA(n){let{manifest:e,routeModules:t}=W1(),[a,i]=T.useState([]);return T.useEffect(()=>{let l=!1;return oA(n,e,t).then(d=>{l||i(d)}),()=>{l=!0}},[n,e,t]),a}function vA({page:n,matches:e,...t}){let a=Bo(),{manifest:i,routeModules:l}=W1(),{basename:d}=Y1(),{loaderData:m,matches:p}=mA(),g=T.useMemo(()=>d_(n,e,p,i,a,"data"),[n,e,p,i,a]),b=T.useMemo(()=>d_(n,e,p,i,a,"assets"),[n,e,p,i,a]),_=T.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let O=new Set,z=!1;if(e.forEach(K=>{let ge=i.routes[K.route.id];!ge||!ge.hasLoader||(!g.some(ae=>ae.route.id===K.route.id)&&K.route.id in m&&l[K.route.id]?.shouldRevalidate||ge.hasClientLoader?z=!0:O.add(K.route.id))}),O.size===0)return[];let q=fA(n,d);return z&&O.size>0&&q.searchParams.set("_routes",e.filter(K=>O.has(K.route.id)).map(K=>K.route.id).join(",")),[q.pathname+q.search]},[d,m,a,i,g,e,n,l]),E=T.useMemo(()=>lA(b,i),[b,i]),D=yA(b);return T.createElement(T.Fragment,null,_.map(O=>T.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),E.map(O=>T.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),D.map(({key:O,link:z})=>T.createElement("link",{key:O,...z})))}function xA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var G1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G1&&(window.__reactRouterVersion="7.6.3")}catch{}function bA(n,e){return cC({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:jS({window:e?.window}),hydrationData:_A(),routes:n,mapRouteProperties:HC,hydrationRouteProperties:qC,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function _A(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:wA(n.errors)}),n}function wA(n){if(!n)return null;let e=Object.entries(n),t={};for(let[a,i]of e)if(i&&i.__type==="RouteErrorResponse")t[a]=new Df(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let l=window[i.__subType];if(typeof l=="function")try{let d=new l(i.message);d.stack="",t[a]=d}catch{}}if(t[a]==null){let l=new Error(i.message);l.stack="",t[a]=l}}else t[a]=i;return t}var Q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ks=T.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:i,reloadDocument:l,replace:d,state:m,target:p,to:g,preventScrollReset:b,viewTransition:_,...E},D){let{basename:O}=T.useContext(zs),z=typeof g=="string"&&Q1.test(g),q,K=!1;if(typeof g=="string"&&z&&(q=g,G1))try{let I=new URL(window.location.href),M=g.startsWith("//")?new URL(I.protocol+g):new URL(g),B=bs(M.pathname,O);M.origin===I.origin&&B!=null?g=B+M.search+M.hash:K=!0}catch{Cr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ge=RC(g,{relative:i}),[ae,Re,fe]=pA(a,E),U=SA(g,{replace:d,state:m,target:p,preventScrollReset:b,relative:i,viewTransition:_});function k(I){e&&e(I),I.defaultPrevented||U(I)}let R=T.createElement("a",{...E,...fe,href:q||ge,onClick:K||l?e:k,ref:xA(D,Re),target:p,"data-discover":!z&&t==="render"?"true":void 0});return ae&&!z?T.createElement(T.Fragment,null,R,T.createElement(gA,{page:ge})):R});ks.displayName="Link";var EA=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:i=!1,style:l,to:d,viewTransition:m,children:p,...g},b){let _=wd(d,{relative:g.relative}),E=Bo(),D=T.useContext(_d),{navigator:O,basename:z}=T.useContext(zs),q=D!=null&&DA(_)&&m===!0,K=O.encodeLocation?O.encodeLocation(_).pathname:_.pathname,ge=E.pathname,ae=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(ge=ge.toLowerCase(),ae=ae?ae.toLowerCase():null,K=K.toLowerCase()),ae&&z&&(ae=bs(ae,z)||ae);const Re=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let fe=ge===K||!i&&ge.startsWith(K)&&ge.charAt(Re)==="/",U=ae!=null&&(ae===K||!i&&ae.startsWith(K)&&ae.charAt(K.length)==="/"),k={isActive:fe,isPending:U,isTransitioning:q},R=fe?e:void 0,I;typeof a=="function"?I=a(k):I=[a,fe?"active":null,U?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(k):l;return T.createElement(ks,{...g,"aria-current":R,className:I,ref:b,style:M,to:d,viewTransition:m},typeof p=="function"?p(k):p)});EA.displayName="NavLink";var NA=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:i,state:l,method:d=ff,action:m,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:_,...E},D)=>{let O=RA(),z=jA(m,{relative:g}),q=d.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&Q1.test(m),ge=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let Re=ae.nativeEvent.submitter,fe=Re?.getAttribute("formmethod")||d;O(Re||ae.currentTarget,{fetcherKey:e,method:fe,navigate:t,replace:i,state:l,relative:g,preventScrollReset:b,viewTransition:_})};return T.createElement("form",{ref:D,method:q,action:z,onSubmit:a?p:ge,...E,"data-discover":!K&&n==="render"?"true":void 0})});NA.displayName="Form";function TA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K1(n){let e=T.useContext(Sl);return Wt(e,TA(n)),e}function SA(n,{target:e,replace:t,state:a,preventScrollReset:i,relative:l,viewTransition:d}={}){let m=O0(),p=Bo(),g=wd(n,{relative:l});return T.useCallback(b=>{if(tA(b,e)){b.preventDefault();let _=t!==void 0?t:Mo(p)===Mo(g);m(n,{replace:_,state:a,preventScrollReset:i,relative:l,viewTransition:d})}},[p,m,g,t,a,e,n,i,l,d])}var CA=0,AA=()=>`__${String(++CA)}__`;function RA(){let{router:n}=K1("useSubmit"),{basename:e}=T.useContext(zs),t=zC();return T.useCallback(async(a,i={})=>{let{action:l,method:d,encType:m,formData:p,body:g}=aA(a,e);if(i.navigate===!1){let b=i.fetcherKey||AA();await n.fetch(b,t,i.action||l,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||d,formEncType:i.encType||m,flushSync:i.flushSync})}else await n.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||d,formEncType:i.encType||m,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function jA(n,{relative:e}={}){let{basename:t}=T.useContext(zs),a=T.useContext(fi);Wt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...wd(n||".",{relative:e})},d=Bo();if(n==null){l.search=d.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(_=>_).forEach(_=>m.append("index",_));let b=m.toString();l.search=b?`?${b}`:""}}return(!n||n===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:si([t,l.pathname])),Mo(l)}function DA(n,e={}){let t=T.useContext(I0);Wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=K1("useViewTransitionState"),i=wd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=bs(t.currentLocation.pathname,a)||t.currentLocation.pathname,d=bs(t.nextLocation.pathname,a)||t.nextLocation.pathname;return jf(i.pathname,d)!=null||jf(i.pathname,l)!=null}[...hA];var MA=S1();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function IA(n){return T.createElement(YC,{flushSync:MA.flushSync,...n})}const z0="/assets/logo-Di_XZ8sh.jpg";function PA(){const[n,e]=T.useState(!1);return u.jsxs("header",{className:"fixed top-0 left-0 w-full bg-white shadow z-50",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center min-w-[180px]",children:[u.jsx("img",{src:z0,alt:"Logo Vagafogo",className:"w-12 h-12 rounded-full object-cover border border-gray-300",loading:"lazy"}),u.jsx("span",{className:"ml-4 font-bold text-2xl text-[#8B4F23] tracking-wide",children:"VAGAFOGO"})]}),u.jsxs("nav",{className:"hidden lg:flex flex-1 justify-center gap-10",children:[u.jsx("a",{href:"#inicio",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Incio"}),u.jsx("a",{href:"#brunch",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Brunch"}),u.jsx("a",{href:"#trilha",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Trilha"}),u.jsx("a",{href:"#educacao",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Educao"})]}),u.jsx(ks,{to:"/reservar",className:"hidden md:block bg-[#8B4F23] text-white font-bold px-8 py-2 rounded-full text-lg shadow hover:bg-[#A05D2B] transition min-w-[170px] text-center",children:"Reservar Agora"}),u.jsx("button",{onClick:()=>e(!n),className:"lg:hidden text-3xl ml-2 text-[#8B4F23]","aria-label":"Abrir menu",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]}),n&&u.jsx("div",{className:"lg:hidden absolute top-full left-0 w-full bg-white shadow-md py-5 z-40",children:u.jsxs("div",{className:"flex flex-col gap-4 px-6",children:[u.jsx("a",{href:"#inicio",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Incio"}),u.jsx("a",{href:"#brunch",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Brunch"}),u.jsx("a",{href:"#trilha",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Trilha"}),u.jsx("a",{href:"#educacao",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Educao"}),u.jsx(ks,{to:"/reservar",onClick:()=>e(!1),className:"bg-[#8B4F23] text-white font-bold px-6 py-2 rounded-full mt-2 text-center",children:"Reservar Agora"})]})})]})}const OA="/assets/hero-1-DYW6Kti2.jpg";function kA(){return u.jsxs("section",{id:"inicio",className:"relative min-h-screen flex items-center justify-center pt-20 md:pt-0",style:{backgroundImage:`linear-gradient(rgba(45,30,15,0.7), rgba(45,30,15,0.7)), url(${OA})`,backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[u.jsx("div",{className:"absolute inset-0 bg-black/40"})," ",u.jsx("div",{className:"relative z-10 mx-auto flex w-full max-w-screen-2xl flex-col items-center px-4 py-16 md:py-0 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"w-full max-w-4xl text-center lg:max-w-5xl",children:[u.jsx("h1",{className:"font-heading text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight drop-shadow-lg",children:"Descubra o Santurio Vagafogo"}),u.jsx("p",{className:"text-lg md:text-xl text-white mb-8 drop-shadow",children:"Uma experincia gastronmica nica, aliada s maravilhas do cerrado brasileiro. Sabores que emocionam com uma natureza que encanta."}),u.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[u.jsxs(ks,{to:"/reservar",className:"flex items-center bg-yellow-600 text-white font-semibold px-8 py-4 rounded-full shadow hover:bg-yellow-700 transition duration-300 text-lg",children:[u.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Faa sua reserva"]}),u.jsxs("a",{href:"#brunch",className:"flex items-center border-2 border-white text-white font-semibold px-8 py-4 rounded-full hover:bg-white hover:text-yellow-700 transition duration-300 text-lg",children:[u.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01"})]}),"Saiba mais"]})]})]})})]})}function VA(){return u.jsx("section",{className:"py-16 bg-gray-100",children:u.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("span",{className:"text-green-600 font-semibold tracking-widest uppercase text-sm",children:"POR QUE ESCOLHER O VAGAFOGO"}),u.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-[#8B4F23] mt-2 mb-6",children:"Uma Experincia que Transforma"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center border-t-4 border-accent scroll-reveal show",style:{borderTopColor:"#E0B13C"},children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),u.jsxs("h3",{className:"font-heading text-xl font-bold text-[#8B4F23] mb-3",children:["Brunch Gastronmico "," ",u.jsx(ks,{to:"/reservar",className:"inline-flex items-center justify-center rounded-full bg-[#8B4F23] px-3 py-1 text-xs font-semibold text-white shadow-sm transition hover:bg-[#A05D2B] focus:ring-2 focus:ring-[#8B4F23] focus:ring-offset-2",children:"Consultar preos atualizados"})]}),u.jsx("p",{className:"text-gray-600 text-base",children:"45 itens e 14 harmonizaes nicas com derivados do leite local e frutas do cerrado em manejo sustentvel."})]}),u.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center border-t-4",style:{borderTopColor:"#E0B13C"},children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v20m6-6l-6 6-6-6"})})}),u.jsxs("h3",{className:"font-heading text-xl font-bold text-[#8B4F23] mb-3",children:["Trilha Me da Floresta "," ",u.jsx(ks,{to:"/reservar",className:"inline-flex items-center justify-center rounded-full bg-[#8B4F23] px-3 py-1 text-xs font-semibold text-white shadow-sm transition hover:bg-[#A05D2B] focus:ring-2 focus:ring-[#8B4F23] focus:ring-offset-2",children:"Consultar preos atualizados"})]}),u.jsx("p",{className:"text-gray-600 text-base",children:"1.530m por mata ciliar primria margeando o rio Vagafogo, com 182 espcies de pssaros catalogadas."})]}),u.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center border-t-4",style:{borderTopColor:"#E0B13C"},children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3l8 4-8 4-8-4 8-4zm0 7v6m0 6a2 2 0 002-2h-4a2 2 0 002 2z"})})}),u.jsxs("h3",{className:"font-heading text-xl font-bold text-[#8B4F23] mb-3",children:["Educao Ambiental  ",u.jsx("span",{className:"whitespace-nowrap",children:"Agendamento via WhatsApp"})]}),u.jsx("p",{className:"text-gray-600 text-base",children:"Projeto voltado para escolas, faculdades e grupos especficos, promovendo compreenso sobre flora, fauna e sustentabilidade."})]})]})]})})}const LA="/assets/hero-2-DE6uD2w4.jpg",UA="/assets/brunch-1-BOp_1ZCE.jpg",zA="/assets/brunch-2-BJEw1Xdm.jpg",BA="/assets/brunch-3-CFPzufog.jpg";function FA(){return u.jsx("section",{id:"brunch",className:"py-16 md:py-24",style:{backgroundImage:`linear-gradient(rgba(45, 30, 15, 0.7), rgba(45, 30, 15, 0.7)), url(${LA})`,backgroundPosition:"center",backgroundSize:"cover"},children:u.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"max-w-5xl mx-auto text-center mb-12",children:[u.jsx("span",{className:"text-white font-semibold uppercase tracking-wider",children:"DESCUBRA A GASTRONOMIA"}),u.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-white mt-2 mb-4 drop-shadow-lg",children:"Brunch Vagafogo"}),u.jsx("p",{className:"text-gray-200 text-lg",children:"Um maravilhoso festival gastronmico com derivados do leite produzido na fazenda e frutas do cerrado cultivadas no local, proveniente de manejo sustentvel."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:u.jsxs("div",{className:"relative h-64",children:[u.jsx("div",{className:"h-full w-full bg-cover bg-center",style:{backgroundImage:`url(${UA})`}}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:u.jsx("h3",{className:"font-heading text-xl font-bold text-white drop-shadow",children:"Laticnios Artesanais"})})]})}),u.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:u.jsxs("div",{className:"relative h-64",children:[u.jsx("div",{className:"h-full w-full bg-cover bg-center",style:{backgroundImage:`url(${zA})`}}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:u.jsx("h3",{className:"font-heading text-xl font-bold text-white drop-shadow",children:"Frutas do Cerrado"})})]})}),u.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:u.jsxs("div",{className:"relative h-64",children:[u.jsx("div",{className:"h-full w-full bg-cover bg-center",style:{backgroundImage:`url(${BA})`}}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:u.jsx("h3",{className:"font-heading text-xl font-bold text-white drop-shadow",children:"Harmonizaes Exclusivas"})})]})})]}),u.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[u.jsx("span",{className:"w-2 h-2 bg-white rounded-full inline-block opacity-80"}),u.jsx("span",{className:"w-2 h-2 bg-white/60 rounded-full inline-block opacity-80"}),u.jsx("span",{className:"w-2 h-2 bg-white/60 rounded-full inline-block opacity-80"})]}),u.jsx("div",{className:"text-center mt-12",children:u.jsxs(ks,{to:"/reservar",className:"bg-[#8B4F23] text-white font-semibold px-6 py-3 sm:px-8 sm:py-4 rounded-full shadow-lg hover:bg-[#A05D2B] text-base sm:text-lg transition duration-300 focus:ring-2 focus:ring-offset-2 focus:ring-[#8B4F23] inline-block w-full sm:w-auto max-w-md",children:[u.jsx("i",{className:"fas fa-bookmark mr-2"})," Reservar Experincia Gastronmica"]})})]})})}const HA="/assets/trilhaecologica-1-DZvapW0k.jpg",qA="/assets/trilhaecologica-2-ByLTFY3j.jpg";function $A(){return u.jsx("section",{id:"trilha",className:"py-16 md:py-24",style:{background:`linear-gradient(rgba(45,30,15,0.7),rgba(45,30,15,0.7)), url(${HA})`,backgroundPosition:"center",backgroundSize:"cover"},children:u.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"max-w-5xl mx-auto text-center mb-12",children:[u.jsx("span",{className:"text-white font-semibold uppercase tracking-widest",children:"CONEXO COM A NATUREZA"}),u.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-white mt-2 mb-4",children:"Trilha Ecolgica"})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-10 max-w-7xl mx-auto",children:[u.jsx("div",{className:"lg:w-1/2 mb-6 lg:mb-0",children:u.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:u.jsxs("div",{className:"relative h-96",children:[u.jsx("div",{className:"h-full w-full bg-cover bg-center rounded-2xl",style:{backgroundImage:`url(${qA})`}}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:u.jsx("h3",{className:"font-heading text-xl font-bold text-white",children:"Trilha Me da Floresta"})})]})})}),u.jsxs("div",{className:"lg:w-1/2 text-white",children:[u.jsx("h3",{className:"font-heading text-2xl font-bold mb-4",children:"Caminhada Imersiva de 1500m"}),u.jsx("p",{className:"mb-6 text-gray-200",children:"Nossa trilha ecolgica atravessa uma belssima mata ciliar primria preservada. A trilha  completamente protegida por madeiramento, oferecendo conforto e segurana ao visitante."}),u.jsxs("ul",{className:"space-y-4 mb-8 text-base",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{children:"Espaos estratgicos para descanso e meditao"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{children:"Corrimes para segurana em reas mais ngremes"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{children:"Piscina natural e uma pequena cachoeira "})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{children:"Placas informativas sobre flora e fauna do cerrado"})]})]}),u.jsxs(ks,{to:"/reservar",className:"bg-white text-[#8B4F23] font-semibold px-8 py-3 rounded-full shadow hover:bg-gray-100 text-lg transition duration-300 focus:ring-2 focus:ring-offset-2 focus:ring-white flex items-center justify-center w-max",children:[u.jsx("i",{className:"fas fa-hiking mr-2"})," Agendar Trilha"]})]})]})]})})}const YA="/assets/educacaoambiental-1-DE8jViqV.jpg";function WA(){return u.jsx("section",{id:"educacao",className:"py-16 bg-[#F7FAEF]",children:u.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("span",{className:"text-green-600 font-semibold uppercase tracking-widest",children:"APRENDIZADO E INTEGRAO"}),u.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-[#8B4F23] mt-2 mb-4",children:"Educao Ambiental"}),u.jsx("p",{className:"max-w-4xl mx-auto text-gray-700 mt-4 text-lg",children:"Demonstramos a relao de interdependncia do ser humano com a natureza, promovendo proteo e preservao ambiental."})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 max-w-7xl mx-auto",children:[u.jsx("div",{className:"lg:w-1/2 w-full h-72 object-cover rounded-2xl shadow-lg",style:{backgroundImage:`url(${YA})`}}),u.jsxs("div",{className:"lg:w-1/2",children:[u.jsx("h3",{className:"font-heading text-2xl font-bold text-[#8B4F23] mb-2",children:"Projeto para Escolas e Grupos"}),u.jsx("p",{className:"mb-6 text-gray-700 text-base",children:"Atividade realizada nas trilhas promovendo interpretao sobre flora, fauna, recursos naturais e sustentabilidade."}),u.jsxs("ul",{className:"space-y-4 mb-8",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{className:"text-gray-700",children:"Para escolas, faculdades e grupos especficos"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{className:"text-gray-700",children:"Mostra a importncia da proteo ambiental local e global"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{className:"text-gray-700",children:"Atividade principal realizada nas trilhas"})]})]}),u.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-8",children:u.jsxs("p",{className:"text-yellow-700 flex items-start",children:[u.jsxs("svg",{className:"w-5 h-5 text-yellow-500 mt-1 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01"})]}),u.jsx("span",{children:"Esta atividade requer agendamento prvio via WhatsApp"})]})}),u.jsx("div",{className:"mt-4",children:u.jsxs("a",{href:"https://wa.me/+5562992225471",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-[#8B4F23] text-white font-bold px-8 py-3 rounded-full shadow hover:bg-[#A05D2B] text-lg transition duration-300 focus:ring-2 focus:ring-offset-2 focus:ring-[#8B4F23]",children:[u.jsx("svg",{className:"w-6 h-6 mr-2 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12.01 2C6.48 2 2 6.477 2 12.006c0 1.937.512 3.775 1.482 5.39L2.04 22l4.716-1.248A9.949 9.949 0 0 0 12.01 22c5.523 0 10.01-4.478 10.01-9.994C22.02 6.478 17.533 2 12.01 2zm5.236 14.395c-.242.683-1.406 1.35-1.924 1.38-.517.03-1.013.255-2.826-.607-2.38-.99-3.904-3.408-4.024-3.568-.12-.16-.96-1.277-.96-2.436s.608-1.728.824-1.963c.217-.234.48-.293.64-.293s.32-.005.459.007c.144.012.337-.055.528.407.192.462.652 1.595.711 1.71.06.115.096.257.018.413-.08.157-.12.256-.238.394-.12.138-.252.306-.36.412-.12.117-.243.244-.105.478.137.233.607 1.003 1.305 1.625.897.803 1.656 1.05 1.89 1.17.235.12.373.103.509-.06.136-.164.58-.675.734-.908.154-.232.308-.194.519-.117.211.076 1.335.63 1.565.744.23.115.384.17.442.266.06.096.06.554-.183 1.237z"})}),"Agendar por WhatsApp"]})})]})]})]})})}function GA(){return u.jsx("footer",{className:"py-8 text-center text-xs text-slate-500",children:"Santuario Vagafogo"})}function QA(){return u.jsxs(u.Fragment,{children:[u.jsx(PA,{}),u.jsxs("main",{className:"mt-24 px-4",children:[u.jsx(kA,{}),u.jsx(VA,{}),u.jsx(FA,{}),u.jsx($A,{}),u.jsx(WA,{}),u.jsx("section",{className:"py-16",children:u.jsx("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"mx-auto max-w-5xl rounded-3xl border border-[#8B4F23]/10 bg-[#F7FAEF] p-8 shadow-lg md:p-12",children:u.jsxs("div",{className:"flex flex-col items-start justify-between gap-6 md:flex-row md:items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-green-700",children:"Reservas"}),u.jsx("h2",{className:"mt-2 text-3xl font-bold text-[#8B4F23]",children:"Faa sua reserva em poucos passos"}),u.jsx("p",{className:"mt-2 max-w-2xl text-base text-slate-700",children:"Escolha o pacote, selecione a data/horrio e finalize o pagamento de forma simples e segura."})]}),u.jsx(ks,{to:"/reservar",className:"inline-flex w-full items-center justify-center rounded-full bg-[#8B4F23] px-8 py-3 text-base font-bold text-white shadow-sm transition hover:bg-[#A05D2B] md:w-auto",children:"Reservar agora"})]})})})}),u.jsx(GA,{})]})]})}const KA=()=>{};var h_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=function(n){const e=[];let t=0;for(let a=0;a<n.length;a++){let i=n.charCodeAt(a);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++a)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},XA=function(n){const e=[];let t=0,a=0;for(;t<n.length;){const i=n[t++];if(i<128)e[a++]=String.fromCharCode(i);else if(i>191&&i<224){const l=n[t++];e[a++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=n[t++],d=n[t++],m=n[t++],p=((i&7)<<18|(l&63)<<12|(d&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],d=n[t++];e[a++]=String.fromCharCode((i&15)<<12|(l&63)<<6|d&63)}}return e.join("")},Z1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let i=0;i<n.length;i+=3){const l=n[i],d=i+1<n.length,m=d?n[i+1]:0,p=i+2<n.length,g=p?n[i+2]:0,b=l>>2,_=(l&3)<<4|m>>4;let E=(m&15)<<2|g>>6,D=g&63;p||(D=64,d||(E=64)),a.push(t[b],t[_],t[E],t[D])}return a.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(X1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):XA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let i=0;i<n.length;){const l=t[n.charAt(i++)],m=i<n.length?t[n.charAt(i)]:0;++i;const g=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,l==null||m==null||g==null||_==null)throw new ZA;const E=l<<2|m>>4;if(a.push(E),g!==64){const D=m<<4&240|g>>2;if(a.push(D),_!==64){const O=g<<6&192|_;a.push(O)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JA=function(n){const e=X1(n);return Z1.encodeByteArray(e,!0)},If=function(n){return JA(n).replace(/\./g,"")},J1=function(n){try{return Z1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=()=>e4().__FIREBASE_DEFAULTS__,n4=()=>{if(typeof process>"u"||typeof h_>"u")return;const n=h_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},r4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&J1(n[1]);return e&&JSON.parse(e)},om=()=>{try{return KA()||t4()||n4()||r4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},e2=n=>{var e,t;return(t=(e=om())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},a4=n=>{const e=e2(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},t2=()=>{var n;return(n=om())===null||n===void 0?void 0:n.config},n2=n=>{var e;return(e=om())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r2(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",i=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[If(JSON.stringify(t)),If(JSON.stringify(d)),""].join(".")}const td={};function o4(){const n={prod:[],emulator:[]};for(const e of Object.keys(td))td[e]?n.emulator.push(e):n.prod.push(e);return n}function l4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let f_=!1;function a2(n,e){if(typeof window>"u"||typeof document>"u"||!Hc(window.location.host)||td[n]===e||td[n]||f_)return;td[n]=e;function t(E){return`__firebase__banner__${E}`}const a="__firebase__banner",l=o4().prod.length>0;function d(){const E=document.getElementById(a);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,D){E.setAttribute("width","24"),E.setAttribute("id",D),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{f_=!0,d()},E}function b(E,D){E.setAttribute("id",D),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=l4(a),D=t("text"),O=document.getElementById(D)||document.createElement("span"),z=t("learnmore"),q=document.getElementById(z)||document.createElement("a"),K=t("preprendIcon"),ge=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const ae=E.element;m(ae),b(q,z);const Re=g();p(ge,K),ae.append(ge,O,q,Re),document.body.appendChild(ae)}l?(O.innerText="Preview backend disconnected.",ge.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ge.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ra())}function u4(){var n;const e=(n=om())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function f4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m4(){const n=Ra();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function p4(){return!u4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g4(){try{return typeof indexedDB=="object"}catch{return!1}}function y4(){return new Promise((n,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(a),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var l;e(((l=i.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="FirebaseError";class Bi extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=v4,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ed.prototype.create)}}class Ed{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},i=`${this.service}/${e}`,l=this.errors[e],d=l?x4(l,a):"Error",m=`${this.serviceName}: ${d} (${i}).`;return new Bi(i,m,a)}}function x4(n,e){return n.replace(b4,(t,a)=>{const i=e[a];return i!=null?String(i):`<${a}?>`})}const b4=/\{\$([^}]+)}/g;function _4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bl(n,e){if(n===e)return!0;const t=Object.keys(n),a=Object.keys(e);for(const i of t){if(!a.includes(i))return!1;const l=n[i],d=e[i];if(m_(l)&&m_(d)){if(!bl(l,d))return!1}else if(l!==d)return!1}for(const i of a)if(!t.includes(i))return!1;return!0}function m_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n){const e=[];for(const[t,a]of Object.entries(n))Array.isArray(a)?a.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Gu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[i,l]=a.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function Qu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function w4(n,e){const t=new E4(n,e);return t.subscribe.bind(t)}class E4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let i;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");N4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:a},i.next===void 0&&(i.next=Cg),i.error===void 0&&(i.error=Cg),i.complete===void 0&&(i.complete=Cg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(n){return n&&n._delegate?n._delegate:n}class _l{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new s4;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&a.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C4(e))try{this.getOrInitializeService({instanceIdentifier:hl})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:i});a.resolve(l)}catch{}}}}clearInstance(e=hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hl){return this.instances.has(e)}getOptions(e=hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);a===m&&d.resolve(i)}return i}onInit(e,t){var a;const i=this.normalizeInstanceIdentifier(t),l=(a=this.onInitCallbacks.get(i))!==null&&a!==void 0?a:new Set;l.add(e),this.onInitCallbacks.set(i,l);const d=this.instances.get(i);return d&&e(d,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const i of a)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:S4(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=hl){return this.component?this.component.multipleInstances?e:hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S4(n){return n===hl?void 0:n}function C4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new T4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Jt||(Jt={}));const R4={debug:Jt.DEBUG,verbose:Jt.VERBOSE,info:Jt.INFO,warn:Jt.WARN,error:Jt.ERROR,silent:Jt.SILENT},j4=Jt.INFO,D4={[Jt.DEBUG]:"log",[Jt.VERBOSE]:"log",[Jt.INFO]:"info",[Jt.WARN]:"warn",[Jt.ERROR]:"error"},M4=(n,e,...t)=>{if(e<n.logLevel)return;const a=new Date().toISOString(),i=D4[e];if(i)console[i](`[${a}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class B0{constructor(e){this.name=e,this._logLevel=j4,this._logHandler=M4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Jt.DEBUG,...e),this._logHandler(this,Jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Jt.VERBOSE,...e),this._logHandler(this,Jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Jt.INFO,...e),this._logHandler(this,Jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Jt.WARN,...e),this._logHandler(this,Jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Jt.ERROR,...e),this._logHandler(this,Jt.ERROR,...e)}}const I4=(n,e)=>e.some(t=>n instanceof t);let p_,g_;function P4(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O4(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s2=new WeakMap,e0=new WeakMap,i2=new WeakMap,Ag=new WeakMap,F0=new WeakMap;function k4(n){const e=new Promise((t,a)=>{const i=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{t(So(n.result)),i()},d=()=>{a(n.error),i()};n.addEventListener("success",l),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&s2.set(t,n)}).catch(()=>{}),F0.set(e,n),e}function V4(n){if(e0.has(n))return;const e=new Promise((t,a)=>{const i=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{t(),i()},d=()=>{a(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});e0.set(n,e)}let t0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return e0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||i2.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return So(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function L4(n){t0=n(t0)}function U4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=n.call(Rg(this),e,...t);return i2.set(a,e.sort?e.sort():[e]),So(a)}:O4().includes(n)?function(...e){return n.apply(Rg(this),e),So(s2.get(this))}:function(...e){return So(n.apply(Rg(this),e))}}function z4(n){return typeof n=="function"?U4(n):(n instanceof IDBTransaction&&V4(n),I4(n,P4())?new Proxy(n,t0):n)}function So(n){if(n instanceof IDBRequest)return k4(n);if(Ag.has(n))return Ag.get(n);const e=z4(n);return e!==n&&(Ag.set(n,e),F0.set(e,n)),e}const Rg=n=>F0.get(n);function B4(n,e,{blocked:t,upgrade:a,blocking:i,terminated:l}={}){const d=indexedDB.open(n,e),m=So(d);return a&&d.addEventListener("upgradeneeded",p=>{a(So(d.result),p.oldVersion,p.newVersion,So(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),i&&p.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const F4=["get","getKey","getAll","getAllKeys","count"],H4=["put","add","delete","clear"],jg=new Map;function y_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jg.get(e))return jg.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,i=H4.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(i||F4.includes(t)))return;const l=async function(d,...m){const p=this.transaction(d,i?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),i&&p.done]))[0]};return jg.set(e,l),l}L4(n=>({...n,get:(e,t,a)=>y_(e,t)||n.get(e,t,a),has:(e,t)=>!!y_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($4(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function $4(n){const e=n.getComponent();return e?.type==="VERSION"}const n0="@firebase/app",v_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new B0("@firebase/app"),Y4="@firebase/app-compat",W4="@firebase/analytics-compat",G4="@firebase/analytics",Q4="@firebase/app-check-compat",K4="@firebase/app-check",X4="@firebase/auth",Z4="@firebase/auth-compat",J4="@firebase/database",eR="@firebase/data-connect",tR="@firebase/database-compat",nR="@firebase/functions",rR="@firebase/functions-compat",aR="@firebase/installations",sR="@firebase/installations-compat",iR="@firebase/messaging",oR="@firebase/messaging-compat",lR="@firebase/performance",cR="@firebase/performance-compat",uR="@firebase/remote-config",dR="@firebase/remote-config-compat",hR="@firebase/storage",fR="@firebase/storage-compat",mR="@firebase/firestore",pR="@firebase/ai",gR="@firebase/firestore-compat",yR="firebase",vR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="[DEFAULT]",xR={[n0]:"fire-core",[Y4]:"fire-core-compat",[G4]:"fire-analytics",[W4]:"fire-analytics-compat",[K4]:"fire-app-check",[Q4]:"fire-app-check-compat",[X4]:"fire-auth",[Z4]:"fire-auth-compat",[J4]:"fire-rtdb",[eR]:"fire-data-connect",[tR]:"fire-rtdb-compat",[nR]:"fire-fn",[rR]:"fire-fn-compat",[aR]:"fire-iid",[sR]:"fire-iid-compat",[iR]:"fire-fcm",[oR]:"fire-fcm-compat",[lR]:"fire-perf",[cR]:"fire-perf-compat",[uR]:"fire-rc",[dR]:"fire-rc-compat",[hR]:"fire-gcs",[fR]:"fire-gcs-compat",[mR]:"fire-fst",[gR]:"fire-fst-compat",[pR]:"fire-vertex","fire-js":"fire-js",[yR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new Map,bR=new Map,a0=new Map;function x_(n,e){try{n.container.addComponent(e)}catch(t){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ic(n){const e=n.name;if(a0.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;a0.set(e,n);for(const t of Pf.values())x_(t,n);for(const t of bR.values())x_(t,n);return!0}function H0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Is(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new Ed("app","Firebase",_R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new _l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=vR;function o2(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const a=Object.assign({name:r0,automaticDataCollectionEnabled:!0},e),i=a.name;if(typeof i!="string"||!i)throw Co.create("bad-app-name",{appName:String(i)});if(t||(t=t2()),!t)throw Co.create("no-options");const l=Pf.get(i);if(l){if(bl(t,l.options)&&bl(a,l.config))return l;throw Co.create("duplicate-app",{appName:i})}const d=new A4(i);for(const p of a0.values())d.addComponent(p);const m=new wR(t,a,d);return Pf.set(i,m),m}function l2(n=r0){const e=Pf.get(n);if(!e&&n===r0&&t2())return o2();if(!e)throw Co.create("no-app",{appName:n});return e}function Ao(n,e,t){var a;let i=(a=xR[n])!==null&&a!==void 0?a:n;t&&(i+=`-${t}`);const l=i.match(/\s|\//),d=e.match(/\s|\//);if(l||d){const m=[`Unable to register library "${i}" with version "${e}":`];l&&m.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(m.join(" "));return}Ic(new _l(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebase-heartbeat-database",NR=1,ud="firebase-heartbeat-store";let Dg=null;function c2(){return Dg||(Dg=B4(ER,NR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ud)}catch(t){console.warn(t)}}}}).catch(n=>{throw Co.create("idb-open",{originalErrorMessage:n.message})})),Dg}async function TR(n){try{const t=(await c2()).transaction(ud),a=await t.objectStore(ud).get(u2(n));return await t.done,a}catch(e){if(e instanceof Bi)Vi.warn(e.message);else{const t=Co.create("idb-get",{originalErrorMessage:e?.message});Vi.warn(t.message)}}}async function b_(n,e){try{const a=(await c2()).transaction(ud,"readwrite");await a.objectStore(ud).put(e,u2(n)),await a.done}catch(t){if(t instanceof Bi)Vi.warn(t.message);else{const a=Co.create("idb-set",{originalErrorMessage:t?.message});Vi.warn(a.message)}}}function u2(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=1024,CR=30;class AR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jR(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=__();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(d=>d.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>CR){const d=DR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Vi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=__(),{heartbeatsToSend:a,unsentEntries:i}=RR(this._heartbeatsCache.heartbeats),l=If(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Vi.warn(t),""}}}function __(){return new Date().toISOString().substring(0,10)}function RR(n,e=SR){const t=[];let a=n.slice();for(const i of n){const l=t.find(d=>d.agent===i.agent);if(l){if(l.dates.push(i.date),w_(t)>e){l.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),w_(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class jR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g4()?y4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return b_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return b_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function w_(n){return If(JSON.stringify({version:2,heartbeats:n})).length}function DR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let a=1;a<n.length;a++)n[a].date<t&&(t=n[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(n){Ic(new _l("platform-logger",e=>new q4(e),"PRIVATE")),Ic(new _l("heartbeat",e=>new AR(e),"PRIVATE")),Ao(n0,v_,n),Ao(n0,v_,"esm2017"),Ao("fire-js","")}MR("");function q0(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(n);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(n,a[i])&&(t[a[i]]=n[a[i]]);return t}function d2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IR=d2,h2=new Ed("auth","Firebase",d2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new B0("@firebase/auth");function PR(n,...e){Of.logLevel<=Jt.WARN&&Of.warn(`Auth (${qc}): ${n}`,...e)}function pf(n,...e){Of.logLevel<=Jt.ERROR&&Of.error(`Auth (${qc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(n,...e){throw $0(n,...e)}function ii(n,...e){return $0(n,...e)}function f2(n,e,t){const a=Object.assign(Object.assign({},IR()),{[e]:t});return new Ed("auth","Firebase",a).create(e,{appName:n.name})}function Ro(n){return f2(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $0(n,...e){if(typeof n!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(t,...a)}return h2.create(n,...e)}function xt(n,e,...t){if(!n)throw $0(e,...t)}function Mi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw pf(e),new Error(e)}function Li(n,e){n||Mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function OR(){return E_()==="http:"||E_()==="https:"}function E_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OR()||h4()||"connection"in navigator)?navigator.onLine:!0}function VR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t){this.shortDelay=e,this.longDelay=t,Li(t>e,"Short delay should be less than long delay!"),this.isMobile=c4()||f4()}get(){return kR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(n,e){Li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zR=new Td(3e4,6e4);function Cl(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Fo(n,e,t,a,i={}){return p2(n,i,async()=>{let l={},d={};a&&(e==="GET"?d=a:l={body:JSON.stringify(a)});const m=Nd(Object.assign({key:n.config.apiKey},d)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},l);return d4()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Hc(n.emulatorConfig.host)&&(g.credentials="include"),m2.fetch()(await g2(n,n.config.apiHost,t,m),g)})}async function p2(n,e,t){n._canInitEmulator=!1;const a=Object.assign(Object.assign({},LR),e);try{const i=new FR(n),l=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw Xh(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const m=l.ok?d.errorMessage:d.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(n,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Xh(n,"email-already-in-use",d);if(p==="USER_DISABLED")throw Xh(n,"user-disabled",d);const b=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw f2(n,b,g);Vs(n,b)}}catch(i){if(i instanceof Bi)throw i;Vs(n,"network-request-failed",{message:String(i)})}}async function lm(n,e,t,a,i={}){const l=await Fo(n,e,t,a,i);return"mfaPendingCredential"in l&&Vs(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function g2(n,e,t,a){const i=`${e}${t}?${a}`,l=n,d=l.config.emulator?Y0(n.config,i):`${n.config.apiScheme}://${i}`;return UR.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(d).toString():d}function BR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(ii(this.auth,"network-request-failed")),zR.get())})}}function Xh(n,e,t){const a={appName:n.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const i=ii(n,e,a);return i.customData._tokenResponse=t,i}function N_(n){return n!==void 0&&n.enterprise!==void 0}class HR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return BR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qR(n,e){return Fo(n,"GET","/v2/recaptchaConfig",Cl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(n,e){return Fo(n,"POST","/v1/accounts:delete",e)}async function kf(n,e){return Fo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YR(n,e=!1){const t=Vr(n),a=await t.getIdToken(e),i=W0(a);xt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,d=l?.sign_in_provider;return{claims:i,token:a,authTime:nd(Mg(i.auth_time)),issuedAtTime:nd(Mg(i.iat)),expirationTime:nd(Mg(i.exp)),signInProvider:d||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Mg(n){return Number(n)*1e3}function W0(n){const[e,t,a]=n.split(".");if(e===void 0||t===void 0||a===void 0)return pf("JWT malformed, contained fewer than 3 sections"),null;try{const i=J1(t);return i?JSON.parse(i):(pf("Failed to decode base64 JWT payload"),null)}catch(i){return pf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function T_(n){const e=W0(n);return xt(e,"internal-error"),xt(typeof e.exp<"u","internal-error"),xt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(n,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof Bi&&WR(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function WR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nd(this.lastLoginAt),this.creationTime=nd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(n){var e;const t=n.auth,a=await n.getIdToken(),i=await dd(n,kf(t,{idToken:a}));xt(i?.users.length,t,"internal-error");const l=i.users[0];n._notifyReloadListener(l);const d=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?y2(l.providerUserInfo):[],m=KR(n.providerData,d),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!m?.length,b=p?g:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new i0(l.createdAt,l.lastLoginAt),isAnonymous:b};Object.assign(n,_)}async function QR(n){const e=Vr(n);await Vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KR(n,e){return[...n.filter(a=>!e.some(i=>i.providerId===a.providerId)),...e]}function y2(n){return n.map(e=>{var{providerId:t}=e,a=q0(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(n,e){const t=await p2(n,{},async()=>{const a=Nd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=n.config,d=await g2(n,i,"/v1/token",`key=${l}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return n.emulatorConfig&&Hc(n.emulatorConfig.host)&&(p.credentials="include"),m2.fetch()(d,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ZR(n,e){return Fo(n,"POST","/v2/accounts:revokeToken",Cl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xt(e.idToken,"internal-error"),xt(typeof e.idToken<"u","internal-error"),xt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xt(e.length!==0,"internal-error");const t=T_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:i,expiresIn:l}=await XR(e,t);this.updateTokensAndExpiration(a,i,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:i,expirationTime:l}=t,d=new Cc;return a&&(xt(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),i&&(xt(typeof i=="string","internal-error",{appName:e}),d.accessToken=i),l&&(xt(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cc,this.toJSON())}_performRefresh(){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(n,e){xt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ps{constructor(e){var{uid:t,auth:a,stsTokenManager:i}=e,l=q0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new i0(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await dd(this,this.stsTokenManager.getToken(this.auth,e));return xt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YR(this,e)}reload(){return QR(this)}_assign(e){this!==e&&(xt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Vf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Is(this.auth.app))return Promise.reject(Ro(this.auth));const e=await this.getIdToken();return await dd(this,$R(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,i,l,d,m,p,g,b;const _=(a=t.displayName)!==null&&a!==void 0?a:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,D=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(d=t.photoURL)!==null&&d!==void 0?d:void 0,z=(m=t.tenantId)!==null&&m!==void 0?m:void 0,q=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ge=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:ae,emailVerified:Re,isAnonymous:fe,providerData:U,stsTokenManager:k}=t;xt(ae&&k,e,"internal-error");const R=Cc.fromJSON(this.name,k);xt(typeof ae=="string",e,"internal-error"),mo(_,e.name),mo(E,e.name),xt(typeof Re=="boolean",e,"internal-error"),xt(typeof fe=="boolean",e,"internal-error"),mo(D,e.name),mo(O,e.name),mo(z,e.name),mo(q,e.name),mo(K,e.name),mo(ge,e.name);const I=new Ps({uid:ae,auth:e,email:E,emailVerified:Re,displayName:_,isAnonymous:fe,photoURL:O,phoneNumber:D,tenantId:z,stsTokenManager:R,createdAt:K,lastLoginAt:ge});return U&&Array.isArray(U)&&(I.providerData=U.map(M=>Object.assign({},M))),q&&(I._redirectEventId=q),I}static async _fromIdTokenResponse(e,t,a=!1){const i=new Cc;i.updateFromServerResponse(t);const l=new Ps({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:a});return await Vf(l),l}static async _fromGetAccountInfoResponse(e,t,a){const i=t.users[0];xt(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?y2(i.providerUserInfo):[],d=!(i.email&&i.passwordHash)&&!l?.length,m=new Cc;m.updateFromIdToken(a);const p=new Ps({uid:i.localId,auth:e,stsTokenManager:m,isAnonymous:d}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new i0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=new Map;function Ii(n){Li(n instanceof Function,"Expected a class definition");let e=S_.get(n);return e?(Li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,S_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}v2.type="NONE";const C_=v2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ac{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:i,name:l}=this.auth;this.fullUserKey=gf(this.userKey,i.apiKey,l),this.fullPersistenceKey=gf("persistence",i.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await kf(this.auth,{idToken:e}).catch(()=>{});return t?Ps._fromGetAccountInfoResponse(this.auth,t,e):null}return Ps._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Ac(Ii(C_),e,a);const i=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=i[0]||Ii(C_);const d=gf(a,e.config.apiKey,e.name);let m=null;for(const g of t)try{const b=await g._get(d);if(b){let _;if(typeof b=="string"){const E=await kf(e,{idToken:b}).catch(()=>{});if(!E)break;_=await Ps._fromGetAccountInfoResponse(e,E,b)}else _=Ps._fromJSON(e,b);g!==l&&(m=_),l=g;break}}catch{}const p=i.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ac(l,e,a):(l=p[0],m&&await l._set(d,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(d)}catch{}})),new Ac(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N2(e))return"Blackberry";if(T2(e))return"Webos";if(b2(e))return"Safari";if((e.includes("chrome/")||_2(e))&&!e.includes("edge/"))return"Chrome";if(E2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(t);if(a?.length===2)return a[1]}return"Other"}function x2(n=Ra()){return/firefox\//i.test(n)}function b2(n=Ra()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _2(n=Ra()){return/crios\//i.test(n)}function w2(n=Ra()){return/iemobile/i.test(n)}function E2(n=Ra()){return/android/i.test(n)}function N2(n=Ra()){return/blackberry/i.test(n)}function T2(n=Ra()){return/webos/i.test(n)}function G0(n=Ra()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JR(n=Ra()){var e;return G0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ej(){return m4()&&document.documentMode===10}function S2(n=Ra()){return G0(n)||E2(n)||T2(n)||N2(n)||/windows phone/i.test(n)||w2(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n,e=[]){let t;switch(n){case"Browser":t=A_(Ra());break;case"Worker":t=`${A_(Ra())}-${n}`;break;default:t=n}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qc}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((d,m)=>{try{const p=e(l);d(p)}catch(p){m(p)}});a.onAbort=t,this.queue.push(a);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(n,e={}){return Fo(n,"GET","/v2/passwordPolicy",Cl(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=6;class aj{constructor(e){var t,a,i,l;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:rj,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,i,l,d,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(i=p.containsLowercaseLetter)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let i=0;i<e.length;i++)a=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,t,a,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R_(this),this.idTokenSubscription=new R_(this),this.beforeStateQueue=new tj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ii(t)),this._initializationPromise=this.queue(async()=>{var a,i,l;if(!this._deleted&&(this.persistenceManager=await Ac.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await kf(this,{idToken:e}),a=await Ps._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Is(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let i=a,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===m)&&p?.user&&(i=p.user,l=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(i)}catch(d){i=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Is(this.app))return Promise.reject(Ro(this));const t=e?Vr(e):null;return t&&xt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Is(this.app)?Promise.reject(Ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Is(this.app)?Promise.reject(Ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nj(this),t=new aj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ed("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await ZR(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ii(e)||this._popupRedirectResolver;xt(t,this,"argument-error"),this.redirectPersistenceManager=await Ac.create(this,[Ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,i){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(m,this,"internal-error"),m.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,i);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Is(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&PR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function $c(n){return Vr(n)}class R_{constructor(e){this.auth=e,this.observer=null,this.addObserver=w4(t=>this.observer=t)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ij(n){cm=n}function A2(n){return cm.loadJS(n)}function oj(){return cm.recaptchaEnterpriseScript}function lj(){return cm.gapiScript}function cj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class uj{constructor(){this.enterprise=new dj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class dj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const hj="recaptcha-enterprise",R2="NO_RECAPTCHA";class fj{constructor(e){this.type=hj,this.auth=$c(e)}async verify(e="verify",t=!1){async function a(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,m)=>{qR(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new HR(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,d(g.siteKey)}}).catch(p=>{m(p)})})}function i(l,d,m){const p=window.grecaptcha;N_(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{d(g)}).catch(()=>{d(R2)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uj().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{a(this.auth).then(m=>{if(!t&&N_(window.grecaptcha))i(m,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=oj();p.length!==0&&(p+=m),A2(p).then(()=>{i(m,l,d)}).catch(g=>{d(g)})}}).catch(m=>{d(m)})})}}async function j_(n,e,t,a=!1,i=!1){const l=new fj(n);let d;if(i)d=R2;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function D_(n,e,t,a,i){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await j_(n,e,t,t==="getOobCode");return a(n,d)}else return a(n,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await j_(n,e,t,t==="getOobCode");return a(n,m)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(n,e){const t=H0(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),l=t.getOptions();if(bl(l,e??{}))return i;Vs(i,"already-initialized")}return t.initialize({options:e})}function pj(n,e){const t=e?.persistence||[],a=(Array.isArray(t)?t:[t]).map(Ii);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(a,e?.popupRedirectResolver)}function gj(n,e,t){const a=$c(n);xt(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const i=!1,l=j2(e),{host:d,port:m}=yj(e),p=m===null?"":`:${m}`,g={url:`${l}//${d}${p}/`},b=Object.freeze({host:d,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!a._canInitEmulator){xt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),xt(bl(g,a.config.emulator)&&bl(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Hc(d)?(r2(`${l}//${d}${p}`),a2("Auth",!0)):vj()}function j2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yj(n){const e=j2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(a);if(i){const l=i[1];return{host:l,port:M_(a.substr(l.length+1))}}else{const[l,d]=a.split(":");return{host:l,port:M_(d)}}}function M_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function vj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,t){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}}async function xj(n,e){return Fo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj(n,e){return lm(n,"POST","/v1/accounts:signInWithPassword",Cl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(n,e){return lm(n,"POST","/v1/accounts:signInWithEmailLink",Cl(n,e))}async function wj(n,e){return lm(n,"POST","/v1/accounts:signInWithEmailLink",Cl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends Q0{constructor(e,t,a,i=null){super("password",a),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new hd(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new hd(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D_(e,t,"signInWithPassword",bj);case"emailLink":return _j(e,{email:this._email,oobCode:this._password});default:Vs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D_(e,a,"signUpPassword",xj);case"emailLink":return wj(e,{idToken:t,email:this._email,oobCode:this._password});default:Vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(n,e){return lm(n,"POST","/v1/accounts:signInWithIdp",Cl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="http://localhost";class wl extends Q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:i}=t,l=q0(t,["providerId","signInMethod"]);if(!a||!i)return null;const d=new wl(a,i);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Rc(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Rc(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Rc(e,t)}buildRequest(){const e={requestUri:Ej,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tj(n){const e=Gu(Qu(n)).link,t=e?Gu(Qu(e)).deep_link_id:null,a=Gu(Qu(n)).deep_link_id;return(a?Gu(Qu(a)).link:null)||a||t||e||n}class K0{constructor(e){var t,a,i,l,d,m;const p=Gu(Qu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,b=(a=p.oobCode)!==null&&a!==void 0?a:null,_=Nj((i=p.mode)!==null&&i!==void 0?i:null);xt(g&&b&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=b,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(d=p.lang)!==null&&d!==void 0?d:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=Tj(e);try{return new K0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.providerId=Yc.PROVIDER_ID}static credential(e,t){return hd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=K0.parseLink(t);return xt(a,"argument-error"),hd._fromEmailAndCode(e,a.code,a.tenantId)}}Yc.PROVIDER_ID="password";Yc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends D2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Sd{constructor(){super("facebook.com")}static credential(e){return wl._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xo.credential(e.oauthAccessToken)}catch{return null}}}xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Sd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wl._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return bo.credential(t,a)}catch{return null}}}bo.GOOGLE_SIGN_IN_METHOD="google.com";bo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Sd{constructor(){super("github.com")}static credential(e){return wl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.GITHUB_SIGN_IN_METHOD="github.com";_o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Sd{constructor(){super("twitter.com")}static credential(e,t){return wl._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return wo.credential(t,a)}catch{return null}}}wo.TWITTER_SIGN_IN_METHOD="twitter.com";wo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,i=!1){const l=await Ps._fromIdTokenResponse(e,a,i),d=I_(a);return new Pc({user:l,providerId:d,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const i=I_(a);return new Pc({user:e,providerId:i,_tokenResponse:a,operationType:t})}}function I_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends Bi{constructor(e,t,a,i){var l;super(t.code,t.message),this.operationType=a,this.user=i,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,i){return new Lf(e,t,a,i)}}function M2(n,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(n,l,e,a):l})}async function Sj(n,e,t=!1){const a=await dd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Pc._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(n,e,t=!1){const{auth:a}=n;if(Is(a.app))return Promise.reject(Ro(a));const i="reauthenticate";try{const l=await dd(n,M2(a,i,e,n),t);xt(l.idToken,a,"internal-error");const d=W0(l.idToken);xt(d,a,"internal-error");const{sub:m}=d;return xt(n.uid===m,a,"user-mismatch"),Pc._forOperation(n,i,l)}catch(l){throw l?.code==="auth/user-not-found"&&Vs(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(n,e,t=!1){if(Is(n.app))return Promise.reject(Ro(n));const a="signIn",i=await M2(n,a,e),l=await Pc._fromIdTokenResponse(n,a,i);return t||await n._updateCurrentUser(l.user),l}async function Aj(n,e){return I2($c(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(n){const e=$c(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function jj(n,e,t){return Is(n.app)?Promise.reject(Ro(n)):Aj(Vr(n),Yc.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Rj(n),a})}function Dj(n,e,t,a){return Vr(n).onIdTokenChanged(e,t,a)}function Mj(n,e,t){return Vr(n).beforeAuthStateChanged(e,t)}function Ij(n,e,t,a){return Vr(n).onAuthStateChanged(e,t,a)}const Uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=1e3,Oj=10;class O2 extends P2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),i=this.localCache[t];a!==i&&e(t,i,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const d=this.storage.getItem(a);!t&&this.localCache[a]===d||this.notifyListeners(a,d)},l=this.storage.getItem(a);ej()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Oj):i()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},Pj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}O2.type="LOCAL";const kj=O2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2 extends P2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}k2.type="SESSION";const V2=k2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const a=new um(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:i,data:l}=t.data,d=this.handlersMap[i];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:i});const m=Array.from(d).map(async g=>g(t.origin,l)),p=await Vj(m);t.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,d;return new Promise((m,p)=>{const g=X0("",20);i.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:i,onMessage(_){const E=_;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(E.data.response);break;default:clearTimeout(b),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(d),i.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[i.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function Uj(n){oi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function zj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Bj(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Fj(){return L2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="firebaseLocalStorageDb",Hj=1,zf="firebaseLocalStorage",z2="fbase_key";class Cd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dm(n,e){return n.transaction([zf],e?"readwrite":"readonly").objectStore(zf)}function qj(){const n=indexedDB.deleteDatabase(U2);return new Cd(n).toPromise()}function o0(){const n=indexedDB.open(U2,Hj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(zf,{keyPath:z2})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(zf)?e(a):(a.close(),await qj(),e(await o0()))})})}async function P_(n,e,t){const a=dm(n,!0).put({[z2]:e,value:t});return new Cd(a).toPromise()}async function $j(n,e){const t=dm(n,!1).get(e),a=await new Cd(t).toPromise();return a===void 0?null:a.value}function O_(n,e){const t=dm(n,!0).delete(e);return new Cd(t).toPromise()}const Yj=800,Wj=3;class B2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await o0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>Wj)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=um._getInstance(Fj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await zj(),!this.activeServiceWorker)return;this.sender=new Lj(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Bj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await o0();return await P_(e,Uf,"1"),await O_(e,Uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>P_(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>$j(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>O_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=dm(i,!1).getAll();return new Cd(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)a.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!a.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Yj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B2.type="LOCAL";const Gj=B2;new Td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(n,e){return e?Ii(e):(xt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends Q0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Rc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Kj(n){return I2(n.auth,new Z0(n),n.bypassAuthState)}function Xj(n){const{auth:e,user:t}=n;return xt(t,e,"internal-error"),Cj(t,new Z0(n),n.bypassAuthState)}async function Zj(n){const{auth:e,user:t}=n;return xt(t,e,"internal-error"),Sj(t,new Z0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t,a,i,l=!1){this.auth=e,this.resolver=a,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:i,tenantId:l,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kj;case"linkViaPopup":case"linkViaRedirect":return Zj;case"reauthViaPopup":case"reauthViaRedirect":return Xj;default:Vs(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=new Td(2e3,1e4);class wc extends F2{constructor(e,t,a,i,l){super(e,t,i,l),this.provider=a,this.authWindow=null,this.pollId=null,wc.currentPopupAction&&wc.currentPopupAction.cancel(),wc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xt(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=X0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Jj.get())};e()}}wc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="pendingRedirect",yf=new Map;class tD extends F2{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=yf.get(this.auth._key());if(!e){try{const a=await nD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}yf.set(this.auth._key(),e)}return this.bypassAuthState||yf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nD(n,e){const t=sD(e),a=aD(n);if(!await a._isAvailable())return!1;const i=await a._get(t)==="true";return await a._remove(t),i}function rD(n,e){yf.set(n._key(),e)}function aD(n){return Ii(n._redirectPersistence)}function sD(n){return gf(eD,n.config.apiKey,n.name)}async function iD(n,e,t=!1){if(Is(n.app))return Promise.reject(Ro(n));const a=$c(n),i=Qj(a,e),d=await new tD(a,i,t).execute();return d&&!t&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=10*60*1e3;class lD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!H2(e)){const i=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(ii(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oD&&this.cachedEventUids.clear(),this.cachedEventUids.has(k_(e))}saveEventToCache(e){this.cachedEventUids.add(k_(e)),this.lastProcessedEventTime=Date.now()}}function k_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function H2({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function cD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(n,e={}){return Fo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hD=/^https?/;async function fD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await uD(n);for(const t of e)try{if(mD(t))return}catch{}Vs(n,"unauthorized-domain")}function mD(n){const e=s0(),{protocol:t,hostname:a}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&a===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===a}if(!hD.test(t))return!1;if(dD.test(n))return a===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new Td(3e4,6e4);function V_(){const n=oi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gD(n){return new Promise((e,t)=>{var a,i,l;function d(){V_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V_(),t(ii(n,"network-request-failed"))},timeout:pD.get()})}if(!((i=(a=oi().gapi)===null||a===void 0?void 0:a.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((l=oi().gapi)===null||l===void 0)&&l.load)d();else{const m=cj("iframefcb");return oi()[m]=()=>{gapi.load?d():t(ii(n,"network-request-failed"))},A2(`${lj()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw vf=null,e})}let vf=null;function yD(n){return vf=vf||gD(n),vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new Td(5e3,15e3),xD="__/auth/iframe",bD="emulator/auth/iframe",_D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ED(n){const e=n.config;xt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Y0(e,bD):`https://${n.config.authDomain}/${xD}`,a={apiKey:e.apiKey,appName:n.name,v:qc},i=wD.get(n.config.apiHost);i&&(a.eid=i);const l=n._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${Nd(a).slice(1)}`}async function ND(n){const e=await yD(n),t=oi().gapi;return xt(t,n,"internal-error"),e.open({where:document.body,url:ED(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_D,dontclear:!0},a=>new Promise(async(i,l)=>{await a.restyle({setHideOnLeave:!1});const d=ii(n,"network-request-failed"),m=oi().setTimeout(()=>{l(d)},vD.get());function p(){oi().clearTimeout(m),i(a)}a.ping(p).then(p,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SD=500,CD=600,AD="_blank",RD="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jD(n,e,t,a=SD,i=CD){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},TD),{width:a.toString(),height:i.toString(),top:l,left:d}),g=Ra().toLowerCase();t&&(m=_2(g)?AD:t),x2(g)&&(e=e||RD,p.scrollbars="yes");const b=Object.entries(p).reduce((E,[D,O])=>`${E}${D}=${O},`,"");if(JR(g)&&m!=="_self")return DD(e||"",m),new L_(null);const _=window.open(e||"",m,b);xt(_,n,"popup-blocked");try{_.focus()}catch{}return new L_(_)}function DD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="__/auth/handler",ID="emulator/auth/handler",PD=encodeURIComponent("fac");async function U_(n,e,t,a,i,l){xt(n.config.authDomain,n,"auth-domain-config-required"),xt(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:a,v:qc,eventId:i};if(e instanceof D2){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",_4(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,_]of Object.entries({}))d[b]=_}if(e instanceof Sd){const b=e.getScopes().filter(_=>_!=="");b.length>0&&(d.scopes=b.join(","))}n.tenantId&&(d.tid=n.tenantId);const m=d;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await n._getAppCheckToken(),g=p?`#${PD}=${encodeURIComponent(p)}`:"";return`${OD(n)}?${Nd(m).slice(1)}${g}`}function OD({config:n}){return n.emulator?Y0(n,ID):`https://${n.authDomain}/${MD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="webStorageSupport";class kD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V2,this._completeRedirectFn=iD,this._overrideRedirectResult=rD}async _openPopup(e,t,a,i){var l;Li((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const d=await U_(e,t,a,s0(),i);return jD(e,d,X0())}async _openRedirect(e,t,a,i){await this._originValidation(e);const l=await U_(e,t,a,s0(),i);return Uj(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:l}=this.eventManagers[t];return i?Promise.resolve(i):(Li(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await ND(e),a=new lD(e);return t.register("authEvent",i=>(xt(i?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ig,{type:Ig},i=>{var l;const d=(l=i?.[0])===null||l===void 0?void 0:l[Ig];d!==void 0&&t(!!d),Vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return S2()||b2()||G0()}}const VD=kD;var z_="@firebase/auth",B_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zD(n){Ic(new _l("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=a.options;xt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C2(n)},g=new sj(a,i,l,p);return pj(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Ic(new _l("auth-internal",e=>{const t=$c(e.getProvider("auth").getImmediate());return(a=>new LD(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ao(z_,B_,UD(n)),Ao(z_,B_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=5*60,FD=n2("authIdTokenMaxAge")||BD;let F_=null;const HD=n=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>FD)return;const i=t?.token;F_!==i&&(F_=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qD(n=l2()){const e=H0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=mj(n,{popupRedirectResolver:VD,persistence:[Gj,kj,V2]}),a=n2("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const d=HD(l.toString());Mj(t,d,()=>d(t.currentUser)),Dj(t,m=>d(m))}}const i=e2("auth");return i&&gj(t,`http://${i}`),t}function $D(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ij({loadJS(n){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=e,a.onerror=i=>{const l=ii("internal-error");l.customData=i,t(l)},a.type="text/javascript",a.charset="UTF-8",$D().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zD("Browser");var YD="firebase",WD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ao(YD,WD,"app");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jo,q2;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function I(){}I.prototype=R.prototype,k.D=R.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(M,B,G){for(var V=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)V[Te-2]=arguments[Te];return R.prototype[B].apply(M,V)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,R,I){I||(I=0);var M=Array(16);if(typeof R=="string")for(var B=0;16>B;++B)M[B]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(B=0;16>B;++B)M[B]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=k.g[0],I=k.g[1],B=k.g[2];var G=k.g[3],V=R+(G^I&(B^G))+M[0]+3614090360&4294967295;R=I+(V<<7&4294967295|V>>>25),V=G+(B^R&(I^B))+M[1]+3905402710&4294967295,G=R+(V<<12&4294967295|V>>>20),V=B+(I^G&(R^I))+M[2]+606105819&4294967295,B=G+(V<<17&4294967295|V>>>15),V=I+(R^B&(G^R))+M[3]+3250441966&4294967295,I=B+(V<<22&4294967295|V>>>10),V=R+(G^I&(B^G))+M[4]+4118548399&4294967295,R=I+(V<<7&4294967295|V>>>25),V=G+(B^R&(I^B))+M[5]+1200080426&4294967295,G=R+(V<<12&4294967295|V>>>20),V=B+(I^G&(R^I))+M[6]+2821735955&4294967295,B=G+(V<<17&4294967295|V>>>15),V=I+(R^B&(G^R))+M[7]+4249261313&4294967295,I=B+(V<<22&4294967295|V>>>10),V=R+(G^I&(B^G))+M[8]+1770035416&4294967295,R=I+(V<<7&4294967295|V>>>25),V=G+(B^R&(I^B))+M[9]+2336552879&4294967295,G=R+(V<<12&4294967295|V>>>20),V=B+(I^G&(R^I))+M[10]+4294925233&4294967295,B=G+(V<<17&4294967295|V>>>15),V=I+(R^B&(G^R))+M[11]+2304563134&4294967295,I=B+(V<<22&4294967295|V>>>10),V=R+(G^I&(B^G))+M[12]+1804603682&4294967295,R=I+(V<<7&4294967295|V>>>25),V=G+(B^R&(I^B))+M[13]+4254626195&4294967295,G=R+(V<<12&4294967295|V>>>20),V=B+(I^G&(R^I))+M[14]+2792965006&4294967295,B=G+(V<<17&4294967295|V>>>15),V=I+(R^B&(G^R))+M[15]+1236535329&4294967295,I=B+(V<<22&4294967295|V>>>10),V=R+(B^G&(I^B))+M[1]+4129170786&4294967295,R=I+(V<<5&4294967295|V>>>27),V=G+(I^B&(R^I))+M[6]+3225465664&4294967295,G=R+(V<<9&4294967295|V>>>23),V=B+(R^I&(G^R))+M[11]+643717713&4294967295,B=G+(V<<14&4294967295|V>>>18),V=I+(G^R&(B^G))+M[0]+3921069994&4294967295,I=B+(V<<20&4294967295|V>>>12),V=R+(B^G&(I^B))+M[5]+3593408605&4294967295,R=I+(V<<5&4294967295|V>>>27),V=G+(I^B&(R^I))+M[10]+38016083&4294967295,G=R+(V<<9&4294967295|V>>>23),V=B+(R^I&(G^R))+M[15]+3634488961&4294967295,B=G+(V<<14&4294967295|V>>>18),V=I+(G^R&(B^G))+M[4]+3889429448&4294967295,I=B+(V<<20&4294967295|V>>>12),V=R+(B^G&(I^B))+M[9]+568446438&4294967295,R=I+(V<<5&4294967295|V>>>27),V=G+(I^B&(R^I))+M[14]+3275163606&4294967295,G=R+(V<<9&4294967295|V>>>23),V=B+(R^I&(G^R))+M[3]+4107603335&4294967295,B=G+(V<<14&4294967295|V>>>18),V=I+(G^R&(B^G))+M[8]+1163531501&4294967295,I=B+(V<<20&4294967295|V>>>12),V=R+(B^G&(I^B))+M[13]+2850285829&4294967295,R=I+(V<<5&4294967295|V>>>27),V=G+(I^B&(R^I))+M[2]+4243563512&4294967295,G=R+(V<<9&4294967295|V>>>23),V=B+(R^I&(G^R))+M[7]+1735328473&4294967295,B=G+(V<<14&4294967295|V>>>18),V=I+(G^R&(B^G))+M[12]+2368359562&4294967295,I=B+(V<<20&4294967295|V>>>12),V=R+(I^B^G)+M[5]+4294588738&4294967295,R=I+(V<<4&4294967295|V>>>28),V=G+(R^I^B)+M[8]+2272392833&4294967295,G=R+(V<<11&4294967295|V>>>21),V=B+(G^R^I)+M[11]+1839030562&4294967295,B=G+(V<<16&4294967295|V>>>16),V=I+(B^G^R)+M[14]+4259657740&4294967295,I=B+(V<<23&4294967295|V>>>9),V=R+(I^B^G)+M[1]+2763975236&4294967295,R=I+(V<<4&4294967295|V>>>28),V=G+(R^I^B)+M[4]+1272893353&4294967295,G=R+(V<<11&4294967295|V>>>21),V=B+(G^R^I)+M[7]+4139469664&4294967295,B=G+(V<<16&4294967295|V>>>16),V=I+(B^G^R)+M[10]+3200236656&4294967295,I=B+(V<<23&4294967295|V>>>9),V=R+(I^B^G)+M[13]+681279174&4294967295,R=I+(V<<4&4294967295|V>>>28),V=G+(R^I^B)+M[0]+3936430074&4294967295,G=R+(V<<11&4294967295|V>>>21),V=B+(G^R^I)+M[3]+3572445317&4294967295,B=G+(V<<16&4294967295|V>>>16),V=I+(B^G^R)+M[6]+76029189&4294967295,I=B+(V<<23&4294967295|V>>>9),V=R+(I^B^G)+M[9]+3654602809&4294967295,R=I+(V<<4&4294967295|V>>>28),V=G+(R^I^B)+M[12]+3873151461&4294967295,G=R+(V<<11&4294967295|V>>>21),V=B+(G^R^I)+M[15]+530742520&4294967295,B=G+(V<<16&4294967295|V>>>16),V=I+(B^G^R)+M[2]+3299628645&4294967295,I=B+(V<<23&4294967295|V>>>9),V=R+(B^(I|~G))+M[0]+4096336452&4294967295,R=I+(V<<6&4294967295|V>>>26),V=G+(I^(R|~B))+M[7]+1126891415&4294967295,G=R+(V<<10&4294967295|V>>>22),V=B+(R^(G|~I))+M[14]+2878612391&4294967295,B=G+(V<<15&4294967295|V>>>17),V=I+(G^(B|~R))+M[5]+4237533241&4294967295,I=B+(V<<21&4294967295|V>>>11),V=R+(B^(I|~G))+M[12]+1700485571&4294967295,R=I+(V<<6&4294967295|V>>>26),V=G+(I^(R|~B))+M[3]+2399980690&4294967295,G=R+(V<<10&4294967295|V>>>22),V=B+(R^(G|~I))+M[10]+4293915773&4294967295,B=G+(V<<15&4294967295|V>>>17),V=I+(G^(B|~R))+M[1]+2240044497&4294967295,I=B+(V<<21&4294967295|V>>>11),V=R+(B^(I|~G))+M[8]+1873313359&4294967295,R=I+(V<<6&4294967295|V>>>26),V=G+(I^(R|~B))+M[15]+4264355552&4294967295,G=R+(V<<10&4294967295|V>>>22),V=B+(R^(G|~I))+M[6]+2734768916&4294967295,B=G+(V<<15&4294967295|V>>>17),V=I+(G^(B|~R))+M[13]+1309151649&4294967295,I=B+(V<<21&4294967295|V>>>11),V=R+(B^(I|~G))+M[4]+4149444226&4294967295,R=I+(V<<6&4294967295|V>>>26),V=G+(I^(R|~B))+M[11]+3174756917&4294967295,G=R+(V<<10&4294967295|V>>>22),V=B+(R^(G|~I))+M[2]+718787259&4294967295,B=G+(V<<15&4294967295|V>>>17),V=I+(G^(B|~R))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+B&4294967295,k.g[3]=k.g[3]+G&4294967295}a.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var I=R-this.blockSize,M=this.B,B=this.h,G=0;G<R;){if(B==0)for(;G<=I;)i(this,k,G),G+=this.blockSize;if(typeof k=="string"){for(;G<R;)if(M[B++]=k.charCodeAt(G++),B==this.blockSize){i(this,M),B=0;break}}else for(;G<R;)if(M[B++]=k[G++],B==this.blockSize){i(this,M),B=0;break}}this.h=B,this.o+=R},a.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var I=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=I&255,I/=256;for(this.u(k),k=Array(16),R=I=0;4>R;++R)for(var M=0;32>M;M+=8)k[I++]=this.g[R]>>>M&255;return k};function l(k,R){var I=m;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=R(k)}function d(k,R){this.h=R;for(var I=[],M=!0,B=k.length-1;0<=B;B--){var G=k[B]|0;M&&G==R||(I[B]=G,M=!1)}this.g=I}var m={};function p(k){return-128<=k&&128>k?l(k,function(R){return new d([R|0],0>R?-1:0)}):new d([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return q(g(-k));for(var R=[],I=1,M=0;k>=I;M++)R[M]=k/I|0,I*=4294967296;return new d(R,0)}function b(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return q(b(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),M=_,B=0;B<k.length;B+=8){var G=Math.min(8,k.length-B),V=parseInt(k.substring(B,B+G),R);8>G?(G=g(Math.pow(R,G)),M=M.j(G).add(g(V))):(M=M.j(I),M=M.add(g(V)))}return M}var _=p(0),E=p(1),D=p(16777216);n=d.prototype,n.m=function(){if(z(this))return-q(this).m();for(var k=0,R=1,I=0;I<this.g.length;I++){var M=this.i(I);k+=(0<=M?M:4294967296+M)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(z(this))return"-"+q(this).toString(k);for(var R=g(Math.pow(k,6)),I=this,M="";;){var B=Re(I,R).g;I=K(I,B.j(R));var G=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=B,O(I))return G+M;for(;6>G.length;)G="0"+G;M=G+M}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function z(k){return k.h==-1}n.l=function(k){return k=K(this,k),z(k)?-1:O(k)?0:1};function q(k){for(var R=k.g.length,I=[],M=0;M<R;M++)I[M]=~k.g[M];return new d(I,~k.h).add(E)}n.abs=function(){return z(this)?q(this):this},n.add=function(k){for(var R=Math.max(this.g.length,k.g.length),I=[],M=0,B=0;B<=R;B++){var G=M+(this.i(B)&65535)+(k.i(B)&65535),V=(G>>>16)+(this.i(B)>>>16)+(k.i(B)>>>16);M=V>>>16,G&=65535,V&=65535,I[B]=V<<16|G}return new d(I,I[I.length-1]&-2147483648?-1:0)};function K(k,R){return k.add(q(R))}n.j=function(k){if(O(this)||O(k))return _;if(z(this))return z(k)?q(this).j(q(k)):q(q(this).j(k));if(z(k))return q(this.j(q(k)));if(0>this.l(D)&&0>k.l(D))return g(this.m()*k.m());for(var R=this.g.length+k.g.length,I=[],M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var B=0;B<k.g.length;B++){var G=this.i(M)>>>16,V=this.i(M)&65535,Te=k.i(B)>>>16,ve=k.i(B)&65535;I[2*M+2*B]+=V*ve,ge(I,2*M+2*B),I[2*M+2*B+1]+=G*ve,ge(I,2*M+2*B+1),I[2*M+2*B+1]+=V*Te,ge(I,2*M+2*B+1),I[2*M+2*B+2]+=G*Te,ge(I,2*M+2*B+2)}for(M=0;M<R;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=R;M<2*R;M++)I[M]=0;return new d(I,0)};function ge(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function ae(k,R){this.g=k,this.h=R}function Re(k,R){if(O(R))throw Error("division by zero");if(O(k))return new ae(_,_);if(z(k))return R=Re(q(k),R),new ae(q(R.g),q(R.h));if(z(R))return R=Re(k,q(R)),new ae(q(R.g),R.h);if(30<k.g.length){if(z(k)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var I=E,M=R;0>=M.l(k);)I=fe(I),M=fe(M);var B=U(I,1),G=U(M,1);for(M=U(M,2),I=U(I,2);!O(M);){var V=G.add(M);0>=V.l(k)&&(B=B.add(I),G=V),M=U(M,1),I=U(I,1)}return R=K(k,B.j(R)),new ae(B,R)}for(B=_;0<=k.l(R);){for(I=Math.max(1,Math.floor(k.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),G=g(I),V=G.j(R);z(V)||0<V.l(k);)I-=M,G=g(I),V=G.j(R);O(G)&&(G=E),B=B.add(G),k=K(k,V)}return new ae(B,k)}n.A=function(k){return Re(this,k).h},n.and=function(k){for(var R=Math.max(this.g.length,k.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)&k.i(M);return new d(I,this.h&k.h)},n.or=function(k){for(var R=Math.max(this.g.length,k.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)|k.i(M);return new d(I,this.h|k.h)},n.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)^k.i(M);return new d(I,this.h^k.h)};function fe(k){for(var R=k.g.length+1,I=[],M=0;M<R;M++)I[M]=k.i(M)<<1|k.i(M-1)>>>31;return new d(I,k.h)}function U(k,R){var I=R>>5;R%=32;for(var M=k.g.length-I,B=[],G=0;G<M;G++)B[G]=0<R?k.i(G+I)>>>R|k.i(G+I+1)<<32-R:k.i(G+I);return new d(B,k.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,q2=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=b,jo=d}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $2,Ku,Y2,xf,l0,W2,G2,Q2;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,w){return h==Array.prototype||h==Object.prototype||(h[x]=w.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var x=0;x<h.length;++x){var w=h[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var a=t(this);function i(h,x){if(x)e:{var w=a;h=h.split(".");for(var j=0;j<h.length-1;j++){var ne=h[j];if(!(ne in w))break e;w=w[ne]}h=h[h.length-1],j=w[h],x=x(j),x!=j&&x!=null&&e(w,h,{configurable:!0,writable:!0,value:x})}}function l(h,x){h instanceof String&&(h+="");var w=0,j=!1,ne={next:function(){if(!j&&w<h.length){var pe=w++;return{value:x(pe,h[pe]),done:!1}}return j=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}i("Array.prototype.values",function(h){return h||function(){return l(this,function(x,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function g(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function b(h,x,w){return h.call.apply(h.bind,arguments)}function _(h,x,w){if(!h)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,j),h.apply(x,ne)}}return function(){return h.apply(x,arguments)}}function E(h,x,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:_,E.apply(null,arguments)}function D(h,x){var w=Array.prototype.slice.call(arguments,1);return function(){var j=w.slice();return j.push.apply(j,arguments),h.apply(this,j)}}function O(h,x){function w(){}w.prototype=x.prototype,h.aa=x.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(j,ne,pe){for(var Me=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)Me[$t-2]=arguments[$t];return x.prototype[ne].apply(j,Me)}}function z(h){const x=h.length;if(0<x){const w=Array(x);for(let j=0;j<x;j++)w[j]=h[j];return w}return[]}function q(h,x){for(let w=1;w<arguments.length;w++){const j=arguments[w];if(p(j)){const ne=h.length||0,pe=j.length||0;h.length=ne+pe;for(let Me=0;Me<pe;Me++)h[ne+Me]=j[Me]}else h.push(j)}}class K{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function ge(h){return/^[\s\xa0]*$/.test(h)}function ae(){var h=m.navigator;return h&&(h=h.userAgent)?h:""}function Re(h){return Re[" "](h),h}Re[" "]=function(){};var fe=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function U(h,x,w){for(const j in h)x.call(w,h[j],j,h)}function k(h,x){for(const w in h)x.call(void 0,h[w],w,h)}function R(h){const x={};for(const w in h)x[w]=h[w];return x}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,x){let w,j;for(let ne=1;ne<arguments.length;ne++){j=arguments[ne];for(w in j)h[w]=j[w];for(let pe=0;pe<I.length;pe++)w=I[pe],Object.prototype.hasOwnProperty.call(j,w)&&(h[w]=j[w])}}function B(h){var x=1;h=h.split(":");const w=[];for(;0<x&&h.length;)w.push(h.shift()),x--;return h.length&&w.push(h.join(":")),w}function G(h){m.setTimeout(()=>{throw h},0)}function V(){var h=Ae;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class Te{constructor(){this.h=this.g=null}add(x,w){const j=ve.get();j.set(x,w),this.h?this.h.next=j:this.g=j,this.h=j}}var ve=new K(()=>new F,h=>h.reset());class F{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ce=!1,Ae=new Te,P=()=>{const h=m.Promise.resolve(void 0);le=()=>{h.then(ie)}};var ie=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(w){G(w)}var x=ve;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}ce=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};m.addEventListener("test",w,x),m.removeEventListener("test",w,x)}catch{}return h}();function Fe(h,x){if(me.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,j=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(fe){e:{try{Re(x.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(x=null)}}else w=="mouseover"?x=h.fromElement:w=="mouseout"&&(x=h.toElement);this.relatedTarget=x,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:$e[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Fe.aa.h.call(this)}}O(Fe,me);var $e={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),jt=0;function ct(h,x,w,j,ne){this.listener=h,this.proxy=null,this.src=x,this.type=w,this.capture=!!j,this.ha=ne,this.key=++jt,this.da=this.fa=!1}function Nt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function cn(h){this.src=h,this.g={},this.h=0}cn.prototype.add=function(h,x,w,j,ne){var pe=h.toString();h=this.g[pe],h||(h=this.g[pe]=[],this.h++);var Me=We(h,x,j,ne);return-1<Me?(x=h[Me],w||(x.fa=!1)):(x=new ct(x,this.src,pe,!!j,ne),x.fa=w,h.push(x)),x};function An(h,x){var w=x.type;if(w in h.g){var j=h.g[w],ne=Array.prototype.indexOf.call(j,x,void 0),pe;(pe=0<=ne)&&Array.prototype.splice.call(j,ne,1),pe&&(Nt(x),h.g[w].length==0&&(delete h.g[w],h.h--))}}function We(h,x,w,j){for(var ne=0;ne<h.length;++ne){var pe=h[ne];if(!pe.da&&pe.listener==x&&pe.capture==!!w&&pe.ha==j)return ne}return-1}var wt="closure_lm_"+(1e6*Math.random()|0),ya={};function ka(h,x,w,j,ne){if(Array.isArray(x)){for(var pe=0;pe<x.length;pe++)ka(h,x[pe],w,j,ne);return null}return w=va(w),h&&h[Mt]?h.K(x,w,g(j)?!!j.capture:!1,ne):Pn(h,x,w,!1,j,ne)}function Pn(h,x,w,j,ne,pe){if(!x)throw Error("Invalid event type");var Me=g(ne)?!!ne.capture:!!ne,$t=Vn(h);if($t||(h[wt]=$t=new cn(h)),w=$t.add(x,w,j,Me,pe),w.proxy)return w;if(j=Qr(),w.proxy=j,j.src=h,j.listener=w,h.addEventListener)De||(ne=Me),ne===void 0&&(ne=!1),h.addEventListener(x.toString(),j,ne);else if(h.attachEvent)h.attachEvent(Kr(x.toString()),j);else if(h.addListener&&h.removeListener)h.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Qr(){function h(w){return x.call(h.src,h.listener,w)}const x=or;return h}function gr(h,x,w,j,ne){if(Array.isArray(x))for(var pe=0;pe<x.length;pe++)gr(h,x[pe],w,j,ne);else j=g(j)?!!j.capture:!!j,w=va(w),h&&h[Mt]?(h=h.i,x=String(x).toString(),x in h.g&&(pe=h.g[x],w=We(pe,w,j,ne),-1<w&&(Nt(pe[w]),Array.prototype.splice.call(pe,w,1),pe.length==0&&(delete h.g[x],h.h--)))):h&&(h=Vn(h))&&(x=h.g[x.toString()],h=-1,x&&(h=We(x,w,j,ne)),(w=-1<h?x[h]:null)&&Ar(w))}function Ar(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Mt])An(x.i,h);else{var w=h.type,j=h.proxy;x.removeEventListener?x.removeEventListener(w,j,h.capture):x.detachEvent?x.detachEvent(Kr(w),j):x.addListener&&x.removeListener&&x.removeListener(j),(w=Vn(x))?(An(w,h),w.h==0&&(w.src=null,x[wt]=null)):Nt(h)}}}function Kr(h){return h in ya?ya[h]:ya[h]="on"+h}function or(h,x){if(h.da)h=!0;else{x=new Fe(x,this);var w=h.listener,j=h.ha||h.src;h.fa&&Ar(h),h=w.call(j,x)}return h}function Vn(h){return h=h[wt],h instanceof cn?h:null}var Xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function va(h){return typeof h=="function"?h:(h[Xr]||(h[Xr]=function(x){return h.handleEvent(x)}),h[Xr])}function It(){_e.call(this),this.i=new cn(this),this.M=this,this.F=null}O(It,_e),It.prototype[Mt]=!0,It.prototype.removeEventListener=function(h,x,w,j){gr(this,h,x,w,j)};function Ke(h,x){var w,j=h.F;if(j)for(w=[];j;j=j.F)w.push(j);if(h=h.M,j=x.type||x,typeof x=="string")x=new me(x,h);else if(x instanceof me)x.target=x.target||h;else{var ne=x;x=new me(j,h),M(x,ne)}if(ne=!0,w)for(var pe=w.length-1;0<=pe;pe--){var Me=x.g=w[pe];ne=pn(Me,j,!0,x)&&ne}if(Me=x.g=h,ne=pn(Me,j,!0,x)&&ne,ne=pn(Me,j,!1,x)&&ne,w)for(pe=0;pe<w.length;pe++)Me=x.g=w[pe],ne=pn(Me,j,!1,x)&&ne}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var w=h.g[x],j=0;j<w.length;j++)Nt(w[j]);delete h.g[x],h.h--}}this.F=null},It.prototype.K=function(h,x,w,j){return this.i.add(String(h),x,!1,w,j)},It.prototype.L=function(h,x,w,j){return this.i.add(String(h),x,!0,w,j)};function pn(h,x,w,j){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var ne=!0,pe=0;pe<x.length;++pe){var Me=x[pe];if(Me&&!Me.da&&Me.capture==w){var $t=Me.listener,tr=Me.ha||Me.src;Me.fa&&An(h.i,Me),ne=$t.call(tr,j)!==!1&&ne}}return ne&&!j.defaultPrevented}function Rn(h,x,w){if(typeof h=="function")w&&(h=E(h,w));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:m.setTimeout(h,x||0)}function ia(h){h.g=Rn(()=>{h.g=null,h.i&&(h.i=!1,ia(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Kn extends _e{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ia(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(h){_e.call(this),this.h=h,this.g={}}O(Rr,_e);var nt=[];function lr(h){U(h.g,function(x,w){this.g.hasOwnProperty(w)&&Ar(x)},h),h.g={}}Rr.prototype.N=function(){Rr.aa.N.call(this),lr(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=m.JSON.stringify,Lr=m.JSON.parse,yr=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function dt(){}dt.prototype.h=null;function Lt(h){return h.h||(h.h=h.i())}function Et(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gn(){me.call(this,"d")}O(gn,me);function vr(){me.call(this,"c")}O(vr,me);var Bt={},xn=null;function Tt(){return xn=xn||new It}Bt.La="serverreachability";function Ur(h){me.call(this,Bt.La,h)}O(Ur,me);function $(h){const x=Tt();Ke(x,new Ur(x))}Bt.STAT_EVENT="statevent";function J(h,x){me.call(this,Bt.STAT_EVENT,h),this.stat=x}O(J,me);function te(h){const x=Tt();Ke(x,new J(x,h))}Bt.Ma="timingevent";function ye(h,x){me.call(this,Bt.Ma,h),this.size=x}O(ye,me);function je(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},x)}function Ie(){this.g=!0}Ie.prototype.xa=function(){this.g=!1};function Qe(h,x,w,j,ne,pe){h.info(function(){if(h.g)if(pe)for(var Me="",$t=pe.split("&"),tr=0;tr<$t.length;tr++){var Xt=$t[tr].split("=");if(1<Xt.length){var Hn=Xt[0];Xt=Xt[1];var Yn=Hn.split("_");Me=2<=Yn.length&&Yn[1]=="type"?Me+(Hn+"="+Xt+"&"):Me+(Hn+"=redacted&")}}else Me=null;else Me=pe;return"XMLHTTP REQ ("+j+") [attempt "+ne+"]: "+x+`
`+w+`
`+Me})}function Ve(h,x,w,j,ne,pe,Me){h.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+ne+"]: "+x+`
`+w+`
`+pe+" "+Me})}function Ye(h,x,w,j){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+st(h,w)+(j?" "+j:"")})}function Be(h,x){h.info(function(){return"TIMEOUT: "+x})}Ie.prototype.info=function(){};function st(h,x){if(!h.g)return x;if(!x)return null;try{var w=JSON.parse(x);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var j=w[h];if(!(2>j.length)){var ne=j[1];if(Array.isArray(ne)&&!(1>ne.length)){var pe=ne[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Me=1;Me<ne.length;Me++)ne[Me]=""}}}}return Xn(w)}catch{return x}}var Xe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},it={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ze;function vt(){}O(vt,dt),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},Ze=new vt;function Dt(h,x,w,j){this.j=h,this.i=x,this.l=w,this.R=j||1,this.U=new Rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}var Je={},St={};function Bn(h,x,w){h.L=1,h.v=Va(hr(x)),h.m=w,h.P=!0,xr(h,null)}function xr(h,x){h.F=Date.now(),tn(h),h.A=hr(h.v);var w=h.A,j=h.R;Array.isArray(j)||(j=[String(j)]),ls(w.i,"t",j),h.C=0,w=h.j.J,h.h=new Ot,h.g=As(h.j,w?x:null,!h.m),0<h.O&&(h.M=new Kn(E(h.Y,h,h.g),h.O)),x=h.U,w=h.g,j=h.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(nt[0]=ne.toString()),ne=nt);for(var pe=0;pe<ne.length;pe++){var Me=ka(w,ne[pe],j||x.handleEvent,!1,x.h||x);if(!Me)break;x.g[Me.key]=Me}x=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),$(),Qe(h.i,h.u,h.A,h.l,h.R,h.m)}Dt.prototype.ca=function(h){h=h.target;const x=this.M;x&&Fn(h)==3?x.j():this.Y(h)},Dt.prototype.Y=function(h){try{if(h==this.g)e:{const Yn=Fn(this.g);var x=this.g.Ba();const Rs=this.g.Z();if(!(3>Yn)&&(Yn!=3||this.g&&(this.h.h||this.g.oa()||Es(this.g)))){this.J||Yn!=4||x==7||(x==8||0>=Rs?$(3):$(2)),On(this);var w=this.g.Z();this.X=w;t:if(Zn(this)){var j=Es(this.g);h="";var ne=j.length,pe=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ut(this),ht(this);var Me="";break t}this.h.i=new m.TextDecoder}for(x=0;x<ne;x++)this.h.h=!0,h+=this.h.i.decode(j[x],{stream:!(pe&&x==ne-1)});j.length=0,this.h.g+=h,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=w==200,Ve(this.i,this.u,this.A,this.l,this.R,Yn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var $t,tr=this.g;if(($t=tr.g?tr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge($t)){var Xt=$t;break t}}Xt=null}if(w=Xt)Ye(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ln(this,w);else{this.o=!1,this.s=3,te(12),ut(this),ht(this);break e}}if(this.P){w=!0;let Fr;for(;!this.J&&this.C<Me.length;)if(Fr=qn(this,Me),Fr==St){Yn==4&&(this.s=4,te(14),w=!1),Ye(this.i,this.l,null,"[Incomplete Response]");break}else if(Fr==Je){this.s=4,te(15),Ye(this.i,this.l,Me,"[Invalid Chunk]"),w=!1;break}else Ye(this.i,this.l,Fr,null),Ln(this,Fr);if(Zn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yn!=4||Me.length!=0||this.h.h||(this.s=1,te(16),w=!1),this.o=this.o&&w,!w)Ye(this.i,this.l,Me,"[Invalid Chunked Response]"),ut(this),ht(this);else if(0<Me.length&&!this.W){this.W=!0;var Hn=this.j;Hn.g==this&&Hn.ba&&!Hn.M&&(Hn.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),$s(Hn),Hn.M=!0,te(11))}}else Ye(this.i,this.l,Me,null),Ln(this,Me);Yn==4&&ut(this),this.o&&!this.J&&(Yn==4?qi(this.j,this):(this.o=!1,tn(this)))}else Ua(this.g),w==400&&0<Me.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),ut(this),ht(this)}}}catch{}finally{}};function Zn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function qn(h,x){var w=h.C,j=x.indexOf(`
`,w);return j==-1?St:(w=Number(x.substring(w,j)),isNaN(w)?Je:(j+=1,j+w>x.length?St:(x=x.slice(j,j+w),h.C=j+w,x)))}Dt.prototype.cancel=function(){this.J=!0,ut(this)};function tn(h){h.S=Date.now()+h.I,ja(h,h.I)}function ja(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=je(E(h.ba,h),x)}function On(h){h.B&&(m.clearTimeout(h.B),h.B=null)}Dt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Be(this.i,this.A),this.L!=2&&($(),te(17)),ut(this),this.s=2,ht(this)):ja(this,this.S-h)};function ht(h){h.j.G==0||h.J||qi(h.j,h)}function ut(h){On(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,lr(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function Ln(h,x){try{var w=h.j;if(w.G!=0&&(w.g==h||an(w.h,h))){if(!h.K&&an(w.h,h)&&w.G==3){try{var j=w.Da.g.parse(x)}catch{j=null}if(Array.isArray(j)&&j.length==3){var ne=j;if(ne[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)yi(w),Ts(w);else break e;gi(w),te(18)}}else w.za=ne[1],0<w.za-w.T&&37500>ne[2]&&w.F&&w.v==0&&!w.C&&(w.C=je(E(w.Za,w),6e3));if(1>=He(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Qa(w,11)}else if((h.K||w.g==h)&&yi(w),!ge(x))for(ne=w.Da.g.parse(x),x=0;x<ne.length;x++){let Xt=ne[x];if(w.T=Xt[0],Xt=Xt[1],w.G==2)if(Xt[0]=="c"){w.K=Xt[1],w.ia=Xt[2];const Hn=Xt[3];Hn!=null&&(w.la=Hn,w.j.info("VER="+w.la));const Yn=Xt[4];Yn!=null&&(w.Aa=Yn,w.j.info("SVER="+w.Aa));const Rs=Xt[5];Rs!=null&&typeof Rs=="number"&&0<Rs&&(j=1.5*Rs,w.L=j,w.j.info("backChannelRequestTimeoutMs_="+j)),j=w;const Fr=h.g;if(Fr){const us=Fr.g?Fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(us){var pe=j.h;pe.g||us.indexOf("spdy")==-1&&us.indexOf("quic")==-1&&us.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Da(pe,pe.h),pe.h=null))}if(j.D){const Qo=Fr.g?Fr.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(j.ya=Qo,hn(j.I,j.D,Qo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),j=w;var Me=h;if(j.qa=Cs(j,j.J?j.ia:null,j.W),Me.K){En(j.h,Me);var $t=Me,tr=j.L;tr&&($t.I=tr),$t.B&&(On($t),tn($t)),j.g=Me}else Ml(j);0<w.i.length&&Ss(w)}else Xt[0]!="stop"&&Xt[0]!="close"||Qa(w,7);else w.G==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Qa(w,7):Ns(w):Xt[0]!="noop"&&w.l&&w.l.ta(Xt),w.v=0)}}$(4)}catch{}}var cr=class{constructor(h,x){this.g=h,this.map=x}};function Jn(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ur(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function He(h){return h.h?1:h.g?h.g.size:0}function an(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Da(h,x){h.g?h.g.add(x):h.h=x}function En(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Jn.prototype.cancel=function(){if(this.i=Ma(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ma(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const w of h.g.values())x=x.concat(w.D);return x}return z(h.i)}function xa(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var x=[],w=h.length,j=0;j<w;j++)x.push(h[j]);return x}x=[],w=0;for(j in h)x[w++]=h[j];return x}function er(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var x=[];h=h.length;for(var w=0;w<h;w++)x.push(w);return x}x=[],w=0;for(const j in h)x[w++]=j;return x}}}function dr(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var w=er(h),j=xa(h),ne=j.length,pe=0;pe<ne;pe++)x.call(void 0,j[pe],w&&w[pe],h)}var jr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zr(h,x){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var j=h[w].indexOf("="),ne=null;if(0<=j){var pe=h[w].substring(0,j);ne=h[w].substring(j+1)}else pe=h[w];x(pe,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function bn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof bn){this.h=h.h,_s(this,h.j),this.o=h.o,this.g=h.g,$a(this,h.s),this.l=h.l;var x=h.i,w=new Wa;w.i=x.i,x.g&&(w.g=new Map(x.g),w.h=x.h),ba(this,w),this.m=h.m}else h&&(x=String(h).match(jr))?(this.h=!1,_s(this,x[1]||"",!0),this.o=br(x[2]||""),this.g=br(x[3]||"",!0),$a(this,x[4]),this.l=br(x[5]||"",!0),ba(this,x[6]||"",!0),this.m=br(x[7]||"")):(this.h=!1,this.i=new Wa(null,this.h))}bn.prototype.toString=function(){var h=[],x=this.j;x&&h.push(is(x,os,!0),":");var w=this.g;return(w||x=="file")&&(h.push("//"),(x=this.o)&&h.push(is(x,os,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(is(w,w.charAt(0)=="/"?Fs:Bs,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",is(w,La)),h.join("")};function hr(h){return new bn(h)}function _s(h,x,w){h.j=w?br(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function $a(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function ba(h,x,w){x instanceof Wa?(h.i=x,Hs(h.i,h.h)):(w||(x=is(x,Hi)),h.i=new Wa(x,h.h))}function hn(h,x,w){h.i.set(x,w)}function Va(h){return hn(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function br(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function is(h,x,w){return typeof h=="string"?(h=encodeURI(h).replace(x,Ya),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ya(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var os=/[#\/\?@]/g,Bs=/[#\?:]/g,Fs=/[#\?]/g,Hi=/[#\?@]/g,La=/#/g;function Wa(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function _r(h){h.g||(h.g=new Map,h.h=0,h.i&&Zr(h.i,function(x,w){h.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}n=Wa.prototype,n.add=function(h,x){_r(this),this.i=null,h=_a(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(x),this.h+=1,this};function ft(h,x){_r(h),x=_a(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function fr(h,x){return _r(h),x=_a(h,x),h.g.has(x)}n.forEach=function(h,x){_r(this),this.g.forEach(function(w,j){w.forEach(function(ne){h.call(x,ne,j,this)},this)},this)},n.na=function(){_r(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),w=[];for(let j=0;j<x.length;j++){const ne=h[j];for(let pe=0;pe<ne.length;pe++)w.push(x[j])}return w},n.V=function(h){_r(this);let x=[];if(typeof h=="string")fr(this,h)&&(x=x.concat(this.g.get(_a(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)x=x.concat(h[w])}return x},n.set=function(h,x){return _r(this),this.i=null,h=_a(this,h),fr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},n.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function ls(h,x,w){ft(h,x),0<w.length&&(h.i=null,h.g.set(_a(h,x),z(w)),h.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var w=0;w<x.length;w++){var j=x[w];const pe=encodeURIComponent(String(j)),Me=this.V(j);for(j=0;j<Me.length;j++){var ne=pe;Me[j]!==""&&(ne+="="+encodeURIComponent(String(Me[j]))),h.push(ne)}}return this.i=h.join("&")};function _a(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function Hs(h,x){x&&!h.j&&(_r(h),h.i=null,h.g.forEach(function(w,j){var ne=j.toLowerCase();j!=ne&&(ft(this,j),ls(this,ne,w))},h)),h.j=x}function wr(h,x){const w=new Ie;if(m.Image){const j=new Image;j.onload=D(oa,w,"TestLoadImage: loaded",!0,x,j),j.onerror=D(oa,w,"TestLoadImage: error",!1,x,j),j.onabort=D(oa,w,"TestLoadImage: abort",!1,x,j),j.ontimeout=D(oa,w,"TestLoadImage: timeout",!1,x,j),m.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=h}else x(!1)}function zr(h,x){const w=new Ie,j=new AbortController,ne=setTimeout(()=>{j.abort(),oa(w,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:j.signal}).then(pe=>{clearTimeout(ne),pe.ok?oa(w,"TestPingServer: ok",!0,x):oa(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(ne),oa(w,"TestPingServer: error",!1,x)})}function oa(h,x,w,j,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),j(w)}catch{}}function ws(){this.g=new yr}function la(h,x,w){const j=w||"";try{dr(h,function(ne,pe){let Me=ne;g(ne)&&(Me=Xn(ne)),x.push(j+pe+"="+encodeURIComponent(Me))})}catch(ne){throw x.push(j+"type="+encodeURIComponent("_badmap")),ne}}function Ga(h){this.l=h.Ub||null,this.j=h.eb||!1}O(Ga,dt),Ga.prototype.g=function(){return new Ut(this.l,this.j)},Ga.prototype.i=function(h){return function(){return h}}({});function Ut(h,x){It.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ut,It),n=Ut.prototype,n.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,oe(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||m).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Y(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,oe(this)),this.g&&(this.readyState=3,oe(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;A(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function A(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Y(this):oe(this),this.readyState==3&&A(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Y(this))},n.Qa=function(h){this.g&&(this.response=h,Y(this))},n.ga=function(){this.g&&Y(this)};function Y(h){h.readyState=4,h.l=null,h.j=null,h.v=null,oe(h)}n.setRequestHeader=function(h,x){this.u.append(h,x)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=x.next();return h.join(`\r
`)};function oe(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ut.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ue(h){let x="";return U(h,function(w,j){x+=j,x+=":",x+=w,x+=`\r
`}),x}function we(h,x,w){e:{for(j in w){var j=!1;break e}j=!0}j||(w=ue(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):hn(h,x,w))}function xe(h){It.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(xe,It);var Le=/^https?$/i,gt=["POST","PUT"];n=xe.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,x,w,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ze.g(),this.v=this.o?Lt(this.o):Lt(Ze),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(pe){ze(this,pe);return}if(h=w||"",w=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var ne in j)w.set(ne,j[ne]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const pe of j.keys())w.set(pe,j.get(pe));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(w.keys()).find(pe=>pe.toLowerCase()=="content-type"),ne=m.FormData&&h instanceof m.FormData,!(0<=Array.prototype.indexOf.call(gt,x,void 0))||j||ne||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Me]of w)this.g.setRequestHeader(pe,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jr(this),this.u=!0,this.g.send(h),this.u=!1}catch(pe){ze(this,pe)}};function ze(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,tt(h),Ft(h)}function tt(h){h.A||(h.A=!0,Ke(h,"complete"),Ke(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ke(this,"complete"),Ke(this,"abort"),Ft(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ft(this,!0)),xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?yn(this):this.bb())},n.bb=function(){yn(this)};function yn(h){if(h.h&&typeof d<"u"&&(!h.v[1]||Fn(h)!=4||h.Z()!=2)){if(h.u&&Fn(h)==4)Rn(h.Ea,0,h);else if(Ke(h,"readystatechange"),Fn(h)==4){h.h=!1;try{const Me=h.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var j;if(j=Me===0){var ne=String(h.D).match(jr)[1]||null;!ne&&m.self&&m.self.location&&(ne=m.self.location.protocol.slice(0,-1)),j=!Le.test(ne?ne.toLowerCase():"")}w=j}if(w)Ke(h,"complete"),Ke(h,"success");else{h.m=6;try{var pe=2<Fn(h)?h.g.statusText:""}catch{pe=""}h.l=pe+" ["+h.Z()+"]",tt(h)}}finally{Ft(h)}}}}function Ft(h,x){if(h.g){Jr(h);const w=h.g,j=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||Ke(h,"ready");try{w.onreadystatechange=j}catch{}}}function Jr(h){h.I&&(m.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Fn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),Lr(x)}};function Es(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ua(h){const x={};h=(h.g&&2<=Fn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<h.length;j++){if(ge(h[j]))continue;var w=B(h[j]);const ne=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const pe=x[ne]||[];x[ne]=pe,pe.push(w)}k(x,function(j){return j.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $n(h,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||x}function Dr(h){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$n("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$n("baseRetryDelayMs",5e3,h),this.cb=$n("retryDelaySeedMs",1e4,h),this.Wa=$n("forwardChannelMaxRetries",2,h),this.wa=$n("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Jn(h&&h.concurrentRequestLimit),this.Da=new ws,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Dr.prototype,n.la=8,n.G=1,n.connect=function(h,x,w,j){te(0),this.W=h,this.H=x||{},w&&j!==void 0&&(this.H.OSID=w,this.H.OAID=j),this.F=this.X,this.I=Cs(this,null,this.W),Ss(this)};function Ns(h){if(pi(h),h.G==3){var x=h.U++,w=hr(h.I);if(hn(w,"SID",h.K),hn(w,"RID",x),hn(w,"TYPE","terminate"),qs(h,w),x=new Dt(h,h.j,x),x.L=2,x.v=Va(hr(w)),w=!1,m.navigator&&m.navigator.sendBeacon)try{w=m.navigator.sendBeacon(x.v.toString(),"")}catch{}!w&&m.Image&&(new Image().src=x.v,w=!0),w||(x.g=As(x.j,null),x.g.ea(x.v)),x.F=Date.now(),tn(x)}Il(h)}function Ts(h){h.g&&($s(h),h.g.cancel(),h.g=null)}function pi(h){Ts(h),h.u&&(m.clearTimeout(h.u),h.u=null),yi(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&m.clearTimeout(h.s),h.s=null)}function Ss(h){if(!ur(h.h)&&!h.s){h.s=!0;var x=h.Ga;le||P(),ce||(le(),ce=!0),Ae.add(x,h),h.B=0}}function Dl(h,x){return He(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=je(E(h.Ga,h,x),Wo(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ne=new Dt(this,this.j,h);let pe=this.o;if(this.S&&(pe?(pe=R(pe),M(pe,this.S)):pe=this.S),this.m!==null||this.O||(ne.H=pe,pe=null),this.P)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var j=this.i[w];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(x+=j,4096<x){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=Yo(this,ne,x),w=hr(this.I),hn(w,"RID",h),hn(w,"CVER",22),this.D&&hn(w,"X-HTTP-Session-Id",this.D),qs(this,w),pe&&(this.O?x="headers="+encodeURIComponent(String(ue(pe)))+"&"+x:this.m&&we(w,this.m,pe)),Da(this.h,ne),this.Ua&&hn(w,"TYPE","init"),this.P?(hn(w,"$req",x),hn(w,"SID","null"),ne.T=!0,Bn(ne,w,null)):Bn(ne,w,x),this.G=2}}else this.G==3&&(h?$o(this,h):this.i.length==0||ur(this.h)||$o(this))};function $o(h,x){var w;x?w=x.l:w=h.U++;const j=hr(h.I);hn(j,"SID",h.K),hn(j,"RID",w),hn(j,"AID",h.T),qs(h,j),h.m&&h.o&&we(j,h.m,h.o),w=new Dt(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),x&&(h.i=x.D.concat(h.i)),x=Yo(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Da(h.h,w),Bn(w,j,x)}function qs(h,x){h.H&&U(h.H,function(w,j){hn(x,j,w)}),h.l&&dr({},function(w,j){hn(x,j,w)})}function Yo(h,x,w){w=Math.min(h.i.length,w);var j=h.l?E(h.l.Na,h.l,h):null;e:{var ne=h.i;let pe=-1;for(;;){const Me=["count="+w];pe==-1?0<w?(pe=ne[0].g,Me.push("ofs="+pe)):pe=0:Me.push("ofs="+pe);let $t=!0;for(let tr=0;tr<w;tr++){let Xt=ne[tr].g;const Hn=ne[tr].map;if(Xt-=pe,0>Xt)pe=Math.max(0,ne[tr].g-100),$t=!1;else try{la(Hn,Me,"req"+Xt+"_")}catch{j&&j(Hn)}}if($t){j=Me.join("&");break e}}}return h=h.i.splice(0,w),x.D=h,j}function Ml(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;le||P(),ce||(le(),ce=!0),Ae.add(x,h),h.v=0}}function gi(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=je(E(h.Fa,h),Wo(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Er(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=je(E(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Ts(this),Er(this))};function $s(h){h.A!=null&&(m.clearTimeout(h.A),h.A=null)}function Er(h){h.g=new Dt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=hr(h.qa);hn(x,"RID","rpc"),hn(x,"SID",h.K),hn(x,"AID",h.T),hn(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&hn(x,"TO",h.ja),hn(x,"TYPE","xmlhttp"),qs(h,x),h.m&&h.o&&we(x,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=Va(hr(x)),w.m=null,w.P=!0,xr(w,h)}n.Za=function(){this.C!=null&&(this.C=null,Ts(this),gi(this),te(19))};function yi(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function qi(h,x){var w=null;if(h.g==x){yi(h),$s(h),h.g=null;var j=2}else if(an(h.h,x))w=x.D,En(h.h,x),j=1;else return;if(h.G!=0){if(x.o)if(j==1){w=x.m?x.m.length:0,x=Date.now()-x.F;var ne=h.B;j=Tt(),Ke(j,new ye(j,w)),Ss(h)}else Ml(h);else if(ne=x.s,ne==3||ne==0&&0<x.X||!(j==1&&Dl(h,x)||j==2&&gi(h)))switch(w&&0<w.length&&(x=h.h,x.i=x.i.concat(w)),ne){case 1:Qa(h,5);break;case 4:Qa(h,10);break;case 3:Qa(h,6);break;default:Qa(h,2)}}}function Wo(h,x){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*x}function Qa(h,x){if(h.j.info("Error code "+x),x==2){var w=E(h.fb,h),j=h.Xa;const ne=!j;j=new bn(j||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_s(j,"https"),Va(j),ne?wr(j.toString(),w):zr(j.toString(),w)}else te(2);h.G=0,h.l&&h.l.sa(x),Il(h),pi(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Il(h){if(h.G=0,h.ka=[],h.l){const x=Ma(h.h);(x.length!=0||h.i.length!=0)&&(q(h.ka,x),q(h.ka,h.i),h.h.i.length=0,z(h.i),h.i.length=0),h.l.ra()}}function Cs(h,x,w){var j=w instanceof bn?hr(w):new bn(w);if(j.g!="")x&&(j.g=x+"."+j.g),$a(j,j.s);else{var ne=m.location;j=ne.protocol,x=x?x+"."+ne.hostname:ne.hostname,ne=+ne.port;var pe=new bn(null);j&&_s(pe,j),x&&(pe.g=x),ne&&$a(pe,ne),w&&(pe.l=w),j=pe}return w=h.D,x=h.ya,w&&x&&hn(j,w,x),hn(j,"VER",h.la),qs(h,j),j}function As(h,x,w){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new xe(new Ga({eb:w})):new xe(h.pa),x.Ha(h.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Go(){}n=Go.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $i(){}$i.prototype.g=function(h,x){return new Br(h,x)};function Br(h,x){It.call(this),this.g=new Dr(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!ge(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!ge(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new cs(this)}O(Br,It),Br.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Br.prototype.close=function(){Ns(this.g)},Br.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=Xn(h),h=w);x.i.push(new cr(x.Ya++,h)),x.G==3&&Ss(x)},Br.prototype.N=function(){this.g.l=null,delete this.j,Ns(this.g),delete this.g,Br.aa.N.call(this)};function Pl(h){gn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const w in x){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}O(Pl,gn);function Ol(){vr.call(this),this.status=1}O(Ol,vr);function cs(h){this.g=h}O(cs,Go),cs.prototype.ua=function(){Ke(this.g,"a")},cs.prototype.ta=function(h){Ke(this.g,new Pl(h))},cs.prototype.sa=function(h){Ke(this.g,new Ol)},cs.prototype.ra=function(){Ke(this.g,"b")},$i.prototype.createWebChannel=$i.prototype.g,Br.prototype.send=Br.prototype.o,Br.prototype.open=Br.prototype.m,Br.prototype.close=Br.prototype.close,Q2=function(){return new $i},G2=function(){return Tt()},W2=Bt,l0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xe.NO_ERROR=0,Xe.TIMEOUT=8,Xe.HTTP_ERROR=6,xf=Xe,it.COMPLETE="complete",Y2=it,Et.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",It.prototype.listen=It.prototype.K,Ku=Et,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,$2=xe}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const q_="@firebase/firestore",$_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ca.UNAUTHENTICATED=new Ca(null),Ca.GOOGLE_CREDENTIALS=new Ca("google-credentials-uid"),Ca.FIRST_PARTY=new Ca("first-party-uid"),Ca.MOCK_USER=new Ca("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=new B0("@firebase/firestore");function vc(){return El.logLevel}function qe(n,...e){if(El.logLevel<=Jt.DEBUG){const t=e.map(J0);El.debug(`Firestore (${Wc}): ${n}`,...t)}}function Ui(n,...e){if(El.logLevel<=Jt.ERROR){const t=e.map(J0);El.error(`Firestore (${Wc}): ${n}`,...t)}}function Io(n,...e){if(El.logLevel<=Jt.WARN){const t=e.map(J0);El.warn(`Firestore (${Wc}): ${n}`,...t)}}function J0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(n,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,K2(n,a,t)}function K2(n,e,t){let a=`FIRESTORE (${Wc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw Ui(a),new Error(a)}function _n(n,e,t,a){let i="Unexpected state";typeof t=="string"?i=t:a=t,n||K2(e,i,a)}function Rt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends Bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ca.UNAUTHENTICATED))}shutdown(){}}class QD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KD{constructor(e){this.t=e,this.currentUser=Ca.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_n(this.o===void 0,42304);let a=this.i;const i=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let l=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ki,e.enqueueRetryable(()=>i(this.currentUser))};const d=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await i(this.currentUser)})},m=p=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ki)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(_n(typeof a.accessToken=="string",31837,{l:a}),new X2(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _n(e===null||typeof e=="string",2055,{h:e}),new Ca(e)}}class XD{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=Ca.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZD{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new XD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ca.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Is(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_n(this.o===void 0,3512);const a=l=>{l.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.m;return this.m=l.token,qe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>a(l))};const i=l=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?i(l):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Y_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_n(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Y_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<n;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const i=e3(40);for(let l=0;l<i.length;++l)a.length<20&&i[l]<t&&(a+=e.charAt(i[l]%62))}return a}}function qt(n,e){return n<e?-1:n>e?1:0}function c0(n,e){let t=0;for(;t<n.length&&t<e.length;){const a=n.codePointAt(t),i=e.codePointAt(t);if(a!==i){if(a<128&&i<128)return qt(a,i);{const l=Z2(),d=t3(l.encode(W_(n,t)),l.encode(W_(e,t)));return d!==0?d:qt(a,i)}}t+=a>65535?2:1}return qt(n.length,e.length)}function W_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function t3(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return qt(n[t],e[t]);return qt(n.length,e.length)}function Oc(n,e,t){return n.length===e.length&&n.every((a,i)=>t(a,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="__name__";class ei{constructor(e,t,a){t===void 0?t=0:t>e.length&&bt(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&bt(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let i=0;i<a;i++){const l=ei.compareSegments(e.get(i),t.get(i));if(l!==0)return l}return qt(e.length,t.length)}static compareSegments(e,t){const a=ei.isNumericId(e),i=ei.isNumericId(t);return a&&!i?-1:!a&&i?1:a&&i?ei.extractNumericId(e).compare(ei.extractNumericId(t)):c0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jo.fromString(e.substring(4,e.length-2))}}class zn extends ei{construct(e,t,a){return new zn(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ue(Ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(i=>i.length>0))}return new zn(t)}static emptyPath(){return new zn([])}}const n3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ma extends ei{construct(e,t,a){return new ma(e,t,a)}static isValidIdentifier(e){return n3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ma.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G_}static keyField(){return new ma([G_])}static fromServerFormat(e){const t=[];let a="",i=0;const l=()=>{if(a.length===0)throw new Ue(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let d=!1;for(;i<e.length;){const m=e[i];if(m==="\\"){if(i+1===e.length)throw new Ue(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ue(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,i+=2}else m==="`"?(d=!d,i++):m!=="."||d?(a+=m,i++):(l(),i++)}if(l(),d)throw new Ue(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ma(t)}static emptyPath(){return new ma([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.path=e}static fromPath(e){return new lt(zn.fromString(e))}static fromName(e){return new lt(zn.fromString(e).popFirst(5))}static empty(){return new lt(zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return zn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new zn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n,e,t){if(!t)throw new Ue(Ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function r3(n,e,t,a){if(e===!0&&a===!0)throw new Ue(Ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Q_(n){if(!lt.isDocumentKey(n))throw new Ue(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function K_(n){if(lt.isDocumentKey(n))throw new Ue(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function eE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function hm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":bt(12329,{type:typeof n})}function pa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hm(n);throw new Ue(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(n,e){const t={typeString:n};return e&&(t.value=e),t}function Ad(n,e){if(!eE(n))throw new Ue(Ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const i=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in n)){t=`JSON missing required field: '${a}'`;break}const d=n[a];if(i&&typeof d!==i){t=`JSON field '${a}' must be a ${i}.`;break}if(l!==void 0&&d!==l.value){t=`Expected '${a}' field to equal '${l.value}'`;break}}if(t)throw new Ue(Ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-62135596800,Z_=1e6;class Cn{static now(){return Cn.fromMillis(Date.now())}static fromDate(e){return Cn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*Z_);return new Cn(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<X_)throw new Ue(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Cn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ad(e,Cn._jsonSchema))return new Cn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Cn._jsonSchemaVersion="firestore/timestamp/1.0",Cn._jsonSchema={type:kr("string",Cn._jsonSchemaVersion),seconds:kr("number"),nanoseconds:kr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new Cn(0,0))}static max(){return new At(new Cn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=-1;function a3(n,e){const t=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,i=At.fromTimestamp(a===1e9?new Cn(t+1,0):new Cn(t,a));return new Po(i,lt.empty(),e)}function s3(n){return new Po(n.readTime,n.key,fd)}class Po{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Po(At.min(),lt.empty(),fd)}static max(){return new Po(At.max(),lt.empty(),fd)}}function i3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=lt.comparator(n.documentKey,e.documentKey),t!==0?t:qt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(n){if(n.code!==Ne.FAILED_PRECONDITION||n.message!==o3)throw n;qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((a,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,a)=>{t(e)})}static reject(e){return new Ce((t,a)=>{a(e)})}static waitFor(e){return new Ce((t,a)=>{let i=0,l=0,d=!1;e.forEach(m=>{++i,m.next(()=>{++l,d&&l===i&&t()},p=>a(p))}),d=!0,l===i&&t()})}static or(e){let t=Ce.resolve(!1);for(const a of e)t=t.next(i=>i?Ce.resolve(i):a());return t}static forEach(e,t){const a=[];return e.forEach((i,l)=>{a.push(t.call(this,i,l))}),this.waitFor(a)}static mapArray(e,t){return new Ce((a,i)=>{const l=e.length,d=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(b=>{d[g]=b,++m,m===l&&a(d)},b=>i(b))}})}static doWhile(e,t){return new Ce((a,i)=>{const l=()=>{e()===!0?t().next(()=>{l()},i):a()};l()})}}function c3(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this._e(a),this.ae=a=>t.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}fm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=-1;function mm(n){return n==null}function Bf(n){return n===0&&1/n==-1/0}function u3(n){return typeof n=="number"&&Number.isInteger(n)&&!Bf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="";function d3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=J_(e)),e=h3(n.get(t),e);return J_(e)}function h3(n,e){let t=e;const a=n.length;for(let i=0;i<a;i++){const l=n.charAt(i);switch(l){case"\0":t+="";break;case tE:t+="";break;default:t+=l}}return t}function J_(n){return n+tE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ho(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,t){this.comparator=e,this.root=t||fa.EMPTY}insert(e,t){return new ir(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fa.BLACK,null,null))}remove(e){return new ir(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const i=this.comparator(e,a.key);if(i===0)return t+a.left.size;i<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jh(this.root,e,this.comparator,!0)}}class Jh{constructor(e,t,a,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fa{constructor(e,t,a,i,l){this.key=e,this.value=t,this.color=a??fa.RED,this.left=i??fa.EMPTY,this.right=l??fa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,i,l){return new fa(e??this.key,t??this.value,a??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let i=this;const l=a(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,a),null):l===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,a)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return fa.EMPTY;a=i.right.min(),i=i.copy(a.key,a.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw bt(27949);return e+(this.isRed()?0:1)}}fa.EMPTY=null,fa.RED=!0,fa.BLACK=!1;fa.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(e,t,a,i,l){return this}insert(e,t,a){return new fa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.comparator=e,this.data=new ir(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const i=a.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tw(this.data.getIterator())}getIteratorFrom(e){return new tw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof Yr)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=a.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yr(this.comparator);return t.data=e,t}}class tw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.fields=e,e.sort(ma.comparator)}static empty(){return new ss([])}unionWith(e){let t=new Yr(ma.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new ss(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oc(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rE("Invalid base64 string: "+l):l}}(e);return new ga(t)}static fromUint8Array(e){const t=function(i){let l="";for(let d=0;d<i.length;++d)l+=String.fromCharCode(i[d]);return l}(e);return new ga(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let i=0;i<t.length;i++)a[i]=t.charCodeAt(i);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ga.EMPTY_BYTE_STRING=new ga("");const f3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(n){if(_n(!!n,39018),typeof n=="string"){let e=0;const t=f3.exec(n);if(_n(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Sr(n.seconds),nanos:Sr(n.nanos)}}function Sr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ko(n){return typeof n=="string"?ga.fromBase64String(n):ga.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="server_timestamp",sE="__type__",iE="__previous_value__",oE="__local_write_time__";function ny(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[sE])===null||t===void 0?void 0:t.stringValue)===aE}function pm(n){const e=n.mapValue.fields[iE];return ny(e)?pm(e):e}function md(n){const e=Oo(n.mapValue.fields[oE].timestampValue);return new Cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,t,a,i,l,d,m,p,g,b){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b}}const Ff="(default)";class pd{constructor(e,t){this.projectId=e,this.database=t||Ff}static empty(){return new pd("","")}get isDefaultDatabase(){return this.database===Ff}isEqual(e){return e instanceof pd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__type__",p3="__max__",ef={mapValue:{}},cE="__vector__",Hf="value";function Vo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ny(n)?4:y3(n)?9007199254740991:g3(n)?10:11:bt(28295,{value:n})}function hi(n,e){if(n===e)return!0;const t=Vo(n);if(t!==Vo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return md(n).isEqual(md(e));case 3:return function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const d=Oo(i.timestampValue),m=Oo(l.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,l){return ko(i.bytesValue).isEqual(ko(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,l){return Sr(i.geoPointValue.latitude)===Sr(l.geoPointValue.latitude)&&Sr(i.geoPointValue.longitude)===Sr(l.geoPointValue.longitude)}(n,e);case 2:return function(i,l){if("integerValue"in i&&"integerValue"in l)return Sr(i.integerValue)===Sr(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const d=Sr(i.doubleValue),m=Sr(l.doubleValue);return d===m?Bf(d)===Bf(m):isNaN(d)&&isNaN(m)}return!1}(n,e);case 9:return Oc(n.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(i,l){const d=i.mapValue.fields||{},m=l.mapValue.fields||{};if(ew(d)!==ew(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!hi(d[p],m[p])))return!1;return!0}(n,e);default:return bt(52216,{left:n})}}function gd(n,e){return(n.values||[]).find(t=>hi(t,e))!==void 0}function kc(n,e){if(n===e)return 0;const t=Vo(n),a=Vo(e);if(t!==a)return qt(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,e.booleanValue);case 2:return function(l,d){const m=Sr(l.integerValue||l.doubleValue),p=Sr(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(n,e);case 3:return nw(n.timestampValue,e.timestampValue);case 4:return nw(md(n),md(e));case 5:return c0(n.stringValue,e.stringValue);case 6:return function(l,d){const m=ko(l),p=ko(d);return m.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,d){const m=l.split("/"),p=d.split("/");for(let g=0;g<m.length&&g<p.length;g++){const b=qt(m[g],p[g]);if(b!==0)return b}return qt(m.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,d){const m=qt(Sr(l.latitude),Sr(d.latitude));return m!==0?m:qt(Sr(l.longitude),Sr(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return rw(n.arrayValue,e.arrayValue);case 10:return function(l,d){var m,p,g,b;const _=l.fields||{},E=d.fields||{},D=(m=_[Hf])===null||m===void 0?void 0:m.arrayValue,O=(p=E[Hf])===null||p===void 0?void 0:p.arrayValue,z=qt(((g=D?.values)===null||g===void 0?void 0:g.length)||0,((b=O?.values)===null||b===void 0?void 0:b.length)||0);return z!==0?z:rw(D,O)}(n.mapValue,e.mapValue);case 11:return function(l,d){if(l===ef.mapValue&&d===ef.mapValue)return 0;if(l===ef.mapValue)return 1;if(d===ef.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=d.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let _=0;_<p.length&&_<b.length;++_){const E=c0(p[_],b[_]);if(E!==0)return E;const D=kc(m[p[_]],g[b[_]]);if(D!==0)return D}return qt(p.length,b.length)}(n.mapValue,e.mapValue);default:throw bt(23264,{le:t})}}function nw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qt(n,e);const t=Oo(n),a=Oo(e),i=qt(t.seconds,a.seconds);return i!==0?i:qt(t.nanos,a.nanos)}function rw(n,e){const t=n.values||[],a=e.values||[];for(let i=0;i<t.length&&i<a.length;++i){const l=kc(t[i],a[i]);if(l)return l}return qt(t.length,a.length)}function Vc(n){return u0(n)}function u0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const a=Oo(t);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ko(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return lt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let a="[",i=!0;for(const l of t.values||[])i?i=!1:a+=",",a+=u0(l);return a+"]"}(n.arrayValue):"mapValue"in n?function(t){const a=Object.keys(t.fields||{}).sort();let i="{",l=!0;for(const d of a)l?l=!1:i+=",",i+=`${d}:${u0(t.fields[d])}`;return i+"}"}(n.mapValue):bt(61005,{value:n})}function bf(n){switch(Vo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pm(n);return e?16+bf(e):16;case 5:return 2*n.stringValue.length;case 6:return ko(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((i,l)=>i+bf(l),0)}(n.arrayValue);case 10:case 11:return function(a){let i=0;return Ho(a.fields,(l,d)=>{i+=l.length+bf(d)}),i}(n.mapValue);default:throw bt(13486,{value:n})}}function aw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function d0(n){return!!n&&"integerValue"in n}function ry(n){return!!n&&"arrayValue"in n}function sw(n){return!!n&&"nullValue"in n}function iw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _f(n){return!!n&&"mapValue"in n}function g3(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[lE])===null||t===void 0?void 0:t.stringValue)===cE}function rd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ho(n.mapValue.fields,(t,a)=>e.mapValue.fields[t]=rd(a)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function y3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===p3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.value=e}static empty(){return new qa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!_f(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rd(t)}setAll(e){let t=ma.emptyPath(),a={},i=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,a,i),a={},i=[],t=m.popLast()}d?a[m.lastSegment()]=rd(d):i.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,a,i)}delete(e){const t=this.field(e.popLast());_f(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let i=t.mapValue.fields[e.get(a)];_f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,a){Ho(t,(i,l)=>e[i]=l);for(const i of a)delete e[i]}clone(){return new qa(rd(this.value))}}function uE(n){const e=[];return Ho(n.fields,(t,a)=>{const i=new ma([t]);if(_f(a)){const l=uE(a.mapValue).fields;if(l.length===0)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new ss(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t,a,i,l,d,m){this.key=e,this.documentType=t,this.version=a,this.readTime=i,this.createTime=l,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Aa(e,0,At.min(),At.min(),At.min(),qa.empty(),0)}static newFoundDocument(e,t,a,i){return new Aa(e,1,t,At.min(),a,i,0)}static newNoDocument(e,t){return new Aa(e,2,t,At.min(),At.min(),qa.empty(),0)}static newUnknownDocument(e,t){return new Aa(e,3,t,At.min(),At.min(),qa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Aa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Aa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t){this.position=e,this.inclusive=t}}function ow(n,e,t){let a=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(l.field.isKeyField()?a=lt.comparator(lt.fromName(d.referenceValue),t.key):a=kc(d,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function lw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t="asc"){this.field=e,this.dir=t}}function v3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{}class Or extends dE{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new b3(e,t,a):t==="array-contains"?new E3(e,a):t==="in"?new N3(e,a):t==="not-in"?new T3(e,a):t==="array-contains-any"?new S3(e,a):new Or(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new _3(e,a):new w3(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(kc(t,this.value)):t!==null&&Vo(this.value)===Vo(t)&&this.matchesComparison(kc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ls extends dE{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Ls(e,t)}matches(e){return hE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function hE(n){return n.op==="and"}function fE(n){return x3(n)&&hE(n)}function x3(n){for(const e of n.filters)if(e instanceof Ls)return!1;return!0}function h0(n){if(n instanceof Or)return n.field.canonicalString()+n.op.toString()+Vc(n.value);if(fE(n))return n.filters.map(e=>h0(e)).join(",");{const e=n.filters.map(t=>h0(t)).join(",");return`${n.op}(${e})`}}function mE(n,e){return n instanceof Or?function(a,i){return i instanceof Or&&a.op===i.op&&a.field.isEqual(i.field)&&hi(a.value,i.value)}(n,e):n instanceof Ls?function(a,i){return i instanceof Ls&&a.op===i.op&&a.filters.length===i.filters.length?a.filters.reduce((l,d,m)=>l&&mE(d,i.filters[m]),!0):!1}(n,e):void bt(19439)}function pE(n){return n instanceof Or?function(t){return`${t.field.canonicalString()} ${t.op} ${Vc(t.value)}`}(n):n instanceof Ls?function(t){return t.op.toString()+" {"+t.getFilters().map(pE).join(" ,")+"}"}(n):"Filter"}class b3 extends Or{constructor(e,t,a){super(e,t,a),this.key=lt.fromName(a.referenceValue)}matches(e){const t=lt.comparator(e.key,this.key);return this.matchesComparison(t)}}class _3 extends Or{constructor(e,t){super(e,"in",t),this.keys=gE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class w3 extends Or{constructor(e,t){super(e,"not-in",t),this.keys=gE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>lt.fromName(a.referenceValue))}class E3 extends Or{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ry(t)&&gd(t.arrayValue,this.value)}}class N3 extends Or{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gd(this.value.arrayValue,t)}}class T3 extends Or{constructor(e,t){super(e,"not-in",t)}matches(e){if(gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gd(this.value.arrayValue,t)}}class S3 extends Or{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ry(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>gd(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,t=null,a=[],i=[],l=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=i,this.limit=l,this.startAt=d,this.endAt=m,this.Pe=null}}function cw(n,e=null,t=[],a=[],i=null,l=null,d=null){return new C3(n,e,t,a,i,l,d)}function ay(n){const e=Rt(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>h0(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(l){return l.field.canonicalString()+l.dir}(a)).join(","),mm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Vc(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Vc(a)).join(",")),e.Pe=t}return e.Pe}function sy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!v3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lw(n.startAt,e.startAt)&&lw(n.endAt,e.endAt)}function f0(n){return lt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t=null,a=[],i=[],l=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=i,this.limit=l,this.limitType=d,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function A3(n,e,t,a,i,l,d,m){return new Rd(n,e,t,a,i,l,d,m)}function gm(n){return new Rd(n)}function uw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yE(n){return n.collectionGroup!==null}function ad(n){const e=Rt(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Yr(ma.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new $f(l,a))}),t.has(ma.keyField().canonicalString())||e.Te.push(new $f(ma.keyField(),a))}return e.Te}function li(n){const e=Rt(n);return e.Ie||(e.Ie=R3(e,ad(n))),e.Ie}function R3(n,e){if(n.limitType==="F")return cw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const l=i.dir==="desc"?"asc":"desc";return new $f(i.field,l)});const t=n.endAt?new qf(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new qf(n.startAt.position,n.startAt.inclusive):null;return cw(n.path,n.collectionGroup,e,n.filters,n.limit,t,a)}}function m0(n,e){const t=n.filters.concat([e]);return new Rd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function p0(n,e,t){return new Rd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ym(n,e){return sy(li(n),li(e))&&n.limitType===e.limitType}function vE(n){return`${ay(li(n))}|lt:${n.limitType}`}function xc(n){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(i=>pE(i)).join(", ")}]`),mm(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(i=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(i)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(i=>Vc(i)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(i=>Vc(i)).join(",")),`Target(${a})`}(li(n))}; limitType=${n.limitType})`}function vm(n,e){return e.isFoundDocument()&&function(a,i){const l=i.key.path;return a.collectionGroup!==null?i.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):lt.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)}(n,e)&&function(a,i){for(const l of ad(a))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0}(n,e)&&function(a,i){for(const l of a.filters)if(!l.matches(i))return!1;return!0}(n,e)&&function(a,i){return!(a.startAt&&!function(d,m,p){const g=ow(d,m,p);return d.inclusive?g<=0:g<0}(a.startAt,ad(a),i)||a.endAt&&!function(d,m,p){const g=ow(d,m,p);return d.inclusive?g>=0:g>0}(a.endAt,ad(a),i))}(n,e)}function j3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xE(n){return(e,t)=>{let a=!1;for(const i of ad(n)){const l=D3(i,e,t);if(l!==0)return l;a=a||i.field.isKeyField()}return 0}}function D3(n,e,t){const a=n.field.isKeyField()?lt.comparator(e.key,t.key):function(l,d,m){const p=d.data.field(l),g=m.data.field(l);return p!==null&&g!==null?kc(p,g):bt(42886)}(n.field,e,t);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return bt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[i,l]of a)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),i=this.inner[a];if(i===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return a.length===1?delete this.inner[t]:a.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,(t,a)=>{for(const[i,l]of a)e(i,l)})}isEmpty(){return nE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=new ir(lt.comparator);function zi(){return M3}const bE=new ir(lt.comparator);function Xu(...n){let e=bE;for(const t of n)e=e.insert(t.key,t);return e}function _E(n){let e=bE;return n.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function yl(){return sd()}function wE(){return sd()}function sd(){return new Al(n=>n.toString(),(n,e)=>n.isEqual(e))}const I3=new ir(lt.comparator),P3=new Yr(lt.comparator);function en(...n){let e=P3;for(const t of n)e=e.add(t);return e}const O3=new Yr(qt);function k3(){return O3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bf(e)?"-0":e}}function EE(n){return{integerValue:""+n}}function V3(n,e){return u3(e)?EE(e):iy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this._=void 0}}function L3(n,e,t){return n instanceof Yf?function(i,l){const d={fields:{[sE]:{stringValue:aE},[oE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&ny(l)&&(l=pm(l)),l&&(d.fields[iE]=l),{mapValue:d}}(t,e):n instanceof yd?TE(n,e):n instanceof vd?SE(n,e):function(i,l){const d=NE(i,l),m=dw(d)+dw(i.Ee);return d0(d)&&d0(i.Ee)?EE(m):iy(i.serializer,m)}(n,e)}function U3(n,e,t){return n instanceof yd?TE(n,e):n instanceof vd?SE(n,e):t}function NE(n,e){return n instanceof Wf?function(a){return d0(a)||function(l){return!!l&&"doubleValue"in l}(a)}(e)?e:{integerValue:0}:null}class Yf extends xm{}class yd extends xm{constructor(e){super(),this.elements=e}}function TE(n,e){const t=CE(e);for(const a of n.elements)t.some(i=>hi(i,a))||t.push(a);return{arrayValue:{values:t}}}class vd extends xm{constructor(e){super(),this.elements=e}}function SE(n,e){let t=CE(e);for(const a of n.elements)t=t.filter(i=>!hi(i,a));return{arrayValue:{values:t}}}class Wf extends xm{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function dw(n){return Sr(n.integerValue||n.doubleValue)}function CE(n){return ry(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function z3(n,e){return n.field.isEqual(e.field)&&function(a,i){return a instanceof yd&&i instanceof yd||a instanceof vd&&i instanceof vd?Oc(a.elements,i.elements,hi):a instanceof Wf&&i instanceof Wf?hi(a.Ee,i.Ee):a instanceof Yf&&i instanceof Yf}(n.transform,e.transform)}class B3{constructor(e,t){this.version=e,this.transformResults=t}}class Oa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Oa}static exists(e){return new Oa(void 0,e)}static updateTime(e){return new Oa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class bm{}function AE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new _m(n.key,Oa.none()):new jd(n.key,n.data,Oa.none());{const t=n.data,a=qa.empty();let i=new Yr(ma.comparator);for(let l of e.fields)if(!i.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?a.delete(l):a.set(l,d),i=i.add(l)}return new qo(n.key,a,new ss(i.toArray()),Oa.none())}}function F3(n,e,t){n instanceof jd?function(i,l,d){const m=i.value.clone(),p=fw(i.fieldTransforms,l,d.transformResults);m.setAll(p),l.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(n,e,t):n instanceof qo?function(i,l,d){if(!wf(i.precondition,l))return void l.convertToUnknownDocument(d.version);const m=fw(i.fieldTransforms,l,d.transformResults),p=l.data;p.setAll(RE(i)),p.setAll(m),l.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,e,t):function(i,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function id(n,e,t,a){return n instanceof jd?function(l,d,m,p){if(!wf(l.precondition,d))return m;const g=l.value.clone(),b=mw(l.fieldTransforms,p,d);return g.setAll(b),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(n,e,t,a):n instanceof qo?function(l,d,m,p){if(!wf(l.precondition,d))return m;const g=mw(l.fieldTransforms,p,d),b=d.data;return b.setAll(RE(l)),b.setAll(g),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,a):function(l,d,m){return wf(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(n,e,t)}function H3(n,e){let t=null;for(const a of n.fieldTransforms){const i=e.data.field(a.field),l=NE(a.transform,i||null);l!=null&&(t===null&&(t=qa.empty()),t.set(a.field,l))}return t||null}function hw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(a,i){return a===void 0&&i===void 0||!(!a||!i)&&Oc(a,i,(l,d)=>z3(l,d))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class jd extends bm{constructor(e,t,a,i=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qo extends bm{constructor(e,t,a,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function RE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=n.data.field(t);e.set(t,a)}}),e}function fw(n,e,t){const a=new Map;_n(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,m=e.data.field(l.field);a.set(l.field,U3(d,m,t[i]))}return a}function mw(n,e,t){const a=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);a.set(i.field,L3(l,d,e))}return a}class _m extends bm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q3 extends bm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,t,a,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=i}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&F3(l,e,a[i])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=id(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=id(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=wE();return this.mutations.forEach(i=>{const l=e.get(i.key),d=l.overlayedDocument;let m=this.applyToLocalView(d,l.mutatedFields);m=t.has(i.key)?null:m;const p=AE(d,m);p!==null&&a.set(i.key,p),d.isValidDocument()||d.convertToNoDocument(At.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),en())}isEqual(e){return this.batchId===e.batchId&&Oc(this.mutations,e.mutations,(t,a)=>hw(t,a))&&Oc(this.baseMutations,e.baseMutations,(t,a)=>hw(t,a))}}class oy{constructor(e,t,a,i){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=i}static from(e,t,a){_n(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let i=function(){return I3}();const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,a[d].version);return new oy(e,t,a,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pr,ln;function G3(n){switch(n){case Ne.OK:return bt(64938);case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0;default:return bt(15467,{code:n})}}function jE(n){if(n===void 0)return Ui("GRPC error has no .code"),Ne.UNKNOWN;switch(n){case Pr.OK:return Ne.OK;case Pr.CANCELLED:return Ne.CANCELLED;case Pr.UNKNOWN:return Ne.UNKNOWN;case Pr.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case Pr.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case Pr.INTERNAL:return Ne.INTERNAL;case Pr.UNAVAILABLE:return Ne.UNAVAILABLE;case Pr.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case Pr.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case Pr.NOT_FOUND:return Ne.NOT_FOUND;case Pr.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case Pr.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case Pr.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case Pr.ABORTED:return Ne.ABORTED;case Pr.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case Pr.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case Pr.DATA_LOSS:return Ne.DATA_LOSS;default:return bt(39323,{code:n})}}(ln=Pr||(Pr={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new jo([4294967295,4294967295],0);function pw(n){const e=Z2().encode(n),t=new q2;return t.update(e),new Uint8Array(t.digest())}function gw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new jo([t,a],0),new jo([i,l],0)]}class ly{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new Zu(`Invalid padding: ${t}`);if(a<0)throw new Zu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Zu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new Zu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=jo.fromNumber(this.fe)}pe(e,t,a){let i=e.add(t.multiply(jo.fromNumber(a)));return i.compare(Q3)===1&&(i=new jo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=pw(e),[a,i]=gw(t);for(let l=0;l<this.hashCount;l++){const d=this.pe(a,i,l);if(!this.ye(d))return!1}return!0}static create(e,t,a){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new ly(l,i,t);return a.forEach(m=>d.insert(m)),d}insert(e){if(this.fe===0)return;const t=pw(e),[a,i]=gw(t);for(let l=0;l<this.hashCount;l++){const d=this.pe(a,i,l);this.we(d)}}we(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class Zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t,a,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const i=new Map;return i.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new wm(At.min(),i,new ir(qt),zi(),en())}}class Dd{constructor(e,t,a,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Dd(a,t,en(),en(),en())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t,a,i){this.Se=e,this.removedTargetIds=t,this.key=a,this.be=i}}class DE{constructor(e,t){this.targetId=e,this.De=t}}class ME{constructor(e,t,a=ga.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=i}}class yw{constructor(){this.ve=0,this.Ce=vw(),this.Fe=ga.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=en(),t=en(),a=en();return this.Ce.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:a=a.add(i);break;default:bt(38017,{changeType:l})}}),new Dd(this.Fe,this.Me,e,t,a)}ke(){this.xe=!1,this.Ce=vw()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,_n(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class K3{constructor(e){this.We=e,this.Ge=new Map,this.ze=zi(),this.je=tf(),this.Je=tf(),this.He=new ir(qt)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const a=this.tt(t);switch(e.state){case 0:this.nt(t)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),a.Be(e.resumeToken));break;default:bt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((a,i)=>{this.nt(i)&&t(i)})}it(e){const t=e.targetId,a=e.De.count,i=this.st(t);if(i){const l=i.target;if(f0(l))if(a===0){const d=new lt(l.path);this.Xe(t,d,Aa.newNoDocument(d,At.min()))}else _n(a===1,20013,{expectedCount:a});else{const d=this.ot(t);if(d!==a){const m=this._t(e),p=m?this.ut(m,e,d):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:i=0},hashCount:l=0}=t;let d,m;try{d=ko(a).toUint8Array()}catch(p){if(p instanceof rE)return Io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ly(d,i,l)}catch(p){return Io(p instanceof Zu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,t,a){return t.De.count===a-this.ht(e,t.targetId)?0:2}ht(e,t){const a=this.We.getRemoteKeysForTarget(t);let i=0;return a.forEach(l=>{const d=this.We.lt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,l,null),i++)}),i}Pt(e){const t=new Map;this.Ge.forEach((l,d)=>{const m=this.st(d);if(m){if(l.current&&f0(m.target)){const p=new lt(m.target.path);this.Tt(p).has(d)||this.It(d,p)||this.Xe(d,p,Aa.newNoDocument(p,e))}l.Ne&&(t.set(d,l.Le()),l.ke())}});let a=en();this.Je.forEach((l,d)=>{let m=!0;d.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(l))}),this.ze.forEach((l,d)=>d.setReadTime(e));const i=new wm(e,t,this.He,this.ze,a);return this.ze=zi(),this.je=tf(),this.Je=tf(),this.He=new ir(qt),i}Ze(e,t){if(!this.nt(e))return;const a=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,a),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,a){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),a&&(this.ze=this.ze.insert(t,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new yw,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Yr(qt),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Yr(qt),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||qe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new yw),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function tf(){return new ir(lt.comparator)}function vw(){return new ir(lt.comparator)}const X3={asc:"ASCENDING",desc:"DESCENDING"},Z3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J3={and:"AND",or:"OR"};class eM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function g0(n,e){return n.useProto3Json||mm(e)?e:{value:e}}function Gf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function tM(n,e){return Gf(n,e.toTimestamp())}function ci(n){return _n(!!n,49232),At.fromTimestamp(function(t){const a=Oo(t);return new Cn(a.seconds,a.nanos)}(n))}function cy(n,e){return y0(n,e).canonicalString()}function y0(n,e){const t=function(i){return new zn(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function PE(n){const e=zn.fromString(n);return _n(UE(e),10190,{key:e.toString()}),e}function v0(n,e){return cy(n.databaseId,e.path)}function Pg(n,e){const t=PE(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new lt(kE(t))}function OE(n,e){return cy(n.databaseId,e)}function nM(n){const e=PE(n);return e.length===4?zn.emptyPath():kE(e)}function x0(n){return new zn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kE(n){return _n(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xw(n,e,t){return{name:v0(n,e),fields:t.value.mapValue.fields}}function rM(n,e){let t;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:bt(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=function(g,b){return g.useProto3Json?(_n(b===void 0||typeof b=="string",58123),ga.fromBase64String(b||"")):(_n(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),ga.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(g){const b=g.code===void 0?Ne.UNKNOWN:jE(g.code);return new Ue(b,g.message||"")}(d);t=new ME(a,i,l,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const i=Pg(n,a.document.name),l=ci(a.document.updateTime),d=a.document.createTime?ci(a.document.createTime):At.min(),m=new qa({mapValue:{fields:a.document.fields}}),p=Aa.newFoundDocument(i,l,d,m),g=a.targetIds||[],b=a.removedTargetIds||[];t=new Ef(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const i=Pg(n,a.document),l=a.readTime?ci(a.readTime):At.min(),d=Aa.newNoDocument(i,l),m=a.removedTargetIds||[];t=new Ef([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const i=Pg(n,a.document),l=a.removedTargetIds||[];t=new Ef([],l,i,null)}else{if(!("filter"in e))return bt(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:i=0,unchangedNames:l}=a,d=new W3(i,l),m=a.targetId;t=new DE(m,d)}}return t}function aM(n,e){let t;if(e instanceof jd)t={update:xw(n,e.key,e.value)};else if(e instanceof _m)t={delete:v0(n,e.key)};else if(e instanceof qo)t={update:xw(n,e.key,e.data),updateMask:fM(e.fieldMask)};else{if(!(e instanceof q3))return bt(16599,{Rt:e.type});t={verify:v0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(l,d){const m=d.transform;if(m instanceof Yf)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yd)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vd)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Wf)return{fieldPath:d.field.canonicalString(),increment:m.Ee};throw bt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(t.currentDocument=function(i,l){return l.updateTime!==void 0?{updateTime:tM(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:bt(27497)}(n,e.precondition)),t}function sM(n,e){return n&&n.length>0?(_n(e!==void 0,14353),n.map(t=>function(i,l){let d=i.updateTime?ci(i.updateTime):ci(l);return d.isEqual(At.min())&&(d=ci(l)),new B3(d,i.transformResults||[])}(t,e))):[]}function iM(n,e){return{documents:[OE(n,e.path)]}}function oM(n,e){const t={structuredQuery:{}},a=e.path;let i;e.collectionGroup!==null?(i=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=OE(n,i);const l=function(g){if(g.length!==0)return LE(Ls.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(g){if(g.length!==0)return g.map(b=>function(E){return{field:bc(E.field),direction:uM(E.dir)}}(b))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=g0(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:i}}function lM(n){let e=nM(n.parent);const t=n.structuredQuery,a=t.from?t.from.length:0;let i=null;if(a>0){_n(a===1,65062);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=function(_){const E=VE(_);return E instanceof Ls&&fE(E)?E.getFilters():[E]}(t.where));let d=[];t.orderBy&&(d=function(_){return _.map(E=>function(O){return new $f(_c(O.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(E))}(t.orderBy));let m=null;t.limit&&(m=function(_){let E;return E=typeof _=="object"?_.value:_,mm(E)?null:E}(t.limit));let p=null;t.startAt&&(p=function(_){const E=!!_.before,D=_.values||[];return new qf(D,E)}(t.startAt));let g=null;return t.endAt&&(g=function(_){const E=!_.before,D=_.values||[];return new qf(D,E)}(t.endAt)),A3(e,i,d,l,m,"F",p,g)}function cM(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function VE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=_c(t.unaryFilter.field);return Or.create(a,"==",{doubleValue:NaN});case"IS_NULL":const i=_c(t.unaryFilter.field);return Or.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_c(t.unaryFilter.field);return Or.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_c(t.unaryFilter.field);return Or.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}}(n):n.fieldFilter!==void 0?function(t){return Or.create(_c(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ls.create(t.compositeFilter.filters.map(a=>VE(a)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return bt(1026)}}(t.compositeFilter.op))}(n):bt(30097,{filter:n})}function uM(n){return X3[n]}function dM(n){return Z3[n]}function hM(n){return J3[n]}function bc(n){return{fieldPath:n.canonicalString()}}function _c(n){return ma.fromServerFormat(n.fieldPath)}function LE(n){return n instanceof Or?function(t){if(t.op==="=="){if(iw(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NAN"}};if(sw(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iw(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NOT_NAN"}};if(sw(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bc(t.field),op:dM(t.op),value:t.value}}}(n):n instanceof Ls?function(t){const a=t.getFilters().map(i=>LE(i));return a.length===1?a[0]:{compositeFilter:{op:hM(t.op),filters:a}}}(n):bt(54877,{filter:n})}function fM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t,a,i,l=At.min(),d=At.min(),m=ga.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new To(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.gt=e}}function pM(n){const e=lM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?p0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.Dn=new yM}addToCollectionParentIndex(e,t){return this.Dn.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(Po.min())}updateCollectionGroup(e,t,a){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class yM{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),i=this.index[t]||new Yr(zn.comparator),l=!i.has(a);return this.index[t]=i.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),i=this.index[t];return i&&i.has(a)}getEntries(e){return(this.index[e]||new Yr(zn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=41943040;class Ha{static withCacheSize(e){return new Ha(e,Ha.DEFAULT_COLLECTION_PERCENTILE,Ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ha.DEFAULT_COLLECTION_PERCENTILE=10,Ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ha.DEFAULT=new Ha(zE,Ha.DEFAULT_COLLECTION_PERCENTILE,Ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ha.DISABLED=new Ha(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Lc(0)}static ur(){return new Lc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="LruGarbageCollector",vM=1048576;function ww([n,e],[t,a]){const i=qt(n,t);return i===0?qt(e,a):i}class xM{constructor(e){this.Tr=e,this.buffer=new Yr(ww),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();ww(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bM{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){qe(_w,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qc(t)?qe(_w,"Ignoring IndexedDB error during garbage collection: ",t):await Gc(t)}await this.Rr(3e5)})}}class _M{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return Ce.resolve(fm.ue);const a=new xM(t);return this.Vr.forEachTarget(e,i=>a.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>a.Er(i))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.Vr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(bw)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bw):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let a,i,l,d,m,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,d=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(a=_,m=Date.now(),this.removeTargets(e,a,t))).next(_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(_=>(g=Date.now(),vc()<=Jt.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${i} in `+(m-d)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:_})))}}function wM(n,e){return new _M(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.changes=new Al(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Aa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?Ce.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,t,a,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=i}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(a=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(a!==null&&id(a.mutation,i,ss.empty(),Cn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,en()).next(()=>a))}getLocalViewOfDocuments(e,t,a=en()){const i=yl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,a).next(l=>{let d=Xu();return l.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const a=yl();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,en()))}populateOverlays(e,t,a){const i=[];return a.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,a,i){let l=zi();const d=sd(),m=function(){return sd()}();return t.forEach((p,g)=>{const b=a.get(g.key);i.has(g.key)&&(b===void 0||b.mutation instanceof qo)?l=l.insert(g.key,g):b!==void 0?(d.set(g.key,b.mutation.getFieldMask()),id(b.mutation,g,b.mutation.getFieldMask(),Cn.now())):d.set(g.key,ss.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,b)=>d.set(g,b)),t.forEach((g,b)=>{var _;return m.set(g,new NM(b,(_=d.get(g))!==null&&_!==void 0?_:null))}),m))}recalculateAndSaveOverlays(e,t){const a=sd();let i=new ir((d,m)=>d-m),l=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let b=a.get(p)||ss.empty();b=m.applyToLocalView(g,b),a.set(p,b);const _=(i.get(m.batchId)||en()).add(p);i=i.insert(m.batchId,_)})}).next(()=>{const d=[],m=i.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,b=p.value,_=wE();b.forEach(E=>{if(!l.has(E)){const D=AE(t.get(E),a.get(E));D!==null&&_.set(E,D),l=l.add(E)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,_))}return Ce.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,i){return function(d){return lt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,i):this.getDocumentsMatchingCollectionQuery(e,t,a,i)}getNextDocuments(e,t,a,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,i).next(l=>{const d=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,i-l.size):Ce.resolve(yl());let m=fd,p=l;return d.next(g=>Ce.forEach(g,(b,_)=>(m<_.largestBatchId&&(m=_.largestBatchId),l.get(b)?Ce.resolve():this.remoteDocumentCache.getEntry(e,b).next(E=>{p=p.insert(b,E)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,en())).next(b=>({batchId:m,changes:_E(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lt(t)).next(a=>{let i=Xu();return a.isFoundDocument()&&(i=i.insert(a.key,a)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,a,i){const l=t.collectionGroup;let d=Xu();return this.indexManager.getCollectionParents(e,l).next(m=>Ce.forEach(m,p=>{const g=function(_,E){return new Rd(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,i).next(b=>{b.forEach((_,E)=>{d=d.insert(_,E)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,a,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,i))).next(d=>{l.forEach((p,g)=>{const b=g.getKey();d.get(b)===null&&(d=d.insert(b,Aa.newInvalidDocument(b)))});let m=Xu();return d.forEach((p,g)=>{const b=l.get(p);b!==void 0&&id(b.mutation,g,ss.empty(),Cn.now()),vm(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ci(i.createTime)}}(t)),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:pM(i.bundledQuery),readTime:ci(i.readTime)}}(t)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.overlays=new ir(lt.comparator),this.kr=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const a=yl();return Ce.forEach(t,i=>this.getOverlay(e,i).next(l=>{l!==null&&a.set(i,l)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((i,l)=>{this.wt(e,t,l)}),Ce.resolve()}removeOverlaysForBatchId(e,t,a){const i=this.kr.get(a);return i!==void 0&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(a)),Ce.resolve()}getOverlaysForCollection(e,t,a){const i=yl(),l=t.length+1,d=new lt(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>a&&i.set(p.getKey(),p)}return Ce.resolve(i)}getOverlaysForCollectionGroup(e,t,a,i){let l=new ir((g,b)=>g-b);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let b=l.get(g.largestBatchId);b===null&&(b=yl(),l=l.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=yl(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,b)=>m.set(g,b)),!(m.size()>=i)););return Ce.resolve(m)}wt(e,t,a){const i=this.overlays.get(a.key);if(i!==null){const d=this.kr.get(i.largestBatchId).delete(a.key);this.kr.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Y3(t,a));let l=this.kr.get(t);l===void 0&&(l=en(),this.kr.set(t,l)),this.kr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.sessionToken=ga.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.qr=new Yr(aa.Qr),this.$r=new Yr(aa.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const a=new aa(e,t);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.Wr(new aa(e,t))}Gr(e,t){e.forEach(a=>this.removeReference(a,t))}zr(e){const t=new lt(new zn([])),a=new aa(t,e),i=new aa(t,e+1),l=[];return this.$r.forEachInRange([a,i],d=>{this.Wr(d),l.push(d.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new lt(new zn([])),a=new aa(t,e),i=new aa(t,e+1);let l=en();return this.$r.forEachInRange([a,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new aa(e,0),a=this.qr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class aa{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return lt.comparator(e.key,t.key)||qt(e.Hr,t.Hr)}static Ur(e,t){return qt(e.Hr,t.Hr)||lt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Yr(aa.Qr)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,i){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new $3(l,t,a,i);this.mutationQueue.push(d);for(const m of i)this.Yr=this.Yr.add(new aa(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ce.resolve(d)}lookupMutationBatch(e,t){return Ce.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,i=this.Xr(a),l=i<0?0:i;return Ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?ty:this.er-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new aa(t,0),i=new aa(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([a,i],d=>{const m=this.Zr(d.Hr);l.push(m)}),Ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Yr(qt);return t.forEach(i=>{const l=new aa(i,0),d=new aa(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,d],m=>{a=a.add(m.Hr)})}),Ce.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,i=a.length+1;let l=a;lt.isDocumentKey(l)||(l=l.child(""));const d=new aa(new lt(l),0);let m=new Yr(qt);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===i&&(m=m.add(p.Hr)),!0)},d),Ce.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(a=>{const i=this.Zr(a);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){_n(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return Ce.forEach(t.mutations,i=>{const l=new aa(i.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,t){const a=new aa(t,0),i=this.Yr.firstAfterOrEqual(a);return Ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.ni=e,this.docs=function(){return new ir(lt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,i=this.docs.get(a),l=i?i.size:0,d=this.ni(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return Ce.resolve(a?a.document.mutableCopy():Aa.newInvalidDocument(t))}getEntries(e,t){let a=zi();return t.forEach(i=>{const l=this.docs.get(i);a=a.insert(i,l?l.document.mutableCopy():Aa.newInvalidDocument(i))}),Ce.resolve(a)}getDocumentsMatchingQuery(e,t,a,i){let l=zi();const d=t.path,m=new lt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||i3(s3(b),a)<=0||(i.has(b.key)||vm(t,b))&&(l=l.insert(b.key,b.mutableCopy()))}return Ce.resolve(l)}getAllFromCollectionGroup(e,t,a,i){bt(9500)}ri(e,t){return Ce.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new DM(this)}getSize(e){return Ce.resolve(this.size)}}class DM extends EM{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((a,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(a)}),Ce.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.persistence=e,this.ii=new Al(t=>ay(t),sy),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.si=0,this.oi=new uy,this.targetCount=0,this._i=Lc.ar()}forEachTarget(e,t){return this.ii.forEach((a,i)=>t(i)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.si&&(this.si=t),Ce.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Lc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.hr(t),Ce.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,a){let i=0;const l=[];return this.ii.forEach((d,m)=>{m.sequenceNumber<=t&&a.get(m.targetId)===null&&(this.ii.delete(d),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),Ce.waitFor(l).next(()=>i)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const a=this.ii.get(t)||null;return Ce.resolve(a)}addMatchingKeys(e,t,a){return this.oi.Kr(t,a),Ce.resolve()}removeMatchingKeys(e,t,a){this.oi.Gr(t,a);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),Ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const a=this.oi.Jr(t);return Ce.resolve(a)}containsKey(e,t){return Ce.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t){this.ai={},this.overlays={},this.ui=new fm(0),this.ci=!1,this.ci=!0,this.li=new AM,this.referenceDelegate=e(this),this.hi=new MM(this),this.indexManager=new gM,this.remoteDocumentCache=function(i){return new jM(i)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new mM(t),this.Ti=new SM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ai[e.toKey()];return a||(a=new RM(t,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,a){qe("MemoryPersistence","Starting transaction:",e);const i=new IM(this.ui.next());return this.referenceDelegate.Ii(),a(i).next(l=>this.referenceDelegate.di(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ei(e,t){return Ce.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,t)))}}class IM extends l3{constructor(e){super(),this.currentSequenceNumber=e}}class dy{constructor(e){this.persistence=e,this.Ai=new uy,this.Ri=null}static Vi(e){return new dy(e)}get mi(){if(this.Ri)return this.Ri;throw bt(60996)}addReference(e,t,a){return this.Ai.addReference(a,t),this.mi.delete(a.toString()),Ce.resolve()}removeReference(e,t,a){return this.Ai.removeReference(a,t),this.mi.add(a.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.mi.add(l.toString()))}).next(()=>a.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.mi,a=>{const i=lt.fromPath(a);return this.fi(e,i).next(l=>{l||t.removeEntry(i,At.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(a=>{a?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Ce.or([()=>Ce.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Qf{constructor(e,t){this.persistence=e,this.gi=new Al(a=>d3(a.path),(a,i)=>a.isEqual(i)),this.garbageCollector=wM(this,t)}static Vi(e,t){return new Qf(e,t)}Ii(){}di(e){return Ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(i=>a+i))}yr(e){let t=0;return this.gr(e,a=>{t++}).next(()=>t)}gr(e,t){return Ce.forEach(this.gi,(a,i)=>this.Sr(e,a,i).next(l=>l?Ce.resolve():t(i)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const i=this.persistence.getRemoteDocumentCache(),l=i.newChangeBuffer();return i.ri(e,d=>this.Sr(e,d,t).next(m=>{m||(a++,l.removeEntry(d,At.min()))})).next(()=>l.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.gi.set(a,e.currentSequenceNumber),Ce.resolve()}removeReference(e,t,a){return this.gi.set(a,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Ce.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bf(e.data.value)),t}Sr(e,t,a){return Ce.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.gi.get(t);return Ce.resolve(i!==void 0&&i>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,t,a,i){this.targetId=e,this.fromCache=t,this.Is=a,this.ds=i}static Es(e,t){let a=en(),i=en();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new hy(e,t.fromCache,a,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return p4()?8:c3(Ra())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,a,i){const l={result:null};return this.ps(e,t).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.ys(e,t,i,a).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new PM;return this.ws(e,t,d).next(m=>{if(l.result=m,this.Rs)return this.Ss(e,t,d,m.size)})}).next(()=>l.result)}Ss(e,t,a,i){return a.documentReadCount<this.Vs?(vc()<=Jt.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",xc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ce.resolve()):(vc()<=Jt.DEBUG&&qe("QueryEngine","Query:",xc(t),"scans",a.documentReadCount,"local documents and returns",i,"documents as results."),a.documentReadCount>this.fs*i?(vc()<=Jt.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",xc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(t))):Ce.resolve())}ps(e,t){if(uw(t))return Ce.resolve(null);let a=li(t);return this.indexManager.getIndexType(e,a).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=p0(t,null,"F"),a=li(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(l=>{const d=en(...l);return this.gs.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.bs(t,m);return this.Ds(t,g,d,p.readTime)?this.ps(e,p0(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,a,i){return uw(t)||i.isEqual(At.min())?Ce.resolve(null):this.gs.getDocuments(e,a).next(l=>{const d=this.bs(t,l);return this.Ds(t,d,a,i)?Ce.resolve(null):(vc()<=Jt.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xc(t)),this.vs(e,d,t,a3(i,fd)).next(m=>m))})}bs(e,t){let a=new Yr(xE(e));return t.forEach((i,l)=>{vm(e,l)&&(a=a.add(l))}),a}Ds(e,t,a,i){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ws(e,t,a){return vc()<=Jt.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",xc(t)),this.gs.getDocumentsMatchingQuery(e,t,Po.min(),a)}vs(e,t,a,i){return this.gs.getDocumentsMatchingQuery(e,a,i).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="LocalStore",kM=3e8;class VM{constructor(e,t,a,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new ir(qt),this.Ms=new Al(l=>ay(l),sy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TM(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function LM(n,e,t,a){return new VM(n,e,t,a)}async function FE(n,e){const t=Rt(n);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let i;return t.mutationQueue.getAllMutationBatches(a).next(l=>(i=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(a))).next(l=>{const d=[],m=[];let p=en();for(const g of i){d.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of l){m.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return t.localDocuments.getDocuments(a,p).next(g=>({Bs:g,removedBatchIds:d,addedBatchIds:m}))})})}function UM(n,e){const t=Rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const i=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,b){const _=g.batch,E=_.keys();let D=Ce.resolve();return E.forEach(O=>{D=D.next(()=>b.getEntry(p,O)).next(z=>{const q=g.docVersions.get(O);_n(q!==null,48541),z.version.compareTo(q)<0&&(_.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),b.addEntry(z)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,_))}(t,a,e,l).next(()=>l.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=en();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(a,i))})}function HE(n){const e=Rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function zM(n,e){const t=Rt(n),a=e.snapshotVersion;let i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;const m=[];e.targetChanges.forEach((b,_)=>{const E=i.get(_);if(!E)return;m.push(t.hi.removeMatchingKeys(l,b.removedDocuments,_).next(()=>t.hi.addMatchingKeys(l,b.addedDocuments,_)));let D=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?D=D.withResumeToken(ga.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(b.resumeToken,a)),i=i.insert(_,D),function(z,q,K){return z.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=kM?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(E,D,b)&&m.push(t.hi.updateTargetData(l,D))});let p=zi(),g=en();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,b))}),m.push(BM(l,d,e.documentUpdates).next(b=>{p=b.Ls,g=b.ks})),!a.isEqual(At.min())){const b=t.hi.getLastRemoteSnapshotVersion(l).next(_=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,a));m.push(b)}return Ce.waitFor(m).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Fs=i,l))}function BM(n,e,t){let a=en(),i=en();return t.forEach(l=>a=a.add(l)),e.getEntries(n,a).next(l=>{let d=zi();return t.forEach((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):qe(fy,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:d,ks:i}})}function FM(n,e){const t=Rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=ty),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function HM(n,e){const t=Rt(n);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let i;return t.hi.getTargetData(a,e).next(l=>l?(i=l,Ce.resolve(i)):t.hi.allocateTargetId(a).next(d=>(i=new To(e,d,"TargetPurposeListen",a.currentSequenceNumber),t.hi.addTargetData(a,i).next(()=>i))))}).then(a=>{const i=t.Fs.get(a.targetId);return(i===null||a.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(a.targetId,a),t.Ms.set(e,a.targetId)),a})}async function b0(n,e,t){const a=Rt(n),i=a.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,d=>a.persistence.referenceDelegate.removeTarget(d,i))}catch(d){if(!Qc(d))throw d;qe(fy,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(i.target)}function Ew(n,e,t){const a=Rt(n);let i=At.min(),l=en();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,g,b){const _=Rt(p),E=_.Ms.get(b);return E!==void 0?Ce.resolve(_.Fs.get(E)):_.hi.getTargetData(g,b)}(a,d,li(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(d,m.targetId).next(p=>{l=p})}).next(()=>a.Cs.getDocumentsMatchingQuery(d,e,t?i:At.min(),t?l:en())).next(m=>(qM(a,j3(e),m),{documents:m,qs:l})))}function qM(n,e,t){let a=n.xs.get(e)||At.min();t.forEach((i,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)}),n.xs.set(e,a)}class Nw{constructor(){this.activeTargetIds=k3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $M{constructor(){this.Fo=new Nw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,a){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Nw,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="ConnectivityMonitor";class Sw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){qe(Tw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){qe(Tw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf=null;function _0(){return nf===null?nf=function(){return 268435456+Math.round(2147483648*Math.random())}():nf++,"0x"+nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="RestConnection",WM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GM{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${a}/databases/${i}`,this.Ko=this.databaseId.database===Ff?`project_id=${a}`:`project_id=${a}&database_id=${i}`}Wo(e,t,a,i,l){const d=_0(),m=this.Go(e,t.toUriEncodedString());qe(Og,`Sending RPC '${e}' ${d}:`,m,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,i,l);const{host:g}=new URL(m),b=Hc(g);return this.jo(e,m,p,a,b).then(_=>(qe(Og,`Received RPC '${e}' ${d}: `,_),_),_=>{throw Io(Og,`RPC '${e}' ${d} failed with error: `,_,"url: ",m,"request:",a),_})}Jo(e,t,a,i,l,d){return this.Wo(e,t,a,i,l)}zo(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),a&&a.headers.forEach((i,l)=>e[l]=i)}Go(e,t){const a=WM[e];return`${this.$o}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="WebChannelConnection";class KM extends GM{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,a,i,l){const d=_0();return new Promise((m,p)=>{const g=new $2;g.setWithCredentials(!0),g.listenOnce(Y2.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case xf.NO_ERROR:const _=g.getResponseJson();qe(Na,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(_)),m(_);break;case xf.TIMEOUT:qe(Na,`RPC '${e}' ${d} timed out`),p(new Ue(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case xf.HTTP_ERROR:const E=g.getStatus();if(qe(Na,`RPC '${e}' ${d} failed with status:`,E,"response text:",g.getResponseText()),E>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const O=D?.error;if(O&&O.status&&O.message){const z=function(K){const ge=K.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(ge)>=0?ge:Ne.UNKNOWN}(O.status);p(new Ue(z,O.message))}else p(new Ue(Ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Ue(Ne.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{c_:e,streamId:d,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{qe(Na,`RPC '${e}' ${d} completed.`)}});const b=JSON.stringify(i);qe(Na,`RPC '${e}' ${d} sending request:`,i),g.send(t,"POST",b,a,15)})}P_(e,t,a){const i=_0(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Q2(),m=G2(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,a),p.encodeInitMessageHeaders=!0;const b=l.join("");qe(Na,`Creating RPC '${e}' stream ${i}: ${b}`,p);const _=d.createWebChannel(b,p);this.T_(_);let E=!1,D=!1;const O=new QM({Ho:q=>{D?qe(Na,`Not sending because RPC '${e}' stream ${i} is closed:`,q):(E||(qe(Na,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),qe(Na,`RPC '${e}' stream ${i} sending:`,q),_.send(q))},Yo:()=>_.close()}),z=(q,K,ge)=>{q.listen(K,ae=>{try{ge(ae)}catch(Re){setTimeout(()=>{throw Re},0)}})};return z(_,Ku.EventType.OPEN,()=>{D||(qe(Na,`RPC '${e}' stream ${i} transport opened.`),O.s_())}),z(_,Ku.EventType.CLOSE,()=>{D||(D=!0,qe(Na,`RPC '${e}' stream ${i} transport closed`),O.__(),this.I_(_))}),z(_,Ku.EventType.ERROR,q=>{D||(D=!0,Io(Na,`RPC '${e}' stream ${i} transport errored. Name:`,q.name,"Message:",q.message),O.__(new Ue(Ne.UNAVAILABLE,"The operation could not be completed")))}),z(_,Ku.EventType.MESSAGE,q=>{var K;if(!D){const ge=q.data[0];_n(!!ge,16349);const ae=ge,Re=ae?.error||((K=ae[0])===null||K===void 0?void 0:K.error);if(Re){qe(Na,`RPC '${e}' stream ${i} received error:`,Re);const fe=Re.status;let U=function(I){const M=Pr[I];if(M!==void 0)return jE(M)}(fe),k=Re.message;U===void 0&&(U=Ne.INTERNAL,k="Unknown error status: "+fe+" with message "+Re.message),D=!0,O.__(new Ue(U,k)),_.close()}else qe(Na,`RPC '${e}' stream ${i} received:`,ge),O.a_(ge)}}),z(m,W2.STAT_EVENT,q=>{q.stat===l0.PROXY?qe(Na,`RPC '${e}' stream ${i} detected buffering proxy`):q.stat===l0.NOPROXY&&qe(Na,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{O.o_()},0),O}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n){return new eM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t,a=1e3,i=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=a,this.E_=i,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-a);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="PersistentStream";class $E{constructor(e,t,a,i,l,d,m,p){this.Fi=e,this.w_=a,this.S_=i,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new qE(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Ne.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,i])=>{this.b_===t&&this.W_(a,i)},a=>{e(()=>{const i=new Ue(Ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(i)})})}W_(e,t){const a=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{a(()=>this.G_(i))}),this.stream.onMessage(i=>{a(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return qe(Cw,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(qe(Cw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XM extends $E{constructor(e,t,a,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,i,d),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=rM(this.serializer,e),a=function(l){if(!("targetChange"in l))return At.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ci(d.readTime):At.min()}(e);return this.listener.J_(t,a)}H_(e){const t={};t.database=x0(this.serializer),t.addTarget=function(l,d){let m;const p=d.target;if(m=f0(p)?{documents:iM(l,p)}:{query:oM(l,p).Vt},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=IE(l,d.resumeToken);const g=g0(l,d.expectedCount);g!==null&&(m.expectedCount=g)}else if(d.snapshotVersion.compareTo(At.min())>0){m.readTime=Gf(l,d.snapshotVersion.toTimestamp());const g=g0(l,d.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const a=cM(this.serializer,e);a&&(t.labels=a),this.k_(t)}Y_(e){const t={};t.database=x0(this.serializer),t.removeTarget=e,this.k_(t)}}class ZM extends $E{constructor(e,t,a,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,i,d),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return _n(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_n(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){_n(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=sM(e.writeResults,e.commitTime),a=ci(e.commitTime);return this.listener.ta(a,t)}na(){const e={};e.database=x0(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>aM(this.serializer,a))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{}class e6 extends JM{constructor(e,t,a,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Ue(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,a,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Wo(e,y0(t,a),i,l,d)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ue(Ne.UNKNOWN,l.toString())})}Jo(e,t,a,i,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Jo(e,y0(t,a),i,d,m,l)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ue(Ne.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class t6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ui(t),this._a=!1):qe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="RemoteStore";class n6{constructor(e,t,a,i,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(d=>{a.enqueueAndForget(async()=>{Rl(this)&&(qe(Nl,"Restarting streams for network reachability change."),await async function(p){const g=Rt(p);g.Ia.add(4),await Md(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Nm(g)}(this))})}),this.Aa=new t6(a,i)}}async function Nm(n){if(Rl(n))for(const e of n.da)await e(!0)}async function Md(n){for(const e of n.da)await e(!1)}function YE(n,e){const t=Rt(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),yy(t)?gy(t):Kc(t).x_()&&py(t,e))}function my(n,e){const t=Rt(n),a=Kc(t);t.Ta.delete(e),a.x_()&&WE(t,e),t.Ta.size===0&&(a.x_()?a.B_():Rl(t)&&t.Aa.set("Unknown"))}function py(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Kc(n).H_(e)}function WE(n,e){n.Ra.$e(e),Kc(n).Y_(e)}function gy(n){n.Ra=new K3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Kc(n).start(),n.Aa.aa()}function yy(n){return Rl(n)&&!Kc(n).M_()&&n.Ta.size>0}function Rl(n){return Rt(n).Ia.size===0}function GE(n){n.Ra=void 0}async function r6(n){n.Aa.set("Online")}async function a6(n){n.Ta.forEach((e,t)=>{py(n,e)})}async function s6(n,e){GE(n),yy(n)?(n.Aa.la(e),gy(n)):n.Aa.set("Unknown")}async function i6(n,e,t){if(n.Aa.set("Online"),e instanceof ME&&e.state===2&&e.cause)try{await async function(i,l){const d=l.cause;for(const m of l.targetIds)i.Ta.has(m)&&(await i.remoteSyncer.rejectListen(m,d),i.Ta.delete(m),i.Ra.removeTarget(m))}(n,e)}catch(a){qe(Nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Kf(n,a)}else if(e instanceof Ef?n.Ra.Ye(e):e instanceof DE?n.Ra.it(e):n.Ra.et(e),!t.isEqual(At.min()))try{const a=await HE(n.localStore);t.compareTo(a)>=0&&await function(l,d){const m=l.Ra.Pt(d);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=l.Ta.get(g);b&&l.Ta.set(g,b.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,g)=>{const b=l.Ta.get(p);if(!b)return;l.Ta.set(p,b.withResumeToken(ga.EMPTY_BYTE_STRING,b.snapshotVersion)),WE(l,p);const _=new To(b.target,p,g,b.sequenceNumber);py(l,_)}),l.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(a){qe(Nl,"Failed to raise snapshot:",a),await Kf(n,a)}}async function Kf(n,e,t){if(!Qc(e))throw e;n.Ia.add(1),await Md(n),n.Aa.set("Offline"),t||(t=()=>HE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{qe(Nl,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Nm(n)})}function QE(n,e){return e().catch(t=>Kf(n,t,e))}async function Tm(n){const e=Rt(n),t=Lo(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ty;for(;o6(e);)try{const i=await FM(e.localStore,a);if(i===null){e.Pa.length===0&&t.B_();break}a=i.batchId,l6(e,i)}catch(i){await Kf(e,i)}KE(e)&&XE(e)}function o6(n){return Rl(n)&&n.Pa.length<10}function l6(n,e){n.Pa.push(e);const t=Lo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function KE(n){return Rl(n)&&!Lo(n).M_()&&n.Pa.length>0}function XE(n){Lo(n).start()}async function c6(n){Lo(n).na()}async function u6(n){const e=Lo(n);for(const t of n.Pa)e.X_(t.mutations)}async function d6(n,e,t){const a=n.Pa.shift(),i=oy.from(a,e,t);await QE(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Tm(n)}async function h6(n,e){e&&Lo(n).Z_&&await async function(a,i){if(function(d){return G3(d)&&d!==Ne.ABORTED}(i.code)){const l=a.Pa.shift();Lo(a).N_(),await QE(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,i)),await Tm(a)}}(n,e),KE(n)&&XE(n)}async function Aw(n,e){const t=Rt(n);t.asyncQueue.verifyOperationInProgress(),qe(Nl,"RemoteStore received new credentials");const a=Rl(t);t.Ia.add(3),await Md(t),a&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Nm(t)}async function f6(n,e){const t=Rt(n);e?(t.Ia.delete(2),await Nm(t)):e||(t.Ia.add(2),await Md(t),t.Aa.set("Unknown"))}function Kc(n){return n.Va||(n.Va=function(t,a,i){const l=Rt(t);return l.ia(),new XM(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(n.datastore,n.asyncQueue,{Zo:r6.bind(null,n),e_:a6.bind(null,n),n_:s6.bind(null,n),J_:i6.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),yy(n)?gy(n):n.Aa.set("Unknown")):(await n.Va.stop(),GE(n))})),n.Va}function Lo(n){return n.ma||(n.ma=function(t,a,i){const l=Rt(t);return l.ia(),new ZM(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:c6.bind(null,n),n_:h6.bind(null,n),ea:u6.bind(null,n),ta:d6.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Tm(n)):(await n.ma.stop(),n.Pa.length>0&&(qe(Nl,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,t,a,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=i,this.removalCallback=l,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,i,l){const d=Date.now()+a,m=new vy(e,t,d,i,l);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xy(n,e){if(Ui("AsyncQueue",`${e}: ${n}`),Qc(n))return new Ue(Ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{static emptySet(e){return new jc(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||lt.comparator(t.key,a.key):(t,a)=>lt.comparator(t.key,a.key),this.keyedMap=Xu(),this.sortedSet=new ir(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=a.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new jc;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.fa=new ir(lt.comparator)}track(e){const t=e.doc.key,a=this.fa.get(t);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(t,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(t):e.type===1&&a.type===2?this.fa=this.fa.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):bt(63341,{At:e,ga:a}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,a)=>{e.push(a)}),e}}class Uc{constructor(e,t,a,i,l,d,m,p,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,i,l){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Uc(e,t,jc.emptySet(t),d,a,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ym(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==a[i].type||!t[i].doc.isEqual(a[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class p6{constructor(){this.queries=jw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,a){const i=Rt(t),l=i.queries;i.queries=jw(),l.forEach((d,m)=>{for(const p of m.wa)p.onError(a)})})(this,new Ue(Ne.ABORTED,"Firestore shutting down"))}}function jw(){return new Al(n=>vE(n),ym)}async function by(n,e){const t=Rt(n);let a=3;const i=e.query;let l=t.queries.get(i);l?!l.Sa()&&e.ba()&&(a=2):(l=new m6,a=e.ba()?0:1);try{switch(a){case 0:l.ya=await t.onListen(i,!0);break;case 1:l.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(d){const m=xy(d,`Initialization of query '${xc(e.query)}' failed`);return void e.onError(m)}t.queries.set(i,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&wy(t)}async function _y(n,e){const t=Rt(n),a=e.query;let i=3;const l=t.queries.get(a);if(l){const d=l.wa.indexOf(e);d>=0&&(l.wa.splice(d,1),l.wa.length===0?i=e.ba()?0:1:!l.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function g6(n,e){const t=Rt(n);let a=!1;for(const i of e){const l=i.query,d=t.queries.get(l);if(d){for(const m of d.wa)m.Ca(i)&&(a=!0);d.ya=i}}a&&wy(t)}function y6(n,e,t){const a=Rt(n),i=a.queries.get(e);if(i)for(const l of i.wa)l.onError(t);a.queries.delete(e)}function wy(n){n.Da.forEach(e=>{e.next()})}var w0,Dw;(Dw=w0||(w0={})).Fa="default",Dw.Cache="cache";class Ey{constructor(e,t,a){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const i of e.docChanges)i.type!==3&&a.push(i);e=new Uc(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const a=t!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==w0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.key=e}}class JE{constructor(e){this.key=e}}class v6{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=en(),this.mutatedKeys=en(),this.Xa=xE(e),this.eu=new jc(this.Xa)}get tu(){return this.Ha}nu(e,t){const a=t?t.ru:new Rw,i=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,m=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,_)=>{const E=i.get(b),D=vm(this.query,_)?_:null,O=!!E&&this.mutatedKeys.has(E.key),z=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let q=!1;E&&D?E.data.isEqual(D.data)?O!==z&&(a.track({type:3,doc:D}),q=!0):this.iu(E,D)||(a.track({type:2,doc:D}),q=!0,(p&&this.Xa(D,p)>0||g&&this.Xa(D,g)<0)&&(m=!0)):!E&&D?(a.track({type:0,doc:D}),q=!0):E&&!D&&(a.track({type:1,doc:E}),q=!0,(p||g)&&(m=!0)),q&&(D?(d=d.add(D),l=z?l.add(b):l.delete(b)):(d=d.delete(b),l=l.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),l=l.delete(b.key),a.track({type:1,doc:b})}return{eu:d,ru:a,Ds:m,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,i){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((b,_)=>function(D,O){const z=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{At:q})}};return z(D)-z(O)}(b.type,_.type)||this.Xa(b.doc,_.doc)),this.su(a),i=i!=null&&i;const m=t&&!i?this.ou():[],p=this.Za.size===0&&this.current&&!i?1:0,g=p!==this.Ya;return this.Ya=p,d.length!==0||g?{snapshot:new Uc(this.query,e.eu,l,d,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Rw,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=en(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const t=[];return e.forEach(a=>{this.Za.has(a)||t.push(new JE(a))}),this.Za.forEach(a=>{e.has(a)||t.push(new ZE(a))}),t}uu(e){this.Ha=e.qs,this.Za=en();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Uc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ny="SyncEngine";class x6{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class b6{constructor(e){this.key=e,this.lu=!1}}class _6{constructor(e,t,a,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Al(m=>vE(m),ym),this.Tu=new Map,this.Iu=new Set,this.du=new ir(lt.comparator),this.Eu=new Map,this.Au=new uy,this.Ru={},this.Vu=new Map,this.mu=Lc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function w6(n,e,t=!0){const a=sN(n);let i;const l=a.Pu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.cu()):i=await eN(a,e,t,!0),i}async function E6(n,e){const t=sN(n);await eN(t,e,!0,!1)}async function eN(n,e,t,a){const i=await HM(n.localStore,li(e)),l=i.targetId,d=n.sharedClientState.addLocalQueryTarget(l,t);let m;return a&&(m=await N6(n,e,l,d==="current",i.resumeToken)),n.isPrimaryClient&&t&&YE(n.remoteStore,i),m}async function N6(n,e,t,a,i){n.gu=(_,E,D)=>async function(z,q,K,ge){let ae=q.view.nu(K);ae.Ds&&(ae=await Ew(z.localStore,q.query,!1).then(({documents:k})=>q.view.nu(k,ae)));const Re=ge&&ge.targetChanges.get(q.targetId),fe=ge&&ge.targetMismatches.get(q.targetId)!=null,U=q.view.applyChanges(ae,z.isPrimaryClient,Re,fe);return Iw(z,q.targetId,U._u),U.snapshot}(n,_,E,D);const l=await Ew(n.localStore,e,!0),d=new v6(e,l.qs),m=d.nu(l.documents),p=Dd.createSynthesizedTargetChangeForCurrentChange(t,a&&n.onlineState!=="Offline",i),g=d.applyChanges(m,n.isPrimaryClient,p);Iw(n,t,g._u);const b=new x6(e,t,d);return n.Pu.set(e,b),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),g.snapshot}async function T6(n,e,t){const a=Rt(n),i=a.Pu.get(e),l=a.Tu.get(i.targetId);if(l.length>1)return a.Tu.set(i.targetId,l.filter(d=>!ym(d,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(i.targetId),a.sharedClientState.isActiveQueryTarget(i.targetId)||await b0(a.localStore,i.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(i.targetId),t&&my(a.remoteStore,i.targetId),E0(a,i.targetId)}).catch(Gc)):(E0(a,i.targetId),await b0(a.localStore,i.targetId,!0))}async function S6(n,e){const t=Rt(n),a=t.Pu.get(e),i=t.Tu.get(a.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),my(t.remoteStore,a.targetId))}async function C6(n,e,t){const a=P6(n);try{const i=await function(d,m){const p=Rt(d),g=Cn.now(),b=m.reduce((D,O)=>D.add(O.key),en());let _,E;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let O=zi(),z=en();return p.Os.getEntries(D,b).next(q=>{O=q,O.forEach((K,ge)=>{ge.isValidDocument()||(z=z.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,O)).next(q=>{_=q;const K=[];for(const ge of m){const ae=H3(ge,_.get(ge.key).overlayedDocument);ae!=null&&K.push(new qo(ge.key,ae,uE(ae.value.mapValue),Oa.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,K,m)}).next(q=>{E=q;const K=q.applyToLocalDocumentSet(_,z);return p.documentOverlayCache.saveOverlays(D,q.batchId,K)})}).then(()=>({batchId:E.batchId,changes:_E(_)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(i.batchId),function(d,m,p){let g=d.Ru[d.currentUser.toKey()];g||(g=new ir(qt)),g=g.insert(m,p),d.Ru[d.currentUser.toKey()]=g}(a,i.batchId,t),await Id(a,i.changes),await Tm(a.remoteStore)}catch(i){const l=xy(i,"Failed to persist write");t.reject(l)}}async function tN(n,e){const t=Rt(n);try{const a=await zM(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.Eu.get(l);d&&(_n(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?d.lu=!0:i.modifiedDocuments.size>0?_n(d.lu,14607):i.removedDocuments.size>0&&(_n(d.lu,42227),d.lu=!1))}),await Id(t,a,e)}catch(a){await Gc(a)}}function Mw(n,e,t){const a=Rt(n);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const i=[];a.Pu.forEach((l,d)=>{const m=d.view.va(e);m.snapshot&&i.push(m.snapshot)}),function(d,m){const p=Rt(d);p.onlineState=m;let g=!1;p.queries.forEach((b,_)=>{for(const E of _.wa)E.va(m)&&(g=!0)}),g&&wy(p)}(a.eventManager,e),i.length&&a.hu.J_(i),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function A6(n,e,t){const a=Rt(n);a.sharedClientState.updateQueryState(e,"rejected",t);const i=a.Eu.get(e),l=i&&i.key;if(l){let d=new ir(lt.comparator);d=d.insert(l,Aa.newNoDocument(l,At.min()));const m=en().add(l),p=new wm(At.min(),new Map,new ir(qt),d,m);await tN(a,p),a.du=a.du.remove(l),a.Eu.delete(e),Ty(a)}else await b0(a.localStore,e,!1).then(()=>E0(a,e,t)).catch(Gc)}async function R6(n,e){const t=Rt(n),a=e.batch.batchId;try{const i=await UM(t.localStore,e);rN(t,a,null),nN(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Id(t,i)}catch(i){await Gc(i)}}async function j6(n,e,t){const a=Rt(n);try{const i=await function(d,m){const p=Rt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return p.mutationQueue.lookupMutationBatch(g,m).next(_=>(_n(_!==null,37113),b=_.keys(),p.mutationQueue.removeMutationBatch(g,_))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>p.localDocuments.getDocuments(g,b))})}(a.localStore,e);rN(a,e,t),nN(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Id(a,i)}catch(i){await Gc(i)}}function nN(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function rN(n,e,t){const a=Rt(n);let i=a.Ru[a.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),a.Ru[a.currentUser.toKey()]=i}}function E0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const a of n.Tu.get(e))n.Pu.delete(a),t&&n.hu.pu(a,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(a=>{n.Au.containsKey(a)||aN(n,a)})}function aN(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(my(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Ty(n))}function Iw(n,e,t){for(const a of t)a instanceof ZE?(n.Au.addReference(a.key,e),D6(n,a)):a instanceof JE?(qe(Ny,"Document no longer in limbo: "+a.key),n.Au.removeReference(a.key,e),n.Au.containsKey(a.key)||aN(n,a.key)):bt(19791,{yu:a})}function D6(n,e){const t=e.key,a=t.path.canonicalString();n.du.get(t)||n.Iu.has(a)||(qe(Ny,"New document in limbo: "+t),n.Iu.add(a),Ty(n))}function Ty(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new lt(zn.fromString(e)),a=n.mu.next();n.Eu.set(a,new b6(t)),n.du=n.du.insert(t,a),YE(n.remoteStore,new To(li(gm(t.path)),a,"TargetPurposeLimboResolution",fm.ue))}}async function Id(n,e,t){const a=Rt(n),i=[],l=[],d=[];a.Pu.isEmpty()||(a.Pu.forEach((m,p)=>{d.push(a.gu(p,e,t).then(g=>{var b;if((g||t)&&a.isPrimaryClient){const _=g?!g.fromCache:(b=t?.targetChanges.get(p.targetId))===null||b===void 0?void 0:b.current;a.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){i.push(g);const _=hy.Es(p.targetId,g);l.push(_)}}))}),await Promise.all(d),a.hu.J_(i),await async function(p,g){const b=Rt(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Ce.forEach(g,E=>Ce.forEach(E.Is,D=>b.persistence.referenceDelegate.addReference(_,E.targetId,D)).next(()=>Ce.forEach(E.ds,D=>b.persistence.referenceDelegate.removeReference(_,E.targetId,D)))))}catch(_){if(!Qc(_))throw _;qe(fy,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const D=b.Fs.get(E),O=D.snapshotVersion,z=D.withLastLimboFreeSnapshotVersion(O);b.Fs=b.Fs.insert(E,z)}}}(a.localStore,l))}async function M6(n,e){const t=Rt(n);if(!t.currentUser.isEqual(e)){qe(Ny,"User change. New user:",e.toKey());const a=await FE(t.localStore,e);t.currentUser=e,function(l,d){l.Vu.forEach(m=>{m.forEach(p=>{p.reject(new Ue(Ne.CANCELLED,d))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Id(t,a.Bs)}}function I6(n,e){const t=Rt(n),a=t.Eu.get(e);if(a&&a.lu)return en().add(a.key);{let i=en();const l=t.Tu.get(e);if(!l)return i;for(const d of l){const m=t.Pu.get(d);i=i.unionWith(m.view.tu)}return i}}function sN(n){const e=Rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A6.bind(null,e),e.hu.J_=g6.bind(null,e.eventManager),e.hu.pu=y6.bind(null,e.eventManager),e}function P6(n){const e=Rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j6.bind(null,e),e}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Em(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return LM(this.persistence,new OM,e.initialUser,this.serializer)}Du(e){return new BE(dy.Vi,this.serializer)}bu(e){return new $M}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class O6 extends Xf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){_n(this.persistence.referenceDelegate instanceof Qf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new bM(a,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Ha.withCacheSize(this.cacheSizeBytes):Ha.DEFAULT;return new BE(a=>Qf.Vi(a,t),this.serializer)}}class N0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Mw(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=M6.bind(null,this.syncEngine),await f6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new p6}()}createDatastore(e){const t=Em(e.databaseInfo.databaseId),a=function(l){return new KM(l)}(e.databaseInfo);return function(l,d,m,p){return new e6(l,d,m,p)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,i,l,d,m){return new n6(a,i,l,d,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Mw(this.syncEngine,t,0),function(){return Sw.C()?new Sw:new YM}())}createSyncEngine(e,t){return function(i,l,d,m,p,g,b){const _=new _6(i,l,d,m,p,g);return b&&(_.fu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const l=Rt(i);qe(Nl,"RemoteStore shutting down."),l.Ia.add(5),await Md(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}N0.provider={build:()=>new N0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="FirestoreClient";class k6{constructor(e,t,a,i,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=i,this.user=Ca.UNAUTHENTICATED,this.clientId=ey.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,async d=>{qe(Uo,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(qe(Uo,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=xy(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Vg(n,e){n.asyncQueue.verifyOperationInProgress(),qe(Uo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let a=t.initialUser;n.setCredentialChangeListener(async i=>{a.isEqual(i)||(await FE(e.localStore,i),a=i)}),e.persistence.setDatabaseDeletedListener(()=>{Io("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{qe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Io("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function Pw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await V6(n);qe(Uo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(a=>Aw(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,i)=>Aw(e.remoteStore,i)),n._onlineComponents=e}async function V6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){qe(Uo,"Using user provided OfflineComponentProvider");try{await Vg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ne.FAILED_PRECONDITION||i.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Io("Error using user provided cache. Falling back to memory cache: "+t),await Vg(n,new Xf)}}else qe(Uo,"Using default OfflineComponentProvider"),await Vg(n,new O6(void 0));return n._offlineComponents}async function iN(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(qe(Uo,"Using user provided OnlineComponentProvider"),await Pw(n,n._uninitializedComponentsProvider._online)):(qe(Uo,"Using default OnlineComponentProvider"),await Pw(n,new N0))),n._onlineComponents}function L6(n){return iN(n).then(e=>e.syncEngine)}async function Zf(n){const e=await iN(n),t=e.eventManager;return t.onListen=w6.bind(null,e.syncEngine),t.onUnlisten=T6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=E6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=S6.bind(null,e.syncEngine),t}function oN(n,e,t={}){const a=new ki;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,m,p,g){const b=new Sy({next:E=>{b.Ou(),d.enqueueAndForget(()=>_y(l,_));const D=E.docs.has(m);!D&&E.fromCache?g.reject(new Ue(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&E.fromCache&&p&&p.source==="server"?g.reject(new Ue(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new Ey(gm(m.path),b,{includeMetadataChanges:!0,ka:!0});return by(l,_)}(await Zf(n),n.asyncQueue,e,t,a)),a.promise}function U6(n,e,t={}){const a=new ki;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,m,p,g){const b=new Sy({next:E=>{b.Ou(),d.enqueueAndForget(()=>_y(l,_)),E.fromCache&&p.source==="server"?g.reject(new Ue(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new Ey(m,b,{includeMetadataChanges:!0,ka:!0});return by(l,_)}(await Zf(n),n.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="firestore.googleapis.com",kw=!0;class Vw{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cN,this.ssl=kw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:kw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vM)throw new Ue(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lN((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ue(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ue(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ue(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,i){return a.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sm{constructor(e,t,a,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ue(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ue(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new GD;switch(a.type){case"firstParty":return new ZD(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ue(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=Ow.get(t);a&&(qe("ComponentProvider","Removing Datastore"),Ow.delete(t),a.terminate())}(this),Promise.resolve()}}function z6(n,e,t,a={}){var i;n=pa(n,Sm);const l=Hc(e),d=n._getSettings(),m=Object.assign(Object.assign({},d),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&(r2(`https://${p}`),a2("Firestore",!0)),d.host!==cN&&d.host!==p&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},d),{host:p,ssl:l,emulatorOptions:a});if(!bl(g,m)&&(n._setSettings(g),a.mockUserToken)){let b,_;if(typeof a.mockUserToken=="string")b=a.mockUserToken,_=Ca.MOCK_USER;else{b=i4(a.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const E=a.mockUserToken.sub||a.mockUserToken.user_id;if(!E)throw new Ue(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ca(E)}n._authCredentials=new QD(new X2(b,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new jl(this.firestore,e,this._query)}}class sr{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}toJSON(){return{type:sr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(Ad(t,sr._jsonSchema))return new sr(e,a||null,new lt(zn.fromString(t.referencePath)))}}sr._jsonSchemaVersion="firestore/documentReference/1.0",sr._jsonSchema={type:kr("string",sr._jsonSchemaVersion),referencePath:kr("string")};class Do extends jl{constructor(e,t,a){super(e,t,gm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new lt(e))}withConverter(e){return new Do(this.firestore,e,this._path)}}function Ta(n,e,...t){if(n=Vr(n),J2("collection","path",e),n instanceof Sm){const a=zn.fromString(e,...t);return K_(a),new Do(n,null,a)}{if(!(n instanceof sr||n instanceof Do))throw new Ue(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(zn.fromString(e,...t));return K_(a),new Do(n.firestore,null,a)}}function ha(n,e,...t){if(n=Vr(n),arguments.length===1&&(e=ey.newId()),J2("doc","path",e),n instanceof Sm){const a=zn.fromString(e,...t);return Q_(a),new sr(n,null,new lt(a))}{if(!(n instanceof sr||n instanceof Do))throw new Ue(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(zn.fromString(e,...t));return Q_(a),new sr(n.firestore,n instanceof Do?n.converter:null,new lt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="AsyncQueue";class Uw{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new qE(this,"async_queue_retry"),this.oc=()=>{const a=kg();a&&qe(Lw,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const t=kg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=kg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new ki;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Qc(e))throw e;qe(Lw,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,Ui("INTERNAL UNHANDLED ERROR: ",zw(a)),a}).then(a=>(this.nc=!1,a))));return this._c=t,t}enqueueAfterDelay(e,t,a){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=vy.createAndSchedule(this,e,t,a,l=>this.lc(l));return this.ec.push(i),i}ac(){this.tc&&bt(47125,{hc:zw(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function zw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(n){return function(t,a){if(typeof t!="object"||t===null)return!1;const i=t;for(const l of a)if(l in i&&typeof i[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Us extends Sm{constructor(e,t,a,i){super(e,t,a,i),this.type="firestore",this._queue=new Uw,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uw(e),this._firestoreClient=void 0,await e}}}function B6(n,e){const t=typeof n=="object"?n:l2(),a=typeof n=="string"?n:Ff,i=H0(t,"firestore").getImmediate({identifier:a});if(!i._initialized){const l=a4("firestore");l&&z6(i,...l)}return i}function Xc(n){if(n._terminated)throw new Ue(Ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||F6(n),n._firestoreClient}function F6(n){var e,t,a;const i=n._freezeSettings(),l=function(m,p,g,b){return new m3(m,p,g,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,lN(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=i.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new k6(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xs(ga.fromBase64String(e))}catch(t){throw new Ue(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xs(ga.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ad(e,xs._jsonSchema))return xs.fromBase64String(e.bytes)}}xs._jsonSchemaVersion="firestore/bytes/1.0",xs._jsonSchema={type:kr("string",xs._jsonSchemaVersion),bytes:kr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ue(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ma(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ui._jsonSchemaVersion}}static fromJSON(e){if(Ad(e,ui._jsonSchema))return new ui(e.latitude,e.longitude)}}ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:kr("string",ui._jsonSchemaVersion),latitude:kr("number"),longitude:kr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,i){if(a.length!==i.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==i[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ad(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new di(e.vectorValues);throw new Ue(Ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:kr("string",di._jsonSchemaVersion),vectorValues:kr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=/^__.*__$/;class q6{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new qo(e,this.data,this.fieldMask,t,this.fieldTransforms):new jd(e,this.data,t,this.fieldTransforms)}}class uN{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new qo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ec:n})}}class Ay{constructor(e,t,a,i,l,d){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=i,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ay(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:a,mc:!1});return i.fc(e),i}gc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:a,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Jf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(dN(this.Ec)&&H6.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class $6{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Em(e)}Dc(e,t,a,i=!1){return new Ay({Ec:e,methodName:t,bc:a,path:ma.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(n){const e=n._freezeSettings(),t=Em(n._databaseId);return new $6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ry(n,e,t,a,i,l={}){const d=n.Dc(l.merge||l.mergeFields?2:0,e,t,i);jy("Data must be an object, but it was:",d,a);const m=mN(a,d);let p,g;if(l.merge)p=new ss(d.fieldMask),g=d.fieldTransforms;else if(l.mergeFields){const b=[];for(const _ of l.mergeFields){const E=T0(e,_,t);if(!d.contains(E))throw new Ue(Ne.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);gN(b,E)||b.push(E)}p=new ss(b),g=d.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,g=d.fieldTransforms;return new q6(new qa(m),p,g)}class kd extends Cy{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kd}}function hN(n,e,t,a){const i=n.Dc(1,e,t);jy("Data must be an object, but it was:",i,a);const l=[],d=qa.empty();Ho(a,(p,g)=>{const b=Dy(e,p,t);g=Vr(g);const _=i.gc(b);if(g instanceof kd)l.push(b);else{const E=Vd(g,_);E!=null&&(l.push(b),d.set(b,E))}});const m=new ss(l);return new uN(d,m,i.fieldTransforms)}function fN(n,e,t,a,i,l){const d=n.Dc(1,e,t),m=[T0(e,a,t)],p=[i];if(l.length%2!=0)throw new Ue(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)m.push(T0(e,l[E])),p.push(l[E+1]);const g=[],b=qa.empty();for(let E=m.length-1;E>=0;--E)if(!gN(g,m[E])){const D=m[E];let O=p[E];O=Vr(O);const z=d.gc(D);if(O instanceof kd)g.push(D);else{const q=Vd(O,z);q!=null&&(g.push(D),b.set(D,q))}}const _=new ss(g);return new uN(b,_,d.fieldTransforms)}function Y6(n,e,t,a=!1){return Vd(t,n.Dc(a?4:3,e))}function Vd(n,e){if(pN(n=Vr(n)))return jy("Unsupported field value:",e,n),mN(n,e);if(n instanceof Cy)return function(a,i){if(!dN(i.Ec))throw i.wc(`${a._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(i);l&&i.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,i){const l=[];let d=0;for(const m of a){let p=Vd(m,i.yc(d));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),d++}return{arrayValue:{values:l}}}(n,e)}return function(a,i){if((a=Vr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return V3(i.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Cn.fromDate(a);return{timestampValue:Gf(i.serializer,l)}}if(a instanceof Cn){const l=new Cn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Gf(i.serializer,l)}}if(a instanceof ui)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof xs)return{bytesValue:IE(i.serializer,a._byteString)};if(a instanceof sr){const l=i.databaseId,d=a.firestore._databaseId;if(!d.isEqual(l))throw i.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:cy(a.firestore._databaseId||i.databaseId,a._key.path)}}if(a instanceof di)return function(d,m){return{mapValue:{fields:{[lE]:{stringValue:cE},[Hf]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return iy(m.serializer,g)})}}}}}}(a,i);throw i.wc(`Unsupported field value: ${hm(a)}`)}(n,e)}function mN(n,e){const t={};return nE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(n,(a,i)=>{const l=Vd(i,e.Vc(a));l!=null&&(t[a]=l)}),{mapValue:{fields:t}}}function pN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Cn||n instanceof ui||n instanceof xs||n instanceof sr||n instanceof Cy||n instanceof di)}function jy(n,e,t){if(!pN(t)||!eE(t)){const a=hm(t);throw a==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+a)}}function T0(n,e,t){if((e=Vr(e))instanceof Pd)return e._internalPath;if(typeof e=="string")return Dy(n,e);throw Jf("Field path arguments must be of type string or ",n,!1,void 0,t)}const W6=new RegExp("[~\\*/\\[\\]]");function Dy(n,e,t){if(e.search(W6)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pd(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jf(n,e,t,a,i){const l=a&&!a.isEmpty(),d=i!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||d)&&(p+=" (found",l&&(p+=` in field ${a}`),d&&(p+=` in document ${i}`),p+=")"),new Ue(Ne.INVALID_ARGUMENT,m+n+p)}function gN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t,a,i,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(My("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class G6 extends yN{data(){return super.data()}}function My(n,e){return typeof e=="string"?Dy(n,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ue(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iy{}class Q6 extends Iy{}function pl(n,e,...t){let a=[];e instanceof Iy&&a.push(e),a=a.concat(t),function(l){const d=l.filter(p=>p instanceof Py).length,m=l.filter(p=>p instanceof Cm).length;if(d>1||d>0&&m>0)throw new Ue(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const i of a)n=i._apply(n);return n}class Cm extends Q6{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new Cm(e,t,a)}_apply(e){const t=this._parse(e);return xN(e._query,t),new jl(e.firestore,e.converter,m0(e._query,t))}_parse(e){const t=Od(e.firestore);return function(l,d,m,p,g,b,_){let E;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new Ue(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Hw(_,b);const O=[];for(const z of _)O.push(Fw(p,l,z));E={arrayValue:{values:O}}}else E=Fw(p,l,_)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Hw(_,b),E=Y6(m,d,_,b==="in"||b==="not-in");return Or.create(g,b,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Zs(n,e,t){const a=e,i=My("where",n);return Cm._create(i,a,t)}class Py extends Iy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Py(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return t.length===1?t[0]:Ls.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,l){let d=i;const m=l.getFlattenedFilters();for(const p of m)xN(d,p),d=m0(d,p)}(e._query,t),new jl(e.firestore,e.converter,m0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Fw(n,e,t){if(typeof(t=Vr(t))=="string"){if(t==="")throw new Ue(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yE(e)&&t.indexOf("/")!==-1)throw new Ue(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(zn.fromString(t));if(!lt.isDocumentKey(a))throw new Ue(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return aw(n,new lt(a))}if(t instanceof sr)return aw(n,t._key);throw new Ue(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hm(t)}.`)}function Hw(n,e){if(!Array.isArray(n)||n.length===0)throw new Ue(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xN(n,e){const t=function(i,l){for(const d of i)for(const m of d.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ue(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ue(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class K6{convertValue(e,t="none"){switch(Vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw bt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Ho(e,(i,l)=>{a[i]=this.convertValue(l,t)}),a}convertVectorValue(e){var t,a,i;const l=(i=(a=(t=e.fields)===null||t===void 0?void 0:t[Hf].arrayValue)===null||a===void 0?void 0:a.values)===null||i===void 0?void 0:i.map(d=>Sr(d.doubleValue));return new di(l)}convertGeoPoint(e){return new ui(Sr(e.latitude),Sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=pm(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(md(e));default:return null}}convertTimestamp(e){const t=Oo(e);return new Cn(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=zn.fromString(e);_n(UE(a),9688,{name:e});const i=new pd(a.get(1),a.get(3)),l=new lt(a.popFirst(5));return i.isEqual(t)||Ui(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n,e,t){let a;return a=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,a}class Ju{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vl extends yN{constructor(e,t,a,i,l,d){super(e,t,a,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(My("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ue(Ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=vl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}vl._jsonSchemaVersion="firestore/documentSnapshot/1.0",vl._jsonSchema={type:kr("string",vl._jsonSchemaVersion),bundleSource:kr("string","DocumentSnapshot"),bundleName:kr("string"),bundle:kr("string")};class Nf extends vl{data(e={}){return super.data(e)}}class xl{constructor(e,t,a,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ju(i.hasPendingWrites,i.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Nf(this._firestore,this._userDataWriter,a.key,a,new Ju(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,l){if(i._snapshot.oldDocs.isEmpty()){let d=0;return i._snapshot.docChanges.map(m=>{const p=new Nf(i._firestore,i._userDataWriter,m.doc.key,m.doc,new Ju(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const p=new Nf(i._firestore,i._userDataWriter,m.doc.key,m.doc,new Ju(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,b=-1;return m.type!==0&&(g=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),b=d.indexOf(m.doc.key)),{type:X6(m.type),doc:p,oldIndex:g,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ue(Ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ey.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],i=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),i.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function X6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(n){n=pa(n,sr);const e=pa(n.firestore,Us);return oN(Xc(e),n._key).then(t=>Vy(e,n,t))}xl._jsonSchemaVersion="firestore/querySnapshot/1.0",xl._jsonSchema={type:kr("string",xl._jsonSchemaVersion),bundleSource:kr("string","QuerySnapshot"),bundleName:kr("string"),bundle:kr("string")};class ky extends K6{constructor(e){super(),this.firestore=e}convertBytes(e){return new xs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}function Z6(n){n=pa(n,sr);const e=pa(n.firestore,Us);return oN(Xc(e),n._key,{source:"server"}).then(t=>Vy(e,n,t))}function Eo(n){n=pa(n,jl);const e=pa(n.firestore,Us),t=Xc(e),a=new ky(e);return vN(n._query),U6(t,n._query).then(i=>new xl(e,a,n,i))}function qw(n,e,t){n=pa(n,sr);const a=pa(n.firestore,Us),i=Oy(n.converter,e,t);return Ld(a,[Ry(Od(a),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Oa.none())])}function cc(n,e,t,...a){n=pa(n,sr);const i=pa(n.firestore,Us),l=Od(i);let d;return d=typeof(e=Vr(e))=="string"||e instanceof Pd?fN(l,"updateDoc",n._key,e,t,a):hN(l,"updateDoc",n._key,e),Ld(i,[d.toMutation(n._key,Oa.exists(!0))])}function qu(n){return Ld(pa(n.firestore,Us),[new _m(n._key,Oa.none())])}function rf(n,e){const t=pa(n.firestore,Us),a=ha(n),i=Oy(n.converter,e);return Ld(t,[Ry(Od(n.firestore),"addDoc",a._key,i,n.converter!==null,{}).toMutation(a._key,Oa.exists(!1))]).then(()=>a)}function Ec(n,...e){var t,a,i;n=Vr(n);let l={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||Bw(e[d])||(l=e[d++]);const m={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Bw(e[d])){const _=e[d];e[d]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[d+1]=(a=_.error)===null||a===void 0?void 0:a.bind(_),e[d+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let p,g,b;if(n instanceof sr)g=pa(n.firestore,Us),b=gm(n._key.path),p={next:_=>{e[d]&&e[d](Vy(g,n,_))},error:e[d+1],complete:e[d+2]};else{const _=pa(n,jl);g=pa(_.firestore,Us),b=_._query;const E=new ky(g);p={next:D=>{e[d]&&e[d](new xl(g,E,_,D))},error:e[d+1],complete:e[d+2]},vN(n._query)}return function(E,D,O,z){const q=new Sy(z),K=new Ey(D,q,O);return E.asyncQueue.enqueueAndForget(async()=>by(await Zf(E),K)),()=>{q.Ou(),E.asyncQueue.enqueueAndForget(async()=>_y(await Zf(E),K))}}(Xc(g),b,m,p)}function Ld(n,e){return function(a,i){const l=new ki;return a.asyncQueue.enqueueAndForget(async()=>C6(await L6(a),i,l)),l.promise}(Xc(n),e)}function Vy(n,e,t){const a=t.docs.get(e._key),i=new ky(n);return new vl(n,i,e._key,a,new Ju(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Od(e)}set(e,t,a){this._verifyNotCommitted();const i=Lg(e,this._firestore),l=Oy(i.converter,t,a),d=Ry(this._dataReader,"WriteBatch.set",i._key,l,i.converter!==null,a);return this._mutations.push(d.toMutation(i._key,Oa.none())),this}update(e,t,a,...i){this._verifyNotCommitted();const l=Lg(e,this._firestore);let d;return d=typeof(t=Vr(t))=="string"||t instanceof Pd?fN(this._dataReader,"WriteBatch.update",l._key,t,a,i):hN(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Oa.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lg(e,this._firestore);return this._mutations=this._mutations.concat(new _m(t._key,Oa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lg(n,e){if((n=Vr(n)).firestore!==e)throw new Ue(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(){return new kd("deleteField")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(n){return Xc(n=pa(n,Us)),new J6(n,e=>Ld(n,e))}(function(e,t=!0){(function(i){Wc=i})(qc),Ic(new _l("firestore",(a,{instanceIdentifier:i,options:l})=>{const d=a.getProvider("app").getImmediate(),m=new Us(new KD(a.getProvider("auth-internal")),new JD(d,a.getProvider("app-check-internal")),function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ue(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pd(g.options.projectId,b)}(d,i),d);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Ao(q_,$_,e),Ao(q_,$_,"esm2017")})();const tI={apiKey:"AIzaSyBBm3tDxQvD8SmB5AIerpe-QL-IXk1N1O4",authDomain:"banco-vagafogo.firebaseapp.com",projectId:"banco-vagafogo",storageBucket:"banco-vagafogo.firebasestorage.app",messagingSenderId:"1037581590966",appId:"1:1037581590966:web:35195eccc16e8f3c742117"},bN=o2(tI),dn=B6(bN),_N=qD(bN);function nI(){const[n,e]=T.useState(""),[t,a]=T.useState(""),[i,l]=T.useState(!1),[d,m]=T.useState(!1),[p,g]=T.useState(""),b=O0(),_=async E=>{if(E.preventDefault(),g(""),!n||!t){g("Por favor, preencha todos os campos.");return}if(m(!0),n==="temp@admin.com"&&t==="temp123"){if(localStorage.getItem("tempLoginUsed")){g("Login temporrio j foi utilizado!"),m(!1);return}localStorage.setItem("tempLoginUsed","true"),localStorage.setItem("tempAuth","authenticated"),b("/admin"),m(!1);return}try{await jj(_N,n,t),b("/admin")}catch{g("Usurio ou senha invlidos!")}finally{m(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-4xl w-full flex flex-col md:flex-row rounded-2xl overflow-hidden shadow-2xl",children:[u.jsx("div",{className:"w-full md:w-2/5 bg-black text-white flex flex-col items-center justify-center p-8 text-center pattern-bg",children:u.jsxs("div",{className:"mb-8",children:[u.jsx("img",{src:z0,alt:"Santurio Vagafogo",className:"w-32 h-32 mx-auto mb-4 rounded-full object-cover"}),u.jsx("h1",{className:"font-serif text-3xl font-bold mb-2",children:"Santurio Vagafogo"}),u.jsx("p",{className:"text-gray-300",children:"Painel Administrativo"})]})}),u.jsxs("div",{className:"w-full md:w-3/5 bg-white p-8 md:p-12",children:[u.jsx("h2",{className:"text-3xl font-bold mb-2 text-center md:text-left",children:"Acesso Restrito"}),u.jsx("p",{className:"text-gray-600 mb-8 text-center md:text-left",children:"Credenciais de administrador"}),u.jsxs("form",{className:"space-y-6",onSubmit:_,children:[p&&u.jsx("div",{className:"text-red-600 font-semibold text-center",children:p}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio administrador"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("i",{className:"fas fa-user text-gray-400"})}),u.jsx("input",{type:"email",id:"email",value:n,onChange:E=>e(E.target.value),placeholder:"seu@email.com",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B4513] focus:border-[#8B4513] transition duration-300"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("i",{className:"fas fa-lock text-gray-400"})}),u.jsx("input",{type:i?"text":"password",id:"password",value:t,onChange:E=>a(E.target.value),placeholder:"",className:"pl-10 pr-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B4513] focus:border-[#8B4513] transition duration-300",autoComplete:"current-password"}),u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u.jsx("button",{type:"button",onClick:()=>l(!i),className:"text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Toggle password visibility",children:u.jsx("i",{className:`fas ${i?"fa-eye-slash":"fa-eye"}`})})})]})]}),u.jsx("div",{children:u.jsxs("button",{type:"submit",className:`w-full bg-[#8B4513] hover:bg-[#6b2d0c] text-white py-3 px-4 rounded-lg font-medium transition duration-300 flex items-center justify-center ${d?"opacity-60 cursor-not-allowed":""}`,disabled:d,children:[u.jsx("i",{className:"fas fa-sign-in-alt mr-2"}),d?"Entrando...":"Entrar"]})})]})]})]})})}function rI(){return null}const aI="modulepreload",sI=function(n){return"/"+n},$w={},Yw=function(e,t,a){let i=Promise.resolve();if(t&&t.length>0){let p=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");i=p(t.map(g=>{if(g=sI(g),g in $w)return;$w[g]=!0;const b=g.endsWith(".css"),_=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const E=document.createElement("link");if(E.rel=b?"stylesheet":aI,b||(E.as="script"),E.crossOrigin="",E.href=g,m&&E.setAttribute("nonce",m),document.head.appendChild(E),b)return new Promise((D,O)=>{E.addEventListener("load",D),E.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return i.then(d=>{for(const m of d||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})};var Tf={exports:{}},iI=Tf.exports,Ww;function wN(){return Ww||(Ww=1,function(n,e){(function(t,a){n.exports=a()})(iI,function(){var t=1e3,a=6e4,i=36e5,l="millisecond",d="second",m="minute",p="hour",g="day",b="week",_="month",E="quarter",D="year",O="date",z="Invalid Date",q=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,K=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ge={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Te){var ve=["th","st","nd","rd"],F=Te%100;return"["+Te+(ve[(F-20)%10]||ve[F]||ve[0])+"]"}},ae=function(Te,ve,F){var le=String(Te);return!le||le.length>=ve?Te:""+Array(ve+1-le.length).join(F)+Te},Re={s:ae,z:function(Te){var ve=-Te.utcOffset(),F=Math.abs(ve),le=Math.floor(F/60),ce=F%60;return(ve<=0?"+":"-")+ae(le,2,"0")+":"+ae(ce,2,"0")},m:function Te(ve,F){if(ve.date()<F.date())return-Te(F,ve);var le=12*(F.year()-ve.year())+(F.month()-ve.month()),ce=ve.clone().add(le,_),Ae=F-ce<0,P=ve.clone().add(le+(Ae?-1:1),_);return+(-(le+(F-ce)/(Ae?ce-P:P-ce))||0)},a:function(Te){return Te<0?Math.ceil(Te)||0:Math.floor(Te)},p:function(Te){return{M:_,y:D,w:b,d:g,D:O,h:p,m,s:d,ms:l,Q:E}[Te]||String(Te||"").toLowerCase().replace(/s$/,"")},u:function(Te){return Te===void 0}},fe="en",U={};U[fe]=ge;var k="$isDayjsObject",R=function(Te){return Te instanceof G||!(!Te||!Te[k])},I=function Te(ve,F,le){var ce;if(!ve)return fe;if(typeof ve=="string"){var Ae=ve.toLowerCase();U[Ae]&&(ce=Ae),F&&(U[Ae]=F,ce=Ae);var P=ve.split("-");if(!ce&&P.length>1)return Te(P[0])}else{var ie=ve.name;U[ie]=ve,ce=ie}return!le&&ce&&(fe=ce),ce||!le&&fe},M=function(Te,ve){if(R(Te))return Te.clone();var F=typeof ve=="object"?ve:{};return F.date=Te,F.args=arguments,new G(F)},B=Re;B.l=I,B.i=R,B.w=function(Te,ve){return M(Te,{locale:ve.$L,utc:ve.$u,x:ve.$x,$offset:ve.$offset})};var G=function(){function Te(F){this.$L=I(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[k]=!0}var ve=Te.prototype;return ve.parse=function(F){this.$d=function(le){var ce=le.date,Ae=le.utc;if(ce===null)return new Date(NaN);if(B.u(ce))return new Date;if(ce instanceof Date)return new Date(ce);if(typeof ce=="string"&&!/Z$/i.test(ce)){var P=ce.match(q);if(P){var ie=P[2]-1||0,_e=(P[7]||"0").substring(0,3);return Ae?new Date(Date.UTC(P[1],ie,P[3]||1,P[4]||0,P[5]||0,P[6]||0,_e)):new Date(P[1],ie,P[3]||1,P[4]||0,P[5]||0,P[6]||0,_e)}}return new Date(ce)}(F),this.init()},ve.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},ve.$utils=function(){return B},ve.isValid=function(){return this.$d.toString()!==z},ve.isSame=function(F,le){var ce=M(F);return this.startOf(le)<=ce&&ce<=this.endOf(le)},ve.isAfter=function(F,le){return M(F)<this.startOf(le)},ve.isBefore=function(F,le){return this.endOf(le)<M(F)},ve.$g=function(F,le,ce){return B.u(F)?this[le]:this.set(ce,F)},ve.unix=function(){return Math.floor(this.valueOf()/1e3)},ve.valueOf=function(){return this.$d.getTime()},ve.startOf=function(F,le){var ce=this,Ae=!!B.u(le)||le,P=B.p(F),ie=function(ct,Nt){var cn=B.w(ce.$u?Date.UTC(ce.$y,Nt,ct):new Date(ce.$y,Nt,ct),ce);return Ae?cn:cn.endOf(g)},_e=function(ct,Nt){return B.w(ce.toDate()[ct].apply(ce.toDate("s"),(Ae?[0,0,0,0]:[23,59,59,999]).slice(Nt)),ce)},me=this.$W,De=this.$M,Fe=this.$D,$e="set"+(this.$u?"UTC":"");switch(P){case D:return Ae?ie(1,0):ie(31,11);case _:return Ae?ie(1,De):ie(0,De+1);case b:var Mt=this.$locale().weekStart||0,jt=(me<Mt?me+7:me)-Mt;return ie(Ae?Fe-jt:Fe+(6-jt),De);case g:case O:return _e($e+"Hours",0);case p:return _e($e+"Minutes",1);case m:return _e($e+"Seconds",2);case d:return _e($e+"Milliseconds",3);default:return this.clone()}},ve.endOf=function(F){return this.startOf(F,!1)},ve.$set=function(F,le){var ce,Ae=B.p(F),P="set"+(this.$u?"UTC":""),ie=(ce={},ce[g]=P+"Date",ce[O]=P+"Date",ce[_]=P+"Month",ce[D]=P+"FullYear",ce[p]=P+"Hours",ce[m]=P+"Minutes",ce[d]=P+"Seconds",ce[l]=P+"Milliseconds",ce)[Ae],_e=Ae===g?this.$D+(le-this.$W):le;if(Ae===_||Ae===D){var me=this.clone().set(O,1);me.$d[ie](_e),me.init(),this.$d=me.set(O,Math.min(this.$D,me.daysInMonth())).$d}else ie&&this.$d[ie](_e);return this.init(),this},ve.set=function(F,le){return this.clone().$set(F,le)},ve.get=function(F){return this[B.p(F)]()},ve.add=function(F,le){var ce,Ae=this;F=Number(F);var P=B.p(le),ie=function(De){var Fe=M(Ae);return B.w(Fe.date(Fe.date()+Math.round(De*F)),Ae)};if(P===_)return this.set(_,this.$M+F);if(P===D)return this.set(D,this.$y+F);if(P===g)return ie(1);if(P===b)return ie(7);var _e=(ce={},ce[m]=a,ce[p]=i,ce[d]=t,ce)[P]||1,me=this.$d.getTime()+F*_e;return B.w(me,this)},ve.subtract=function(F,le){return this.add(-1*F,le)},ve.format=function(F){var le=this,ce=this.$locale();if(!this.isValid())return ce.invalidDate||z;var Ae=F||"YYYY-MM-DDTHH:mm:ssZ",P=B.z(this),ie=this.$H,_e=this.$m,me=this.$M,De=ce.weekdays,Fe=ce.months,$e=ce.meridiem,Mt=function(Nt,cn,An,We){return Nt&&(Nt[cn]||Nt(le,Ae))||An[cn].slice(0,We)},jt=function(Nt){return B.s(ie%12||12,Nt,"0")},ct=$e||function(Nt,cn,An){var We=Nt<12?"AM":"PM";return An?We.toLowerCase():We};return Ae.replace(K,function(Nt,cn){return cn||function(An){switch(An){case"YY":return String(le.$y).slice(-2);case"YYYY":return B.s(le.$y,4,"0");case"M":return me+1;case"MM":return B.s(me+1,2,"0");case"MMM":return Mt(ce.monthsShort,me,Fe,3);case"MMMM":return Mt(Fe,me);case"D":return le.$D;case"DD":return B.s(le.$D,2,"0");case"d":return String(le.$W);case"dd":return Mt(ce.weekdaysMin,le.$W,De,2);case"ddd":return Mt(ce.weekdaysShort,le.$W,De,3);case"dddd":return De[le.$W];case"H":return String(ie);case"HH":return B.s(ie,2,"0");case"h":return jt(1);case"hh":return jt(2);case"a":return ct(ie,_e,!0);case"A":return ct(ie,_e,!1);case"m":return String(_e);case"mm":return B.s(_e,2,"0");case"s":return String(le.$s);case"ss":return B.s(le.$s,2,"0");case"SSS":return B.s(le.$ms,3,"0");case"Z":return P}return null}(Nt)||P.replace(":","")})},ve.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ve.diff=function(F,le,ce){var Ae,P=this,ie=B.p(le),_e=M(F),me=(_e.utcOffset()-this.utcOffset())*a,De=this-_e,Fe=function(){return B.m(P,_e)};switch(ie){case D:Ae=Fe()/12;break;case _:Ae=Fe();break;case E:Ae=Fe()/3;break;case b:Ae=(De-me)/6048e5;break;case g:Ae=(De-me)/864e5;break;case p:Ae=De/i;break;case m:Ae=De/a;break;case d:Ae=De/t;break;default:Ae=De}return ce?Ae:B.a(Ae)},ve.daysInMonth=function(){return this.endOf(_).$D},ve.$locale=function(){return U[this.$L]},ve.locale=function(F,le){if(!F)return this.$L;var ce=this.clone(),Ae=I(F,le,!0);return Ae&&(ce.$L=Ae),ce},ve.clone=function(){return B.w(this.$d,this)},ve.toDate=function(){return new Date(this.valueOf())},ve.toJSON=function(){return this.isValid()?this.toISOString():null},ve.toISOString=function(){return this.$d.toISOString()},ve.toString=function(){return this.$d.toUTCString()},Te}(),V=G.prototype;return M.prototype=V,[["$ms",l],["$s",d],["$m",m],["$H",p],["$W",g],["$M",_],["$y",D],["$D",O]].forEach(function(Te){V[Te[1]]=function(ve){return this.$g(ve,Te[0],Te[1])}}),M.extend=function(Te,ve){return Te.$i||(Te(ve,G,M),Te.$i=!0),M},M.locale=I,M.isDayjs=R,M.unix=function(Te){return M(1e3*Te)},M.en=U[fe],M.Ls=U,M.p={},M})}(Tf)),Tf.exports}var oI=wN();const Pt=nm(oI);var Sf={exports:{}},lI=Sf.exports,Gw;function cI(){return Gw||(Gw=1,function(n,e){(function(t,a){n.exports=a(wN())})(lI,function(t){function a(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var i=a(t),l={name:"pt-br",weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(d){return d+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"}};return i.default.locale(l,null,!0),l})}(Sf)),Sf.exports}cI();var EN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qw=ke.createContext&&ke.createContext(EN),uI=["attr","size","title"];function dI(n,e){if(n==null)return{};var t=hI(n,e),a,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)a=l[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(t[a]=n[a])}return t}function hI(n,e){if(n==null)return{};var t={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(e.indexOf(a)>=0)continue;t[a]=n[a]}return t}function em(){return em=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},em.apply(this,arguments)}function Kw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,a)}return t}function tm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kw(Object(t),!0).forEach(function(a){fI(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kw(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function fI(n,e,t){return e=mI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mI(n){var e=pI(n,"string");return typeof e=="symbol"?e:e+""}function pI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function NN(n){return n&&n.map((e,t)=>ke.createElement(e.tag,tm({key:t},e.attr),NN(e.child)))}function Gr(n){return e=>ke.createElement(gI,em({attr:tm({},n.attr)},e),NN(n.child))}function gI(n){var e=t=>{var{attr:a,size:i,title:l}=n,d=dI(n,uI),m=i||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),ke.createElement("svg",em({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:p,style:tm(tm({color:n.color||t.color},t.style),n.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&ke.createElement("title",null,l),n.children)};return Qw!==void 0?ke.createElement(Qw.Consumer,null,t=>e(t)):e(EN)}function uc(n){return Gr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function zg(n){return Gr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function Xw(n){return Gr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M112 128c0-29.5 16.2-55 40-68.9V256h48V48h48v208h48V59.1c23.8 13.9 40 39.4 40 68.9v128h48V128C384 57.3 326.7 0 256 0h-64C121.3 0 64 57.3 64 128v128h48zm334.3 213.9l-10.7-32c-4.4-13.1-16.6-21.9-30.4-21.9H42.7c-13.8 0-26 8.8-30.4 21.9l-10.7 32C-5.2 362.6 10.2 384 32 384v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384h256v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384c21.8 0 37.2-21.4 30.3-42.1z"},child:[]}]})(n)}function Zw(n){return Gr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function Jw(n){return Gr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function e1(n){return Gr({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function t1(n){return Gr({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function Bg(n){return Gr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(n)}function dc(n){return Gr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function yI(n){return Gr({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(n)}function vI(n){return Gr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(n)}function xI(n){return Gr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function bI(n){return Gr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(n)}function Fg(n){return Gr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(n)}function af(n){return Gr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function n1(n){return Gr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(n)}function r1(n){return Gr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function hc(n){return Gr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function Hg(n){return Gr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}var Cf={exports:{}},_I=Cf.exports,a1;function wI(){return a1||(a1=1,function(n,e){(function(t,a){n.exports=a()})(_I,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,i,l){var d=i.prototype,m=d.format;l.en.formats=t,d.format=function(p){p===void 0&&(p="YYYY-MM-DDTHH:mm:ssZ");var g=this.$locale().formats,b=function(_,E){return _.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(D,O,z){var q=z&&z.toUpperCase();return O||E[z]||t[z]||E[q].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(K,ge,ae){return ge||ae.slice(1)})})}(p,g===void 0?{}:g);return m.call(this,b)}}})}(Cf)),Cf.exports}var EI=wI();const NI=nm(EI);Pt.extend(NI);Pt.locale("pt-br");const TI=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),ra=n=>TI.format(Number.isFinite(n)?n:0),sf="https://vagafogo-production.up.railway.app",ul="Ol {nome}! Sua reserva foi confirmada para {datareserva} {horario}. Atividade: {atividade}. Participantes: {participantes}.",Xs="Ol {nome}! Aqui  Vaga Fogo confirmando sua reserva para {datareserva} {horario}. Atividade: {atividade}. Participantes: {participantes}.",qg=["{nome}","{datareserva}","{data}","{horario}","{atividade}","{participantes}","{telefone}","{valor}","{status}"],Ms=n=>{if(!n)return"";if(typeof n=="string"){const t=n.trim(),a=/^(\d{4})-(\d{2})-(\d{2})/.exec(t);if(a)return`${a[1]}-${a[2]}-${a[3]}`;const i=/^(\d{2})\/(\d{2})\/(\d{4})/.exec(t);if(i)return`${i[3]}-${i[2]}-${i[1]}`;const l=Pt(t);return l.isValid()?l.format("YYYY-MM-DD"):""}if(n instanceof Date)return Pt(n).format("YYYY-MM-DD");const e=n.toDate?.();return e instanceof Date?Pt(e).format("YYYY-MM-DD"):""},fc=n=>{const e=Ms(n);return e?Pt(e).format("DD/MM/YYYY"):typeof n=="string"?n:""},of=(n,e)=>n.replace(/\{([a-zA-Z0-9_]+)\}/g,(t,a)=>{const i=e[a];return i!==void 0?i:t}),s1=n=>`modelo-${Date.now().toString(36)}-${n.toString(36)}-${Math.random().toString(36).slice(2,8)}`,i1=n=>{if(!Array.isArray(n))return[];const e=new Set,t=[];return n.forEach((a,i)=>{const l=typeof a?.titulo=="string"?a.titulo.trim():"",d=typeof a?.mensagem=="string"?a.mensagem.trim():"";if(!l||!d)return;let m=typeof a?.id=="string"?a.id.trim():"";for(m||(m=s1(i));e.has(m);)m=s1(i+t.length+1);e.add(m),t.push({id:m,titulo:l,mensagem:d})}),t},o1=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],SI=["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],CI=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","18:00"],l1=()=>({nome:"",descricao:""}),ri=n=>n.toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),yo=n=>n.id??ri(n.nome),zc=(n,e)=>{if(!n)return;if(e.id&&e.id in n)return Number(n[e.id]);if(e.nome in n)return Number(n[e.nome]);const t=ri(e.nome);for(const[a,i]of Object.entries(n))if(ri(a)===t)return Number(i)},Di=(n,e,t)=>{const a=e.find(l=>ri(l.nome).includes(t));if(!a)return;const i=zc(n,a);return Number.isFinite(i)?Number(i):void 0},TN=(n,e)=>{if(!e)return 0;const t=ri(n.nome);return t.includes("adult")?Number(e.precoAdulto??0):t.includes("crian")?Number(e.precoCrianca??0):t.includes("bariat")?Number(e.precoBariatrica??0):0},SN=(n,e)=>{const t=ri(n.nome);return t.includes("adult")?Number(e.adultos??0):t.includes("crian")?Number(e.criancas??0):t.includes("bariat")?Number(e.bariatrica??0):0},mc=(n,e,t)=>{const a={...e??{}};return n.forEach(i=>{const l=yo(i),d=zc(e,i),m=TN(i,t),p=Number.isFinite(d)?Number(d):m;a[l]=Number.isFinite(p)?Number(p):0}),a},lf=(n,e,t)=>{const a=zc(n,e);return Number.isFinite(a)?Number(a):TN(e,t)},cf=(n,e)=>{const t=e.participantesPorTipo??{},a={...t};return n.forEach(i=>{const l=yo(i),d=zc(t,i),m=SN(i,e),p=Number.isFinite(d)?Number(d):m;a[l]=Number.isFinite(p)?Number(p):0}),a},AI=n=>n?Object.values(n).reduce((e,t)=>e+(Number(t)||0),0):0,$g=n=>[...n].sort((e,t)=>e.localeCompare(t)),Dc=n=>(n??"").toString().trim().toLowerCase(),pc=n=>Dc(n?.status)==="pre_reserva",uf=n=>{const e=Dc(n?.status);return e==="pago"||e==="confirmado"?!0:e==="pre_reserva"?!1:!!n?.confirmada},c1=n=>{const e=Dc(n.status);return e==="pre_reserva"?{label:"Pr-reserva",classes:"border-amber-200 bg-amber-50 text-amber-700"}:e==="confirmado"||n.confirmada?{label:"Confirmado",classes:"border-emerald-200 bg-emerald-50 text-emerald-700"}:e==="pago"?{label:"Pago",classes:"border-blue-200 bg-blue-50 text-blue-700"}:{label:"Sem status",classes:"border-slate-200 bg-slate-50 text-slate-600"}};function RI(){const[n,e]=T.useState("reservas"),[t,a]=T.useState(!1),i=T.useRef(n);T.useEffect(()=>{i.current=n},[n]);const[l,d]=T.useState(new Date),[m,p]=T.useState(!0),[g,b]=T.useState({}),[_,E]=T.useState([]),[D,O]=T.useState(!1),[z,q]=T.useState(null),[K,ge]=T.useState(!1),[ae,Re]=T.useState(!1),[fe,U]=T.useState(""),[k,R]=T.useState("todos"),[I,M]=T.useState(null),[B,G]=T.useState(null),[V,Te]=T.useState(null),[ve,F]=T.useState(null),[le,ce]=T.useState("padrao"),[Ae,P]=T.useState(""),[ie,_e]=T.useState(null),me=T.useRef(null),De=T.useRef(0),Fe=T.useCallback(()=>{De.current+=1;const v=me.current;if(v){v.onended=null;try{v.pause(),v.currentTime=0}catch{}}},[]),$e=T.useCallback(async()=>{De.current+=1;const v=De.current;me.current||(me.current=new Audio("/notificacao.mp3"));const C=me.current;C.onended=null;try{C.pause(),C.currentTime=0}catch{}try{await C.play()}catch(L){console.warn("Som de notificao bloqueado pelo navegador:",L);return}C.onended=async()=>{if(De.current===v){C.onended=null;try{C.currentTime=0,await C.play()}catch{}}}},[]),Mt=T.useCallback(()=>{_e(null),Fe()},[Fe]),jt=T.useCallback(v=>{const C=v.id??`${v.nome}-${v.cpf}-${v.horario}-${Ms(v.data)}`;_e({id:C,nome:v.nome||"Cliente",horario:v.horario||"---",atividade:v.atividade||"Atividade",participantes:Er(v)}),$e()},[$e]),[ct,Nt]=T.useState([]),[cn,An]=T.useState(!1),[We,wt]=T.useState(null),[ya,ka]=T.useState(!1),[Pn,Qr]=T.useState(""),[gr,Ar]=T.useState({pergunta:"",tipo:"sim_nao",obrigatoria:!1}),[Kr,or]=T.useState(!1),[Vn,Xr]=T.useState([]),[va,It]=T.useState(!1),[Ke,pn]=T.useState(null),[Rn,ia]=T.useState(!1),[Kn,Rr]=T.useState(!1),[nt,lr]=T.useState({}),[Xn,Lr]=T.useState(!1),[yr,dt]=T.useState(!1),[Lt,Et]=T.useState(!1),[wn,gn]=T.useState(""),[vr,Bt]=T.useState(""),[xn,Tt]=T.useState("fechar"),[Ur,$]=T.useState(!1),[J,te]=T.useState({}),[ye,je]=T.useState([]),[Ie,Qe]=T.useState(l1),[Ve,Ye]=T.useState(!1),[Be,st]=T.useState(!1),[Xe,it]=T.useState(!1),[Ze,vt]=T.useState({ativo:!1,mensagemConfirmacaoAutomatica:ul,mensagemConfirmacaoManual:Xs,modelosMensagemManual:[]}),[Dt,Ot]=T.useState(null),[Je,St]=T.useState(!1),[Bn,xr]=T.useState(!1),[Zn,qn]=T.useState(null),[tn,ja]=T.useState(()=>Pt().subtract(30,"day").format("YYYY-MM-DD")),[On,ht]=T.useState(()=>Pt().format("YYYY-MM-DD")),[ut,Ln]=T.useState([]),[cr,Jn]=T.useState(!1),[ur,He]=T.useState(null),[an,Da]=T.useState(!1),[En,Ma]=T.useState(""),[xa,er]=T.useState(""),[dr,jr]=T.useState("faturamento"),[Zr,bn]=T.useState("faturamento"),[hr,_s]=T.useState(!1);T.useEffect(()=>{an&&(jr(v=>v==="faturamento"?"confirmadas":v),bn(v=>v==="faturamento"?"confirmadas":v),er(""))},[an]);const $a=We?.modoHorario==="intervalo"&&(We.horarioInicio??"")&&(We.horarioFim??"")?`Disponvel das ${We.horarioInicio} s ${We.horarioFim}. O cliente ver apenas a faixa.`:"bg-white border-slate-200",ba=T.useMemo(()=>{const v=_.reduce((C,L)=>{const W=L.area||"Sem rea";return C[W]||(C[W]=[]),C[W].push(L),C},{});return Object.keys(v).forEach(C=>{v[C]=v[C].sort((L,W)=>L.nome.localeCompare(W.nome,"pt-BR",{numeric:!0,sensitivity:"base"}))}),v},[_]),hn=T.useMemo(()=>Object.keys(ba).sort((v,C)=>v.localeCompare(C,"pt-BR",{sensitivity:"base"})),[ba]),Va=T.useMemo(()=>z?Er(z):0,[z]),br=T.useMemo(()=>{if(z?.mesaPrincipalId)return _.find(v=>v.id===z.mesaPrincipalId)},[z?.mesaPrincipalId,_]),is=T.useMemo(()=>{if(z?.mesaSecundariaId)return _.find(v=>v.id===z.mesaSecundariaId)},[z?.mesaSecundariaId,_]),Ya=(br?.capacidade??0)+(is?.capacidade??0),os=!!br&&Va>(br?.capacidade??0),Bs=!!br&&Va>Ya,Fs=T.useMemo(()=>z?.areaMesa?ba[z.areaMesa]??[]:[],[z?.areaMesa,ba]),Hi=T.useMemo(()=>Object.values(g).reduce((v,C)=>v+C.filter(L=>uf(L)).length,0),[g]),La=T.useMemo(()=>Object.values(g).reduce((v,C)=>v+C.reduce((L,W)=>L+Er(W),0),0),[g]);T.useMemo(()=>Object.values(g).reduce((v,C)=>v+C.filter(L=>pc(L)).length,0),[g]);const Wa=T.useMemo(()=>ct.filter(v=>v.aceitaPet===!1).length,[ct]),_r=ct.length;Vn.filter(v=>v.ativo!==!1).length;const ft=T.useMemo(()=>{const v=Pt(tn),C=Pt(On);if(!v.isValid()||!C.isValid()||v.isAfter(C))return{periodo:{inicio:tn,fim:On},resumo:{confirmadas:0,preReservas:0,faturamento:0,ticketMedio:0,participantes:0},porDia:[],porPacote:[],porCliente:[]};const L=v.format("YYYY-MM-DD"),W=C.format("YYYY-MM-DD"),ee=ut.filter(Pe=>{const mt=Ms(Pe.data);return mt?mt>=L&&mt<=W:!1}),X=ee.filter(Pe=>uf(Pe)),Oe=ee.filter(Pe=>pc(Pe)),et=X.reduce((Pe,mt)=>Pe+(Number(mt.valor)||0),0),nn=X.length>0?et/X.length:0,ot=X.reduce((Pe,mt)=>Pe+Er(mt),0),Zt=[];let sn=v.startOf("day");const Wn=C.startOf("day");for(;sn.isBefore(Wn)||sn.isSame(Wn);)Zt.push(sn.format("YYYY-MM-DD")),sn=sn.add(1,"day");const un=new Map;Zt.forEach(Pe=>un.set(Pe,{valor:0,reservas:0,preReservas:0,participantes:0,participantesPreReservas:0})),X.forEach(Pe=>{const mt=Ms(Pe.data);if(!mt)return;const rn=un.get(mt);rn&&(rn.valor+=Number(Pe.valor)||0,rn.reservas+=1,rn.participantes+=Er(Pe))}),Oe.forEach(Pe=>{const mt=Ms(Pe.data);if(!mt)return;const rn=un.get(mt);rn&&(rn.preReservas+=1,rn.participantesPreReservas+=Er(Pe))});const nr=Zt.map(Pe=>{const mt=un.get(Pe)??{valor:0,reservas:0,preReservas:0,participantes:0,participantesPreReservas:0};return{data:Pe,...mt}}),Gt=new Map;X.forEach(Pe=>{const mt=(Pe.atividade||"Sem pacote").toString().trim()||"Sem pacote",rn=Gt.get(mt)??{reservas:0,preReservas:0,participantes:0,participantesPreReservas:0,valor:0};rn.reservas+=1,rn.participantes+=Er(Pe),rn.valor+=Number(Pe.valor)||0,Gt.set(mt,rn)}),Oe.forEach(Pe=>{const mt=(Pe.atividade||"Sem pacote").toString().trim()||"Sem pacote",rn=Gt.get(mt)??{reservas:0,preReservas:0,participantes:0,participantesPreReservas:0,valor:0};rn.preReservas+=1,rn.participantesPreReservas+=Er(Pe),Gt.set(mt,rn)});const Gn=Array.from(Gt.entries()).map(([Pe,mt])=>({nome:Pe,...mt})).sort((Pe,mt)=>mt.valor-Pe.valor),fn=new Map;X.forEach(Pe=>{const mt=(Pe.cpf||"").toString().trim(),rn=(Pe.telefone||"").toString().trim(),Ct=(Pe.nome||"").toString().trim(),zt=mt||rn||Ct||"cliente",Hr=fn.get(zt)??{chave:zt,nome:Ct||"---",cpf:mt,telefone:rn,reservas:0,preReservas:0,participantes:0,participantesPreReservas:0,valor:0};Hr.reservas+=1,Hr.valor+=Number(Pe.valor)||0,Hr.participantes+=Er(Pe),!Hr.nome&&Ct&&(Hr.nome=Ct),fn.set(zt,Hr)}),Oe.forEach(Pe=>{const mt=(Pe.cpf||"").toString().trim(),rn=(Pe.telefone||"").toString().trim(),Ct=(Pe.nome||"").toString().trim(),zt=mt||rn||Ct||"cliente",Hr=fn.get(zt)??{chave:zt,nome:Ct||"---",cpf:mt,telefone:rn,reservas:0,preReservas:0,participantes:0,participantesPreReservas:0,valor:0};Hr.preReservas+=1,Hr.participantesPreReservas+=Er(Pe),!Hr.nome&&Ct&&(Hr.nome=Ct),fn.set(zt,Hr)});const kt=Array.from(fn.values()).sort((Pe,mt)=>mt.valor-Pe.valor);return{periodo:{inicio:L,fim:W},resumo:{confirmadas:X.length,preReservas:Oe.length,faturamento:et,ticketMedio:nn,participantes:ot},porDia:nr,porPacote:Gn,porCliente:kt}},[ut,tn,On]),fr=T.useCallback((v,C)=>{switch(v){case"faturamento":return C.valor;case"confirmadas":return C.reservas;case"pre_reservas":return C.preReservas;case"participantes":return(C.participantes??0)+(C.participantesPreReservas??0);default:return C.valor}},[]),ls=T.useMemo(()=>{const v=En.trim().toLowerCase();return v?ft.porPacote.filter(C=>C.nome.toLowerCase().includes(v)):ft.porPacote},[En,ft.porPacote]),_a=T.useMemo(()=>{const v=[...ls];return v.sort((C,L)=>fr(dr,L)-fr(dr,C)),v},[dr,ls,fr]),Hs=T.useMemo(()=>{const v=xa.trim().toLowerCase();return v?ft.porCliente.filter(C=>{const L=(C.nome??"").toLowerCase(),W=(C.cpf??"").toLowerCase(),ee=(C.telefone??"").toLowerCase();return L.includes(v)||W.includes(v)||ee.includes(v)}):ft.porCliente},[xa,ft.porCliente]),wr=T.useMemo(()=>{const v=[...Hs];return v.sort((C,L)=>fr(Zr,L)-fr(Zr,C)),v},[Zr,Hs,fr]),zr=T.useMemo(()=>{const v=xa.trim().length>0;return hr||v?wr:wr.slice(0,30)},[xa,wr,hr]),oa=T.useMemo(()=>{const v=new Map;return ct.forEach(C=>{C.id&&v.set(C.id,C)}),v},[ct]),ws=T.useMemo(()=>{const v=new Set;return ct.forEach(C=>{typeof C.nome=="string"&&C.nome.trim().length>0&&v.add(C.nome)}),Vn.forEach(C=>{typeof C.nome=="string"&&C.nome.trim().length>0&&v.add(C.nome)}),Object.values(g).forEach(C=>{C.forEach(L=>{const W=(L.atividade??"").split("(")[0]?.trim();W&&v.add(W)})}),Array.from(v).filter(Boolean).sort((C,L)=>C.localeCompare(L,"pt-BR"))},[ct,Vn,g]),la=fe.trim().toLowerCase(),Ga=T.useMemo(()=>{const v=Pt().startOf("day"),C=ct.flatMap(L=>L.datasBloqueadas??[]).map(L=>Pt(L)).filter(L=>L.isValid()&&(L.isSame(v)||L.isAfter(v))).sort((L,W)=>L.valueOf()-W.valueOf());return C.length>0?C[0]:null},[ct]),Ut=T.useMemo(()=>ye,[ye]),A=[{id:"reservas",label:"Reservas",description:"Agenda do dia",icon:zg},{id:"dashboard",label:"Dashboard",description:"Relatrios e indicadores",icon:Zw},{id:"pacotes",label:"Pacotes",description:"Coleo de atividades",icon:Fg},{id:"tipos_clientes",label:"Clientes",description:"Tipos de clientes",icon:Hg},{id:"whatsapp",label:"WhatsApp",description:"Confirmacoes automaticas",icon:uc},{id:"pesquisa",label:"Pesquisa",description:"Histrico de reservas",icon:r1}],Y=T.useMemo(()=>{const v=Pt().add(1,"day").format("YYYY-MM-DD");return{nome:"Cliente",datareserva:fc(v),data:fc(v),horario:"10:00",atividade:"Atividade",participantes:"2",telefone:"(00) 00000-0000",valor:ra(120),status:"confirmado"}},[]),oe=T.useMemo(()=>{const v=Ze.mensagemConfirmacaoAutomatica||ul;return of(v,Y)},[Y,Ze.mensagemConfirmacaoAutomatica]),ue=T.useMemo(()=>{const v=Ze.mensagemConfirmacaoManual||Xs;return of(v,Y)},[Y,Ze.mensagemConfirmacaoManual]),we=T.useMemo(()=>{switch(Dt?.status??"idle"){case"ready":return{label:"Conectado",classes:"bg-emerald-100 text-emerald-700"};case"qr":return{label:"Aguardando QR",classes:"bg-amber-100 text-amber-700"};case"initializing":return{label:"Conectando",classes:"bg-blue-100 text-blue-700"};case"auth_failure":return{label:"Falha de login",classes:"bg-rose-100 text-rose-700"};case"disconnected":return{label:"Desconectado",classes:"bg-slate-100 text-slate-600"};default:return{label:"Indisponivel",classes:"bg-slate-100 text-slate-600"}}},[Dt?.status]),[xe,Le]=T.useState(""),[gt,ze]=T.useState([]),[tt,yn]=T.useState(!1);T.useEffect(()=>{const v=Pt(l).format("YYYY-MM-DD"),C=Pt(l).add(1,"day").format("YYYY-MM-DD"),L=Pt(l).startOf("day"),W=Pt(l).add(1,"day").startOf("day"),ee=Pt().format("YYYY-MM-DD"),X=v===ee;Mt(),console.log(" Observando reservas para:",v);const Oe=Ta(dn,"reservas"),et=pl(Oe,Zs("data",">=",v),Zs("data","<",C)),nn=pl(Oe,Zs("data",">=",Cn.fromDate(L.toDate())),Zs("data","<",Cn.fromDate(W.toDate())));let ot=[],Zt=[],sn=!0,Wn=!0;const un=fn=>{if(!X||i.current!=="reservas")return;const kt=fn.filter(Pe=>{const mt=Dc(Pe.status);return["pago","confirmado","pre_reserva"].includes(mt)?!0:!mt&&!!Pe.confirmada});kt.length!==0&&jt(kt[0])},nr=()=>{const fn=new Map;[...ot,...Zt].forEach(Ct=>{const zt=Ct.id??`${Ct.nome}-${Ct.cpf}-${Ct.horario}-${Ms(Ct.data)}`;fn.set(zt,Ct)});const Pe=Array.from(fn.values()).filter(Ct=>{if(Ms(Ct.data)!==v)return!1;const zt=Dc(Ct.status);return["pago","confirmado","pre_reserva"].includes(zt)?!0:!zt&&!!Ct.confirmada}),mt=Pe.filter(Ct=>pc(Ct)).length;console.log(" Reservas visveis:",Pe.length,"| Pr-reservas:",mt);const rn=Pe.reduce((Ct,zt)=>{const Hr=zt.horario||"No especificado";return Ct[Hr]||(Ct[Hr]=[]),Ct[Hr].push(zt),Ct},{});b(rn)},Gt=Ec(et,fn=>{if(!sn){const kt=fn.docChanges().filter(Pe=>Pe.type==="added"&&Pe.doc.metadata.hasPendingWrites===!1).map(Pe=>{const mt=Pe.doc.data();return{id:Pe.doc.id,...mt,chegou:mt.chegou===!0}});un(kt)}sn=!1,ot=fn.docs.map(kt=>{const Pe=kt.data();return{id:kt.id,...Pe,chegou:Pe.chegou===!0}}),nr()},fn=>{console.error("Erro ao escutar reservas (string):",fn),ot=[],nr()}),Gn=Ec(nn,fn=>{if(!Wn){const kt=fn.docChanges().filter(Pe=>Pe.type==="added"&&Pe.doc.metadata.hasPendingWrites===!1).map(Pe=>{const mt=Pe.doc.data();return{id:Pe.doc.id,...mt,chegou:mt.chegou===!0}});un(kt)}Wn=!1,Zt=fn.docs.map(kt=>{const Pe=kt.data();return{id:kt.id,...Pe,chegou:Pe.chegou===!0}}),nr()},fn=>{console.error("Erro ao escutar reservas (timestamp):",fn),Zt=[],nr()});return()=>{Gt(),Gn()}},[l,jt,Mt]),T.useEffect(()=>{if(n!=="dashboard")return;const v=Pt(tn),C=Pt(On);if(!v.isValid()||!C.isValid()||v.isAfter(C)){He("Informe um perodo vlido."),Ln([]),Jn(!1);return}const L=v.format("YYYY-MM-DD"),W=C.format("YYYY-MM-DD"),ee=C.add(1,"day").format("YYYY-MM-DD"),X=v.startOf("day"),Oe=C.add(1,"day").startOf("day");Jn(!0),He(null);const et=Ta(dn,"reservas"),nn=pl(et,Zs("data",">=",L),Zs("data","<",ee)),ot=pl(et,Zs("data",">=",Cn.fromDate(X.toDate())),Zs("data","<",Cn.fromDate(Oe.toDate())));let Zt=[],sn=[];const Wn=()=>{const Gt=new Map;[...Zt,...sn].forEach(kt=>{const Pe=kt.id??`${kt.nome}-${kt.cpf}-${kt.horario}-${Ms(kt.data)}`;Gt.set(Pe,kt)});const fn=Array.from(Gt.values()).filter(kt=>{const Pe=Ms(kt.data);return Pe?Pe>=L&&Pe<=W:!1});Ln(fn),Jn(!1)},un=Ec(nn,Gt=>{Zt=Gt.docs.map(Gn=>({id:Gn.id,...Gn.data()})),Wn()},Gt=>{console.error("Erro ao carregar dashboard (string):",Gt),Zt=[],Wn()}),nr=Ec(ot,Gt=>{sn=Gt.docs.map(Gn=>({id:Gn.id,...Gn.data()})),Wn()},Gt=>{console.error("Erro ao carregar dashboard (timestamp):",Gt),sn=[],Wn()});return()=>{un(),nr()}},[n,tn,On]),T.useEffect(()=>{G(null)},[l,fe,k]),T.useEffect(()=>{if(I){const v=setTimeout(()=>M(null),3e3);return()=>clearTimeout(v)}},[I]);const Ft=(v,C)=>new Date(C,v+1,0).getDate(),Jr=new Date,[Fn,Es]=T.useState(Jr.getMonth()),[Ua,$n]=T.useState(Jr.getFullYear()),Dr=new Date(Ua,Fn,1).getDay(),Ns=Ft(Fn,Ua),Ts=Array(Dr).fill(null).concat([...Array(Ns).keys()].map(v=>v+1)),pi=v=>{const C=new Date(Ua,Fn+v);Es(C.getMonth()),$n(C.getFullYear())},Ss=async v=>{if(confirm("Tem certeza que deseja excluir esta reserva?"))try{await qu(ha(dn,"reservas",v))}catch(C){console.error("Erro ao excluir reserva:",C)}},Dl=v=>{const C=Array.isArray(v.mesasSelecionadas)?v.mesasSelecionadas:[],L=v.mesaPrincipalId??C[0]?.id??null,W=v.mesaSecundariaId??C[1]?.id??null,ee=v.areaMesa??C[0]?.area??"",X=v.capacidadeMesas??C.reduce((et,nn)=>et+(Number(nn?.capacidade)||0),0),Oe=cf(Ut,v);q({...v,status:v.status??(v.confirmada?"confirmado":"pre_reserva"),participantesPorTipo:Oe,mesasSelecionadas:C,mesaPrincipalId:L,mesaSecundariaId:W,areaMesa:ee,capacidadeMesas:X}),Re(!0),ge(!0)},$o=()=>{const v=cf(Ut,{participantesPorTipo:{},adultos:0,criancas:0,bariatrica:0});q({nome:"",cpf:"",telefone:"",adultos:0,criancas:0,naoPagante:0,bariatrica:0,participantesPorTipo:v,data:Pt(l).format("YYYY-MM-DD"),horario:"",atividade:"",temPet:!1,confirmada:!0,status:"confirmado",areaMesa:"",mesaPrincipalId:null,mesaSecundariaId:null,mesasSelecionadas:[],capacidadeMesas:0}),Re(!1),ge(!0)},qs=async v=>{if(!v.id)return;const C=v.chegou===!0;try{await cc(ha(dn,"reservas",v.id),{chegou:!C}),M({type:"success",message:C?"Marcao de chegada removida.":"Reserva marcada como chegada!"})}catch(L){console.error("Erro ao atualizar chegada:",L),M({type:"error",message:"No foi possvel atualizar a chegada da reserva."})}},Yo=v=>(v.perguntasPersonalizadas??[]).filter(C=>{const L=typeof C?.pergunta=="string"&&C.pergunta.trim().length>0,W=typeof C?.resposta=="string"&&C.resposta.trim().length>0;return L&&W}),Ml=v=>(v.perguntasPersonalizadas??[]).some(C=>{if(!ri(C.pergunta??"").includes("juntar mesa"))return!1;const W=ri(C.resposta??"");return W.startsWith("sim")||W==="s"}),gi=v=>{G(C=>C===v?null:v)},$s=v=>v.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Nenhuma resposta personalizada."}):u.jsx("dl",{className:"divide-y divide-slate-100 text-sm",children:v.map(C=>u.jsxs("div",{className:"py-2 first:pt-0 last:pb-0",children:[u.jsx("dt",{className:"text-xs font-semibold uppercase text-slate-500",children:C.pergunta}),u.jsx("dd",{className:"mt-1 font-medium text-slate-900",children:C.resposta||"---"}),C.perguntaCondicional?.pergunta&&u.jsxs("div",{className:"mt-2 rounded-lg bg-slate-50 p-2",children:[u.jsx("p",{className:"text-[11px] font-semibold uppercase text-slate-400",children:C.perguntaCondicional.pergunta}),u.jsx("p",{className:"text-sm font-medium text-slate-900",children:C.perguntaCondicional.resposta||"---"})]})]},`${C.perguntaId}-${C.pergunta}`))});function Er(v){const C=v.participantesPorTipo??{},L=AI(C);return L>0?L+(Number(v.naoPagante??0)||0):(v.adultos??0)+(v.criancas??0)+(v.naoPagante??0)+(v.bariatrica??0)}const yi=T.useCallback(v=>{const C=v.participantesPorTipo??{},L=Ut.map(X=>{const Oe=zc(C,X)??SN(X,v);return{key:yo(X),label:X.nome,quantidade:Number(Oe)||0}}),W=Object.entries(C).filter(([X])=>!Ut.some(Oe=>Oe.id===X||ri(Oe.nome)===ri(X))).map(([X,Oe])=>({key:X,label:X,quantidade:Number(Oe)||0})),ee=Number(v.naoPagante??0);return ee>0&&W.push({key:"nao-pagante",label:"No pagante",quantidade:ee}),[...L,...W].filter(X=>X.quantidade>0)},[Ut]),qi=v=>{if(v==null)return"---";const C=Number(v);return Number.isNaN(C)?"---":`R$${C.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`},Wo=v=>{const C=v,L=[];return Array.isArray(C.pacoteNomes)?L.push(...C.pacoteNomes.filter(Boolean)):Array.isArray(C.pacotes)?C.pacotes.forEach(W=>{typeof W=="string"?L.push(W):W?.nome&&L.push(W.nome)}):Array.isArray(C.pacoteIds)?C.pacoteIds.forEach(W=>{const ee=ct.find(X=>X.id===W);ee?.nome&&L.push(ee.nome)}):typeof C.pacote=="string"?L.push(C.pacote):typeof C.pacoteNome=="string"?L.push(C.pacoteNome):v.atividade&&L.push(v.atividade),Array.from(new Set(L.filter(Boolean)))},Qa=v=>{const L=(v.atividade??"").match(/\(Combo:\s*([^)]+)\)/i);if(L&&L[1]){const ee=L[1].trim();return`Combo: ${ee.split(" - ")[0].trim()||ee}`}const W=Wo(v);return W.length===0?"---":W.length===1?W[0]:W.join(" + ")},Il=async()=>{if(z){if(!z.data){M({type:"error",message:"Por favor, selecione a data da reserva."});return}try{const v=Er(z),C=_.find(Gn=>Gn.id===z.mesaPrincipalId),L=_.find(Gn=>Gn.id===z.mesaSecundariaId);if(_.length>0&&!C){M({type:"error",message:"Selecione a mesa principal para a reserva."});return}if(C){if(v>C.capacidade){if(!L){M({type:"error",message:"Quantidade de pessoas excede a mesa escolhida. Selecione uma mesa complementar da mesma rea."});return}if(L.area!==C.area){M({type:"error",message:"A mesa complementar precisa ser da mesma rea da mesa principal."});return}if(L.id===C.id){M({type:"error",message:"Escolha mesas diferentes para somar capacidade."});return}}const fn=C.capacidade+(L?.capacidade??0);if(v>fn){M({type:"error",message:"A capacidade combinada das mesas selecionadas  inferior ao total de participantes."});return}}const ee=[];C&&ee.push({id:C.id,nome:C.nome,capacidade:C.capacidade,area:C.area}),L&&(!C||L.id!==C.id)&&ee.push({id:L.id,nome:L.nome,capacidade:L.capacidade,area:L.area});const X=ee.reduce((Gn,fn)=>Gn+(fn.capacidade??0),0),Oe=z.areaMesa||C?.area||"",et=ae?z.status??"pre_reserva":"confirmado",nn=Dc(et),ot=cf(Ut,z),Zt=Di(ot,Ut,"adult")??0,sn=Di(ot,Ut,"crian")??0,Wn=Di(ot,Ut,"bariat")??0,{id:un,...nr}=z,Gt={...nr,adultos:Zt,criancas:sn,bariatrica:Wn,participantesPorTipo:ot,participantes:v,status:et,confirmada:nn==="confirmado"||nn==="pago"?!0:!!z.confirmada,areaMesa:Oe,mesaPrincipalId:C?.id??null,mesaSecundariaId:L?.id??null,mesasSelecionadas:ee,capacidadeMesas:X};if(ae&&z.id){const Gn=ha(dn,"reservas",z.id);await cc(Gn,Gt),M({type:"success",message:pc(Gt)?"Pr-reserva atualizada!":"Reserva atualizada com sucesso!"})}else await rf(Ta(dn,"reservas"),Gt),M({type:"success",message:"Pr-reserva cadastrada com sucesso!"});["confirmado","pago"].includes(nn)&&cs(),ge(!1),q(null)}catch(v){console.error("Erro ao salvar reserva:",v),M({type:"error",message:"Erro ao salvar reserva."})}}},Cs=T.useCallback(async()=>{const C=(await Eo(Ta(dn,"pacotes"))).docs.map(L=>{const W=L.data(),ee=W.modoHorario==="intervalo"?"intervalo":"lista",X=W.precosPorTipo&&typeof W.precosPorTipo=="object"?Object.fromEntries(Object.entries(W.precosPorTipo).map(([Oe,et])=>[Oe,Number(et)||0])):void 0;return{id:L.id,nome:W.nome??"",tipo:W.tipo??"",precoAdulto:Number(W.precoAdulto??0),precoCrianca:Number(W.precoCrianca??0),precoBariatrica:Number(W.precoBariatrica??0),precosPorTipo:X,limite:Number(W.limite??0),dias:Array.isArray(W.dias)?W.dias.map(Number).sort((Oe,et)=>Oe-et):[],horarios:Array.isArray(W.horarios)?$g(W.horarios):[],datasBloqueadas:Array.isArray(W.datasBloqueadas)?[...W.datasBloqueadas].sort():[],modoHorario:ee,horarioInicio:W.horarioInicio??"",horarioFim:W.horarioFim??"",aceitaPet:W.aceitaPet!==!1,perguntasPersonalizadas:Array.isArray(W.perguntasPersonalizadas)?W.perguntasPersonalizadas:[]}});Nt(C)},[]),As=T.useCallback(async()=>{st(!0);try{const C=(await Eo(Ta(dn,"tipos_clientes"))).docs.map(L=>{const W=L.data();return{id:L.id,nome:W.nome??"",descricao:W.descricao??""}}).filter(L=>L.nome.trim().length>0).sort((L,W)=>L.nome.localeCompare(W.nome,"pt-BR",{sensitivity:"base"}));je(C)}catch(v){console.error("Erro ao carregar tipos de clientes:",v),je([])}finally{st(!1)}},[]),Go=T.useCallback(async()=>{St(!0);try{const v=ha(dn,"configuracoes","whatsapp"),C=await Z6(v).catch(async()=>S0(v));if(C.exists()){const L=C.data(),W=typeof L.mensagemConfirmacao=="string"?L.mensagemConfirmacao.trim():"",ee=typeof L.mensagemConfirmacaoAutomatica=="string"&&L.mensagemConfirmacaoAutomatica.trim()?L.mensagemConfirmacaoAutomatica:W||ul,X=typeof L.mensagemConfirmacaoManual=="string"&&L.mensagemConfirmacaoManual.trim()?L.mensagemConfirmacaoManual:Xs,Oe=i1(L.modelosMensagemManual);vt({ativo:L.ativo===!0,mensagemConfirmacaoAutomatica:ee,mensagemConfirmacaoManual:X,modelosMensagemManual:Oe})}else vt({ativo:!1,mensagemConfirmacaoAutomatica:ul,mensagemConfirmacaoManual:Xs,modelosMensagemManual:[]});qn(null)}catch(v){console.error("Erro ao carregar configuracoes do WhatsApp:",v),qn("Erro ao carregar configuracoes."),vt({ativo:!1,mensagemConfirmacaoAutomatica:ul,mensagemConfirmacaoManual:Xs,modelosMensagemManual:[]})}finally{St(!1)}},[]),$i=async()=>{const v=Ze.mensagemConfirmacaoAutomatica.trim(),C=Ze.mensagemConfirmacaoManual.trim();if(!v){M({type:"error",message:"Informe a mensagem automtica."});return}if(!C){M({type:"error",message:"Informe a mensagem do boto."});return}const L=(Ze.modelosMensagemManual??[]).filter(X=>{const Oe=X.titulo?.trim()??"",et=X.mensagem?.trim()??"";return Oe||et}),W=i1(L),ee=L.length-W.length;xr(!0);try{const X={ativo:Ze.ativo,mensagemConfirmacaoAutomatica:v,mensagemConfirmacaoManual:C,mensagemConfirmacao:v,modelosMensagemManual:W,atualizadoEm:new Date};await qw(ha(dn,"configuracoes","whatsapp"),X,{merge:!0}),vt(Oe=>({...Oe,mensagemConfirmacaoAutomatica:v,mensagemConfirmacaoManual:C,modelosMensagemManual:W})),M({type:"success",message:ee>0?"Configuraes salvas. Modelos incompletos foram ignorados.":"Configuracoes do WhatsApp salvas."})}catch(X){console.error("Erro ao salvar configuracoes do WhatsApp:",X),M({type:"error",message:"Erro ao salvar configuracoes do WhatsApp."})}finally{xr(!1)}},Br=T.useCallback(async()=>{try{const v=await fetch(`${sf}/whatsapp/status?t=${Date.now()}`,{cache:"no-store"});if(!v.ok)throw new Error(`Status ${v.status}`);const C=await v.json();Ot(C),qn(null)}catch(v){console.error("Erro ao consultar status do WhatsApp:",v),qn("Erro ao consultar status.")}},[]),Pl=async()=>{St(!0);try{const C=await(await fetch(`${sf}/whatsapp/start?t=${Date.now()}`,{method:"POST",cache:"no-store"})).json();Ot(C),qn(null)}catch(v){console.error("Erro ao iniciar WhatsApp:",v),qn("Erro ao iniciar WhatsApp.")}finally{St(!1)}},Ol=async()=>{St(!0);try{const C=await(await fetch(`${sf}/whatsapp/logout?t=${Date.now()}`,{method:"POST",cache:"no-store"})).json();Ot(C),qn(null)}catch(v){console.error("Erro ao desconectar WhatsApp:",v),qn("Erro ao desconectar WhatsApp.")}finally{St(!1)}},cs=async()=>{if(Ze.ativo)try{await fetch(`${sf}/whatsapp/process-pending`,{method:"POST"})}catch(v){console.error("Erro ao processar pendencias do WhatsApp:",v)}},h=(v,C)=>{vt(L=>{const W=L[v]??"",ee=W&&!W.endsWith(" ")?" ":"";return{...L,[v]:`${W}${ee}${C}`}})},x=()=>`modelo-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,w=()=>{vt(v=>({...v,modelosMensagemManual:[...v.modelosMensagemManual??[],{id:x(),titulo:`Modelo ${(v.modelosMensagemManual?.length??0)+1}`,mensagem:""}]}))},j=(v,C)=>{vt(L=>({...L,modelosMensagemManual:(L.modelosMensagemManual??[]).map(W=>W.id===v?{...W,...C}:W)}))},ne=v=>{vt(C=>({...C,modelosMensagemManual:(C.modelosMensagemManual??[]).filter(L=>L.id!==v)}))},pe=(v,C)=>{vt(L=>({...L,modelosMensagemManual:(L.modelosMensagemManual??[]).map(W=>{if(W.id!==v)return W;const ee=W.mensagem??"",X=ee&&!ee.endsWith(" ")?" ":"";return{...W,mensagem:`${ee}${X}${C}`}})}))},Me=T.useCallback(()=>{F(null),ce("padrao"),P("")},[]),$t=T.useCallback(v=>{if(v==="padrao")return Ze.mensagemConfirmacaoManual||Xs;const C=(Ze.modelosMensagemManual??[]).find(L=>L.id===v);return C?.mensagem?.trim()?C.mensagem:Ze.mensagemConfirmacaoManual||Xs},[Ze.mensagemConfirmacaoManual,Ze.modelosMensagemManual]),tr=T.useCallback((v,C,L,W)=>{const ee=(v.telefone||"").replace(/\D/g,""),X=ee.startsWith("55")?ee:ee?`55${ee}`:"";if(!X){M({type:"error",message:"Telefone do cliente invlido."});return}const Oe={nome:v.nome??"",datareserva:fc(v.data),data:fc(v.data),horario:v.horario??"",atividade:L,participantes:String(C),telefone:v.telefone??"",valor:W,status:v.status??""},et=$t("padrao"),nn=of(et,Oe);ce("padrao"),P(nn),F({reserva:v,telefoneComCodigo:X,dadosMensagem:Oe,participantes:C,pacoteDescricao:L})},[$t]),Xt=T.useCallback(()=>{if(!ve)return;const v=Ae.trim();if(!v){M({type:"error",message:"Digite a mensagem antes de enviar."});return}const C=`https://wa.me/${ve.telefoneComCodigo}?text=${encodeURIComponent(v)}`;window.open(C,"_blank"),Me()},[Me,Ae,ve]),Hn=T.useCallback(async()=>{try{const C=(await Eo(Ta(dn,"combos"))).docs.map(L=>{const W=L.data(),ee=W.precosPorTipo&&typeof W.precosPorTipo=="object"?Object.fromEntries(Object.entries(W.precosPorTipo).map(([X,Oe])=>[X,Number(Oe)||0])):void 0;return{id:L.id,nome:W.nome??"",pacoteIds:Array.isArray(W.pacoteIds)?W.pacoteIds.map(X=>X?.toString()).filter(Boolean):[],preco:Number(W.preco??0),precoAdulto:Number(W.precoAdulto??W.preco??0),precoCrianca:Number(W.precoCrianca??W.preco??0),precoBariatrica:Number(W.precoBariatrica??W.preco??0),precosPorTipo:ee,ativo:W.ativo!==!1}});Xr(C)}catch(v){console.error("Erro ao carregar combos:",v)}},[]);T.useEffect(()=>{Cs(),Hn(),As()},[Cs,Hn,As]),T.useEffect(()=>{(async()=>{O(!0);try{const L=(await Eo(Ta(dn,"mesas"))).docs.map(W=>{const ee=W.data();return{id:W.id,nome:ee.nome??W.id,capacidade:Number(ee.capacidade??0),area:ee.area??"Sem rea",ativa:ee.ativa!==!1}}).filter(W=>W.capacidade>0&&W.ativa!==!1).sort((W,ee)=>W.nome.localeCompare(ee.nome,"pt-BR",{numeric:!0,sensitivity:"base"}));E(L)}catch(C){console.error("Erro ao carregar mesas:",C)}finally{O(!1)}})()},[]),T.useEffect(()=>{n==="pacotes"&&(Cs(),Hn())},[n,Cs,Hn]),T.useEffect(()=>{z&&q(v=>v&&{...v,participantesPorTipo:cf(Ut,v)})},[Ut]),T.useEffect(()=>{n==="tipos_clientes"&&As()},[n,As]),T.useEffect(()=>{Go()},[Go]),T.useEffect(()=>{if(n!=="whatsapp")return;Br();const v=setInterval(()=>{Br()},5e3);return()=>clearInterval(v)},[n,Br]);const Yn=()=>{Qe(l1()),Ye(!1)},Rs=v=>{Qe({id:v.id,nome:v.nome??"",descricao:v.descricao??""}),Ye(!0)},Fr=async()=>{const v=Ie.nome.trim();if(!v){M({type:"error",message:"Informe o nome do tipo."});return}const C=v.toLowerCase();if(ye.some(X=>X.nome.trim().toLowerCase()===C&&X.id!==Ie.id)){M({type:"error",message:"J existe um tipo com esse nome."});return}const W=(Ie.descricao??"").trim(),ee={nome:v,...W?{descricao:W}:{}};it(!0);try{Ve&&Ie.id?(await cc(ha(dn,"tipos_clientes",Ie.id),ee),M({type:"success",message:"Tipo atualizado com sucesso!"})):(await rf(Ta(dn,"tipos_clientes"),ee),M({type:"success",message:"Tipo cadastrado com sucesso!"})),Yn(),await As()}catch(X){console.error("Erro ao salvar tipo de cliente:",X),M({type:"error",message:"Erro ao salvar tipo de cliente."})}finally{it(!1)}},us=async v=>{if(v.id&&confirm(`Tem certeza que deseja excluir o tipo "${v.nome}"?`)){it(!0);try{await qu(ha(dn,"tipos_clientes",v.id)),Ie.id===v.id&&Yn(),M({type:"success",message:"Tipo removido."}),await As()}catch(C){console.error("Erro ao excluir tipo de cliente:",C),M({type:"error",message:"Erro ao excluir tipo de cliente."})}finally{it(!1)}}},Qo=v=>{wt({...v,dias:Array.isArray(v.dias)?v.dias:[],horarios:Array.isArray(v.horarios)?$g(v.horarios):[],datasBloqueadas:Array.isArray(v.datasBloqueadas)?[...v.datasBloqueadas]:[],modoHorario:v.modoHorario??"lista",horarioInicio:v.horarioInicio??"",horarioFim:v.horarioFim??"",aceitaPet:v.aceitaPet??!0,precosPorTipo:mc(Ut,v.precosPorTipo,v),perguntasPersonalizadas:v.perguntasPersonalizadas??[]}),Qr(""),Ar({pergunta:"",tipo:"sim_nao",obrigatoria:!1}),ka(!0),An(!0)},kl=()=>{wt({nome:"",tipo:"",precoAdulto:0,precoCrianca:0,precoBariatrica:0,precosPorTipo:mc(Ut,void 0,{precoAdulto:0,precoCrianca:0,precoBariatrica:0}),horarios:[],dias:[],limite:0,datasBloqueadas:[],modoHorario:"lista",horarioInicio:"",horarioFim:"",aceitaPet:!0,perguntasPersonalizadas:[]}),Qr(""),Ar({pergunta:"",tipo:"sim_nao",obrigatoria:!1}),ka(!1),An(!0)},Fd=async()=>{if(!We)return;if(!We.nome){M({type:"error",message:"Nome obrigatrio!"});return}const v=We.modoHorario??"lista",C=Array.from(new Set(We.dias??[])).sort((nr,Gt)=>nr-Gt),L=Array.from(new Set(We.datasBloqueadas??[])).sort(),W=Number(We.limite)||0,ee=We.horarioInicio??"",X=We.horarioFim??"";let Oe=[];if(v==="intervalo"){if(!ee||!X){M({type:"error",message:"Informe horrio inicial e final."});return}Oe=[]}else{const nr=Array.isArray(We.horarios)?We.horarios:[];Oe=$g(Array.from(new Set(nr)))}const et=mc(Ut,We.precosPorTipo,We),nn=Di(et,Ut,"adult")??0,ot=Di(et,Ut,"crian")??0,Zt=Di(et,Ut,"bariat")??0,sn={...We,precoAdulto:nn,precoCrianca:ot,precoBariatrica:Zt,precosPorTipo:et,modoHorario:v,dias:C,datasBloqueadas:L,limite:W,horarioInicio:v==="intervalo"?ee:"",horarioFim:v==="intervalo"?X:"",horarios:Oe,aceitaPet:We.aceitaPet??!0},{id:Wn,...un}=sn;try{ya&&Wn?(await cc(ha(dn,"pacotes",Wn),un),M({type:"success",message:"Pacote atualizado com sucesso!"})):(await rf(Ta(dn,"pacotes"),un),M({type:"success",message:"Pacote cadastrado com sucesso!"})),An(!1),wt(null),Qr(""),Cs()}catch{M({type:"error",message:"Erro ao salvar pacote."})}},Hd=async v=>{window.confirm("Excluir pacote?")&&(await qu(ha(dn,"pacotes",v)),Cs())},Jc=()=>{Pn&&(wt(v=>{if(!v)return v;const C=new Set(v.datasBloqueadas??[]);return C.add(Pn),{...v,datasBloqueadas:Array.from(C).sort()}}),Qr(""))},eu=v=>{wt(C=>C&&{...C,datasBloqueadas:(C.datasBloqueadas??[]).filter(L=>L!==v)})},qd=()=>{gr.pergunta.trim()&&(wt(v=>{if(!v)return v;const C={id:Date.now().toString(),...gr};return{...v,perguntasPersonalizadas:[...v.perguntasPersonalizadas??[],C]}}),Ar({pergunta:"",tipo:"sim_nao",obrigatoria:!1}))},$d=v=>{wt(C=>C&&{...C,perguntasPersonalizadas:(C.perguntasPersonalizadas??[]).filter(L=>L.id!==v)})},Yd=()=>{pn({nome:"",pacoteIds:[],preco:0,precoAdulto:0,precoCrianca:0,precoBariatrica:0,precosPorTipo:mc(Ut,void 0,{precoAdulto:0,precoCrianca:0,precoBariatrica:0}),ativo:!0}),ia(!1),It(!0)},Rm=v=>{pn({...v,pacoteIds:Array.isArray(v.pacoteIds)?v.pacoteIds:[],preco:Number(v.preco??0),precoAdulto:Number(v.precoAdulto??v.preco??0),precoCrianca:Number(v.precoCrianca??v.preco??0),precoBariatrica:Number(v.precoBariatrica??v.preco??0),precosPorTipo:mc(Ut,v.precosPorTipo,v),ativo:v.ativo!==!1}),ia(!0),It(!0)},jm=async v=>{if(v.id)try{const C=!v.ativo;await cc(ha(dn,"combos",v.id),{ativo:C}),Xr(L=>L.map(W=>W.id===v.id?{...W,ativo:C}:W)),M({type:"success",message:C?"Combo ativado!":"Combo desativado."})}catch(C){console.error("Erro ao atualizar combo:",C),M({type:"error",message:"Erro ao atualizar combo."})}},Dm=async v=>{if(v&&window.confirm("Deseja realmente excluir este combo?"))try{await qu(ha(dn,"combos",v)),M({type:"success",message:"Combo removido."}),Hn()}catch(C){console.error("Erro ao excluir combo:",C),M({type:"error",message:"Erro ao excluir combo."})}},Mm=async()=>{if(!Ke)return;const v=Ke.nome.trim();if(!v){M({type:"error",message:"Informe o nome do combo."});return}if((Ke.pacoteIds??[]).length===0){M({type:"error",message:"Selecione ao menos um pacote para o combo."});return}const C=Number(Ke.preco??0),L=mc(Ut,Ke.precosPorTipo,Ke),W=Di(L,Ut,"adult")??0,ee=Di(L,Ut,"crian")??0,X=Di(L,Ut,"bariat")??0;if(!Object.values(L).some(et=>Number.isFinite(et)&&et>0)){M({type:"error",message:"Informe os valores personalizados por tipo de participante."});return}Rr(!0);try{const et={nome:v,pacoteIds:Array.from(new Set(Ke.pacoteIds)),preco:C,precoAdulto:W>0?W:0,precoCrianca:ee>0?ee:0,precoBariatrica:X>0?X:0,precosPorTipo:L,ativo:Ke.ativo!==!1};Rn&&Ke.id?(await cc(ha(dn,"combos",Ke.id),et),M({type:"success",message:"Combo atualizado com sucesso!"})):(await rf(Ta(dn,"combos"),et),M({type:"success",message:"Combo criado com sucesso!"})),It(!1),pn(null),Hn()}catch(et){console.error("Erro ao salvar combo:",et),M({type:"error",message:"Erro ao salvar combo."})}finally{Rr(!1)}},Wd=T.useCallback(async()=>{const v=Pt(l).format("YYYY-MM-DD");Lr(!0);try{const C=ha(dn,"disponibilidade",v),L=await S0(C);if(L.exists()){const W=L.data();if(Et(!!W?.fechado),W&&typeof W.horarios=="object"){const ee=Object.entries(W.horarios).reduce((X,[Oe,et])=>(et===!1&&(X[Oe]=!1),X),{});lr(ee)}else lr({})}else lr({}),Et(!1)}catch(C){console.error("Erro ao carregar disponibilidade:",C),lr({}),Et(!1)}finally{Lr(!1)}},[l]),Ia=async()=>{const v=Pt(l).format("YYYY-MM-DD");dt(!0);try{const C=ha(dn,"disponibilidade",v),L=Object.keys(nt).length>0;if(L||Lt){const ee={data:v};L?ee.horarios=nt:ee.horarios=Ug(),ee.fechado=Lt?!0:Ug(),await qw(C,ee,{merge:!0})}else await qu(C);M({type:"success",message:"Disponibilidade atualizada!"}),or(!1)}catch(C){console.error("Erro ao salvar disponibilidade:",C),M({type:"error",message:"Erro ao salvar disponibilidade."})}finally{dt(!1)}},Ko=async()=>{if(!wn||!vr){M({type:"error",message:"Informe o perodo que deseja atualizar."});return}const v=Pt(wn),C=Pt(vr);if(!v.isValid()||!C.isValid()){M({type:"error",message:"Datas invlidas para o perodo informado."});return}if(v.isAfter(C)){M({type:"error",message:"A data inicial deve ser menor ou igual  data final."});return}$(!0);try{const L=eI(dn),W=[];let ee=v.startOf("day");const X=C.startOf("day");for(;ee.diff(X,"day")<=0;){const Oe=ee.format("YYYY-MM-DD");W.push(Oe);const et=ha(dn,"disponibilidade",Oe);xn==="fechar"?L.set(et,{data:Oe,fechado:!0},{merge:!0}):L.set(et,{data:Oe,fechado:Ug()},{merge:!0}),ee=ee.add(1,"day")}await L.commit(),W.includes(Pt(l).format("YYYY-MM-DD"))&&Et(xn==="fechar"),M({type:"success",message:xn==="fechar"?"Perodo bloqueado para todos os pacotes.":"Perodo reaberto nos agendamentos."})}catch(L){console.error("Erro ao aplicar fechamento em perodo:",L),M({type:"error",message:"No foi possvel atualizar o perodo selecionado."})}finally{$(!1)}};T.useEffect(()=>{if(Kr){const v=Pt(l).format("YYYY-MM-DD");gn(v),Bt(v),te({}),Wd()}},[Kr,Wd,l]);const Gd=async()=>{if(an){M({type:"error",message:"Desative a censura para exportar o relatrio."});return}try{const{jsPDF:v}=await Yw(async()=>{const{jsPDF:ot}=await import("./jspdf.es.min-BFQ1r3yi.js").then(Zt=>Zt.j);return{jsPDF:ot}},[]),{default:C}=await Yw(async()=>{const{default:ot}=await import("./jspdf.plugin.autotable-B1NDC9nN.js");return{default:ot}},[]),L=new v({unit:"pt",format:"a4"}),W=Pt(ft.periodo.inicio).isValid()?Pt(ft.periodo.inicio).format("DD/MM/YYYY"):ft.periodo.inicio,ee=Pt(ft.periodo.fim).isValid()?Pt(ft.periodo.fim).format("DD/MM/YYYY"):ft.periodo.fim;let X=44;L.setFontSize(18),L.text("Vaga Fogo - Relatrio (Dashboard)",40,X),X+=20,L.setFontSize(10),L.text(`Perodo: ${W} a ${ee}`,40,X),X+=14,L.text(`Gerado em: ${Pt().format("DD/MM/YYYY HH:mm")}`,40,X),X+=22,L.setFontSize(12),L.text(`Reservas confirmadas: ${ft.resumo.confirmadas}`,40,X),X+=14,L.text(`Pr-reservas: ${ft.resumo.preReservas}`,40,X),X+=14,L.text(`Participantes (confirmadas): ${ft.resumo.participantes}`,40,X),X+=14,L.text(`Faturamento (confirmadas): ${ra(ft.resumo.faturamento)}`,40,X),X+=14,L.text(`Ticket mdio: ${ra(ft.resumo.ticketMedio)}`,40,X),X+=18;const Oe=ft.porPacote.slice(0,40).map(ot=>[ot.nome,String(ot.reservas),String(ot.participantes),ra(ot.valor)]);C(L,{head:[["Pacote","Reservas","Participantes","Faturamento"]],body:Oe.length>0?Oe:[["","0","0",ra(0)]],startY:X,styles:{fontSize:9},headStyles:{fillColor:[37,99,235]}});const et=L.lastAutoTable?.finalY?Number(L.lastAutoTable.finalY)+24:X+24,nn=ft.porCliente.slice(0,40).map(ot=>[ot.nome||"---",ot.cpf||ot.telefone||"---",String(ot.reservas),ra(ot.valor)]);C(L,{head:[["Cliente","CPF/Telefone","Reservas","Faturamento"]],body:nn.length>0?nn:[["","","0",ra(0)]],startY:et,styles:{fontSize:9},headStyles:{fillColor:[5,150,105]}}),L.save(`relatorio-dashboard-${ft.periodo.inicio}-${ft.periodo.fim}.pdf`),M({type:"success",message:"Relatrio PDF gerado."})}catch(v){console.error("Erro ao gerar PDF:",v),M({type:"error",message:"Erro ao gerar PDF."})}},Qd=async()=>{if(xe.trim()){yn(!0);try{const v=pl(Ta(dn,"reservas")),L=(await Eo(v)).docs.map(W=>({id:W.id,...W.data()})).filter(W=>W.nome&&W.nome.toLowerCase().includes(xe.toLowerCase())||W.cpf&&W.cpf.includes(xe)||W.telefone&&W.telefone.includes(xe));ze(L)}catch(v){console.error("Erro na pesquisa de clientes:",v),ze([])}yn(!1)}};return u.jsxs("main",{className:"min-h-screen bg-slate-100 py-8",children:[I&&u.jsx("div",{className:`fixed top-6 right-6 z-50 flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium shadow-lg ${I.type==="success"?"bg-emerald-500 text-white":"bg-rose-500 text-white"}`,children:I.message}),ie&&u.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-[360px] max-w-[calc(100vw-3rem)]",role:"alert","aria-live":"assertive",children:u.jsx("button",{type:"button",onClick:Mt,className:"relative w-full overflow-hidden rounded-2xl border border-emerald-200 bg-white p-4 text-left shadow-lg transition hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-emerald-300 before:pointer-events-none before:absolute before:inset-0 before:rounded-2xl before:border-2 before:border-emerald-500 before:opacity-90 before:animate-pulse","aria-label":"Fechar notificao de nova reserva",title:"Clique para fechar",children:u.jsxs("div",{className:"relative flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-emerald-700",children:"Nova reserva recebida"}),u.jsx("p",{className:"mt-2 truncate text-base font-semibold text-slate-900",children:ie.nome}),u.jsxs("p",{className:"mt-1 text-sm font-medium text-slate-700",children:[ie.horario,"  ",ie.participantes," ",ie.participantes===1?"participante":"participantes"]}),u.jsx("p",{className:"mt-1 truncate text-sm text-slate-500",children:ie.atividade})]}),u.jsx("span",{className:"shrink-0 rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-700",children:"Fechar"})]})})}),ve&&u.jsx("div",{className:"fixed inset-0 z-[60] flex items-start justify-center bg-slate-900/60 px-2 py-4 overflow-y-auto",onClick:Me,children:u.jsxs("div",{className:"w-full max-w-xl overflow-hidden rounded-2xl bg-white shadow-2xl",onClick:v=>v.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 sm:px-6 py-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:"Mensagem WhatsApp"}),u.jsx("button",{type:"button",onClick:Me,className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600","aria-label":"Fechar",children:"x"})]}),u.jsxs("div",{className:"space-y-4 px-4 sm:px-6 py-5",children:[u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:ve.reserva.nome||"Cliente"}),u.jsxs("p",{className:"mt-1 text-sm text-slate-600",children:[fc(ve.reserva.data)," ",ve.reserva.horario||"---","  ",ve.participantes," ",ve.participantes===1?"participante":"participantes"]}),u.jsx("p",{className:"mt-1 text-sm text-slate-500",children:ve.pacoteDescricao})]}),u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[u.jsxs("label",{className:"flex-1 text-xs font-semibold uppercase text-slate-500",children:["Modelo",u.jsxs("select",{value:le,onChange:v=>{const C=v.target.value;if(ce(C),!ve)return;const L=$t(C);P(of(L,ve.dadosMensagem))},className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",children:[u.jsx("option",{value:"padrao",children:"Padro (manual)"}),(Ze.modelosMensagemManual??[]).map(v=>u.jsx("option",{value:v.id,children:v.titulo||"Sem ttulo"},v.id))]})]}),u.jsx("button",{type:"button",onClick:()=>{e("whatsapp"),Me()},className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50",children:"Gerenciar modelos"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Mensagem",u.jsx("textarea",{value:Ae,onChange:v=>P(v.target.value),rows:7,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200"})]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:[u.jsx("button",{type:"button",onClick:Me,className:"inline-flex items-center justify-center rounded-full border border-slate-200 px-5 py-2.5 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:"Cancelar"}),u.jsxs("button",{type:"button",onClick:Xt,className:"inline-flex items-center justify-center gap-2 rounded-full bg-emerald-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-emerald-700",children:[u.jsx(uc,{className:"h-4 w-4"}),"Abrir WhatsApp"]})]})]})]})}),u.jsxs("div",{className:"mx-auto max-w-7xl space-y-8 px-4 sm:px-6 lg:px-8",children:[u.jsx("header",{className:"flex flex-col gap-6 border-b border-slate-200 pb-6 sm:flex-row sm:items-end sm:justify-between",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400",children:"Painel administrativo"}),u.jsx("h1",{className:"mt-2 text-3xl font-semibold text-slate-900",children:"Gesto inteligente"}),u.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Controle reservas, pacotes e disponibilidade em poucos cliques."})]})}),n==="reservas"&&u.jsxs("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[u.jsx("article",{className:"group relative overflow-hidden rounded-2xl border border-slate-100 bg-white p-5 shadow-sm transition duration-200 hover:-translate-y-1 hover:shadow-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Reservas do dia"}),u.jsx("p",{className:"mt-3 text-3xl font-semibold text-slate-900",children:Hi}),u.jsxs("span",{className:"text-xs text-slate-400",children:[Object.keys(g).length," horrios ativos"]})]}),u.jsx("span",{className:"rounded-full bg-blue-50 p-3 text-blue-600",children:u.jsx(zg,{className:"h-5 w-5"})})]})}),u.jsx("article",{className:"group relative overflow-hidden rounded-2xl border border-slate-100 bg-white p-5 shadow-sm transition duration-200 hover:-translate-y-1 hover:shadow-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Participantes"}),u.jsx("p",{className:"mt-3 text-3xl font-semibold text-slate-900",children:La}),u.jsx("span",{className:"text-xs text-slate-400",children:"Confirmados hoje"})]}),u.jsx("span",{className:"rounded-full bg-emerald-50 p-3 text-emerald-600",children:u.jsx(Hg,{className:"h-5 w-5"})})]})}),u.jsx("article",{className:"group relative overflow-hidden rounded-2xl border border-slate-100 bg-white p-5 shadow-sm transition duration-200 hover:-translate-y-1 hover:shadow-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Prximo bloqueio"}),u.jsx("p",{className:"mt-3 text-2xl font-semibold text-slate-900",children:Ga?Ga.format("DD/MM/YYYY"):"Sem bloqueios"}),u.jsxs("span",{className:"text-xs text-slate-400",children:[ct.reduce((v,C)=>v+(C.datasBloqueadas?.length??0),0)," datas bloqueadas no total"]})]}),u.jsx("span",{className:"rounded-full bg-amber-50 p-3 text-amber-500",children:u.jsx(t1,{className:"h-5 w-5"})})]})}),u.jsx("article",{className:"group relative overflow-hidden rounded-2xl border border-slate-100 bg-white p-5 shadow-sm transition duration-200 hover:-translate-y-1 hover:shadow-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Pacotes ativos"}),u.jsx("p",{className:"mt-3 text-3xl font-semibold text-slate-900",children:_r}),u.jsxs("span",{className:"text-xs text-slate-400",children:[Wa," sem pet"]})]}),u.jsx("span",{className:"rounded-full bg-purple-50 p-3 text-purple-600",children:u.jsx(Fg,{className:"h-5 w-5"})})]})})]}),u.jsx("nav",{className:"hidden lg:flex flex-wrap items-center gap-2 rounded-full border border-slate-200 bg-white/80 p-2 shadow-sm backdrop-blur",children:A.map(({id:v,label:C,description:L,icon:W})=>{const ee=n===v;return u.jsxs("button",{onClick:()=>e(v),className:`group flex min-w-[160px] flex-1 items-center gap-3 rounded-full px-4 py-2 text-left text-sm transition ${ee?"bg-blue-600 text-white shadow-md":"text-slate-500 hover:bg-slate-100"}`,children:[u.jsx("span",{className:`flex h-8 w-8 items-center justify-center rounded-full border ${ee?"border-white bg-white text-blue-600":"border-slate-200 bg-slate-50 text-slate-500"}`,children:u.jsx(W,{className:"h-4 w-4"})}),u.jsxs("span",{className:"flex flex-col",children:[u.jsx("span",{className:"font-semibold",children:C}),u.jsx("span",{className:`text-[11px] ${ee?"text-blue-100/90":"text-slate-400"}`,children:L})]})]},v)})}),u.jsx("button",{onClick:()=>a(!0),className:"lg:hidden fixed top-4 right-4 z-40 bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),t&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-50",onClick:()=>a(!1)}),u.jsxs("div",{className:"lg:hidden fixed top-0 left-0 h-full w-80 bg-white shadow-xl z-50 transform transition-transform",children:[u.jsx("div",{className:"p-4 border-b border-slate-200",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Menu"}),u.jsx("button",{onClick:()=>a(!1),className:"p-2 rounded-full hover:bg-slate-100",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),u.jsx("div",{className:"p-4 space-y-2",children:A.map(({id:v,label:C,description:L,icon:W})=>{const ee=n===v;return u.jsxs("button",{onClick:()=>{e(v),a(!1)},className:`w-full flex items-center gap-3 p-3 rounded-lg text-left transition ${ee?"bg-blue-600 text-white":"text-slate-700 hover:bg-slate-100"}`,children:[u.jsx("span",{className:`flex h-10 w-10 items-center justify-center rounded-lg ${ee?"bg-white text-blue-600":"bg-slate-100 text-slate-600"}`,children:u.jsx(W,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:C}),u.jsx("div",{className:`text-sm ${ee?"text-blue-100":"text-slate-500"}`,children:L})]})]},v)})})]})]}),n==="dashboard"&&u.jsxs("section",{className:"space-y-6",children:[u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Dashboard"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Relatrios do perodo selecionado (confirmadas e pr-reservas)."})]}),u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:gap-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Incio",u.jsx("input",{type:"date",value:tn,onChange:v=>ja(v.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Fim",u.jsx("input",{type:"date",value:On,onChange:v=>ht(v.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]})]}),u.jsxs("button",{type:"button",onClick:()=>Da(v=>!v),className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2.5 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50","aria-label":an?"Mostrar dados sensveis":"Censurar dados sensveis",title:an?"Mostrar dados sensveis":"Censurar dados sensveis","aria-pressed":an,children:[an?u.jsx(xI,{className:"h-4 w-4"}):u.jsx(vI,{className:"h-4 w-4"}),an?"Mostrar":"Censurar"]}),u.jsxs("button",{type:"button",onClick:Gd,disabled:cr||!!ur||an,className:`inline-flex items-center justify-center gap-2 rounded-full px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition ${cr||ur||an?"bg-slate-300 cursor-not-allowed":"bg-rose-600 hover:bg-rose-700"}`,children:[u.jsx(bI,{className:"h-4 w-4"}),"Exportar PDF"]})]})]}),ur&&u.jsx("div",{className:"mt-4 rounded-xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:ur}),cr&&u.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"Carregando dados do perodo..."})]}),u.jsxs("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[u.jsx("article",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Faturamento"}),u.jsx("p",{className:"mt-3 text-2xl font-semibold text-slate-900",children:an?"":ra(ft.resumo.faturamento)}),u.jsx("span",{className:"text-xs text-slate-400",children:"Somente confirmadas"})]}),u.jsx("span",{className:"rounded-full bg-blue-50 p-3 text-blue-600",children:u.jsx(Bg,{className:"h-5 w-5"})})]})}),u.jsx("article",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Ticket mdio"}),u.jsx("p",{className:"mt-3 text-2xl font-semibold text-slate-900",children:an?"":ra(ft.resumo.ticketMedio)}),u.jsx("span",{className:"text-xs text-slate-400",children:"Confirmadas"})]}),u.jsx("span",{className:"rounded-full bg-slate-100 p-3 text-slate-600",children:u.jsx(Zw,{className:"h-5 w-5"})})]})}),u.jsx("article",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Participantes"}),u.jsx("p",{className:"mt-3 text-3xl font-semibold text-slate-900",children:ft.resumo.participantes}),u.jsx("span",{className:"text-xs text-slate-400",children:"Confirmadas"})]}),u.jsx("span",{className:"rounded-full bg-indigo-50 p-3 text-indigo-600",children:u.jsx(Hg,{className:"h-5 w-5"})})]})})]}),u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Faturamento por dia"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Confirmadas no perodo."})]}),u.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:["Total: ",an?"":ra(ft.resumo.faturamento)]})]}),u.jsx("div",{className:"mt-4 overflow-x-auto",children:an?u.jsx("div",{className:"flex min-h-[180px] items-center justify-center rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-10 text-center text-sm text-slate-500",children:"Valores censurados. Clique no cone de olho para exibir."}):(()=>{const C=Math.max(0,...ft.porDia.map(L=>L.valor));return ft.porDia.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Nenhum dado no perodo."}):u.jsxs("div",{className:"relative min-w-max pb-2",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 flex flex-col justify-between",children:Array.from({length:5}).map((L,W)=>u.jsx("div",{className:"border-t border-slate-100"},W))}),u.jsx("div",{className:"relative flex items-end gap-2 min-w-max",children:ft.porDia.map(L=>{const W=C>0?Math.round(L.valor/C*140):0,ee=L.valor>0,X=L.reservas>0?L.valor/L.reservas:0,Oe=L.participantes+L.participantesPreReservas;return u.jsxs("div",{className:"group relative flex flex-col items-center",children:[u.jsx("div",{style:{height:"140px"},className:"flex items-end",children:ee?u.jsx("div",{className:"w-7 rounded-t bg-blue-600",style:{height:`${Math.max(2,W)}px`}}):u.jsx("div",{className:"w-7 rounded-t bg-slate-200",style:{height:"2px"}})}),u.jsxs("div",{className:"pointer-events-none absolute -top-2 left-1/2 z-10 w-56 -translate-x-1/2 -translate-y-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 opacity-0 shadow-lg transition group-hover:opacity-100",children:[u.jsx("p",{className:"font-semibold text-slate-900",children:Pt(L.data).format("DD/MM/YYYY")}),u.jsxs("div",{className:"mt-1 space-y-0.5",children:[u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Faturamento"}),u.jsx("span",{className:"font-semibold",children:ra(L.valor)})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Confirmadas"}),u.jsx("span",{className:"font-semibold",children:L.reservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Pr-reservas"}),u.jsx("span",{className:"font-semibold",children:L.preReservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3 border-t border-slate-100 pt-1",children:[u.jsx("span",{className:"text-slate-500",children:"Ticket mdio"}),u.jsx("span",{className:"font-semibold",children:ra(X)})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Participantes"}),u.jsx("span",{className:"font-semibold",children:Oe.toLocaleString("pt-BR")})]})]})]}),u.jsx("span",{className:"mt-1 text-[10px] font-medium text-slate-500",children:Pt(L.data).format("DD")})]},L.data)})})]})})()})]}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Reservas por dia"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Confirmadas e pr-reservas no perodo."})]}),u.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:["Total: ",(ft.resumo.confirmadas+ft.resumo.preReservas).toLocaleString("pt-BR")]})]}),u.jsx("div",{className:"mt-4 overflow-x-auto",children:(()=>{const C=Math.max(0,...ft.porDia.map(L=>L.reservas+L.preReservas));return ft.porDia.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Nenhum dado no perodo."}):u.jsxs("div",{className:"relative min-w-max pb-2",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 flex flex-col justify-between",children:Array.from({length:5}).map((L,W)=>u.jsx("div",{className:"border-t border-slate-100"},W))}),u.jsx("div",{className:"relative flex items-end gap-2 min-w-max",children:ft.porDia.map(L=>{const W=L.reservas+L.preReservas,ee=C>0?Math.round(L.reservas/C*140):0,X=C>0?Math.round(L.preReservas/C*140):0,Oe=L.participantes+L.participantesPreReservas;return u.jsxs("div",{className:"group relative flex flex-col items-center",children:[u.jsxs("div",{className:"flex w-7 flex-col justify-end",style:{height:"140px"},children:[X>0&&u.jsx("div",{className:`w-7 bg-amber-400 ${ee===0?"rounded-t":""}`,style:{height:`${Math.max(2,X)}px`}}),ee>0&&u.jsx("div",{className:`w-7 bg-blue-600 ${X===0?"rounded-t":""}`,style:{height:`${Math.max(2,ee)}px`}}),W===0&&u.jsx("div",{className:"w-7 rounded-t bg-slate-200",style:{height:"2px"}})]}),u.jsxs("div",{className:"pointer-events-none absolute -top-2 left-1/2 z-10 w-52 -translate-x-1/2 -translate-y-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 opacity-0 shadow-lg transition group-hover:opacity-100",children:[u.jsx("p",{className:"font-semibold text-slate-900",children:Pt(L.data).format("DD/MM/YYYY")}),u.jsxs("div",{className:"mt-1 space-y-0.5",children:[u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsxs("span",{className:"inline-flex items-center gap-2 text-slate-600",children:[u.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-blue-600"}),"Confirmadas"]}),u.jsx("span",{className:"font-semibold",children:L.reservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsxs("span",{className:"inline-flex items-center gap-2 text-slate-600",children:[u.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400"}),"Pr-reservas"]}),u.jsx("span",{className:"font-semibold",children:L.preReservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3 border-t border-slate-100 pt-1",children:[u.jsx("span",{className:"text-slate-500",children:"Total"}),u.jsx("span",{className:"font-semibold",children:W.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Participantes"}),u.jsx("span",{className:"font-semibold",children:Oe.toLocaleString("pt-BR")})]})]})]}),u.jsx("span",{className:"mt-1 text-[10px] font-medium text-slate-500",children:Pt(L.data).format("DD")})]},L.data)})})]})})()}),u.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs font-semibold text-slate-500",children:[u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-blue-600"}),"Confirmadas"]}),u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400"}),"Pr-reservas"]})]})]}),u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Dados por atividade"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Dados completos por atividade no perodo."})]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[u.jsxs("select",{value:dr,onChange:v=>jr(v.target.value),className:"rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"faturamento",disabled:an,children:"Faturamento"}),u.jsx("option",{value:"confirmadas",children:"Confirmadas"}),u.jsx("option",{value:"pre_reservas",children:"Pr-reservas"}),u.jsx("option",{value:"participantes",children:"Participantes (total)"})]}),u.jsx("input",{value:En,onChange:v=>Ma(v.target.value),placeholder:"Filtrar atividade...",className:"rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]})]}),u.jsxs("p",{className:"mt-3 text-xs font-semibold uppercase text-slate-400",children:["Exibindo ",ls.length.toLocaleString("pt-BR")," de"," ",ft.porPacote.length.toLocaleString("pt-BR")," atividades"]}),u.jsx("div",{className:"mt-4 overflow-x-auto",children:(()=>{const C=dr==="faturamento"?"bg-blue-600":dr==="confirmadas"?"bg-emerald-600":dr==="pre_reservas"?"bg-amber-500":"bg-indigo-600",L=_a.map(ee=>fr(dr,ee)),W=Math.max(0,...L);return _a.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Nenhuma atividade encontrada."}):u.jsxs("div",{className:"relative min-w-max pb-2",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 flex flex-col justify-between",children:Array.from({length:5}).map((ee,X)=>u.jsx("div",{className:"border-t border-slate-100"},X))}),u.jsx("div",{className:"relative flex items-end gap-3 min-w-max",children:_a.map(ee=>{const X=fr(dr,ee),Oe=W>0?Math.round(X/W*140):0,et=ee.participantes+ee.participantesPreReservas,nn=ee.reservas>0?ee.valor/ee.reservas:0;return u.jsxs("div",{className:"group relative flex w-20 flex-col items-center",children:[u.jsx("div",{style:{height:"140px"},className:"flex items-end",children:X>0?u.jsx("div",{className:`w-12 rounded-t ${C}`,style:{height:`${Math.max(2,Oe)}px`}}):u.jsx("div",{className:"w-12 rounded-t bg-slate-200",style:{height:"2px"}})}),u.jsxs("div",{className:"pointer-events-none absolute -top-2 left-1/2 z-10 w-64 -translate-x-1/2 -translate-y-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 opacity-0 shadow-lg transition group-hover:opacity-100",children:[u.jsx("p",{className:"font-semibold text-slate-900",children:ee.nome}),u.jsxs("div",{className:"mt-1 space-y-0.5",children:[u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Faturamento"}),u.jsx("span",{className:"font-semibold",children:an?"":ra(ee.valor)})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Confirmadas"}),u.jsx("span",{className:"font-semibold",children:ee.reservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Pr-reservas"}),u.jsx("span",{className:"font-semibold",children:ee.preReservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Participantes"}),u.jsx("span",{className:"font-semibold",children:et.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3 border-t border-slate-100 pt-1",children:[u.jsx("span",{className:"text-slate-500",children:"Ticket mdio"}),u.jsx("span",{className:"font-semibold",children:an?"":ra(nn)})]})]})]}),u.jsx("span",{title:ee.nome,className:"mt-2 w-20 truncate text-center text-[10px] font-medium text-slate-500",children:ee.nome})]},ee.nome)})})]})})()})]}),u.jsx("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm lg:col-span-2",children:an?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Dados por cliente"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Clientes e valores censurados."})]})}),u.jsx("div",{className:"mt-4 flex min-h-[180px] items-center justify-center rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-10 text-center text-sm text-slate-500",children:"Informaes de clientes ocultas. Clique no cone de olho para exibir."})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Dados por cliente"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Dados completos por cliente no perodo."})]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[u.jsxs("select",{value:Zr,onChange:v=>bn(v.target.value),className:"rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"faturamento",disabled:an,children:"Faturamento"}),u.jsx("option",{value:"confirmadas",children:"Confirmadas"}),u.jsx("option",{value:"pre_reservas",children:"Pr-reservas"}),u.jsx("option",{value:"participantes",children:"Participantes (total)"})]}),u.jsx("input",{value:xa,onChange:v=>er(v.target.value),placeholder:"Filtrar cliente, CPF ou telefone...",className:"rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]})]}),u.jsxs("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("p",{className:"text-xs font-semibold uppercase text-slate-400",children:["Exibindo ",zr.length.toLocaleString("pt-BR")," de"," ",wr.length.toLocaleString("pt-BR")," clientes",!hr&&xa.trim().length===0?" (top 30)":""]}),u.jsx("button",{type:"button",onClick:()=>_s(v=>!v),className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50",children:hr?"Mostrar top 30":"Mostrar todos"})]}),u.jsx("div",{className:"mt-4 overflow-x-auto",children:(()=>{const C=Zr==="faturamento"?"bg-blue-600":Zr==="confirmadas"?"bg-emerald-600":Zr==="pre_reservas"?"bg-amber-500":"bg-indigo-600",L=zr.map(ee=>fr(Zr,ee)),W=Math.max(0,...L);return zr.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Nenhum cliente encontrado."}):u.jsxs("div",{className:"relative min-w-max pb-2",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 flex flex-col justify-between",children:Array.from({length:5}).map((ee,X)=>u.jsx("div",{className:"border-t border-slate-100"},X))}),u.jsx("div",{className:"relative flex items-end gap-3 min-w-max",children:zr.map(ee=>{const X=fr(Zr,ee),Oe=W>0?Math.round(X/W*140):0,et=ee.participantes+ee.participantesPreReservas,nn=ee.reservas>0?ee.valor/ee.reservas:0,ot=ee.cpf||ee.telefone||ee.chave,Zt=(ee.nome||ot||"---").split(" ")[0];return u.jsxs("div",{className:"group relative flex w-16 flex-col items-center",children:[u.jsx("div",{style:{height:"140px"},className:"flex items-end",children:X>0?u.jsx("div",{className:`w-10 rounded-t ${C}`,style:{height:`${Math.max(2,Oe)}px`}}):u.jsx("div",{className:"w-10 rounded-t bg-slate-200",style:{height:"2px"}})}),u.jsxs("div",{className:"pointer-events-none absolute -top-2 left-1/2 z-10 w-72 -translate-x-1/2 -translate-y-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 opacity-0 shadow-lg transition group-hover:opacity-100",children:[u.jsx("p",{className:"font-semibold text-slate-900",children:ee.nome||"---"}),u.jsx("p",{className:"mt-0.5 text-[11px] text-slate-500",children:ee.cpf||ee.telefone||"---"}),u.jsxs("div",{className:"mt-1 space-y-0.5",children:[u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Faturamento"}),u.jsx("span",{className:"font-semibold",children:ra(ee.valor)})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Confirmadas"}),u.jsx("span",{className:"font-semibold",children:ee.reservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Pr-reservas"}),u.jsx("span",{className:"font-semibold",children:ee.preReservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Participantes"}),u.jsx("span",{className:"font-semibold",children:et.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3 border-t border-slate-100 pt-1",children:[u.jsx("span",{className:"text-slate-500",children:"Ticket mdio"}),u.jsx("span",{className:"font-semibold",children:ra(nn)})]})]})]}),u.jsx("span",{title:ee.nome||ot,className:"mt-2 w-16 truncate text-center text-[10px] font-medium text-slate-500",children:Zt})]},ot)})})]})})()})]})})]})]}),n==="reservas"&&u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:`grid gap-6 ${m?"lg:grid-cols-[320px_minmax(0,1fr)]":"lg:grid-cols-1"}`,children:[m&&u.jsxs("div",{className:"relative lg:min-w-0",children:[u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("button",{type:"button",onClick:()=>pi(-1),className:"rounded-full border border-slate-200 p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-700",children:u.jsx(e1,{className:"h-4 w-4"})}),u.jsx("h2",{className:"text-sm font-semibold text-slate-700",children:Pt(new Date(Ua,Fn)).format("MMMM [de] YYYY")}),u.jsx("button",{type:"button",onClick:()=>pi(1),className:"rounded-full border border-slate-200 p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-700",children:u.jsx(t1,{className:"h-4 w-4"})})]}),u.jsx("div",{className:"mt-4 grid grid-cols-7 gap-2 text-xs font-semibold uppercase tracking-wide text-slate-400",children:SI.map(v=>u.jsx("span",{className:"text-center",children:v},v))}),u.jsx("div",{className:"mt-2 grid grid-cols-7 gap-2 text-sm",children:Ts.map((v,C)=>{const L=!!v&&l.getDate()===v&&l.getMonth()===Fn&&l.getFullYear()===Ua;return u.jsx("button",{type:"button",disabled:!v,className:`flex h-10 items-center justify-center rounded-full text-xs font-medium transition ${v?L?"bg-blue-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-blue-50 hover:text-blue-600":"cursor-default text-slate-300"}`,onClick:()=>v&&d(new Date(Ua,Fn,v)),children:v||""},C)})}),u.jsxs("p",{className:"mt-4 rounded-xl bg-slate-50 px-3 py-2 text-xs text-slate-500",children:["Dia selecionado: ",u.jsx("span",{className:"font-semibold text-slate-700",children:Pt(l).format("DD/MM/YYYY")})]}),u.jsxs("button",{onClick:()=>or(!0),className:"mt-3 flex w-full items-center justify-center gap-2 rounded-full border border-orange-200 bg-orange-50 px-3 py-2 text-sm font-medium text-orange-700 transition hover:bg-orange-100",children:[u.jsx(dc,{className:"h-4 w-4"}),"Editar disponibilidade"]})]}),u.jsx("button",{type:"button",onClick:()=>p(!1),className:"hidden lg:flex absolute -right-3 top-1/2 -translate-y-1/2 h-10 w-10 items-center justify-center rounded-full border border-slate-200 bg-white text-slate-600 shadow-sm transition hover:bg-slate-50","aria-label":"Recolher calendrio",title:"Recolher calendrio",children:u.jsx(e1,{className:"h-4 w-4"})})]}),u.jsxs("article",{className:"min-w-0 rounded-2xl border border-slate-200 bg-white shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-4 border-b border-slate-200 px-5 py-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Reservas de ",Pt(l).format("DD/MM/YYYY")]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Resumo em tempo real das reservas do dia."})]}),u.jsxs("div",{className:"flex flex-wrap items-start gap-3 sm:items-center sm:gap-4",children:[u.jsxs("button",{type:"button",onClick:()=>p(v=>!v),className:"inline-flex items-center gap-2 self-start rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 whitespace-nowrap sm:self-auto",children:[u.jsx(zg,{className:"h-4 w-4"}),m?"Recolher calendrio":"Mostrar calendrio"]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-2",children:[u.jsxs("select",{value:fe,onChange:v=>U(v.target.value),className:"flex-1 rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"",children:"Todas as atividades"}),ws.map(v=>u.jsx("option",{value:v,children:v},v))]}),u.jsxs("select",{value:k,onChange:v=>R(v.target.value),className:"flex-1 rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"todos",children:"Chegada: todos"}),u.jsx("option",{value:"chegou",children:"Chegou"}),u.jsx("option",{value:"nao",children:"No chegou"})]})]}),u.jsxs("button",{onClick:$o,className:"flex items-center gap-2 self-start rounded-full bg-blue-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-700 whitespace-nowrap sm:self-auto sm:ml-2",children:[u.jsx(af,{className:"h-4 w-4"}),"Reserva manual"]})]})]}),u.jsx("div",{className:"hidden lg:block overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-slate-100 text-sm",children:[u.jsx("thead",{className:"bg-slate-50 text-xs font-semibold uppercase tracking-wide text-slate-500",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left",children:"Reserva"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"N Participantes"}),u.jsx("th",{className:"px-4 py-3 text-center",children:"Pet"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"CPF"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Pacote"}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Valor"}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Aes"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:Object.keys(g).length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-sm text-slate-500",children:"Nenhuma reserva encontrada para esta data."})}):Object.keys(g).sort((v,C)=>{const L=v.toLowerCase().includes("especificado"),W=C.toLowerCase().includes("especificado");return L&&!W?1:!L&&W?-1:v.localeCompare(C)}).map(v=>{const L=g[v].filter(X=>{const Oe=(X.atividade??"").toLowerCase(),et=la?Oe.includes(la):!0,nn=k==="todos"?!0:k==="chegou"?X.chegou===!0:X.chegou!==!0;return et&&nn});if(L.length===0)return null;const W=L.reduce((X,Oe)=>X+Er(Oe),0),ee=v.toLowerCase().includes("especificado")?"Sem horrio definido":v;return u.jsxs(ke.Fragment,{children:[u.jsx("tr",{className:"bg-slate-50/70",children:u.jsx("td",{colSpan:7,className:"px-6 py-3 text-sm font-semibold text-slate-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{children:ee}),u.jsxs("span",{className:"text-xs font-normal text-slate-500",children:[W," participante(s)"]})]})})}),L.map(X=>{const Oe=Er(X),et=yi(X),nn=uf(X),ot=c1(X),Zt=Array.isArray(X.mesasSelecionadas)?X.mesasSelecionadas:[],sn=X.chegou===!0,Wn=sn?"bg-emerald-100/70 border-emerald-300":nn?"bg-emerald-50/50 border-emerald-200":pc(X)?"bg-amber-50/30 border-amber-200":"bg-white border-slate-200",un=Qa(X),nr=qi(X.valor),Gt=(X.telefone||"").replace(/\D/g,""),fn=!!(Gt.startsWith("55")?Gt:Gt?`55${Gt}`:""),kt=X.id??`${X.nome||"reserva"}-${X.cpf||"cpf"}-${X.horario}-${Ms(X.data)}`,Pe=Yo(X),mt=Pe.length>0,rn=Ml(X),Ct=B===kt;return u.jsxs(ke.Fragment,{children:[u.jsxs("tr",{className:`transition hover:bg-slate-50/70 ${Wn}`,children:[u.jsxs("td",{className:"px-4 py-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium text-slate-900",children:X.nome||"---"}),u.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-semibold ${ot.classes}`,children:ot.label}),sn&&u.jsx("span",{className:"inline-flex items-center rounded-full border border-emerald-200 bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700",children:"Chegou"}),mt&&u.jsxs("button",{type:"button",onClick:()=>gi(kt),className:`inline-flex items-center gap-1 rounded-full border px-3 py-1 text-[11px] font-semibold transition ${Ct?"border-amber-400 bg-amber-50 text-amber-700":rn?"border-amber-200 text-amber-600 hover:bg-amber-50":"border-slate-200 text-slate-500 hover:border-slate-300 hover:text-slate-700"}`,"aria-label":"Ver respostas personalizadas","aria-pressed":Ct,children:[u.jsx(n1,{className:"h-3.5 w-3.5"}),u.jsx("span",{className:"hidden sm:inline",children:Ct?"Fechar":"Respostas"})]})]}),Zt.length>0&&u.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Zt.map(zt=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-600",children:[u.jsx(Xw,{className:"h-3 w-3 text-slate-400"}),zt.area," - ",zt.nome," (",zt.capacidade,")"]},`${kt}-${zt.id}`))})]}),u.jsx("td",{className:"px-4 py-4",children:u.jsxs("div",{className:"text-xs space-y-0.5",children:[et.length>0?et.map(zt=>u.jsxs("div",{children:[zt.label,": ",u.jsx("span",{className:"font-medium",children:zt.quantidade})]},zt.key)):u.jsx("div",{className:"text-slate-400",children:"Sem participantes."}),u.jsxs("div",{className:"border-t pt-0.5 mt-1 font-semibold text-slate-900",children:["Total: ",Oe]})]})}),u.jsx("td",{className:"px-4 py-4 text-center",children:u.jsx("span",{className:"text-xl",children:X.temPet?"":""})}),u.jsx("td",{className:"px-4 py-4 text-slate-600 whitespace-nowrap",children:X.cpf||"---"}),u.jsx("td",{className:"px-4 py-4",children:un==="---"?u.jsx("span",{className:"text-slate-500",children:"---"}):u.jsx("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2 py-1 text-xs font-medium text-slate-600",children:un})}),u.jsx("td",{className:"px-4 py-4 text-right font-medium text-slate-900",children:nr}),u.jsxs("td",{className:"px-4 py-4 text-right align-top",children:[u.jsx("div",{className:"relative inline-block text-left",children:u.jsx("button",{onClick:()=>Te(zt=>zt===kt?null:kt),className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-slate-200 text-slate-600 shadow-sm transition hover:bg-slate-50","aria-label":"Abrir aes da reserva","aria-haspopup":"true","aria-expanded":V===kt,children:u.jsx(yI,{className:"h-4 w-4"})})}),V===kt&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/30 px-4 py-8 backdrop-blur-sm",onClick:()=>Te(null),children:u.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-slate-200 bg-white shadow-2xl",onClick:zt=>zt.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Aes da reserva"}),u.jsx("button",{onClick:()=>Te(null),className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 text-slate-600 hover:bg-slate-50","aria-label":"Fechar",children:""})]}),u.jsxs("div",{className:"divide-y divide-slate-100",children:[u.jsxs("button",{onClick:()=>{qs(X),Te(null)},className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm text-slate-800 transition hover:bg-slate-50",children:[u.jsx(Jw,{className:"h-4 w-4 text-emerald-600"}),u.jsx("span",{children:sn?"Marcar como no chegou":"Marcar como chegou"})]}),X.linkPagamento&&u.jsxs("button",{onClick:()=>{window.open(X.linkPagamento,"_blank"),Te(null)},className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm text-slate-800 transition hover:bg-slate-50",children:[u.jsx(Bg,{className:"h-4 w-4 text-orange-500"}),u.jsx("span",{children:"Concluir pagamento"})]}),u.jsxs("button",{onClick:()=>{tr(X,Oe,un,nr),Te(null)},disabled:!fn,className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm text-slate-800 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx(uc,{className:"h-4 w-4 text-emerald-600"}),u.jsx("span",{children:"WhatsApp"})]}),u.jsxs("button",{onClick:()=>{Dl(X),Te(null)},className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm text-slate-800 transition hover:bg-slate-50",children:[u.jsx(dc,{className:"h-4 w-4 text-blue-600"}),u.jsx("span",{children:"Editar"})]}),u.jsxs("button",{onClick:()=>{X.id&&Ss(X.id),Te(null)},className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm text-rose-700 transition hover:bg-rose-50",children:[u.jsx(hc,{className:"h-4 w-4"}),u.jsx("span",{children:"Excluir"})]})]})]})})]})]}),Ct&&Pe.length>0&&u.jsx("tr",{className:"bg-amber-50/60",children:u.jsx("td",{colSpan:7,className:"px-6 pb-4",children:u.jsxs("div",{className:"rounded-2xl border border-amber-200 bg-white p-4 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Respostas do cliente"}),u.jsx("button",{type:"button",onClick:()=>gi(kt),className:"text-xs font-semibold text-amber-700 transition hover:text-amber-900",children:"Fechar"})]}),u.jsx("div",{className:"mt-3",children:$s(Pe)})]})})})]},kt)})]},v)})})]})}),u.jsx("div",{className:"lg:hidden space-y-4",children:Object.keys(g).length===0?u.jsx("div",{className:"text-center py-8 text-slate-500",children:"Nenhuma reserva encontrada para esta data."}):Object.keys(g).sort((v,C)=>{const L=v.toLowerCase().includes("especificado"),W=C.toLowerCase().includes("especificado");return L&&!W?1:!L&&W?-1:v.localeCompare(C)}).map(v=>{const L=g[v].filter(X=>{const Oe=(X.atividade??"").toLowerCase(),et=la?Oe.includes(la):!0,nn=k==="todos"?!0:k==="chegou"?X.chegou===!0:X.chegou!==!0;return et&&nn});if(L.length===0)return null;const W=L.reduce((X,Oe)=>X+Er(Oe),0),ee=v.toLowerCase().includes("especificado")?"Sem horrio definido":v;return u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"bg-slate-100 px-4 py-2 rounded-lg",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h4",{className:"font-semibold text-slate-700",children:ee}),u.jsxs("span",{className:"text-sm text-slate-500",children:[W," participante(s)"]})]})}),L.map(X=>{const Oe=Er(X),et=yi(X),nn=uf(X),ot=c1(X),Zt=Array.isArray(X.mesasSelecionadas)?X.mesasSelecionadas:[],sn=X.chegou===!0,Wn=sn?"bg-emerald-100/70 border-emerald-300":nn?"bg-emerald-50/50 border-emerald-200":pc(X)?"bg-amber-50/30 border-amber-200":"bg-white border-slate-200",un=Qa(X),nr=qi(X.valor),Gt=(X.telefone||"").replace(/\D/g,""),fn=!!(Gt.startsWith("55")?Gt:Gt?`55${Gt}`:""),kt=X.id??`${X.nome||"reserva"}-${X.cpf||"cpf"}-${X.horario}-${Ms(X.data)}`,Pe=Yo(X),mt=Pe.length>0,rn=B===kt;return u.jsxs("div",{className:`rounded-lg border p-4 shadow-sm ${Wn}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-3",children:[u.jsxs("div",{className:"flex-1 pr-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h5",{className:"font-medium text-slate-900",children:X.nome||"---"}),u.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-[10px] font-semibold ${ot.classes}`,children:ot.label}),sn&&u.jsx("span",{className:"inline-flex items-center rounded-full border border-emerald-200 bg-emerald-50 px-2 py-0.5 text-[10px] font-semibold text-emerald-700",children:"Chegou"}),mt&&u.jsxs("button",{type:"button",onClick:()=>gi(kt),className:`inline-flex items-center gap-1 rounded-full border px-2 py-1 text-[10px] font-semibold transition ${rn?"border-blue-400 bg-blue-50 text-blue-700":"border-blue-200 bg-blue-50 text-blue-600 hover:bg-blue-100"}`,"aria-label":"Ver respostas personalizadas","aria-pressed":rn,children:[u.jsx(n1,{className:"h-3 w-3"}),u.jsx("span",{children:rn?"Fechar":"Ver"})]})]}),Zt.length>0&&u.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Zt.map(Ct=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-white px-2 py-0.5 text-[10px] text-slate-600",children:[u.jsx(Xw,{className:"h-3 w-3 text-slate-400"}),Ct.area," - ",Ct.nome," (",Ct.capacidade,")"]},`${kt}-${Ct.id}-mobile`))})]}),u.jsxs("div",{className:"text-right text-xs space-y-0.5",children:[et.length>0?et.map(Ct=>u.jsxs("div",{children:[Ct.label,": ",u.jsx("span",{className:"font-medium",children:Ct.quantidade})]},Ct.key)):u.jsx("div",{className:"text-slate-400",children:"Sem participantes."}),u.jsxs("div",{className:"border-t pt-0.5 mt-1 font-semibold text-slate-900",children:["Total: ",Oe]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"CPF"}),u.jsx("span",{className:"text-sm font-medium text-slate-700",children:X.cpf||"---"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Pacote"}),un==="---"?u.jsx("span",{className:"text-sm text-slate-500",children:"---"}):u.jsx("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2 py-1 text-xs font-medium text-slate-600",children:un})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Pet"}),u.jsx("span",{className:"text-lg",children:X.temPet?"":""})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Valor"}),u.jsx("span",{className:"font-medium text-slate-900",children:nr})]})]}),rn&&Pe.length>0&&u.jsxs("div",{className:"mb-3 rounded-2xl border border-amber-200 bg-amber-50/50 p-3",children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-amber-700",children:"Respostas do cliente"}),u.jsx("div",{className:"mt-2",children:$s(Pe)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs text-slate-500",children:X.telefone?`Tel: ${X.telefone}`:"Tel: ---"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>qs(X),className:`inline-flex h-9 w-9 items-center justify-center rounded-full border transition ${sn?"border-emerald-500 bg-emerald-100 text-emerald-700 hover:bg-emerald-200":"border-slate-200 text-slate-600 hover:border-emerald-300 hover:text-emerald-600"}`,"aria-label":sn?"Marcar como no chegou":"Marcar como chegou",title:sn?"Marcar como no chegou":"Marcar como chegou",children:u.jsx(Jw,{className:"h-4 w-4"})}),X.linkPagamento&&u.jsx("button",{onClick:()=>window.open(X.linkPagamento,"_blank"),className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-orange-200 bg-orange-50 text-orange-700 transition hover:bg-orange-100","aria-label":"Concluir pagamento",title:"Concluir pagamento",children:u.jsx(Bg,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>tr(X,Oe,un,nr),disabled:!fn,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-emerald-200 bg-emerald-50 text-emerald-700 transition hover:bg-emerald-100 disabled:cursor-not-allowed disabled:opacity-40","aria-label":"Enviar mensagem no WhatsApp",title:"WhatsApp",children:u.jsx(uc,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>Dl(X),className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-slate-200 text-slate-600 transition hover:border-blue-300 hover:text-blue-600","aria-label":"Editar reserva",title:"Editar",children:u.jsx(dc,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>X.id&&Ss(X.id),className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-rose-200 bg-rose-50 text-rose-600 transition hover:bg-rose-100","aria-label":"Excluir reserva",title:"Excluir",children:u.jsx(hc,{className:"h-4 w-4"})})]})]})]},kt)})]},v)})})]})]}),K&&z&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-slate-900/60 px-2 py-2 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-3xl my-4 overflow-hidden rounded-2xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 sm:px-6 py-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:ae?"Editar reserva":"Nova reserva manual"}),u.jsx("button",{onClick:()=>ge(!1),className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:"x"})]}),u.jsxs("div",{className:"grid gap-4 px-4 sm:px-6 py-5 md:grid-cols-2 max-h-[80vh] overflow-y-auto",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Nome",u.jsx("input",{type:"text",value:z.nome,onChange:v=>q({...z,nome:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["CPF",u.jsx("input",{type:"text",value:z.cpf,onChange:v=>q({...z,cpf:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Telefone",u.jsx("input",{type:"text",value:z.telefone,onChange:v=>q({...z,telefone:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Data",u.jsx("input",{type:"date",value:z.data,onChange:v=>q({...z,data:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Participantes"}),u.jsxs("div",{className:"mt-2 grid gap-3 sm:grid-cols-3",children:[Ut.map(v=>{const C=yo(v),L=zc(z.participantesPorTipo,v)??0;return u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:[v.nome,u.jsx("input",{type:"number",min:0,value:L,onChange:W=>q(ee=>{if(!ee)return ee;const X={...ee.participantesPorTipo??{},[C]:Number(W.target.value)};return{...ee,participantesPorTipo:X}}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]},C)}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["No pagante",u.jsx("input",{type:"number",min:0,value:z.naoPagante??0,onChange:v=>q(C=>C&&{...C,naoPagante:Number(v.target.value)}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]})]})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Horrio",u.jsx("input",{type:"time",value:z.horario,onChange:v=>q({...z,horario:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Atividade",u.jsxs("select",{value:z.atividade,onChange:v=>q({...z,atividade:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"",children:"Todas as atividades"}),u.jsx("option",{value:"Trilha Ecolgica",children:"Trilha Ecolgica"}),u.jsx("option",{value:"Brunch Gastronmico",children:"Brunch Gastronmico"}),u.jsx("option",{value:"Brunch + trilha",children:"Brunch + trilha"})]})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["rea da mesa",u.jsxs("select",{value:z.areaMesa??"",onChange:v=>q({...z,areaMesa:v.target.value,mesaPrincipalId:null,mesaSecundariaId:null}),disabled:D||_.length===0,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:cursor-not-allowed disabled:bg-slate-100",children:[u.jsx("option",{value:"",children:_.length===0?"Cadastre mesas para habilitar":"Selecione a rea"}),hn.map(v=>u.jsx("option",{value:v,children:v},v))]}),D&&u.jsx("span",{className:"mt-1 block text-[11px] font-normal text-slate-500",children:"Carregando mesas cadastradas..."})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Mesa principal",u.jsxs("select",{value:z.mesaPrincipalId??"",onChange:v=>{const C=v.target.value||null;q({...z,mesaPrincipalId:C,mesaSecundariaId:C&&z.mesaSecundariaId===C?null:z.mesaSecundariaId??null})},disabled:!z.areaMesa||Fs.length===0,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:cursor-not-allowed disabled:bg-slate-100",children:[u.jsx("option",{value:"",children:"Selecione a mesa principal"}),Fs.map(v=>u.jsxs("option",{value:v.id,children:[v.nome,"  ",v.capacidade," pessoa(s)"]},v.id))]})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Mesa complementar (opcional)",u.jsxs("select",{value:z.mesaSecundariaId??"",onChange:v=>q({...z,mesaSecundariaId:v.target.value||null}),disabled:!z.areaMesa||Fs.length===0||!z.mesaPrincipalId,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:cursor-not-allowed disabled:bg-slate-100",children:[u.jsx("option",{value:"",children:"Selecionar mesa complementar"}),Fs.filter(v=>v.id!==z.mesaPrincipalId).map(v=>u.jsxs("option",{value:v.id,children:[v.nome,"  ",v.capacidade," pessoa(s)"]},v.id))]}),u.jsx("span",{className:"mt-1 block text-[11px] font-normal text-slate-500",children:"Use somente se precisar somar capacidade."})]}),u.jsxs("div",{className:"md:col-span-2 rounded-xl border border-slate-200 bg-slate-50 p-3 text-xs text-slate-600",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-900",children:"Participantes"}),u.jsx("p",{children:Va})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-900",children:"Capacidade das mesas"}),u.jsx("p",{children:Ya>0?`${Ya} pessoa(s)`:br?`${br.capacidade} pessoa(s)`:"0 pessoa(s)"})]})]}),os&&u.jsx("p",{className:"mt-2 rounded bg-amber-100 px-2 py-1 text-amber-700",children:"A mesa principal no comporta todos os participantes. Escolha uma mesa complementar da mesma rea."}),Bs&&u.jsx("p",{className:"mt-2 rounded bg-rose-100 px-2 py-1 text-rose-700",children:"A soma das mesas ainda  menor que o total de participantes."})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500",children:["Pet",u.jsxs("div",{className:"mt-2 flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600",children:[u.jsx("input",{type:"radio",name:"editarPet",checked:z.temPet===!0,onChange:()=>q({...z,temPet:!0})}),"Sim"]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600",children:[u.jsx("input",{type:"radio",name:"editarPet",checked:z.temPet===!1,onChange:()=>q({...z,temPet:!1})}),"No"]})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 border-t border-slate-200 bg-slate-50 px-4 sm:px-6 py-4",children:[u.jsx("button",{onClick:()=>ge(!1),className:"w-full sm:w-auto rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Cancelar"}),u.jsx("button",{onClick:Il,className:"w-full sm:w-auto rounded-full bg-blue-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:bg-blue-700",children:"Salvar reserva"})]})]})})]}),n==="pacotes"&&u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Pacotes cadastrados"}),u.jsxs("p",{className:"text-sm text-slate-500",children:[_r," pacotes ativos prontos para venda."]})]}),u.jsxs("button",{onClick:kl,className:"flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-700",children:[u.jsx(af,{className:"h-4 w-4"}),"Novo pacote"]})]}),ct.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-slate-300 bg-white p-8 text-center text-slate-500",children:'Nenhum pacote cadastrado. Clique em "Novo pacote" para comear.'}):u.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:ct.map(v=>{const C=v.dias.length>0?v.dias.map(ee=>o1[ee]).join(", "):"Todos os dias",L=v.modoHorario==="intervalo"&&v.horarioInicio&&v.horarioFim?`${v.horarioInicio} - ${v.horarioFim} (faixa)`:v.horarios.join(", ")||"Sob consulta",W=Ut.map(ee=>({key:yo(ee),nome:ee.nome,valor:lf(v.precosPorTipo,ee,v)}));return u.jsxs("article",{className:"flex h-full flex-col justify-between rounded-2xl border border-slate-200 bg-white p-5 shadow-sm transition hover:-translate-y-1 hover:shadow-lg",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:v.tipo||"Atividade"}),u.jsx("h3",{className:"mt-1 text-lg font-semibold text-slate-900",children:v.nome})]}),u.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${v.aceitaPet?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-600"}`,children:v.aceitaPet?"Aceita pets":"No aceita pets"})]}),u.jsxs("dl",{className:"space-y-3 text-sm text-slate-600",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsx("dt",{className:"font-medium text-slate-500",children:"Dias"}),u.jsx("dd",{className:"text-right text-slate-800",children:C})]}),u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsx("dt",{className:"font-medium text-slate-500",children:"Horrio"}),u.jsx("dd",{className:"text-right text-slate-800",children:L})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Valores"}),u.jsx("div",{className:"mt-1 flex flex-wrap gap-2 text-xs text-slate-600",children:W.map(ee=>u.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1",children:[ee.nome," ",ra(ee.valor)]},ee.key))})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[u.jsx("span",{children:"Limite por horrio"}),u.jsx("span",{className:"font-semibold text-slate-800",children:v.limite})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[u.jsx("span",{children:"Datas bloqueadas"}),u.jsx("span",{className:"font-semibold text-slate-800",children:v.datasBloqueadas?.length??0})]})]})]}),u.jsxs("div",{className:"mt-5 flex items-center justify-between gap-3 border-t border-slate-200 pt-4",children:[u.jsxs("button",{onClick:()=>v.id&&Hd(v.id),className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-xs font-semibold text-rose-600 transition hover:bg-rose-100",children:[u.jsx(hc,{className:"h-3.5 w-3.5"}),"Excluir"]}),u.jsxs("button",{onClick:()=>Qo(v),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-blue-300 hover:text-blue-600",children:[u.jsx(dc,{className:"h-3.5 w-3.5"}),"Editar"]})]})]},v.id)})}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 border-b border-slate-100 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Combos de pacotes"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Agrupe atividades existentes e oferea um valor especial aos clientes."})]}),u.jsxs("button",{onClick:Yd,disabled:ct.length===0,className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${ct.length===0?"bg-slate-300 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:[u.jsx(Fg,{className:"h-4 w-4"}),"Novo combo"]})]}),ct.length===0?u.jsx("p",{className:"py-6 text-sm text-slate-500",children:"Cadastre ao menos um pacote antes de criar combos."}):Vn.length===0?u.jsx("p",{className:"py-6 text-sm text-slate-500",children:"Nenhum combo cadastrado at o momento."}):u.jsx("div",{className:"mt-4 space-y-4",children:Vn.map(v=>{const C=v.pacoteIds.map(W=>W?oa.get(W)?.nome??"Pacote removido":"").filter(W=>W&&W.length>0),L=Ut.map(W=>({key:yo(W),nome:W.nome,valor:lf(v.precosPorTipo,W,v)}));return u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("h4",{className:"text-base font-semibold text-slate-900",children:v.nome}),u.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${v.ativo!==!1?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-500"}`,children:v.ativo!==!1?"Ativo":"Inativo"})]}),u.jsx("div",{className:"space-y-1 text-sm text-slate-600",children:L.map(W=>u.jsxs("p",{children:[u.jsxs("span",{className:"font-semibold text-slate-700",children:[W.nome,":"]})," ",ra(W.valor)]},W.key))}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Inclui: ",C.length>0?C.join(", "):"Pacotes removidos"]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>Rm(v),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 transition hover:border-blue-300 hover:text-blue-600",children:[u.jsx(dc,{className:"h-3.5 w-3.5"}),"Editar"]}),u.jsxs("button",{onClick:()=>v.id&&Dm(v.id),className:"inline-flex items-center gap-2 rounded-full border border-rose-200 px-3 py-1.5 text-xs font-semibold text-rose-600 transition hover:bg-rose-50",children:[u.jsx(hc,{className:"h-3.5 w-3.5"}),"Excluir"]})]})]}),u.jsxs("div",{className:"mt-4 flex flex-col gap-3 border-t border-dashed border-slate-200 pt-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Ative ou desative o combo rapidamente."}),u.jsx("button",{onClick:()=>jm(v),className:`inline-flex items-center justify-center rounded-full px-4 py-2 text-xs font-semibold transition ${v.ativo!==!1?"bg-slate-100 text-slate-600 hover:bg-slate-200":"bg-emerald-600 text-white hover:bg-emerald-700"}`,children:v.ativo!==!1?"Desativar combo":"Ativar combo"})]})]},v.id??v.nome)})})]}),cn&&We&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-slate-900/60 px-2 py-2 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-3xl my-4 overflow-hidden rounded-2xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 sm:px-6 py-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:ya?"Editar pacote":"Novo pacote"}),u.jsx("button",{onClick:()=>{An(!1),wt(null),Qr("")},className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:"x"})]}),u.jsxs("div",{className:"grid gap-4 px-4 sm:px-6 py-5 md:grid-cols-2 max-h-[80vh] overflow-y-auto",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Nome da atividade",u.jsx("input",{value:We.nome,onChange:v=>wt(C=>({...C,nome:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Tipo de atividade",u.jsx("input",{value:We.tipo,onChange:v=>wt(C=>({...C,tipo:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Preos por tipo"}),u.jsx("div",{className:"mt-2 grid gap-3 sm:grid-cols-3",children:Ut.map(v=>{const C=yo(v),L=lf(We.precosPorTipo,v,We);return u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:[v.nome,u.jsx("input",{type:"number",value:L,onChange:W=>wt(ee=>{if(!ee)return ee;const X={...ee.precosPorTipo??{},[C]:Number(W.target.value)};return{...ee,precosPorTipo:X}}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]},C)})})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Limite por horrio",u.jsx("input",{type:"number",value:We.limite,onChange:v=>wt(C=>({...C,limite:Number(v.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500",children:["Poltica de pets",u.jsxs("div",{className:"mt-2 flex gap-4 text-xs font-medium text-slate-600",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"radio",name:"aceitaPet",checked:We.aceitaPet,onChange:()=>wt(v=>({...v,aceitaPet:!0}))}),"Aceita"]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"radio",name:"aceitaPet",checked:!We.aceitaPet,onChange:()=>wt(v=>({...v,aceitaPet:!1}))}),"No aceita"]})]})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500 md:col-span-2",children:["Dias disponveis",u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:o1.map((v,C)=>{const L=We.dias.includes(C);return u.jsx("button",{type:"button",onClick:()=>wt(W=>({...W,dias:L?W.dias.filter(ee=>ee!==C):[...W.dias,C]})),className:`rounded-full px-3 py-1 text-xs font-medium transition ${L?"bg-blue-600 text-white":"border border-slate-200 bg-slate-50 text-slate-500 hover:bg-slate-100"}`,children:v},v)})})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500 md:col-span-2",children:["Formato de horrios",u.jsxs("select",{value:We.modoHorario??"lista",onChange:v=>wt(C=>({...C,modoHorario:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"lista",children:"Horrios fixos"}),u.jsx("option",{value:"intervalo",children:"Faixa contnua"})]})]}),We.modoHorario==="intervalo"?u.jsxs("div",{className:"grid gap-4 md:col-span-2 md:grid-cols-2",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Horrio inicial",u.jsx("input",{type:"time",value:We.horarioInicio??"",onChange:v=>wt(C=>({...C,horarioInicio:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Horrio final",u.jsx("input",{type:"time",value:We.horarioFim??"",onChange:v=>wt(C=>({...C,horarioFim:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsx("p",{className:"md:col-span-2 rounded-xl bg-slate-50 px-3 py-2 text-xs text-slate-500",children:$a||"Informe horrio inicial e final para exibir apenas a faixa ao cliente."})]}):u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500 md:col-span-2",children:["Horrios disponveis",u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:CI.map(v=>{const C=We.horarios.includes(v);return u.jsx("button",{type:"button",onClick:()=>wt(L=>({...L,horarios:C?L.horarios.filter(W=>W!==v):[...L.horarios,v]})),className:`rounded-full px-3 py-1 text-xs font-medium transition ${C?"bg-blue-600 text-white":"border border-slate-200 bg-slate-50 text-slate-500 hover:bg-slate-100"}`,children:v},v)})})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500 md:col-span-2",children:["Datas sem disponibilidade",u.jsxs("div",{className:"mt-2 flex gap-2",children:[u.jsx("input",{type:"date",value:Pn,onChange:v=>Qr(v.target.value),className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"}),u.jsx("button",{type:"button",onClick:Jc,disabled:!Pn,className:`rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${Pn?"bg-blue-600 hover:bg-blue-700":"bg-slate-300 cursor-not-allowed"}`,children:"Adicionar"})]}),(We.datasBloqueadas?.length??0)>0?u.jsx("ul",{className:"mt-3 max-h-32 space-y-2 overflow-y-auto",children:We.datasBloqueadas?.map(v=>u.jsxs("li",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2 text-xs text-slate-600",children:[u.jsx("span",{children:Pt(v).format("DD/MM/YYYY")}),u.jsx("button",{type:"button",onClick:()=>eu(v),className:"rounded-full border border-rose-200 bg-rose-50 px-3 py-1 text-xs font-semibold text-rose-600 transition hover:bg-rose-100",children:"Remover"})]},v))}):u.jsx("p",{className:"mt-3 text-xs text-slate-400",children:"Nenhuma data bloqueada."})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500 md:col-span-2",children:["Perguntas personalizadas para o cliente",u.jsxs("div",{className:"mt-2 space-y-3",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",placeholder:"Ex: Juntar mesa?",value:gr.pergunta,onChange:v=>Ar(C=>({...C,pergunta:v.target.value})),className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"}),u.jsxs("select",{value:gr.tipo,onChange:v=>Ar(C=>({...C,tipo:v.target.value})),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"sim_nao",children:"Sim/No"}),u.jsx("option",{value:"texto",children:"Texto"})]}),u.jsxs("label",{className:"flex items-center gap-1 text-xs",children:[u.jsx("input",{type:"checkbox",checked:gr.obrigatoria,onChange:v=>Ar(C=>({...C,obrigatoria:v.target.checked}))}),"Obrigatria"]}),u.jsx("button",{type:"button",onClick:qd,disabled:!gr.pergunta.trim(),className:`rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${gr.pergunta.trim()?"bg-blue-600 hover:bg-blue-700":"bg-slate-300 cursor-not-allowed"}`,children:"Adicionar"})]}),(We.perguntasPersonalizadas?.length??0)>0?u.jsx("ul",{className:"space-y-2",children:We.perguntasPersonalizadas?.map(v=>u.jsxs("li",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2 text-xs",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-slate-700",children:v.pergunta}),u.jsxs("span",{className:"ml-2 text-slate-500",children:["(",v.tipo==="sim_nao"?"Sim/No":"Texto",")"]}),v.obrigatoria&&u.jsx("span",{className:"ml-1 text-red-500",children:"*"})]}),u.jsx("button",{type:"button",onClick:()=>$d(v.id),className:"rounded-full border border-rose-200 bg-rose-50 px-3 py-1 text-xs font-semibold text-rose-600 transition hover:bg-rose-100",children:"Remover"})]},v.id))}):u.jsx("p",{className:"text-xs text-slate-400",children:"Nenhuma pergunta personalizada."})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 border-t border-slate-200 bg-slate-50 px-4 sm:px-6 py-4",children:[u.jsx("button",{onClick:()=>{An(!1),wt(null),Qr("")},className:"w-full sm:w-auto rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Cancelar"}),u.jsx("button",{onClick:Fd,className:"w-full sm:w-auto rounded-full bg-blue-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:bg-blue-700",children:"Salvar pacote"})]})]})}),va&&Ke&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-slate-900/60 px-2 py-2 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-2xl my-4 overflow-hidden rounded-2xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 sm:px-6 py-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:Rn?"Editar combo":"Novo combo"}),u.jsx("button",{onClick:()=>{It(!1),pn(null)},className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:"x"})]}),u.jsxs("div",{className:"space-y-5 px-4 sm:px-6 py-5 max-h-[75vh] overflow-y-auto",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Nome do combo",u.jsx("input",{value:Ke.nome,onChange:v=>pn(C=>C&&{...C,nome:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Preos por tipo (R$)"}),u.jsx("div",{className:"grid gap-3 sm:grid-cols-3 text-xs font-semibold uppercase text-slate-500",children:Ut.map(v=>{const C=yo(v),L=lf(Ke.precosPorTipo,v,Ke);return u.jsxs("label",{children:[v.nome,u.jsx("input",{type:"number",min:"0",value:L,onChange:W=>pn(ee=>{if(!ee)return ee;const X={...ee.precosPorTipo??{},[C]:Number(W.target.value)};return{...ee,precosPorTipo:X}}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200"})]},C)})})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-500",children:[u.jsx("input",{type:"checkbox",checked:Ke.ativo!==!1,onChange:v=>pn(C=>C&&{...C,ativo:v.target.checked})}),"Combo ativo"]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Selecione os pacotes"}),ct.length===0?u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Cadastre pacotes antes de montar um combo."}):u.jsx("div",{className:"mt-3 grid max-h-64 gap-2 overflow-y-auto rounded-xl border border-slate-200 bg-slate-50 p-3 text-sm text-slate-600",children:ct.map(v=>{if(!v.id)return null;const C=Ke.pacoteIds.includes(v.id);return u.jsxs("label",{className:`flex items-center justify-between rounded-lg border px-3 py-2 text-xs font-medium transition ${C?"border-emerald-200 bg-white text-emerald-700":"border-transparent bg-white text-slate-600"}`,children:[u.jsx("span",{children:v.nome}),u.jsx("input",{type:"checkbox",checked:C,onChange:L=>pn(W=>{if(!W)return W;const ee=new Set(W.pacoteIds??[]);return L.target.checked?ee.add(v.id):ee.delete(v.id),{...W,pacoteIds:Array.from(ee)}})})]},v.id)})})]})]}),u.jsxs("div",{className:"flex flex-col gap-2 border-t border-slate-200 bg-slate-50 px-4 sm:px-6 py-4 sm:flex-row sm:items-center sm:justify-end",children:[u.jsx("button",{onClick:()=>{It(!1),pn(null)},className:"w-full rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800 sm:w-auto",children:"Cancelar"}),u.jsx("button",{onClick:Mm,disabled:Kn||ct.length===0,className:`w-full rounded-full px-4 py-2 text-xs font-semibold text-white shadow-sm transition sm:w-auto ${Kn||ct.length===0?"bg-emerald-200 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:Kn?"Salvando...":"Salvar combo"})]})]})})]}),Kr&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-slate-900/60 px-2 py-2 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-4xl my-4 overflow-hidden rounded-2xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 sm:px-6 py-4",children:[u.jsxs("h4",{className:"text-lg font-semibold text-slate-900",children:["Editar disponibilidade - ",Pt(l).format("DD/MM/YYYY")]}),u.jsx("button",{onClick:()=>or(!1),className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:"x"})]}),u.jsx("div",{className:"px-4 sm:px-6 py-5 max-h-[80vh] overflow-y-auto",children:Xn?u.jsx("div",{className:"py-6 text-center text-sm text-slate-500",children:"Carregando disponibilidade..."}):u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,320px)_minmax(0,1fr)]",children:[u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"rounded-xl border border-orange-200 bg-white p-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Ajuste por periodo"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Aplica fechamento ou reabertura em varias datas."})]}),u.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-orange-700",children:["Inicio do periodo",u.jsx("input",{type:"date",value:wn,onChange:v=>gn(v.target.value),className:"mt-1 w-full rounded-lg border border-orange-200 px-3 py-2 text-sm focus:border-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-500"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-orange-700",children:["Fim do periodo",u.jsx("input",{type:"date",value:vr,onChange:v=>Bt(v.target.value),className:"mt-1 w-full rounded-lg border border-orange-200 px-3 py-2 text-sm focus:border-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-500"})]})]}),u.jsxs("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-end",children:[u.jsxs("label",{className:"flex w-full flex-col text-xs font-semibold uppercase text-orange-700",children:["Acao",u.jsxs("select",{value:xn,onChange:v=>Tt(v.target.value),className:"mt-1 w-full rounded-lg border border-orange-200 px-3 py-2 text-sm focus:border-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-500",children:[u.jsx("option",{value:"fechar",children:"Fechar periodo"}),u.jsx("option",{value:"abrir",children:"Reabrir periodo"})]})]}),u.jsx("button",{type:"button",onClick:Ko,disabled:Ur,className:`w-full rounded-full px-4 py-2 text-xs font-semibold text-white transition ${Ur?"bg-orange-200 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700"}`,children:Ur?"Aplicando...":"Aplicar ajuste para o periodo"})]}),u.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Essa acao fecha ou reabre todos os pacotes no periodo selecionado."})]})}),u.jsx("div",{className:"space-y-4",children:ct.length===0?u.jsx("div",{className:"py-6 text-center text-sm text-slate-500",children:"Nenhum pacote cadastrado para configurar disponibilidade."}):u.jsx("div",{className:"space-y-4",children:ct.map(v=>{const L=`${Pt(l).format("YYYY-MM-DD")}-${v.id}`,W=v.id??"",ee=J[W]??!1,X=v.horarios??[],Oe=X.length,et=X.filter(ot=>nt[`${L}-${ot}`]===!1).length,nn=v.emoji||(v.nome?v.nome.trim().charAt(0).toUpperCase():"")||"P";return u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-slate-100 text-base font-semibold text-slate-600",children:nn}),u.jsxs("div",{children:[u.jsx("h5",{className:"font-semibold text-slate-900",children:v.nome}),u.jsx("p",{className:"text-xs text-slate-500",children:Oe>0?`${et} bloqueados de ${Oe} horarios`:"Sem horarios configurados"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[v.modoHorario==="intervalo"&&u.jsx("span",{className:"rounded-full bg-yellow-100 px-2 py-1 text-xs font-semibold text-yellow-700",children:"Faixa de horario"}),u.jsx("button",{type:"button",onClick:()=>{W&&te(ot=>({...ot,[W]:!ee}))},className:"rounded-full border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:ee?"Recolher horarios":"Mostrar horarios"})]})]}),ee&&u.jsx("div",{className:"mt-4 space-y-3",children:v.modoHorario==="intervalo"?u.jsx("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 p-3",children:u.jsxs("p",{className:"text-sm text-yellow-700",children:["Este pacote funciona em faixa de horario (",v.horarioInicio," - ",v.horarioFim,'). Para bloquear, adicione a data nas "Datas sem disponibilidade" do pacote.']})}):u.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 md:grid-cols-4",children:v.horarios.map(ot=>{const Zt=`${L}-${ot}`,sn=nt[Zt]!==!1;return u.jsxs("button",{type:"button",onClick:()=>{lr(Wn=>{const un={...Wn};return sn?un[Zt]=!1:delete un[Zt],un})},className:`rounded-lg border px-3 py-2 text-sm font-medium transition ${sn?"bg-green-100 text-green-700 border-green-200":"bg-red-100 text-red-700 border-red-200"}`,children:[ot,u.jsx("br",{}),u.jsx("span",{className:"text-xs",children:sn?"Disponivel":"Bloqueado"})]},ot)})})})]},v.id)})})})]})})}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 border-t border-slate-200 bg-slate-50 px-4 sm:px-6 py-4",children:[u.jsx("button",{onClick:()=>or(!1),className:"w-full sm:w-auto rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Fechar"}),u.jsx("button",{onClick:Ia,disabled:yr||Xn,className:`w-full sm:w-auto rounded-full px-4 py-2 text-xs font-semibold text-white shadow-sm transition ${yr||Xn?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:yr?"Salvando...":"Salvar alteraes"})]})]})}),n==="tipos_clientes"&&u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Tipos de clientes"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Crie, edite ou exclua categorias de clientes."})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:u.jsxs("button",{onClick:Yn,disabled:Xe,className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${Xe?"bg-slate-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[u.jsx(af,{className:"h-4 w-4"}),"Novo tipo"]})})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_minmax(0,1.4fr)]",children:[u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-2 border-b border-slate-100 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:Ve?"Editar tipo":"Novo tipo"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Defina o nome e, se quiser, uma descrio."})]}),Ve&&u.jsx("span",{className:"rounded-full bg-amber-100 px-3 py-1 text-xs font-semibold text-amber-700",children:"Edio"})]}),u.jsxs("form",{onSubmit:v=>{v.preventDefault(),Fr()},className:"mt-4 space-y-4",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Nome do tipo",u.jsx("input",{type:"text",value:Ie.nome,onChange:v=>Qe(C=>({...C,nome:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Ex: Adulto, Criana"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Descrio (opcional)",u.jsx("textarea",{value:Ie.descricao??"",onChange:v=>Qe(C=>({...C,descricao:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",rows:3,placeholder:"Detalhe quando este tipo deve ser usado."})]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[u.jsx("button",{type:"submit",disabled:Xe,className:`inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${Xe?"bg-slate-300 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:Xe?"Salvando...":Ve?"Salvar alteraes":"Cadastrar tipo"}),Ve&&u.jsx("button",{type:"button",onClick:Yn,className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Cancelar edio"})]})]})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-2 border-b border-slate-100 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Tipos cadastrados"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Gerencie os tipos de clientes cadastrados."})]}),u.jsxs("span",{className:"text-xs font-semibold uppercase text-slate-400",children:[ye.length," tipo(s)"]})]}),Be?u.jsx("div",{className:"mt-4 rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:"Carregando tipos de clientes..."}):ye.length===0?u.jsx("div",{className:"mt-4 rounded-xl border border-dashed border-slate-200 bg-white px-4 py-6 text-center text-sm text-slate-500",children:"Nenhum tipo cadastrado. Cadastre um tipo para comecar."}):u.jsx("div",{className:"mt-4 space-y-3",children:ye.map(v=>{const C=Ve&&Ie.id===v.id;return u.jsx("div",{className:`rounded-xl border p-4 transition ${C?"border-blue-300 bg-blue-50/40":"border-slate-200 bg-white"}`,children:u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u.jsx("h4",{className:"text-base font-semibold text-slate-900",children:v.nome})}),v.descricao?u.jsx("p",{className:"text-sm text-slate-500",children:v.descricao}):u.jsx("p",{className:"text-xs text-slate-400",children:"Sem descrio."})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>Rs(v),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 transition hover:border-blue-300 hover:text-blue-600",children:[u.jsx(dc,{className:"h-3.5 w-3.5"}),"Editar"]}),u.jsxs("button",{onClick:()=>us(v),className:"inline-flex items-center gap-2 rounded-full border border-rose-200 px-3 py-1.5 text-xs font-semibold text-rose-600 transition hover:bg-rose-50",children:[u.jsx(hc,{className:"h-3.5 w-3.5"}),"Excluir"]})]})]})},v.id??v.nome)})})]})]})]}),n==="whatsapp"&&u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"WhatsApp"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Conecte o WhatsApp Web e envie confirmacoes automaticamente."})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:Pl,disabled:Je,className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${Je?"bg-slate-300 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:[u.jsx(uc,{className:"h-4 w-4"}),"Conectar"]}),u.jsx("button",{onClick:Ol,disabled:Je,className:`inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition ${Je?"cursor-not-allowed opacity-60":"hover:border-rose-300 hover:text-rose-600"}`,children:"Desconectar"})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_minmax(0,1.2fr)]",children:[u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-2 border-b border-slate-100 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Conexao"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Leia o QR Code com o WhatsApp do celular."})]}),u.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${we.classes}`,children:we.label})]}),u.jsxs("div",{className:"mt-4 space-y-4",children:[Dt?.info?.pushname&&u.jsxs("p",{className:"text-sm text-slate-600",children:["Conectado como ",u.jsx("span",{className:"font-semibold text-slate-900",children:Dt.info.pushname}),"."]}),Dt?.qr?u.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6",children:[u.jsx("img",{src:Dt.qr,alt:"QR Code do WhatsApp",className:"h-48 w-48 rounded-lg border border-slate-200 bg-white p-2"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Abra o WhatsApp no celular e aponte a camera para conectar."})]}):u.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:Je?"Carregando QR Code...":"Nenhum QR Code disponivel."}),(Zn||Dt?.lastError)&&u.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:Zn||Dt?.lastError})]})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 border-b border-slate-100 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Mensagens"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Personalize a mensagem enviada automaticamente e a mensagem pre-preenchida do botao WhatsApp."})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-500",children:[u.jsx("input",{type:"checkbox",checked:Ze.ativo,onChange:v=>vt(C=>({...C,ativo:v.target.checked})),className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500"}),"Ativar envio automatico"]})]}),u.jsxs("div",{className:"mt-4 space-y-6",children:[u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50/60 p-4",children:[u.jsx("div",{className:"flex flex-col gap-1 border-b border-slate-200 pb-3 sm:flex-row sm:items-center sm:justify-between",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Automatica (bot)"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Enviada automaticamente ao confirmar reservas."})]})}),u.jsxs("div",{className:"mt-3 space-y-4",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Texto automatico",u.jsx("textarea",{value:Ze.mensagemConfirmacaoAutomatica,onChange:v=>vt(C=>({...C,mensagemConfirmacaoAutomatica:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",rows:5,placeholder:ul})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:qg.map(v=>u.jsx("button",{type:"button",onClick:()=>h("mensagemConfirmacaoAutomatica",v),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-emerald-300 hover:text-emerald-600",children:v},`auto-${v}`))}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Preview"}),u.jsx("div",{className:"mt-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 whitespace-pre-wrap",children:oe||"-"})]}),u.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:u.jsx("button",{type:"button",onClick:()=>vt(v=>({...v,mensagemConfirmacaoAutomatica:ul})),className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Restaurar padrao"})})]})]}),u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50/60 p-4",children:[u.jsx("div",{className:"flex flex-col gap-1 border-b border-slate-200 pb-3 sm:flex-row sm:items-center sm:justify-between",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Manual (botao)"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Texto pre-preenchido ao clicar no botao WhatsApp de uma reserva."})]})}),u.jsxs("div",{className:"mt-3 space-y-4",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Texto do botao",u.jsx("textarea",{value:Ze.mensagemConfirmacaoManual,onChange:v=>vt(C=>({...C,mensagemConfirmacaoManual:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",rows:5,placeholder:Xs})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:qg.map(v=>u.jsx("button",{type:"button",onClick:()=>h("mensagemConfirmacaoManual",v),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-emerald-300 hover:text-emerald-600",children:v},`manual-${v}`))}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Preview"}),u.jsx("div",{className:"mt-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 whitespace-pre-wrap",children:ue||"-"})]}),u.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:u.jsx("button",{type:"button",onClick:()=>vt(v=>({...v,mensagemConfirmacaoManual:Xs})),className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Restaurar padrao"})})]})]}),u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50/60 p-4",children:[u.jsxs("div",{className:"flex flex-col gap-2 border-b border-slate-200 pb-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Modelos (manual)"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Crie modelos pre-escritos para escolher ao clicar no botao WhatsApp de uma reserva."})]}),u.jsxs("button",{type:"button",onClick:w,className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50",children:[u.jsx(af,{className:"h-3.5 w-3.5"}),"Novo modelo"]})]}),u.jsx("div",{className:"mt-3 space-y-3",children:(Ze.modelosMensagemManual??[]).length===0?u.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 bg-white px-3 py-3 text-sm text-slate-500",children:'Nenhum modelo criado. Use "Novo modelo" para adicionar.'}):(Ze.modelosMensagemManual??[]).map(v=>u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("label",{className:"flex-1 text-xs font-semibold uppercase text-slate-500",children:["Titulo",u.jsx("input",{value:v.titulo,onChange:C=>j(v.id,{titulo:C.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200"})]}),u.jsxs("button",{type:"button",onClick:()=>ne(v.id),className:"inline-flex items-center justify-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-xs font-semibold text-rose-700 transition hover:bg-rose-100",children:[u.jsx(hc,{className:"h-3.5 w-3.5"}),"Excluir"]})]}),u.jsxs("label",{className:"mt-3 block text-xs font-semibold uppercase text-slate-500",children:["Mensagem",u.jsx("textarea",{value:v.mensagem,onChange:C=>j(v.id,{mensagem:C.target.value}),rows:4,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",placeholder:Xs})]}),u.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:qg.map(C=>u.jsx("button",{type:"button",onClick:()=>pe(v.id,C),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-emerald-300 hover:text-emerald-600",children:C},`${v.id}-${C}`))})]},v.id))})]}),u.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:u.jsx("button",{type:"button",onClick:$i,disabled:Bn,className:`inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-xs font-semibold text-white shadow-sm transition ${Bn?"bg-slate-300 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:Bn?"Salvando...":"Salvar configuracoes"})})]})]})]})]}),n==="pesquisa"&&u.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsx("div",{className:"flex flex-col gap-2 border-b border-slate-200 pb-4 sm:flex-row sm:items-end sm:justify-between",children:u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Pesquisa de clientes"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Localize reservas por nome, CPF ou telefone."})]})}),u.jsxs("form",{onSubmit:v=>{v.preventDefault(),Qd()},className:"mt-4 flex flex-col gap-3 md:flex-row",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Termo de busca",u.jsx("input",{type:"text",value:xe,onChange:v=>Le(v.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Ex: Ana Silva, 00000000000, 629999999"})]})}),u.jsx("div",{className:"flex items-end",children:u.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-full bg-blue-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-700",children:[u.jsx(r1,{className:"h-4 w-4"}),"Pesquisar"]})})]}),tt?u.jsx("div",{className:"mt-6 rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:"Buscando resultados..."}):gt.length>0?u.jsx("div",{className:"mt-6",children:u.jsxs("table",{className:"w-full table-fixed divide-y divide-slate-100 text-sm",children:[u.jsx("thead",{className:"bg-slate-50 text-xs font-semibold uppercase tracking-wide text-slate-500",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left w-[26%]",children:"Nome"}),u.jsx("th",{className:"px-4 py-3 text-left w-[14%]",children:"CPF"}),u.jsx("th",{className:"px-4 py-3 text-left w-[18%]",children:"Telefone"}),u.jsx("th",{className:"px-4 py-3 text-left w-[14%]",children:"Data"}),u.jsx("th",{className:"px-4 py-3 text-left w-[18%]",children:"Atividade"}),u.jsx("th",{className:"px-4 py-3 text-right w-[10%]",children:"Aes"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:gt.map(v=>{const C=Er(v),L=Qa(v),W=qi(v.valor),ee=(v.telefone||"").replace(/\D/g,""),Oe=!!(ee.startsWith("55")?ee:ee?`55${ee}`:"");return u.jsxs("tr",{className:"hover:bg-slate-50/80",children:[u.jsx("td",{className:"px-4 py-3 font-medium text-slate-800 break-words",children:v.nome}),u.jsx("td",{className:"px-4 py-3 text-slate-600 break-all",children:v.cpf}),u.jsx("td",{className:"px-4 py-3 text-slate-600 break-all",children:v.telefone}),u.jsx("td",{className:"px-4 py-3 text-slate-600",children:fc(v.data)}),u.jsx("td",{className:"px-4 py-3 text-slate-600 break-words",children:v.atividade}),u.jsx("td",{className:"px-4 py-3 text-right",children:u.jsxs("button",{type:"button",onClick:()=>tr(v,C,L,W),disabled:!Oe,className:"inline-flex items-center justify-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100 disabled:cursor-not-allowed disabled:opacity-40",children:[u.jsx(uc,{className:"h-3.5 w-3.5"}),"WhatsApp"]})})]},v.id)})})]})}):u.jsx("div",{className:"mt-6 rounded-xl border border-dashed border-slate-200 bg-white px-4 py-6 text-center text-sm text-slate-500",children:"Nenhum cliente encontrado para o termo informado."})]})]})]})}function jI(){return u.jsxs("main",{children:[u.jsx(rI,{}),u.jsx(RI,{})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function DI(n,e,t,a){function i(l){return l instanceof t?l:new t(function(d){d(l)})}return new(t||(t=Promise))(function(l,d){function m(b){try{g(a.next(b))}catch(_){d(_)}}function p(b){try{g(a.throw(b))}catch(_){d(_)}}function g(b){b.done?l(b.value):i(b.value).then(m,p)}g((a=a.apply(n,[])).next())})}function MI(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,i,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(b){return p([g,b])}}function p(g){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,i&&(l=g[0]&2?i.return:g[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,g[1])).done)return l;switch(i=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,i=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(n,t)}catch(b){g=[6,b],i=0}finally{a=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nc=function(){return Nc=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++){t=arguments[a];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Nc.apply(this,arguments)},CN=function(n){return{loading:n==null,value:n}},II=function(){return function(n,e){switch(e.type){case"error":return Nc(Nc({},n),{error:e.error,loading:!1,value:void 0});case"reset":return CN(e.defaultValue);case"value":return Nc(Nc({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},PI=function(n){var e=n?n():void 0,t=T.useReducer(II(),CN(e)),a=t[0],i=t[1],l=T.useCallback(function(){var p=n?n():void 0;i({type:"reset",defaultValue:p})},[n]),d=T.useCallback(function(p){i({type:"error",error:p})},[]),m=T.useCallback(function(p){i({type:"value",value:p})},[]);return T.useMemo(function(){return{error:a.error,loading:a.loading,reset:l,setError:d,setValue:m,value:a.value}},[a.error,a.loading,l,d,m,a.value])},OI=function(n,e){var t=PI(function(){return n.currentUser}),a=t.error,i=t.loading,l=t.setError,d=t.setValue,m=t.value;return T.useEffect(function(){var p=Ij(n,function(g){return DI(void 0,void 0,void 0,function(){var b;return MI(this,function(_){switch(_.label){case 0:return[3,4];case 1:return _.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return _.sent(),[3,4];case 3:return b=_.sent(),l(b),[3,4];case 4:return d(g),[2]}})})},l);return function(){p()}},[n]),[m,i,a]};function kI({children:n}){const[e,t]=OI(_N),a=localStorage.getItem("tempAuth");return t?u.jsx("div",{children:"Carregando..."}):!e&&!a?u.jsx(QC,{to:"/login"}):u.jsx(u.Fragment,{children:n})}const VI={},ed={};function od(n,e){try{const a=(VI[n]||=new Intl.DateTimeFormat("en-GB",{timeZone:n,hour:"numeric",timeZoneName:"longOffset"}).format)(e).split("GMT")[1]||"";return a in ed?ed[a]:u1(a,a.split(":"))}catch{if(n in ed)return ed[n];const t=n?.match(LI);return t?u1(n,t.slice(1)):NaN}}const LI=/([+-]\d\d):?(\d\d)?/;function u1(n,e){const t=+e[0],a=+(e[1]||0);return ed[n]=t>0?t*60+a:t*60-a}class ai extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(od(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),AN(this),C0(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new ai(...t,e):new ai(Date.now(),e)}withTimeZone(e){return new ai(+this,e)}getTimezoneOffset(){return-od(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),C0(this),+this}[Symbol.for("constructDateFrom")](e){return new ai(+new Date(e),this.timeZone)}}const d1=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(n=>{if(!d1.test(n))return;const e=n.replace(d1,"$1UTC");ai.prototype[e]&&(n.startsWith("get")?ai.prototype[n]=function(){return this.internal[e]()}:(ai.prototype[n]=function(){return Date.prototype[e].apply(this.internal,arguments),UI(this),+this},ai.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),C0(this),+this}))});function C0(n){n.internal.setTime(+n),n.internal.setUTCMinutes(n.internal.getUTCMinutes()-n.getTimezoneOffset())}function UI(n){Date.prototype.setFullYear.call(n,n.internal.getUTCFullYear(),n.internal.getUTCMonth(),n.internal.getUTCDate()),Date.prototype.setHours.call(n,n.internal.getUTCHours(),n.internal.getUTCMinutes(),n.internal.getUTCSeconds(),n.internal.getUTCMilliseconds()),AN(n)}function AN(n){const e=od(n.timeZone,n),t=new Date(+n);t.setUTCHours(t.getUTCHours()-1);const a=-new Date(+n).getTimezoneOffset(),i=-new Date(+t).getTimezoneOffset(),l=a-i,d=Date.prototype.getHours.apply(n)!==n.internal.getUTCHours();l&&d&&n.internal.setUTCMinutes(n.internal.getUTCMinutes()+l);const m=a-e;m&&Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+m);const p=od(n.timeZone,n),b=-new Date(+n).getTimezoneOffset()-p,_=p!==e,E=b-m;if(_&&E){Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+E);const D=od(n.timeZone,n),O=p-D;O&&(n.internal.setUTCMinutes(n.internal.getUTCMinutes()+O),Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+O))}}class Sa extends ai{static tz(e,...t){return t.length?new Sa(...t,e):new Sa(Date.now(),e)}toISOString(){const[e,t,a]=this.tzComponents(),i=`${e}${t}:${a}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,a,i]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${a} ${t} ${i}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,a,i]=this.tzComponents();return`${e} GMT${t}${a}${i} (${zI(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),t=e>0?"-":"+",a=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),i=String(Math.abs(e)%60).padStart(2,"0");return[t,a,i]}withTimeZone(e){return new Sa(+this,e)}[Symbol.for("constructDateFrom")](e){return new Sa(+new Date(e),this.timeZone)}}function zI(n,e){return new Intl.DateTimeFormat("en-GB",{timeZone:n,timeZoneName:"long"}).format(e).slice(12)}var at;(function(n){n.Root="root",n.Chevron="chevron",n.Day="day",n.DayButton="day_button",n.CaptionLabel="caption_label",n.Dropdowns="dropdowns",n.Dropdown="dropdown",n.DropdownRoot="dropdown_root",n.Footer="footer",n.MonthGrid="month_grid",n.MonthCaption="month_caption",n.MonthsDropdown="months_dropdown",n.Month="month",n.Months="months",n.Nav="nav",n.NextMonthButton="button_next",n.PreviousMonthButton="button_previous",n.Week="week",n.Weeks="weeks",n.Weekday="weekday",n.Weekdays="weekdays",n.WeekNumber="week_number",n.WeekNumberHeader="week_number_header",n.YearsDropdown="years_dropdown"})(at||(at={}));var ar;(function(n){n.disabled="disabled",n.hidden="hidden",n.outside="outside",n.focused="focused",n.today="today"})(ar||(ar={}));var Os;(function(n){n.range_end="range_end",n.range_middle="range_middle",n.range_start="range_start",n.selected="selected"})(Os||(Os={}));var ns;(function(n){n.weeks_before_enter="weeks_before_enter",n.weeks_before_exit="weeks_before_exit",n.weeks_after_enter="weeks_after_enter",n.weeks_after_exit="weeks_after_exit",n.caption_after_enter="caption_after_enter",n.caption_after_exit="caption_after_exit",n.caption_before_enter="caption_before_enter",n.caption_before_exit="caption_before_exit"})(ns||(ns={}));const RN=6048e5,BI=864e5,h1=Symbol.for("constructDateFrom");function Wr(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&h1 in n?n[h1](e):n instanceof Date?new n.constructor(e):new Date(e)}function In(n,e){return Wr(e||n,n)}function jN(n,e,t){const a=In(n,t?.in);return isNaN(e)?Wr(n,NaN):(e&&a.setDate(a.getDate()+e),a)}function DN(n,e,t){const a=In(n,t?.in);if(isNaN(e))return Wr(n,NaN);if(!e)return a;const i=a.getDate(),l=Wr(n,a.getTime());l.setMonth(a.getMonth()+e+1,0);const d=l.getDate();return i>=d?l:(a.setFullYear(l.getFullYear(),l.getMonth(),i),a)}let FI={};function Ud(){return FI}function Bc(n,e){const t=Ud(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=In(n,e?.in),l=i.getDay(),d=(l<a?7:0)+l-a;return i.setDate(i.getDate()-d),i.setHours(0,0,0,0),i}function xd(n,e){return Bc(n,{...e,weekStartsOn:1})}function MN(n,e){const t=In(n,e?.in),a=t.getFullYear(),i=Wr(t,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const l=xd(i),d=Wr(t,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const m=xd(d);return t.getTime()>=l.getTime()?a+1:t.getTime()>=m.getTime()?a:a-1}function f1(n){const e=In(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Zc(n,...e){const t=Wr.bind(null,e.find(a=>typeof a=="object"));return e.map(t)}function bd(n,e){const t=In(n,e?.in);return t.setHours(0,0,0,0),t}function IN(n,e,t){const[a,i]=Zc(t?.in,n,e),l=bd(a),d=bd(i),m=+l-f1(l),p=+d-f1(d);return Math.round((m-p)/BI)}function HI(n,e){const t=MN(n,e),a=Wr(n,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),xd(a)}function qI(n,e,t){return jN(n,e*7,t)}function $I(n,e,t){return DN(n,e*12,t)}function YI(n,e){let t,a=e?.in;return n.forEach(i=>{!a&&typeof i=="object"&&(a=Wr.bind(null,i));const l=In(i,a);(!t||t<l||isNaN(+l))&&(t=l)}),Wr(a,t||NaN)}function WI(n,e){let t,a=e?.in;return n.forEach(i=>{!a&&typeof i=="object"&&(a=Wr.bind(null,i));const l=In(i,a);(!t||t>l||isNaN(+l))&&(t=l)}),Wr(a,t||NaN)}function GI(n,e,t){const[a,i]=Zc(t?.in,n,e);return+bd(a)==+bd(i)}function PN(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function QI(n){return!(!PN(n)&&typeof n!="number"||isNaN(+In(n)))}function KI(n,e,t){const[a,i]=Zc(t?.in,n,e),l=a.getFullYear()-i.getFullYear(),d=a.getMonth()-i.getMonth();return l*12+d}function XI(n,e){const t=In(n,e?.in),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function ZI(n,e){const[t,a]=Zc(n,e.start,e.end);return{start:t,end:a}}function JI(n,e){const{start:t,end:a}=ZI(e?.in,n);let i=+t>+a;const l=i?+t:+a,d=i?a:t;d.setHours(0,0,0,0),d.setDate(1);let m=1;const p=[];for(;+d<=l;)p.push(Wr(t,d)),d.setMonth(d.getMonth()+m);return i?p.reverse():p}function e5(n,e){const t=In(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function t5(n,e){const t=In(n,e?.in),a=t.getFullYear();return t.setFullYear(a+1,0,0),t.setHours(23,59,59,999),t}function ON(n,e){const t=In(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function kN(n,e){const t=Ud(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=In(n,e?.in),l=i.getDay(),d=(l<a?-7:0)+6-(l-a);return i.setDate(i.getDate()+d),i.setHours(23,59,59,999),i}function n5(n,e){return kN(n,{...e,weekStartsOn:1})}const r5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},a5=(n,e,t)=>{let a;const i=r5[n];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function Mc(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const s5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},l5={date:Mc({formats:s5,defaultWidth:"full"}),time:Mc({formats:i5,defaultWidth:"full"}),dateTime:Mc({formats:o5,defaultWidth:"full"})},c5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},u5=(n,e,t,a)=>c5[n];function ti(n){return(e,t)=>{const a=t?.context?String(t.context):"standalone";let i;if(a==="formatting"&&n.formattingValues){const d=n.defaultFormattingWidth||n.defaultWidth,m=t?.width?String(t.width):d;i=n.formattingValues[m]||n.formattingValues[d]}else{const d=n.defaultWidth,m=t?.width?String(t.width):n.defaultWidth;i=n.values[m]||n.values[d]}const l=n.argumentCallback?n.argumentCallback(e):e;return i[l]}}const d5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},h5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},f5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},m5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},p5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},g5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},y5=(n,e)=>{const t=Number(n),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},v5={ordinalNumber:y5,era:ti({values:d5,defaultWidth:"wide"}),quarter:ti({values:h5,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ti({values:f5,defaultWidth:"wide"}),day:ti({values:m5,defaultWidth:"wide"}),dayPeriod:ti({values:p5,defaultWidth:"wide",formattingValues:g5,defaultFormattingWidth:"wide"})};function ni(n){return(e,t={})=>{const a=t.width,i=a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth],l=e.match(i);if(!l)return null;const d=l[0],m=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],p=Array.isArray(m)?b5(m,_=>_.test(d)):x5(m,_=>_.test(d));let g;g=n.valueCallback?n.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const b=e.slice(d.length);return{value:g,rest:b}}}function x5(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function b5(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function VN(n){return(e,t={})=>{const a=e.match(n.matchPattern);if(!a)return null;const i=a[0],l=e.match(n.parsePattern);if(!l)return null;let d=n.valueCallback?n.valueCallback(l[0]):l[0];d=t.valueCallback?t.valueCallback(d):d;const m=e.slice(i.length);return{value:d,rest:m}}}const _5=/^(\d+)(th|st|nd|rd)?/i,w5=/\d+/i,E5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},N5={any:[/^b/i,/^(a|c)/i]},T5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},S5={any:[/1/i,/2/i,/3/i,/4/i]},C5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},A5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},R5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},j5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},D5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},I5={ordinalNumber:VN({matchPattern:_5,parsePattern:w5,valueCallback:n=>parseInt(n,10)}),era:ni({matchPatterns:E5,defaultMatchWidth:"wide",parsePatterns:N5,defaultParseWidth:"any"}),quarter:ni({matchPatterns:T5,defaultMatchWidth:"wide",parsePatterns:S5,defaultParseWidth:"any",valueCallback:n=>n+1}),month:ni({matchPatterns:C5,defaultMatchWidth:"wide",parsePatterns:A5,defaultParseWidth:"any"}),day:ni({matchPatterns:R5,defaultMatchWidth:"wide",parsePatterns:j5,defaultParseWidth:"any"}),dayPeriod:ni({matchPatterns:D5,defaultMatchWidth:"any",parsePatterns:M5,defaultParseWidth:"any"})},Ly={code:"en-US",formatDistance:a5,formatLong:l5,formatRelative:u5,localize:v5,match:I5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function P5(n,e){const t=In(n,e?.in);return IN(t,ON(t))+1}function LN(n,e){const t=In(n,e?.in),a=+xd(t)-+HI(t);return Math.round(a/RN)+1}function UN(n,e){const t=In(n,e?.in),a=t.getFullYear(),i=Ud(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,d=Wr(e?.in||n,0);d.setFullYear(a+1,0,l),d.setHours(0,0,0,0);const m=Bc(d,e),p=Wr(e?.in||n,0);p.setFullYear(a,0,l),p.setHours(0,0,0,0);const g=Bc(p,e);return+t>=+m?a+1:+t>=+g?a:a-1}function O5(n,e){const t=Ud(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=UN(n,e),l=Wr(e?.in||n,0);return l.setFullYear(i,0,a),l.setHours(0,0,0,0),Bc(l,e)}function zN(n,e){const t=In(n,e?.in),a=+Bc(t,e)-+O5(t,e);return Math.round(a/RN)+1}function Sn(n,e){const t=n<0?"-":"",a=Math.abs(n).toString().padStart(e,"0");return t+a}const po={y(n,e){const t=n.getFullYear(),a=t>0?t:1-t;return Sn(e==="yy"?a%100:a,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Sn(t+1,2)},d(n,e){return Sn(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Sn(n.getHours()%12||12,e.length)},H(n,e){return Sn(n.getHours(),e.length)},m(n,e){return Sn(n.getMinutes(),e.length)},s(n,e){return Sn(n.getSeconds(),e.length)},S(n,e){const t=e.length,a=n.getMilliseconds(),i=Math.trunc(a*Math.pow(10,t-3));return Sn(i,e.length)}},gc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},m1={G:function(n,e,t){const a=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const a=n.getFullYear(),i=a>0?a:1-a;return t.ordinalNumber(i,{unit:"year"})}return po.y(n,e)},Y:function(n,e,t,a){const i=UN(n,a),l=i>0?i:1-i;if(e==="YY"){const d=l%100;return Sn(d,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):Sn(l,e.length)},R:function(n,e){const t=MN(n);return Sn(t,e.length)},u:function(n,e){const t=n.getFullYear();return Sn(t,e.length)},Q:function(n,e,t){const a=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Sn(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(n,e,t){const a=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Sn(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(n,e,t){const a=n.getMonth();switch(e){case"M":case"MM":return po.M(n,e);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(n,e,t){const a=n.getMonth();switch(e){case"L":return String(a+1);case"LL":return Sn(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(n,e,t,a){const i=zN(n,a);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Sn(i,e.length)},I:function(n,e,t){const a=LN(n);return e==="Io"?t.ordinalNumber(a,{unit:"week"}):Sn(a,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):po.d(n,e)},D:function(n,e,t){const a=P5(n);return e==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):Sn(a,e.length)},E:function(n,e,t){const a=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(n,e,t,a){const i=n.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Sn(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,a){const i=n.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Sn(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const a=n.getDay(),i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return Sn(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const a=n.getHours();let i;switch(a===12?i=gc.noon:a===0?i=gc.midnight:i=a/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const a=n.getHours();let i;switch(a>=17?i=gc.evening:a>=12?i=gc.afternoon:a>=4?i=gc.morning:i=gc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let a=n.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return po.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):po.H(n,e)},K:function(n,e,t){const a=n.getHours()%12;return e==="Ko"?t.ordinalNumber(a,{unit:"hour"}):Sn(a,e.length)},k:function(n,e,t){let a=n.getHours();return a===0&&(a=24),e==="ko"?t.ordinalNumber(a,{unit:"hour"}):Sn(a,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):po.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):po.s(n,e)},S:function(n,e){return po.S(n,e)},X:function(n,e,t){const a=n.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return g1(a);case"XXXX":case"XX":return fl(a);case"XXXXX":case"XXX":default:return fl(a,":")}},x:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"x":return g1(a);case"xxxx":case"xx":return fl(a);case"xxxxx":case"xxx":default:return fl(a,":")}},O:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+p1(a,":");case"OOOO":default:return"GMT"+fl(a,":")}},z:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+p1(a,":");case"zzzz":default:return"GMT"+fl(a,":")}},t:function(n,e,t){const a=Math.trunc(+n/1e3);return Sn(a,e.length)},T:function(n,e,t){return Sn(+n,e.length)}};function p1(n,e=""){const t=n>0?"-":"+",a=Math.abs(n),i=Math.trunc(a/60),l=a%60;return l===0?t+String(i):t+String(i)+e+Sn(l,2)}function g1(n,e){return n%60===0?(n>0?"-":"+")+Sn(Math.abs(n)/60,2):fl(n,e)}function fl(n,e=""){const t=n>0?"-":"+",a=Math.abs(n),i=Sn(Math.trunc(a/60),2),l=Sn(a%60,2);return t+i+e+l}const y1=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},BN=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},k5=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],a=t[1],i=t[2];if(!i)return y1(n,e);let l;switch(a){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",y1(a,e)).replace("{{time}}",BN(i,e))},V5={p:BN,P:k5},L5=/^D+$/,U5=/^Y+$/,z5=["D","DD","YY","YYYY"];function B5(n){return L5.test(n)}function F5(n){return U5.test(n)}function H5(n,e,t){const a=q5(n,e,t);if(console.warn(a),z5.includes(n))throw new RangeError(a)}function q5(n,e,t){const a=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Y5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,W5=/^'([^]*?)'?$/,G5=/''/g,Q5=/[a-zA-Z]/;function K5(n,e,t){const a=Ud(),i=t?.locale??a.locale??Ly,l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,m=In(n,t?.in);if(!QI(m))throw new RangeError("Invalid time value");let p=e.match(Y5).map(b=>{const _=b[0];if(_==="p"||_==="P"){const E=V5[_];return E(b,i.formatLong)}return b}).join("").match($5).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const _=b[0];if(_==="'")return{isToken:!1,value:X5(b)};if(m1[_])return{isToken:!0,value:b};if(_.match(Q5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(p=i.localize.preprocessor(m,p));const g={firstWeekContainsDate:l,weekStartsOn:d,locale:i};return p.map(b=>{if(!b.isToken)return b.value;const _=b.value;(!t?.useAdditionalWeekYearTokens&&F5(_)||!t?.useAdditionalDayOfYearTokens&&B5(_))&&H5(_,e,String(n));const E=m1[_[0]];return E(m,_,i.localize,g)}).join("")}function X5(n){const e=n.match(W5);return e?e[1].replace(G5,"'"):n}function Z5(n,e){const t=In(n,e?.in),a=t.getFullYear(),i=t.getMonth(),l=Wr(t,0);return l.setFullYear(a,i+1,0),l.setHours(0,0,0,0),l.getDate()}function J5(n,e){return In(n,e?.in).getMonth()}function eP(n,e){return In(n,e?.in).getFullYear()}function tP(n,e){return+In(n)>+In(e)}function nP(n,e){return+In(n)<+In(e)}function rP(n,e,t){const[a,i]=Zc(t?.in,n,e);return a.getFullYear()===i.getFullYear()&&a.getMonth()===i.getMonth()}function aP(n,e,t){const[a,i]=Zc(t?.in,n,e);return a.getFullYear()===i.getFullYear()}function sP(n,e,t){const a=In(n,t?.in),i=a.getFullYear(),l=a.getDate(),d=Wr(n,0);d.setFullYear(i,e,15),d.setHours(0,0,0,0);const m=Z5(d);return a.setMonth(e,Math.min(l,m)),a}function iP(n,e,t){const a=In(n,t?.in);return isNaN(+a)?Wr(n,NaN):(a.setFullYear(e),a)}const v1=5,oP=4;function lP(n,e){const t=e.startOfMonth(n),a=t.getDay()>0?t.getDay():7,i=e.addDays(n,-a+1),l=e.addDays(i,v1*7-1);return e.getMonth(n)===e.getMonth(l)?v1:oP}function FN(n,e){const t=e.startOfMonth(n),a=t.getDay();return a===1?t:a===0?e.addDays(t,-1*6):e.addDays(t,-1*(a-1))}function cP(n,e){const t=FN(n,e),a=lP(n,e);return e.addDays(t,a*7-1)}class Fi{constructor(e,t){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Sa.tz(this.options.timeZone):new this.Date,this.newDate=(a,i,l)=>this.overrides?.newDate?this.overrides.newDate(a,i,l):this.options.timeZone?new Sa(a,i,l,this.options.timeZone):new Date(a,i,l),this.addDays=(a,i)=>this.overrides?.addDays?this.overrides.addDays(a,i):jN(a,i),this.addMonths=(a,i)=>this.overrides?.addMonths?this.overrides.addMonths(a,i):DN(a,i),this.addWeeks=(a,i)=>this.overrides?.addWeeks?this.overrides.addWeeks(a,i):qI(a,i),this.addYears=(a,i)=>this.overrides?.addYears?this.overrides.addYears(a,i):$I(a,i),this.differenceInCalendarDays=(a,i)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(a,i):IN(a,i),this.differenceInCalendarMonths=(a,i)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(a,i):KI(a,i),this.eachMonthOfInterval=a=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(a):JI(a),this.endOfBroadcastWeek=a=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(a):cP(a,this),this.endOfISOWeek=a=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(a):n5(a),this.endOfMonth=a=>this.overrides?.endOfMonth?this.overrides.endOfMonth(a):XI(a),this.endOfWeek=(a,i)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(a,i):kN(a,this.options),this.endOfYear=a=>this.overrides?.endOfYear?this.overrides.endOfYear(a):t5(a),this.format=(a,i,l)=>{const d=this.overrides?.format?this.overrides.format(a,i,this.options):K5(a,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(d):d},this.getISOWeek=a=>this.overrides?.getISOWeek?this.overrides.getISOWeek(a):LN(a),this.getMonth=(a,i)=>this.overrides?.getMonth?this.overrides.getMonth(a,this.options):J5(a,this.options),this.getYear=(a,i)=>this.overrides?.getYear?this.overrides.getYear(a,this.options):eP(a,this.options),this.getWeek=(a,i)=>this.overrides?.getWeek?this.overrides.getWeek(a,this.options):zN(a,this.options),this.isAfter=(a,i)=>this.overrides?.isAfter?this.overrides.isAfter(a,i):tP(a,i),this.isBefore=(a,i)=>this.overrides?.isBefore?this.overrides.isBefore(a,i):nP(a,i),this.isDate=a=>this.overrides?.isDate?this.overrides.isDate(a):PN(a),this.isSameDay=(a,i)=>this.overrides?.isSameDay?this.overrides.isSameDay(a,i):GI(a,i),this.isSameMonth=(a,i)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(a,i):rP(a,i),this.isSameYear=(a,i)=>this.overrides?.isSameYear?this.overrides.isSameYear(a,i):aP(a,i),this.max=a=>this.overrides?.max?this.overrides.max(a):YI(a),this.min=a=>this.overrides?.min?this.overrides.min(a):WI(a),this.setMonth=(a,i)=>this.overrides?.setMonth?this.overrides.setMonth(a,i):sP(a,i),this.setYear=(a,i)=>this.overrides?.setYear?this.overrides.setYear(a,i):iP(a,i),this.startOfBroadcastWeek=(a,i)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(a,this):FN(a,this),this.startOfDay=a=>this.overrides?.startOfDay?this.overrides.startOfDay(a):bd(a),this.startOfISOWeek=a=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(a):xd(a),this.startOfMonth=a=>this.overrides?.startOfMonth?this.overrides.startOfMonth(a):e5(a),this.startOfWeek=(a,i)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(a,this.options):Bc(a,this.options),this.startOfYear=a=>this.overrides?.startOfYear?this.overrides.startOfYear(a):ON(a),this.options={locale:Ly,...e},this.overrides=t}getDigitMap(){const{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),a={};for(let i=0;i<10;i++)a[i.toString()]=t.format(i);return a}replaceDigits(e){const t=this.getDigitMap();return e.replace(/\d/g,a=>t[a]||a)}formatNumber(e){return this.replaceDigits(e.toString())}}const mi=new Fi;class HN{constructor(e,t,a=mi){this.date=e,this.displayMonth=t,this.outside=!!(t&&!a.isSameMonth(e,t)),this.dateLib=a}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class uP{constructor(e,t){this.date=e,this.weeks=t}}class dP{constructor(e,t){this.days=t,this.weekNumber=e}}function Pi(n,e,t=!1,a=mi){let{from:i,to:l}=n;const{differenceInCalendarDays:d,isSameDay:m}=a;return i&&l?(d(l,i)<0&&([i,l]=[l,i]),d(e,i)>=(t?1:0)&&d(l,e)>=(t?1:0)):!t&&l?m(l,e):!t&&i?m(i,e):!1}function qN(n){return!!(n&&typeof n=="object"&&"before"in n&&"after"in n)}function Uy(n){return!!(n&&typeof n=="object"&&"from"in n)}function $N(n){return!!(n&&typeof n=="object"&&"after"in n)}function YN(n){return!!(n&&typeof n=="object"&&"before"in n)}function WN(n){return!!(n&&typeof n=="object"&&"dayOfWeek"in n)}function GN(n,e){return Array.isArray(n)&&n.every(e.isDate)}function Oi(n,e,t=mi){const a=Array.isArray(e)?e:[e],{isSameDay:i,differenceInCalendarDays:l,isAfter:d}=t;return a.some(m=>{if(typeof m=="boolean")return m;if(t.isDate(m))return i(n,m);if(GN(m,t))return m.includes(n);if(Uy(m))return Pi(m,n,!1,t);if(WN(m))return Array.isArray(m.dayOfWeek)?m.dayOfWeek.includes(n.getDay()):m.dayOfWeek===n.getDay();if(qN(m)){const p=l(m.before,n),g=l(m.after,n),b=p>0,_=g<0;return d(m.before,m.after)?_&&b:b||_}return $N(m)?l(n,m.after)>0:YN(m)?l(m.before,n)>0:typeof m=="function"?m(n):!1})}function hP(n,e,t,a,i){const{disabled:l,hidden:d,modifiers:m,showOutsideDays:p,broadcastCalendar:g,today:b}=e,{isSameDay:_,isSameMonth:E,startOfMonth:D,isBefore:O,endOfMonth:z,isAfter:q}=i,K=t&&D(t),ge=a&&z(a),ae={[ar.focused]:[],[ar.outside]:[],[ar.disabled]:[],[ar.hidden]:[],[ar.today]:[]},Re={};for(const fe of n){const{date:U,displayMonth:k}=fe,R=!!(k&&!E(U,k)),I=!!(K&&O(U,K)),M=!!(ge&&q(U,ge)),B=!!(l&&Oi(U,l,i)),G=!!(d&&Oi(U,d,i))||I||M||!g&&!p&&R||g&&p===!1&&R,V=_(U,b??i.today());R&&ae.outside.push(fe),B&&ae.disabled.push(fe),G&&ae.hidden.push(fe),V&&ae.today.push(fe),m&&Object.keys(m).forEach(Te=>{const ve=m?.[Te];ve&&Oi(U,ve,i)&&(Re[Te]?Re[Te].push(fe):Re[Te]=[fe])})}return fe=>{const U={[ar.focused]:!1,[ar.disabled]:!1,[ar.hidden]:!1,[ar.outside]:!1,[ar.today]:!1},k={};for(const R in ae){const I=ae[R];U[R]=I.some(M=>M===fe)}for(const R in Re)k[R]=Re[R].some(I=>I===fe);return{...U,...k}}}function fP(n,e,t={}){return Object.entries(n).filter(([,i])=>i===!0).reduce((i,[l])=>(t[l]?i.push(t[l]):e[ar[l]]?i.push(e[ar[l]]):e[Os[l]]&&i.push(e[Os[l]]),i),[e[at.Day]])}function mP(n){return ke.createElement("button",{...n})}function pP(n){return ke.createElement("span",{...n})}function gP(n){const{size:e=24,orientation:t="left",className:a}=n;return ke.createElement("svg",{className:a,width:e,height:e,viewBox:"0 0 24 24"},t==="up"&&ke.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),t==="down"&&ke.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),t==="left"&&ke.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),t==="right"&&ke.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function yP(n){const{day:e,modifiers:t,...a}=n;return ke.createElement("td",{...a})}function vP(n){const{day:e,modifiers:t,...a}=n,i=ke.useRef(null);return ke.useEffect(()=>{t.focused&&i.current?.focus()},[t.focused]),ke.createElement("button",{ref:i,...a})}function xP(n){const{options:e,className:t,components:a,classNames:i,...l}=n,d=[i[at.Dropdown],t].join(" "),m=e?.find(({value:p})=>p===l.value);return ke.createElement("span",{"data-disabled":l.disabled,className:i[at.DropdownRoot]},ke.createElement(a.Select,{className:d,...l},e?.map(({value:p,label:g,disabled:b})=>ke.createElement(a.Option,{key:p,value:p,disabled:b},g))),ke.createElement("span",{className:i[at.CaptionLabel],"aria-hidden":!0},m?.label,ke.createElement(a.Chevron,{orientation:"down",size:18,className:i[at.Chevron]})))}function bP(n){return ke.createElement("div",{...n})}function _P(n){return ke.createElement("div",{...n})}function wP(n){const{calendarMonth:e,displayIndex:t,...a}=n;return ke.createElement("div",{...a},n.children)}function EP(n){const{calendarMonth:e,displayIndex:t,...a}=n;return ke.createElement("div",{...a})}function NP(n){return ke.createElement("table",{...n})}function TP(n){return ke.createElement("div",{...n})}const QN=T.createContext(void 0);function zd(){const n=T.useContext(QN);if(n===void 0)throw new Error("useDayPicker() must be used within a custom component.");return n}function SP(n){const{components:e}=zd();return ke.createElement(e.Dropdown,{...n})}function CP(n){const{onPreviousClick:e,onNextClick:t,previousMonth:a,nextMonth:i,...l}=n,{components:d,classNames:m,labels:{labelPrevious:p,labelNext:g}}=zd(),b=T.useCallback(E=>{i&&t?.(E)},[i,t]),_=T.useCallback(E=>{a&&e?.(E)},[a,e]);return ke.createElement("nav",{...l},ke.createElement(d.PreviousMonthButton,{type:"button",className:m[at.PreviousMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":p(a),onClick:_},ke.createElement(d.Chevron,{disabled:a?void 0:!0,className:m[at.Chevron],orientation:"left"})),ke.createElement(d.NextMonthButton,{type:"button",className:m[at.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":g(i),onClick:b},ke.createElement(d.Chevron,{disabled:i?void 0:!0,orientation:"right",className:m[at.Chevron]})))}function AP(n){const{components:e}=zd();return ke.createElement(e.Button,{...n})}function RP(n){return ke.createElement("option",{...n})}function jP(n){const{components:e}=zd();return ke.createElement(e.Button,{...n})}function DP(n){const{rootRef:e,...t}=n;return ke.createElement("div",{...t,ref:e})}function MP(n){return ke.createElement("select",{...n})}function IP(n){const{week:e,...t}=n;return ke.createElement("tr",{...t})}function PP(n){return ke.createElement("th",{...n})}function OP(n){return ke.createElement("thead",{"aria-hidden":!0},ke.createElement("tr",{...n}))}function kP(n){const{week:e,...t}=n;return ke.createElement("th",{...t})}function VP(n){return ke.createElement("th",{...n})}function LP(n){return ke.createElement("tbody",{...n})}function UP(n){const{components:e}=zd();return ke.createElement(e.Dropdown,{...n})}const zP=Object.freeze(Object.defineProperty({__proto__:null,Button:mP,CaptionLabel:pP,Chevron:gP,Day:yP,DayButton:vP,Dropdown:xP,DropdownNav:bP,Footer:_P,Month:wP,MonthCaption:EP,MonthGrid:NP,Months:TP,MonthsDropdown:SP,Nav:CP,NextMonthButton:AP,Option:RP,PreviousMonthButton:jP,Root:DP,Select:MP,Week:IP,WeekNumber:kP,WeekNumberHeader:VP,Weekday:PP,Weekdays:OP,Weeks:LP,YearsDropdown:UP},Symbol.toStringTag,{value:"Module"}));function BP(n){return{...zP,...n}}function FP(n){const e={"data-mode":n.mode??void 0,"data-required":"required"in n?n.required:void 0,"data-multiple-months":n.numberOfMonths&&n.numberOfMonths>1||void 0,"data-week-numbers":n.showWeekNumber||void 0,"data-broadcast-calendar":n.broadcastCalendar||void 0,"data-nav-layout":n.navLayout||void 0};return Object.entries(n).forEach(([t,a])=>{t.startsWith("data-")&&(e[t]=a)}),e}function HP(){const n={};for(const e in at)n[at[e]]=`rdp-${at[e]}`;for(const e in ar)n[ar[e]]=`rdp-${ar[e]}`;for(const e in Os)n[Os[e]]=`rdp-${Os[e]}`;for(const e in ns)n[ns[e]]=`rdp-${ns[e]}`;return n}function KN(n,e,t){return(t??new Fi(e)).format(n,"LLLL y")}const qP=KN;function $P(n,e,t){return(t??new Fi(e)).format(n,"d")}function YP(n,e=mi){return e.format(n,"LLLL")}function WP(n,e=mi){return n<10?e.formatNumber(`0${n.toLocaleString()}`):e.formatNumber(`${n.toLocaleString()}`)}function GP(){return""}function QP(n,e,t){return(t??new Fi(e)).format(n,"cccccc")}function XN(n,e=mi){return e.format(n,"yyyy")}const KP=XN,XP=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:KN,formatDay:$P,formatMonthCaption:qP,formatMonthDropdown:YP,formatWeekNumber:WP,formatWeekNumberHeader:GP,formatWeekdayName:QP,formatYearCaption:KP,formatYearDropdown:XN},Symbol.toStringTag,{value:"Module"}));function ZP(n){return n?.formatMonthCaption&&!n.formatCaption&&(n.formatCaption=n.formatMonthCaption),n?.formatYearCaption&&!n.formatYearDropdown&&(n.formatYearDropdown=n.formatYearCaption),{...XP,...n}}function JP(n,e,t,a,i){const{startOfMonth:l,startOfYear:d,endOfYear:m,eachMonthOfInterval:p,getMonth:g}=i;return p({start:d(n),end:m(n)}).map(E=>{const D=a.formatMonthDropdown(E,i),O=g(E),z=e&&E<l(e)||t&&E>l(t)||!1;return{value:O,label:D,disabled:z}})}function eO(n,e={},t={}){let a={...e?.[at.Day]};return Object.entries(n).filter(([,i])=>i===!0).forEach(([i])=>{a={...a,...t?.[i]}}),a}function tO(n,e,t){const a=n.today(),i=e?n.startOfISOWeek(a):n.startOfWeek(a),l=[];for(let d=0;d<7;d++){const m=n.addDays(i,d);l.push(m)}return l}function nO(n,e,t,a){if(!n||!e)return;const{startOfYear:i,endOfYear:l,addYears:d,getYear:m,isBefore:p,isSameYear:g}=a,b=i(n),_=l(e),E=[];let D=b;for(;p(D,_)||g(D,_);)E.push(D),D=d(D,1);return E.map(O=>{const z=t.formatYearDropdown(O,a);return{value:m(O),label:z,disabled:!1}})}function ZN(n,e,t){return(t??new Fi(e)).format(n,"LLLL y")}const rO=ZN;function aO(n,e,t,a){let i=(a??new Fi(t)).format(n,"PPPP");return e?.today&&(i=`Today, ${i}`),i}function JN(n,e,t,a){let i=(a??new Fi(t)).format(n,"PPPP");return e.today&&(i=`Today, ${i}`),e.selected&&(i=`${i}, selected`),i}const sO=JN;function iO(){return""}function oO(n){return"Choose the Month"}function lO(n){return"Go to the Next Month"}function cO(n){return"Go to the Previous Month"}function uO(n,e,t){return(t??new Fi(e)).format(n,"cccc")}function dO(n,e){return`Week ${n}`}function hO(n){return"Week Number"}function fO(n){return"Choose the Year"}const mO=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:rO,labelDay:sO,labelDayButton:JN,labelGrid:ZN,labelGridcell:aO,labelMonthDropdown:oO,labelNav:iO,labelNext:lO,labelPrevious:cO,labelWeekNumber:dO,labelWeekNumberHeader:hO,labelWeekday:uO,labelYearDropdown:fO},Symbol.toStringTag,{value:"Module"})),Bd=n=>n instanceof HTMLElement?n:null,Yg=n=>[...n.querySelectorAll("[data-animated-month]")??[]],pO=n=>Bd(n.querySelector("[data-animated-month]")),Wg=n=>Bd(n.querySelector("[data-animated-caption]")),Gg=n=>Bd(n.querySelector("[data-animated-weeks]")),gO=n=>Bd(n.querySelector("[data-animated-nav]")),yO=n=>Bd(n.querySelector("[data-animated-weekdays]"));function vO(n,e,{classNames:t,months:a,focused:i,dateLib:l}){const d=T.useRef(null),m=T.useRef(a),p=T.useRef(!1);T.useLayoutEffect(()=>{const g=m.current;if(m.current=a,!e||!n.current||!(n.current instanceof HTMLElement)||a.length===0||g.length===0||a.length!==g.length)return;const b=l.isSameMonth(a[0].date,g[0].date),_=l.isAfter(a[0].date,g[0].date),E=_?t[ns.caption_after_enter]:t[ns.caption_before_enter],D=_?t[ns.weeks_after_enter]:t[ns.weeks_before_enter],O=d.current,z=n.current.cloneNode(!0);if(z instanceof HTMLElement?(Yg(z).forEach(ae=>{if(!(ae instanceof HTMLElement))return;const Re=pO(ae);Re&&ae.contains(Re)&&ae.removeChild(Re);const fe=Wg(ae);fe&&fe.classList.remove(E);const U=Gg(ae);U&&U.classList.remove(D)}),d.current=z):d.current=null,p.current||b||i)return;const q=O instanceof HTMLElement?Yg(O):[],K=Yg(n.current);if(K&&K.every(ge=>ge instanceof HTMLElement)&&q&&q.every(ge=>ge instanceof HTMLElement)){p.current=!0,n.current.style.isolation="isolate";const ge=gO(n.current);ge&&(ge.style.zIndex="1"),K.forEach((ae,Re)=>{const fe=q[Re];if(!fe)return;ae.style.position="relative",ae.style.overflow="hidden";const U=Wg(ae);U&&U.classList.add(E);const k=Gg(ae);k&&k.classList.add(D);const R=()=>{p.current=!1,n.current&&(n.current.style.isolation=""),ge&&(ge.style.zIndex=""),U&&U.classList.remove(E),k&&k.classList.remove(D),ae.style.position="",ae.style.overflow="",ae.contains(fe)&&ae.removeChild(fe)};fe.style.pointerEvents="none",fe.style.position="absolute",fe.style.overflow="hidden",fe.setAttribute("aria-hidden","true");const I=yO(fe);I&&(I.style.opacity="0");const M=Wg(fe);M&&(M.classList.add(_?t[ns.caption_before_exit]:t[ns.caption_after_exit]),M.addEventListener("animationend",R));const B=Gg(fe);B&&B.classList.add(_?t[ns.weeks_before_exit]:t[ns.weeks_after_exit]),ae.insertBefore(fe,ae.firstChild)})}})}function xO(n,e,t,a){const i=n[0],l=n[n.length-1],{ISOWeek:d,fixedWeeks:m,broadcastCalendar:p}=t??{},{addDays:g,differenceInCalendarDays:b,differenceInCalendarMonths:_,endOfBroadcastWeek:E,endOfISOWeek:D,endOfMonth:O,endOfWeek:z,isAfter:q,startOfBroadcastWeek:K,startOfISOWeek:ge,startOfWeek:ae}=a,Re=p?K(i,a):d?ge(i):ae(i),fe=p?E(l):d?D(O(l)):z(O(l)),U=b(fe,Re),k=_(l,i)+1,R=[];for(let B=0;B<=U;B++){const G=g(Re,B);if(e&&q(G,e))break;R.push(G)}const M=(p?35:42)*k;if(m&&R.length<M){const B=M-R.length;for(let G=0;G<B;G++){const V=g(R[R.length-1],1);R.push(V)}}return R}function bO(n){const e=[];return n.reduce((t,a)=>{const i=a.weeks.reduce((l,d)=>[...l,...d.days],e);return[...t,...i]},e)}function _O(n,e,t,a){const{numberOfMonths:i=1}=t,l=[];for(let d=0;d<i;d++){const m=a.addMonths(n,d);if(e&&m>e)break;l.push(m)}return l}function x1(n,e,t,a){const{month:i,defaultMonth:l,today:d=a.today(),numberOfMonths:m=1}=n;let p=i||l||d;const{differenceInCalendarMonths:g,addMonths:b,startOfMonth:_}=a;if(t&&g(t,p)<m-1){const E=-1*(m-1);p=b(t,E)}return e&&g(p,e)<0&&(p=e),_(p)}function wO(n,e,t,a){const{addDays:i,endOfBroadcastWeek:l,endOfISOWeek:d,endOfMonth:m,endOfWeek:p,getISOWeek:g,getWeek:b,startOfBroadcastWeek:_,startOfISOWeek:E,startOfWeek:D}=a,O=n.reduce((z,q)=>{const K=t.broadcastCalendar?_(q,a):t.ISOWeek?E(q):D(q),ge=t.broadcastCalendar?l(q):t.ISOWeek?d(m(q)):p(m(q)),ae=e.filter(k=>k>=K&&k<=ge),Re=t.broadcastCalendar?35:42;if(t.fixedWeeks&&ae.length<Re){const k=e.filter(R=>{const I=Re-ae.length;return R>ge&&R<=i(ge,I)});ae.push(...k)}const fe=ae.reduce((k,R)=>{const I=t.ISOWeek?g(R):b(R),M=k.find(G=>G.weekNumber===I),B=new HN(R,q,a);return M?M.days.push(B):k.push(new dP(I,[B])),k},[]),U=new uP(q,fe);return z.push(U),z},[]);return t.reverseMonths?O.reverse():O}function EO(n,e){let{startMonth:t,endMonth:a}=n;const{startOfYear:i,startOfDay:l,startOfMonth:d,endOfMonth:m,addYears:p,endOfYear:g,newDate:b,today:_}=e,{fromYear:E,toYear:D,fromMonth:O,toMonth:z}=n;!t&&O&&(t=O),!t&&E&&(t=e.newDate(E,0,1)),!a&&z&&(a=z),!a&&D&&(a=b(D,11,31));const q=n.captionLayout==="dropdown"||n.captionLayout==="dropdown-years";return t?t=d(t):E?t=b(E,0,1):!t&&q&&(t=i(p(n.today??_(),-100))),a?a=m(a):D?a=b(D,11,31):!a&&q&&(a=g(n.today??_())),[t&&l(t),a&&l(a)]}function NO(n,e,t,a){if(t.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:l=1}=t,{startOfMonth:d,addMonths:m,differenceInCalendarMonths:p}=a,g=i?l:1,b=d(n);if(!e)return m(b,g);if(!(p(e,n)<l))return m(b,g)}function TO(n,e,t,a){if(t.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:l}=t,{startOfMonth:d,addMonths:m,differenceInCalendarMonths:p}=a,g=i?l??1:1,b=d(n);if(!e)return m(b,-g);if(!(p(b,e)<=0))return m(b,-g)}function SO(n){const e=[];return n.reduce((t,a)=>[...t,...a.weeks],e)}function Am(n,e){const[t,a]=T.useState(n);return[e===void 0?t:e,a]}function CO(n,e){const[t,a]=EO(n,e),{startOfMonth:i,endOfMonth:l}=e,d=x1(n,t,a,e),[m,p]=Am(d,n.month?d:void 0);T.useEffect(()=>{const U=x1(n,t,a,e);p(U)},[n.timeZone]);const g=_O(m,a,n,e),b=xO(g,n.endMonth?l(n.endMonth):void 0,n,e),_=wO(g,b,n,e),E=SO(_),D=bO(_),O=TO(m,t,n,e),z=NO(m,a,n,e),{disableNavigation:q,onMonthChange:K}=n,ge=U=>E.some(k=>k.days.some(R=>R.isEqualTo(U))),ae=U=>{if(q)return;let k=i(U);t&&k<i(t)&&(k=i(t)),a&&k>i(a)&&(k=i(a)),p(k),K?.(k)};return{months:_,weeks:E,days:D,navStart:t,navEnd:a,previousMonth:O,nextMonth:z,goToMonth:ae,goToDay:U=>{ge(U)||ae(U.date)}}}var Js;(function(n){n[n.Today=0]="Today",n[n.Selected=1]="Selected",n[n.LastFocused=2]="LastFocused",n[n.FocusedModifier=3]="FocusedModifier"})(Js||(Js={}));function b1(n){return!n[ar.disabled]&&!n[ar.hidden]&&!n[ar.outside]}function AO(n,e,t,a){let i,l=-1;for(const d of n){const m=e(d);b1(m)&&(m[ar.focused]&&l<Js.FocusedModifier?(i=d,l=Js.FocusedModifier):a?.isEqualTo(d)&&l<Js.LastFocused?(i=d,l=Js.LastFocused):t(d.date)&&l<Js.Selected?(i=d,l=Js.Selected):m[ar.today]&&l<Js.Today&&(i=d,l=Js.Today))}return i||(i=n.find(d=>b1(e(d)))),i}function RO(n,e,t,a,i,l,d){const{ISOWeek:m,broadcastCalendar:p}=l,{addDays:g,addMonths:b,addWeeks:_,addYears:E,endOfBroadcastWeek:D,endOfISOWeek:O,endOfWeek:z,max:q,min:K,startOfBroadcastWeek:ge,startOfISOWeek:ae,startOfWeek:Re}=d;let U={day:g,week:_,month:b,year:E,startOfWeek:k=>p?ge(k,d):m?ae(k):Re(k),endOfWeek:k=>p?D(k):m?O(k):z(k)}[n](t,e==="after"?1:-1);return e==="before"&&a?U=q([a,U]):e==="after"&&i&&(U=K([i,U])),U}function eT(n,e,t,a,i,l,d,m=0){if(m>365)return;const p=RO(n,e,t.date,a,i,l,d),g=!!(l.disabled&&Oi(p,l.disabled,d)),b=!!(l.hidden&&Oi(p,l.hidden,d)),_=p,E=new HN(p,_,d);return!g&&!b?E:eT(n,e,E,a,i,l,d,m+1)}function jO(n,e,t,a,i){const{autoFocus:l}=n,[d,m]=T.useState(),p=AO(e.days,t,a||(()=>!1),d),[g,b]=T.useState(l?p:void 0);return{isFocusTarget:z=>!!p?.isEqualTo(z),setFocused:b,focused:g,blur:()=>{m(g),b(void 0)},moveFocus:(z,q)=>{if(!g)return;const K=eT(z,q,g,e.navStart,e.navEnd,n,i);K&&(e.goToDay(K),b(K))}}}function DO(n,e){const{selected:t,required:a,onSelect:i}=n,[l,d]=Am(t,i?t:void 0),m=i?t:l,{isSameDay:p}=e,g=D=>m?.some(O=>p(O,D))??!1,{min:b,max:_}=n;return{selected:m,select:(D,O,z)=>{let q=[...m??[]];if(g(D)){if(m?.length===b||a&&m?.length===1)return;q=m?.filter(K=>!p(K,D))}else m?.length===_?q=[D]:q=[...q,D];return i||d(q),i?.(q,D,O,z),q},isSelected:g}}function MO(n,e,t=0,a=0,i=!1,l=mi){const{from:d,to:m}=e||{},{isSameDay:p,isAfter:g,isBefore:b}=l;let _;if(!d&&!m)_={from:n,to:t>0?void 0:n};else if(d&&!m)p(d,n)?i?_={from:d,to:void 0}:_=void 0:b(n,d)?_={from:n,to:d}:_={from:d,to:n};else if(d&&m)if(p(d,n)&&p(m,n))i?_={from:d,to:m}:_=void 0;else if(p(d,n))_={from:d,to:t>0?void 0:n};else if(p(m,n))_={from:n,to:t>0?void 0:n};else if(b(n,d))_={from:n,to:m};else if(g(n,d))_={from:d,to:n};else if(g(n,m))_={from:d,to:n};else throw new Error("Invalid range");if(_?.from&&_?.to){const E=l.differenceInCalendarDays(_.to,_.from);a>0&&E>a?_={from:n,to:void 0}:t>1&&E<t&&(_={from:n,to:void 0})}return _}function IO(n,e,t=mi){const a=Array.isArray(e)?e:[e];let i=n.from;const l=t.differenceInCalendarDays(n.to,n.from),d=Math.min(l,6);for(let m=0;m<=d;m++){if(a.includes(i.getDay()))return!0;i=t.addDays(i,1)}return!1}function _1(n,e,t=mi){return Pi(n,e.from,!1,t)||Pi(n,e.to,!1,t)||Pi(e,n.from,!1,t)||Pi(e,n.to,!1,t)}function PO(n,e,t=mi){const a=Array.isArray(e)?e:[e];if(a.filter(m=>typeof m!="function").some(m=>typeof m=="boolean"?m:t.isDate(m)?Pi(n,m,!1,t):GN(m,t)?m.some(p=>Pi(n,p,!1,t)):Uy(m)?m.from&&m.to?_1(n,{from:m.from,to:m.to},t):!1:WN(m)?IO(n,m.dayOfWeek,t):qN(m)?t.isAfter(m.before,m.after)?_1(n,{from:t.addDays(m.after,1),to:t.addDays(m.before,-1)},t):Oi(n.from,m,t)||Oi(n.to,m,t):$N(m)||YN(m)?Oi(n.from,m,t)||Oi(n.to,m,t):!1))return!0;const d=a.filter(m=>typeof m=="function");if(d.length){let m=n.from;const p=t.differenceInCalendarDays(n.to,n.from);for(let g=0;g<=p;g++){if(d.some(b=>b(m)))return!0;m=t.addDays(m,1)}}return!1}function OO(n,e){const{disabled:t,excludeDisabled:a,selected:i,required:l,onSelect:d}=n,[m,p]=Am(i,d?i:void 0),g=d?i:m;return{selected:g,select:(E,D,O)=>{const{min:z,max:q}=n,K=E?MO(E,g,z,q,l,e):void 0;return a&&t&&K?.from&&K.to&&PO({from:K.from,to:K.to},t,e)&&(K.from=E,K.to=void 0),d||p(K),d?.(K,E,D,O),K},isSelected:E=>g&&Pi(g,E,!1,e)}}function kO(n,e){const{selected:t,required:a,onSelect:i}=n,[l,d]=Am(t,i?t:void 0),m=i?t:l,{isSameDay:p}=e;return{selected:m,select:(_,E,D)=>{let O=_;return!a&&m&&m&&p(_,m)&&(O=void 0),i||d(O),i?.(O,_,E,D),O},isSelected:_=>m?p(m,_):!1}}function VO(n,e){const t=kO(n,e),a=DO(n,e),i=OO(n,e);switch(n.mode){case"single":return t;case"multiple":return a;case"range":return i;default:return}}function LO(n){let e=n;e.timeZone&&(e={...n},e.today&&(e.today=new Sa(e.today,e.timeZone)),e.month&&(e.month=new Sa(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new Sa(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new Sa(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new Sa(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new Sa(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(dt=>new Sa(dt,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new Sa(e.selected.from,e.timeZone):void 0,to:e.selected.to?new Sa(e.selected.to,e.timeZone):void 0}));const{components:t,formatters:a,labels:i,dateLib:l,locale:d,classNames:m}=T.useMemo(()=>{const dt={...Ly,...e.locale};return{dateLib:new Fi({locale:dt,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:BP(e.components),formatters:ZP(e.formatters),labels:{...mO,...e.labels},locale:dt,classNames:{...HP(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:p,mode:g,navLayout:b,numberOfMonths:_=1,onDayBlur:E,onDayClick:D,onDayFocus:O,onDayKeyDown:z,onDayMouseEnter:q,onDayMouseLeave:K,onNextClick:ge,onPrevClick:ae,showWeekNumber:Re,styles:fe}=e,{formatCaption:U,formatDay:k,formatMonthDropdown:R,formatWeekNumber:I,formatWeekNumberHeader:M,formatWeekdayName:B,formatYearDropdown:G}=a,V=CO(e,l),{days:Te,months:ve,navStart:F,navEnd:le,previousMonth:ce,nextMonth:Ae,goToMonth:P}=V,ie=hP(Te,e,F,le,l),{isSelected:_e,select:me,selected:De}=VO(e,l)??{},{blur:Fe,focused:$e,isFocusTarget:Mt,moveFocus:jt,setFocused:ct}=jO(e,V,ie,_e??(()=>!1),l),{labelDayButton:Nt,labelGridcell:cn,labelGrid:An,labelMonthDropdown:We,labelNav:wt,labelPrevious:ya,labelNext:ka,labelWeekday:Pn,labelWeekNumber:Qr,labelWeekNumberHeader:gr,labelYearDropdown:Ar}=i,Kr=T.useMemo(()=>tO(l,e.ISOWeek),[l,e.ISOWeek]),or=g!==void 0||D!==void 0,Vn=T.useCallback(()=>{ce&&(P(ce),ae?.(ce))},[ce,P,ae]),Xr=T.useCallback(()=>{Ae&&(P(Ae),ge?.(Ae))},[P,Ae,ge]),va=T.useCallback((dt,Lt)=>Et=>{Et.preventDefault(),Et.stopPropagation(),ct(dt),me?.(dt.date,Lt,Et),D?.(dt.date,Lt,Et)},[me,D,ct]),It=T.useCallback((dt,Lt)=>Et=>{ct(dt),O?.(dt.date,Lt,Et)},[O,ct]),Ke=T.useCallback((dt,Lt)=>Et=>{Fe(),E?.(dt.date,Lt,Et)},[Fe,E]),pn=T.useCallback((dt,Lt)=>Et=>{const wn={ArrowLeft:[Et.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[Et.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[Et.shiftKey?"year":"week","after"],ArrowUp:[Et.shiftKey?"year":"week","before"],PageUp:[Et.shiftKey?"year":"month","before"],PageDown:[Et.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(wn[Et.key]){Et.preventDefault(),Et.stopPropagation();const[gn,vr]=wn[Et.key];jt(gn,vr)}z?.(dt.date,Lt,Et)},[jt,z,e.dir]),Rn=T.useCallback((dt,Lt)=>Et=>{q?.(dt.date,Lt,Et)},[q]),ia=T.useCallback((dt,Lt)=>Et=>{K?.(dt.date,Lt,Et)},[K]),Kn=T.useCallback(dt=>Lt=>{const Et=Number(Lt.target.value),wn=l.setMonth(l.startOfMonth(dt),Et);P(wn)},[l,P]),Rr=T.useCallback(dt=>Lt=>{const Et=Number(Lt.target.value),wn=l.setYear(l.startOfMonth(dt),Et);P(wn)},[l,P]),{className:nt,style:lr}=T.useMemo(()=>({className:[m[at.Root],e.className].filter(Boolean).join(" "),style:{...fe?.[at.Root],...e.style}}),[m,e.className,e.style,fe]),Xn=FP(e),Lr=T.useRef(null);vO(Lr,!!e.animate,{classNames:m,months:ve,focused:$e,dateLib:l});const yr={dayPickerProps:e,selected:De,select:me,isSelected:_e,months:ve,nextMonth:Ae,previousMonth:ce,goToMonth:P,getModifiers:ie,components:t,classNames:m,styles:fe,labels:i,formatters:a};return ke.createElement(QN.Provider,{value:yr},ke.createElement(t.Root,{rootRef:e.animate?Lr:void 0,className:nt,style:lr,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...Xn},ke.createElement(t.Months,{className:m[at.Months],style:fe?.[at.Months]},!e.hideNavigation&&!b&&ke.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:m[at.Nav],style:fe?.[at.Nav],"aria-label":wt(),onPreviousClick:Vn,onNextClick:Xr,previousMonth:ce,nextMonth:Ae}),ve.map((dt,Lt)=>{const Et=JP(dt.date,F,le,a,l),wn=nO(F,le,a,l);return ke.createElement(t.Month,{"data-animated-month":e.animate?"true":void 0,className:m[at.Month],style:fe?.[at.Month],key:Lt,displayIndex:Lt,calendarMonth:dt},b==="around"&&!e.hideNavigation&&Lt===0&&ke.createElement(t.PreviousMonthButton,{type:"button",className:m[at.PreviousMonthButton],tabIndex:ce?void 0:-1,"aria-disabled":ce?void 0:!0,"aria-label":ya(ce),onClick:Vn,"data-animated-button":e.animate?"true":void 0},ke.createElement(t.Chevron,{disabled:ce?void 0:!0,className:m[at.Chevron],orientation:e.dir==="rtl"?"right":"left"})),ke.createElement(t.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:m[at.MonthCaption],style:fe?.[at.MonthCaption],calendarMonth:dt,displayIndex:Lt},p?.startsWith("dropdown")?ke.createElement(t.DropdownNav,{className:m[at.Dropdowns],style:fe?.[at.Dropdowns]},p==="dropdown"||p==="dropdown-months"?ke.createElement(t.MonthsDropdown,{className:m[at.MonthsDropdown],"aria-label":We(),classNames:m,components:t,disabled:!!e.disableNavigation,onChange:Kn(dt.date),options:Et,style:fe?.[at.Dropdown],value:l.getMonth(dt.date)}):ke.createElement("span",null,R(dt.date,l)),p==="dropdown"||p==="dropdown-years"?ke.createElement(t.YearsDropdown,{className:m[at.YearsDropdown],"aria-label":Ar(l.options),classNames:m,components:t,disabled:!!e.disableNavigation,onChange:Rr(dt.date),options:wn,style:fe?.[at.Dropdown],value:l.getYear(dt.date)}):ke.createElement("span",null,G(dt.date,l)),ke.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},U(dt.date,l.options,l))):ke.createElement(t.CaptionLabel,{className:m[at.CaptionLabel],role:"status","aria-live":"polite"},U(dt.date,l.options,l))),b==="around"&&!e.hideNavigation&&Lt===_-1&&ke.createElement(t.NextMonthButton,{type:"button",className:m[at.NextMonthButton],tabIndex:Ae?void 0:-1,"aria-disabled":Ae?void 0:!0,"aria-label":ka(Ae),onClick:Xr,"data-animated-button":e.animate?"true":void 0},ke.createElement(t.Chevron,{disabled:Ae?void 0:!0,className:m[at.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Lt===_-1&&b==="after"&&!e.hideNavigation&&ke.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:m[at.Nav],style:fe?.[at.Nav],"aria-label":wt(),onPreviousClick:Vn,onNextClick:Xr,previousMonth:ce,nextMonth:Ae}),ke.createElement(t.MonthGrid,{role:"grid","aria-multiselectable":g==="multiple"||g==="range","aria-label":An(dt.date,l.options,l)||void 0,className:m[at.MonthGrid],style:fe?.[at.MonthGrid]},!e.hideWeekdays&&ke.createElement(t.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:m[at.Weekdays],style:fe?.[at.Weekdays]},Re&&ke.createElement(t.WeekNumberHeader,{"aria-label":gr(l.options),className:m[at.WeekNumberHeader],style:fe?.[at.WeekNumberHeader],scope:"col"},M()),Kr.map((gn,vr)=>ke.createElement(t.Weekday,{"aria-label":Pn(gn,l.options,l),className:m[at.Weekday],key:vr,style:fe?.[at.Weekday],scope:"col"},B(gn,l.options,l)))),ke.createElement(t.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:m[at.Weeks],style:fe?.[at.Weeks]},dt.weeks.map((gn,vr)=>ke.createElement(t.Week,{className:m[at.Week],key:gn.weekNumber,style:fe?.[at.Week],week:gn},Re&&ke.createElement(t.WeekNumber,{week:gn,style:fe?.[at.WeekNumber],"aria-label":Qr(gn.weekNumber,{locale:d}),className:m[at.WeekNumber],scope:"row",role:"rowheader"},I(gn.weekNumber,l)),gn.days.map(Bt=>{const{date:xn}=Bt,Tt=ie(Bt);if(Tt[ar.focused]=!Tt.hidden&&!!$e?.isEqualTo(Bt),Tt[Os.selected]=_e?.(xn)||Tt.selected,Uy(De)){const{from:te,to:ye}=De;Tt[Os.range_start]=!!(te&&ye&&l.isSameDay(xn,te)),Tt[Os.range_end]=!!(te&&ye&&l.isSameDay(xn,ye)),Tt[Os.range_middle]=Pi(De,xn,!0,l)}const Ur=eO(Tt,fe,e.modifiersStyles),$=fP(Tt,m,e.modifiersClassNames),J=!or&&!Tt.hidden?cn(xn,Tt,l.options,l):void 0;return ke.createElement(t.Day,{key:`${l.format(xn,"yyyy-MM-dd")}_${l.format(Bt.displayMonth,"yyyy-MM")}`,day:Bt,modifiers:Tt,className:$.join(" "),style:Ur,role:"gridcell","aria-selected":Tt.selected||void 0,"aria-label":J,"data-day":l.format(xn,"yyyy-MM-dd"),"data-month":Bt.outside?l.format(xn,"yyyy-MM"):void 0,"data-selected":Tt.selected||void 0,"data-disabled":Tt.disabled||void 0,"data-hidden":Tt.hidden||void 0,"data-outside":Bt.outside||void 0,"data-focused":Tt.focused||void 0,"data-today":Tt.today||void 0},!Tt.hidden&&or?ke.createElement(t.DayButton,{className:m[at.DayButton],style:fe?.[at.DayButton],type:"button",day:Bt,modifiers:Tt,disabled:Tt.disabled||void 0,tabIndex:Mt(Bt)?0:-1,"aria-label":Nt(xn,Tt,l.options,l),onClick:va(Bt,Tt),onBlur:Ke(Bt,Tt),onFocus:It(Bt,Tt),onKeyDown:pn(Bt,Tt),onMouseEnter:Rn(Bt,Tt),onMouseLeave:ia(Bt,Tt)},k(xn,l.options,l)):!Tt.hidden&&k(Bt.date,l.options,l))}))))))})),e.footer&&ke.createElement(t.Footer,{className:m[at.Footer],style:fe?.[at.Footer],role:"status","aria-live":"polite"},e.footer)))}const UO={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},zO=(n,e,t)=>{let a;const i=UO[n];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",String(e)),t?.addSuffix?t.comparison&&t.comparison>0?"em "+a:"h "+a:a},BO={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},FO={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},HO={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qO={date:Mc({formats:BO,defaultWidth:"full"}),time:Mc({formats:FO,defaultWidth:"full"}),dateTime:Mc({formats:HO,defaultWidth:"full"})},$O={lastWeek:n=>{const e=n.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},YO=(n,e,t,a)=>{const i=$O[n];return typeof i=="function"?i(e):i},WO={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},GO={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},QO={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},KO={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},XO={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},ZO={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},JO=(n,e)=>{const t=Number(n);return e?.unit==="week"?t+"":t+""},ek={ordinalNumber:JO,era:ti({values:WO,defaultWidth:"wide"}),quarter:ti({values:GO,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ti({values:QO,defaultWidth:"wide"}),day:ti({values:KO,defaultWidth:"wide"}),dayPeriod:ti({values:XO,defaultWidth:"wide",formattingValues:ZO,defaultFormattingWidth:"wide"})},tk=/^(\d+)[o]?/i,nk=/\d+/i,rk={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},ak={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},sk={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},ik={any:[/1/i,/2/i,/3/i,/4/i]},ok={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},lk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},ck={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},uk={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},dk={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},hk={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},fk={ordinalNumber:VN({matchPattern:tk,parsePattern:nk,valueCallback:n=>parseInt(n,10)}),era:ni({matchPatterns:rk,defaultMatchWidth:"wide",parsePatterns:ak,defaultParseWidth:"any"}),quarter:ni({matchPatterns:sk,defaultMatchWidth:"wide",parsePatterns:ik,defaultParseWidth:"any",valueCallback:n=>n+1}),month:ni({matchPatterns:ok,defaultMatchWidth:"wide",parsePatterns:lk,defaultParseWidth:"any"}),day:ni({matchPatterns:ck,defaultMatchWidth:"wide",parsePatterns:uk,defaultParseWidth:"any"}),dayPeriod:ni({matchPatterns:dk,defaultMatchWidth:"any",parsePatterns:hk,defaultParseWidth:"any"})},mk={code:"pt-BR",formatDistance:zO,formatLong:qO,formatRelative:YO,localize:ek,match:fk,options:{weekStartsOn:0,firstWeekContainsDate:1}},pk=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),dl=n=>pk.format(Number.isFinite(n)?n:0),Tl=n=>n.toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),gk=n=>(n??"").toString().trim().toLowerCase(),yk=n=>{const e=gk(n.status);return["pago","confirmado","pre_reserva","aguardando","pending","processing","processando"].includes(e)?!0:!e&&!!n.confirmada},Qg=n=>n.id??Tl(n.nome),Tc=(n,e)=>{if(!n)return;if(e.id&&e.id in n)return Number(n[e.id]);if(e.nome in n)return Number(n[e.nome]);const t=Tl(e.nome);for(const[a,i]of Object.entries(n))if(Tl(a)===t)return Number(i)},df=(n,e,t)=>{const a=e.find(l=>Tl(l.nome).includes(t));if(!a)return;const i=Tc(n,a);return Number.isFinite(i)?Number(i):void 0},vk=(n,e)=>{if(!e)return 0;const t=Tl(n.nome);return t.includes("adult")?Number(e.precoAdulto??0):t.includes("crian")?Number(e.precoCrianca??0):t.includes("bariat")?Number(e.precoBariatrica??0):0},$u=(n,e,t)=>{const a=Tc(n,e);return Number.isFinite(a)?Number(a):vk(e,t)},No=n=>{const e=Number(n);return Number.isFinite(e)?Math.max(e,0):0},Af=n=>n?Object.values(n).reduce((e,t)=>e+No(t),0):0,sa=n=>n.replace(/\D/g,""),A0=[{id:"visa",label:"Visa",pattern:/^4/,badgeClass:"bg-blue-600 text-white"},{id:"mastercard",label:"Mastercard",pattern:/^(5[1-5]|2[2-7])/,badgeClass:"bg-rose-600 text-white"},{id:"amex",label:"Amex",pattern:/^3[47]/,badgeClass:"bg-sky-600 text-white"},{id:"elo",label:"Elo",pattern:/^(4011(78|79)|431274|438935|451416|457393|45763[12]|504175|5067(0|1|2)|5090|627780|636297|636368|650)/,badgeClass:"bg-emerald-600 text-white"},{id:"hipercard",label:"Hipercard",pattern:/^(606282|3841)/,badgeClass:"bg-indigo-600 text-white"}],tT=n=>{const e=sa(n);return e?A0.find(a=>a.pattern.test(e))?.id??null:null},xk=n=>n==="amex"?15:19,bk=n=>{const e=sa(n).slice(0,11),t=e.slice(0,3),a=e.slice(3,6),i=e.slice(6,9),l=e.slice(9,11);let d=t;return a&&(d+=`.${a}`),i&&(d+=`.${i}`),l&&(d+=`-${l}`),d},_k=n=>{const e=sa(n).slice(0,11);return e.length===0?"":e.length<2?`(${e}`:e.length===2?`(${e})`:e.length<=6?`(${e.slice(0,2)}) ${e.slice(2)}`:e.length<=10?`(${e.slice(0,2)}) ${e.slice(2,6)}-${e.slice(6)}`:`(${e.slice(0,2)}) ${e.slice(2,7)}-${e.slice(7)}`},wk=n=>{const e=sa(n).slice(0,8);return e.length<=5?e:`${e.slice(0,5)}-${e.slice(5)}`},Ek=n=>{const e=sa(n),t=tT(e),a=xk(t),i=e.slice(0,a);if(t==="amex"){const l=/^(\d{0,4})(\d{0,6})(\d{0,5})$/.exec(i);return l?[l[1],l[2],l[3]].filter(Boolean).join(" "):i}return i.replace(/(\d{4})(?=\d)/g,"$1 ")},Nk=n=>{const e=sa(n).slice(0,6);return e.length<=2?e:`${e.slice(0,2)}/${e.slice(2)}`},Tk=n=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.trim()),Sk=n=>{const e=sa(n);if(e.length!==11||/^(\d)\1+$/.test(e))return!1;let t=0;for(let l=0;l<9;l+=1)t+=Number(e[l])*(10-l);let a=t*10%11;if(a===10&&(a=0),a!==Number(e[9]))return!1;t=0;for(let l=0;l<10;l+=1)t+=Number(e[l])*(11-l);let i=t*10%11;return i===10&&(i=0),i===Number(e[10])},w1=n=>{const e=sa(n);if(e.length<4)return null;const t=Number(e.slice(0,2));if(!Number.isFinite(t)||t<1||t>12)return null;let a=Number(e.slice(2));return!Number.isFinite(a)||(e.length===4&&(a+=2e3),e.length>=6&&(a=Number(e.slice(2,6))),!Number.isFinite(a)||a<2e3)?null:{month:t,year:a}},E1=(n,e)=>{const t=n?.error||n?.message||n?.details?.errors?.[0]?.description;return t?String(t):e},Ck=n=>{const e=sa(n);if(e.length<13||e.length>19)return!1;let t=0,a=!1;for(let i=e.length-1;i>=0;i-=1){let l=Number(e[i]);a&&(l*=2,l>9&&(l-=9)),t+=l,a=!a}return t%10===0},N1=n=>{const e=/(\d{1,2})(?:[:hH](\d{2}))?/.exec(n.trim());if(!e)return null;const t=Number(e[1]),a=e[2]?Number(e[2]):0;return!Number.isFinite(t)||!Number.isFinite(a)||t<0||t>23||a<0||a>59?null:t*60+a},T1=n=>{const e=No(n.participantes),t=n.participantesPorTipo&&Object.keys(n.participantesPorTipo).length>0?Af(n.participantesPorTipo):0,i=(t>0?t:No(n.adultos)+No(n.criancas)+No(n.bariatrica))+No(n.naoPagante);return Math.max(i,e)};function Ak(){const[n,e]=T.useState([]),[t,a]=T.useState([]),[i,l]=T.useState([]),[d,m]=T.useState(!0),[p,g]=T.useState([]),[b,_]=T.useState([]),[E,D]=T.useState(0),[O,z]=T.useState(""),[q,K]=T.useState(""),[ge,ae]=T.useState(""),[Re,fe]=T.useState(""),[U,k]=T.useState(),[R,I]=T.useState(""),[M,B]=T.useState(new Set),[G,V]=T.useState(!1),[Te,ve]=T.useState({}),[F]=T.useState(0),[le,ce]=T.useState(null),[Ae,P]=T.useState(!1),[ie,_e]=T.useState(null),[me,De]=T.useState("CREDIT_CARD"),[Fe,$e]=T.useState(""),[Mt,jt]=T.useState(""),[ct,Nt]=T.useState(""),[cn,An]=T.useState(""),[We,wt]=T.useState(null),[ya,ka]=T.useState(""),[Pn,Qr]=T.useState(""),[gr,Ar]=T.useState(""),[Kr,or]=T.useState(""),[Vn,Xr]=T.useState(""),[va,It]=T.useState(""),[Ke,pn]=T.useState(""),[Rn,ia]=T.useState({}),[Kn,Rr]=T.useState({}),[nt,lr]=T.useState({}),Xn=T.useRef(null),Lr=T.useRef(null),yr=T.useRef(null),dt=T.useRef(null),Lt=T.useRef(null),Et=T.useRef(null),wn=T.useRef(null),gn=T.useRef(null),vr=T.useRef(null),Bt=T.useRef(null),xn=T.useRef(null),[Tt,Ur]=T.useState(null),[$,J]=T.useState(null),[te,ye]=T.useState(null),je=T.useRef(null);T.useEffect(()=>{_e(null),Ur(null),J(null),ye(null),wt(null)},[me]);const Ie=T.useMemo(()=>tT(Mt),[Mt]),Qe=T.useMemo(()=>Ie?A0.find(A=>A.id===Ie)??null:null,[Ie]),Ve=Ie==="amex"?"0000 000000 00000":"0000 0000 0000 0000",Ye=Ie==="amex"?17:23,Be=Ie==="amex"?4:3,st=Ie==="amex"?"1234":"123",Xe=Mt.trim()?Mt:Ve,it=Fe.trim()?Fe.trim().toUpperCase():"NOME NO CARTAO",Ze=ct.trim()?ct:"MM/AA",vt=me==="CREDIT_CARD"&&["processing","pending"].includes(We?.status??"");T.useEffect(()=>{An(A=>A.slice(0,Be))},[Be]);const Dt=()=>{D(0),_([]),z(""),K(""),ae(""),fe(""),k(void 0),I(""),ve({}),ce(null),_e(null),De("CREDIT_CARD"),$e(""),jt(""),Nt(""),An(""),ka(""),Qr(""),Ar(""),or(""),Xr(""),It(""),pn(""),ia({}),lr({}),Ur(null),J(null),ye(null)},Ot=(()=>{const A=new Date;return A.setHours(0,0,0,0),A})(),Je=A=>`w-full px-3 py-2 rounded-md border focus:outline-none focus:ring-2 ${nt[A]?"border-red-400 focus:ring-red-500":"border-black focus:ring-black"}`,St=T.useCallback((A,Y)=>{lr(oe=>{if(Y)return oe[A]===Y?oe:{...oe,[A]:Y};if(!(A in oe))return oe;const{[A]:ue,...we}=oe;return we})},[]),Bn=["nome","email","cpf","telefone"],xr=A=>{switch(A){case"nome":{const Y=O.trim();return Y?Y.length<3?"Digite um nome vlido.":"":"Informe seu nome completo."}case"email":{const Y=q.trim();return Y?Tk(Y)?"":"Digite um e-mail vlido.":"Informe seu e-mail."}case"cpf":{const Y=Re.trim();return Y?Sk(Y)?"":"Digite um CPF vlido.":"Informe seu CPF."}case"telefone":{const Y=ge.trim();return Y&&sa(Y).length<10?"Digite um telefone vlido com DDD.":""}default:return""}},Zn=T.useCallback(A=>{const Y=["pacotes","data","horario","participantes","pet","nome","email","cpf","telefone","cartaoNome","cartaoNumero","cartaoValidade","cartaoCvv","enderecoCep","enderecoRua","enderecoNumero","enderecoBairro","enderecoCidade","enderecoEstado"],oe=ue=>{switch(ue){case"pacotes":return Xn.current;case"nome":return Lr.current;case"email":return yr.current;case"cpf":return dt.current;case"telefone":return Lt.current;case"data":return Et.current;case"horario":return wn.current;case"participantes":return gn.current;case"pet":return vr.current;case"cartaoNome":case"cartaoNumero":case"cartaoValidade":case"cartaoCvv":case"enderecoCep":case"enderecoRua":case"enderecoNumero":case"enderecoBairro":case"enderecoCidade":case"enderecoEstado":return xn.current;default:return null}};for(const ue of Y)if(A[ue]){const we=oe(ue);if(we){we.scrollIntoView({behavior:"smooth",block:"center"});const xe=we;typeof xe.focus=="function"&&xe.focus()}break}},[]),qn=A=>{const Y=xr(A);return St(A,Y||void 0),!Y};T.useEffect(()=>{async function A(){try{const oe=(await Eo(Ta(dn,"tipos_clientes"))).docs.map(ze=>{const tt=ze.data();return{id:ze.id,nome:tt.nome??"",descricao:tt.descricao??""}}).filter(ze=>ze.nome.trim().length>0).sort((ze,tt)=>ze.nome.localeCompare(tt.nome,"pt-BR",{sensitivity:"base"})),we=(await Eo(Ta(dn,"pacotes"))).docs.map(ze=>({id:ze.id,...ze.data()})),Le=(await Eo(Ta(dn,"combos"))).docs.map(ze=>{const tt=ze.data(),yn=tt.precosPorTipo&&typeof tt.precosPorTipo=="object"?Object.fromEntries(Object.entries(tt.precosPorTipo).map(([Ft,Jr])=>[Ft,Number(Jr)||0])):void 0;return{id:ze.id,nome:tt.nome||"",pacoteIds:Array.isArray(tt.pacoteIds)?tt.pacoteIds.map(Ft=>(Ft??"").toString()).filter(Boolean):[],preco:Number(tt.preco??0),precoAdulto:Number(tt.precoAdulto??0),precoCrianca:Number(tt.precoCrianca??0),precoBariatrica:Number(tt.precoBariatrica??0),precosPorTipo:yn,desconto:Number(tt.desconto??0),ativo:tt.ativo!==!1}}).filter(ze=>ze.ativo&&ze.pacoteIds.length>0),gt=we.map(ze=>({id:ze.id,nome:ze.nome,tipo:ze.tipo,emoji:ze.emoji,precoAdulto:Number(ze.precoAdulto),precoCrianca:Number(ze.precoCrianca),precoBariatrica:Number(ze.precoBariatrica),precosPorTipo:ze.precosPorTipo&&typeof ze.precosPorTipo=="object"?Object.fromEntries(Object.entries(ze.precosPorTipo).map(([tt,yn])=>[tt,Number(yn)||0])):void 0,horarios:ze.horarios??[],dias:Array.isArray(ze.dias)?ze.dias:[],limite:ze.limite!==void 0?Number(ze.limite):void 0,datasBloqueadas:Array.isArray(ze.datasBloqueadas)?ze.datasBloqueadas:[],aceitaPet:ze.aceitaPet!==!1,modoHorario:ze.modoHorario||"lista",horarioInicio:ze.horarioInicio||"",horarioFim:ze.horarioFim||"",perguntasPersonalizadas:Array.isArray(ze.perguntasPersonalizadas)?ze.perguntasPersonalizadas:[]}));l(oe),e(gt),a(Le),console.log(" Pacotes carregados:",gt.map(ze=>({nome:ze.nome,datasBloqueadas:ze.datasBloqueadas})))}catch(Y){console.error("Erro ao buscar dados:",Y),e([]),a([]),l([])}finally{m(!1)}}A()},[]);const tn=T.useMemo(()=>i,[i]);T.useEffect(()=>{ve(A=>{const Y={};return tn.forEach((oe,ue)=>{const we=Qg(oe),xe=Tc(A,oe);if(Number.isFinite(xe)){Y[we]=Number(xe);return}if(Object.keys(A).length===0&&ue===0){Y[we]=1;return}Y[we]=0}),Y})},[tn]);const ja=T.useCallback(A=>A?tn.some(Y=>$u(A.precosPorTipo,Y,A)>0):!1,[tn]),On=T.useCallback(A=>tn.map(oe=>{const ue=$u(A.precosPorTipo,oe,A);return ue>0?`${oe.nome} ${dl(ue)}`:""}).filter(oe=>oe.length>0).join("  "),[tn]);T.useEffect(()=>{const A=pl(Ta(dn,"disponibilidade"),Zs("fechado","==",!0)),Y=Ec(A,oe=>{const ue=new Set;oe.forEach(we=>{const xe=we.data(),Le=typeof xe?.data=="string"?xe.data:we.id;ue.add(Le)}),B(ue)},oe=>{console.error("Erro ao acompanhar dias bloqueados:",oe)});return()=>Y()},[]);const ht=T.useMemo(()=>n.filter(A=>A.id&&b.includes(A.id)),[n,b]),ut=T.useMemo(()=>{const A=new Map;return n.forEach(Y=>{Y.id&&A.set(Y.id,Y)}),A},[n]),Ln=T.useMemo(()=>{const A=new Map;return n.forEach(Y=>{Y.id&&A.set(Tl(Y.nome),Y.id)}),A},[n]),cr=T.useCallback(A=>{if(Array.isArray(A.pacoteIds)&&A.pacoteIds.length>0)return A.pacoteIds.map(ue=>ue?.toString()).filter(ue=>!!ue);if(!A.atividade)return[];const Y=Tl(A.atividade),oe=[];return Ln.forEach((ue,we)=>{Y.includes(we)&&oe.push(ue)}),oe},[Ln]),Jn=T.useMemo(()=>{const A={};return p.forEach(Y=>{const oe=(Y.horario??"").toString().trim();if(!oe)return;const ue=T1(Y);if(ue<=0)return;const we=cr(Y);we.length!==0&&Array.from(new Set(we)).forEach(xe=>{const Le=`${xe}__${oe}`;A[Le]=(A[Le]??0)+ue})}),A},[cr,p]),ur=T.useMemo(()=>{const A={};return p.forEach(Y=>{const oe=T1(Y);if(oe<=0)return;const ue=cr(Y);ue.length!==0&&Array.from(new Set(ue)).forEach(we=>{A[we]=(A[we]??0)+oe})}),A},[cr,p]),He=T.useMemo(()=>{if(b.length!==0)return t.find(A=>A.pacoteIds.length===b.length&&A.pacoteIds.every(Y=>b.includes(Y)))},[t,b]),an=A=>{if(He?.id===A.id)_([]);else{const oe=A.pacoteIds.filter(ue=>ut.has(ue));_(oe)}I(""),St("pacotes")},Da=T.useMemo(()=>ht.some(A=>A.modoHorario==="intervalo"||A.horarios&&A.horarios.length===0),[ht]);T.useEffect(()=>{if(!U){g([]);return}const A=U.toISOString().slice(0,10),Y=pl(Ta(dn,"reservas"),Zs("data","==",A)),oe=Ec(Y,ue=>{const xe=ue.docs.map(Le=>({id:Le.id,...Le.data()})).filter(yk);g(xe)},ue=>{console.error("Erro ao acompanhar reservas:",ue),g([])});return()=>oe()},[U]),T.useEffect(()=>{if(!U){Rr({}),V(!1);return}let A=!0;const Y=U.toISOString().slice(0,10);return(async()=>{try{const ue=ha(dn,"disponibilidade",Y),we=await S0(ue);if(!A)return;const xe=we.exists()?we.data():null;xe&&typeof xe.horarios=="object"?Rr(xe.horarios):Rr({}),V(!!xe?.fechado||M.has(Y))}catch(ue){console.error("Erro ao carregar disponibilidade:",ue),A&&(Rr({}),V(M.has(Y)))}})(),()=>{A=!1}},[U,M]),T.useEffect(()=>{if(ht.length===0){ia({});return}ia(A=>{const Y=new Set;ht.forEach(ue=>{ue.id&&(ue.perguntasPersonalizadas??[]).forEach(we=>{Y.add(`${ue.id}-${we.id}`)})});const oe={};return Object.entries(A).forEach(([ue,we])=>{Y.has(ue)&&(oe[ue]=we)}),oe})},[ht]);const En=T.useMemo(()=>{if(ht.length===0)return[];const A=[...new Set(ht.flatMap(xe=>xe.horarios||[]))];if(!U)return A;if(G)return[];const Y=U.toISOString().slice(0,10);let oe=A.filter(xe=>ht.every(Le=>{if(!Le.id)return!0;const gt=`${Y}-${Le.id}-${xe}`;return Kn[gt]!==!1}));const ue=new Date;if(U.getFullYear()===ue.getFullYear()&&U.getMonth()===ue.getMonth()&&U.getDate()===ue.getDate()){const xe=ue.getHours()*60+ue.getMinutes();oe=oe.filter(Le=>{const gt=N1(Le);return gt===null?!0:gt>=xe})}return oe},[U,ht,Kn,G]),Ma=T.useMemo(()=>{const A={};return ht.length===0||En.forEach(Y=>{let oe=null;ht.forEach(ue=>{if(!ue.id)return;const we=Number(ue.limite??0);if(!Number.isFinite(we)||we<=0)return;const Le=ue.modoHorario==="intervalo"||(ue.horarios?.length??0)===0?ur[ue.id]??0:Jn[`${ue.id}__${Y}`]??0,gt=we-Le;oe=oe===null?gt:Math.min(oe,gt)}),A[Y]=oe}),A},[En,ur,Jn,ht]),xa=T.useMemo(()=>{let A=null;return ht.forEach(Y=>{if(!Y.id||!(Y.modoHorario==="intervalo"||(Y.horarios?.length??0)===0))return;const ue=Number(Y.limite??0);if(!Number.isFinite(ue)||ue<=0)return;const we=ur[Y.id]??0,xe=ue-we;A=A===null?xe:Math.min(A,xe)}),A},[ur,ht]),er=T.useMemo(()=>Af(Te)+F,[F,Te]),dr=T.useMemo(()=>{if(!R)return null;const A=Ma[R];return typeof A=="number"?A:null},[R,Ma]),jr=T.useMemo(()=>{let A=null;return typeof xa=="number"&&(A=xa),typeof dr=="number"&&(A=A===null?dr:Math.min(A,dr)),A},[dr,xa]),Zr=T.useMemo(()=>En.filter(A=>{const Y=Ma[A];return Y===null||typeof Y!="number"?!0:Math.max(Y,0)>0}),[En,Ma]),bn=T.useMemo(()=>Zr.filter(A=>{const Y=Ma[A];if(Y===null||typeof Y!="number")return!0;const oe=Math.max(Y,0);return oe<=0?!1:er<=0?!0:oe>=er}),[Zr,Ma,er]);T.useEffect(()=>{R&&(bn.includes(R)||I(""))},[bn,R]);const hr=T.useMemo(()=>{const A={};if(!U||G)return A;const Y=U.toISOString().slice(0,10),oe=new Date,ue=U.getFullYear()===oe.getFullYear()&&U.getMonth()===oe.getMonth()&&U.getDate()===oe.getDate(),we=oe.getHours()*60+oe.getMinutes();return n.forEach(xe=>{if(!xe.id)return;if((xe.datasBloqueadas??[]).includes(Y)){A[xe.id]=!1;return}const Le=xe.modoHorario==="intervalo"||(xe.horarios?.length??0)===0,gt=Number(xe.limite??0),ze=Number.isFinite(gt)&&gt>0;if(Le){if(!ze){A[xe.id]=!0;return}const yn=ur[xe.id]??0;A[xe.id]=gt-yn>0;return}let tt=Array.isArray(xe.horarios)?xe.horarios:[];if(tt.length===0){A[xe.id]=!1;return}if(tt=tt.filter(yn=>{const Ft=`${Y}-${xe.id}-${yn}`;return Kn[Ft]!==!1}),ue&&(tt=tt.filter(yn=>{const Ft=N1(yn);return Ft===null?!0:Ft>=we})),tt.length===0){A[xe.id]=!1;return}if(!ze){A[xe.id]=!0;return}A[xe.id]=tt.some(yn=>{const Ft=Jn[`${xe.id}__${yn}`]??0;return gt-Ft>0})}),A},[G,Kn,n,ur,Jn,U]),_s=T.useMemo(()=>{const A={};return!U||G||t.forEach(Y=>{if(!Y.id)return;const oe=Y.pacoteIds.map(ue=>ut.get(ue)).filter(Boolean);if(oe.length!==Y.pacoteIds.length||oe.length===0){A[Y.id]=!1;return}A[Y.id]=oe.every(ue=>ue.id&&hr[ue.id]!==!1)}),A},[t,G,hr,ut,U]);if(T.useEffect(()=>{const A=E===0?Xn.current:E===1?Et.current??wn.current:E===2?gn.current??vr.current:E===3?Bt.current??gn.current:Lr.current??xn.current;if(!A)return;const Y=window.setTimeout(()=>{A.scrollIntoView({behavior:"smooth",block:"start"})},80);return()=>window.clearTimeout(Y)},[E]),d)return u.jsx("section",{id:"reservas",className:"py-10",children:u.jsx("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"mx-auto max-w-3xl rounded-3xl border border-white/60 bg-white/80 p-8 text-center shadow-xl backdrop-blur md:p-10",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Reserva"}),u.jsx("h2",{className:"mt-2 text-2xl font-bold text-[#8B4F23] md:text-3xl",children:"Carregando pacotes..."}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Aguarde um instante enquanto preparamos o formulrio."})]})})});if(n.length===0)return u.jsx("section",{id:"reservas",className:"py-10",children:u.jsx("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"mx-auto max-w-3xl rounded-3xl border border-white/60 bg-white/80 p-8 text-center shadow-xl backdrop-blur md:p-10",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Reserva"}),u.jsx("h2",{className:"mt-2 text-2xl font-bold text-[#8B4F23] md:text-3xl",children:"Nenhum pacote disponvel para reserva"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Tente novamente mais tarde ou entre em contato via WhatsApp."})]})})});const $a=()=>{let A=0;if(ht.forEach(Y=>{const oe=tn.reduce((ue,we)=>{const xe=Number(Tc(Te,we)??0),Le=$u(Y.precosPorTipo,we,Y);return ue+xe*Le},0);A+=oe}),He)if(ja(He))A=tn.reduce((Y,oe)=>{const ue=Number(Tc(Te,oe)??0),we=$u(He.precosPorTipo,oe,He);return Y+ue*we},0);else{const Y=Number(He.preco);Number.isFinite(Y)&&Y>0?A=Y:He.desconto&&He.desconto>0&&(A=A*(1-He.desconto/100))}return A},ba=A=>{if(ht.length===0)return!1;const Y=A.toISOString().slice(0,10);return M.has(Y)?!1:ht.some(oe=>!(oe.datasBloqueadas??[]).includes(Y))},hn=A=>{if(ht.length===0)return!1;const Y=A.toISOString().slice(0,10);return M.has(Y)?!0:ht.every(oe=>(oe.datasBloqueadas??[]).includes(Y))},Va=()=>{if(ht.length===0)return null;const A=ht.filter(oe=>oe.aceitaPet),Y=ht.filter(oe=>!oe.aceitaPet);if(Y.length>0&&A.length>0){const oe=Y.map(we=>we.nome).join(", "),ue=A.map(we=>we.nome).join(", ");return`A atividade ${oe} no permite Pets, A ${ue} sim.`}return Y.length>0&&A.length===0?`No  permitido pets na atividade: ${Y.map(ue=>ue.nome).join(", ")}`:null},br=A=>{k(A),I(""),St("data"),St("horario")},is=A=>{_(Y=>Y.includes(A)?Y.filter(oe=>oe!==A):[...Y,A]),I(""),St("pacotes"),St("horario")},Ya=(A,Y,oe,ue)=>{ia(we=>{const xe={...we},Le=ue?Y.trim():Y;if(!Le)return xe[A]&&delete xe[A],xe;const ze={...xe[A]??{},resposta:Le};return oe&&Le!==oe&&ze.condicional!==void 0&&delete ze.condicional,xe[A]=ze,xe})},os=(A,Y,oe)=>{ia(ue=>{const we={...ue},xe=oe?Y.trim():Y;if(!xe){if(we[A]){const gt={...we[A]};delete gt.condicional,we[A]=gt}return we}const Le=we[A]??{};return we[A]={...Le,condicional:xe},we})},Bs=()=>{const A=[];for(const Y of ht){if(!Y.id)continue;const oe=Y.perguntasPersonalizadas??[];for(const ue of oe){const we=`${Y.id}-${ue.id}`,xe=Rn[we];let Le=xe?.resposta??"";if(ue.tipo==="texto"?Le=Le.toString().trim():ue.tipo==="sim_nao"&&(Le=Le.toString()),ue.obrigatoria){if(ue.tipo==="sim_nao"){if(Le!=="sim"&&Le!=="nao")return{respostas:[],erro:`Responda a pergunta "${ue.pergunta}" do pacote ${Y.nome}.`}}else if(!Le)return{respostas:[],erro:`Responda a pergunta "${ue.pergunta}" do pacote ${Y.nome}.`}}if(!(ue.tipo==="sim_nao"?Le==="sim"||Le==="nao":!!Le))continue;const ze={pacoteId:Y.id,pacoteNome:Y.nome,perguntaId:ue.id,pergunta:ue.pergunta,tipo:ue.tipo,obrigatoria:ue.obrigatoria,resposta:(ue.tipo==="texto",Le)};if(ue.perguntaCondicional){const tt=ue.perguntaCondicional;if(Le===tt.condicao){let Ft=xe?.condicional??"";if(tt.tipo==="texto"?Ft=Ft.toString().trim():tt.tipo==="sim_nao"&&(Ft=Ft.toString()),tt.obrigatoria){if(tt.tipo==="sim_nao"){if(Ft!=="sim"&&Ft!=="nao")return{respostas:[],erro:`Responda a pergunta complementar "${tt.pergunta}" do pacote ${Y.nome}.`}}else if(!Ft)return{respostas:[],erro:`Responda a pergunta complementar "${tt.pergunta}" do pacote ${Y.nome}.`}}(tt.tipo==="sim_nao"?Ft==="sim"||Ft==="nao":!!Ft)&&(ze.perguntaCondicional={pergunta:tt.pergunta,tipo:tt.tipo,obrigatoria:tt.obrigatoria,resposta:Ft})}}A.push(ze)}}return{respostas:A}},Fs=["pacotes","data","horario","participantes","pet","nome","email","cpf","telefone","cartaoNome","cartaoNumero","cartaoValidade","cartaoCvv","enderecoCep","enderecoRua","enderecoNumero","enderecoBairro","enderecoCidade","enderecoEstado"],Hi=A=>A==="pacotes"?0:["data","horario"].includes(A)?1:["participantes","pet"].includes(A)?2:A==="perguntas"?3:4,La=A=>{for(const oe of Fs)if(A[oe])return Hi(oe);const Y=Object.keys(A)[0];return Y?Hi(Y):0},Wa=A=>{const Y={};if(A>=0&&b.length===0&&(Y.pacotes="Selecione pelo menos um pacote."),A>=1){b.length>0&&(U?G&&(Y.data="Esta data est indisponvel. Escolha outra."):Y.data="Selecione uma data disponvel.");const oe=ht.some(Le=>(Le.horarios?.length??0)>0),ue=En.length>0,we=Zr.length>0,xe=bn.length>0;if(U&&ue&&!R&&(Y.horario=xe?"Escolha um horrio disponvel.":we?"Nenhum horrio comporta a quantidade de participantes selecionada. Reduza os participantes ou escolha outra data.":"Todos os horrios esto lotados para os pacotes selecionados."),U&&!ue&&!Da&&oe&&(Y.horario="No h horrios disponveis para os pacotes selecionados nesta data."),A>=2){const Le=er;Le<=0&&(Y.participantes="Informe a quantidade de participantes.");const gt=typeof jr=="number"?Math.max(jr,0):null;if(gt!==null&&Le>gt){const ze=typeof dr=="number"?Math.max(dr,0):null,tt=typeof xa=="number"?Math.max(xa,0):null;ze!==null&&Le>ze?Y.participantes=`Restam apenas ${ze} vaga(s) para este horrio.`:tt!==null?Y.participantes=`Restam apenas ${tt} vaga(s) disponveis para esta data.`:Y.participantes=`Restam apenas ${gt} vaga(s) disponveis.`}le===null&&(Y.pet="Informe se vai levar pet.")}}if(A>=4&&(Bn.forEach(oe=>{const ue=xr(oe);ue&&(Y[oe]=ue)}),me==="CREDIT_CARD")){Fe.trim()||(Y.cartaoNome="Informe o nome no cartao."),Ck(Mt)||(Y.cartaoNumero="Informe um numero de cartao valido.");const oe=w1(ct);if(!oe)Y.cartaoValidade="Informe a validade (MM/AA).";else{const Le=new Date,gt=new Date(Le.getFullYear(),Le.getMonth(),1);new Date(oe.year,oe.month,0)<gt&&(Y.cartaoValidade="Cartao vencido.")}const ue=sa(cn);(ue.length<3||ue.length>4)&&(Y.cartaoCvv="Informe o CVV."),sa(ya).length!==8&&(Y.enderecoCep="Informe o CEP."),Pn.trim()||(Y.enderecoRua="Informe o endereco."),gr.trim()||(Y.enderecoNumero="Informe o numero."),Vn.trim()||(Y.enderecoBairro="Informe o bairro."),va.trim()||(Y.enderecoCidade="Informe a cidade."),Ke.trim().toUpperCase().length!==2&&(Y.enderecoEstado="Informe o estado (UF).")}return Y},_r=(A,Y)=>{const oe=Wa(A);return lr(oe),Object.keys(oe).length>0?(Y?.scroll!==!1&&Zn(oe),{ok:!1,errors:oe}):{ok:!0,errors:{}}},ft=[{title:"Atividades",description:"Escolha os pacotes e/ou combos."},{title:"Data e Horrio",description:"Escolha o dia e horrio da visita."},{title:"Participantes",description:"Informe participantes e se levar pet."},{title:"Perguntas",description:"Responda as informaes adicionais."},{title:"Resumo e Pagamento",description:"Revise tudo, escolha pagamento e finalize."}],fr=()=>{D(A=>A>0?A-1:A)},ls=()=>{if(E===0){const A=_r(0);if(!A.ok){D(La(A.errors));return}D(1);return}if(E===1){const A=_r(1);if(!A.ok){D(La(A.errors));return}D(2);return}if(E===2){const A=_r(2);if(!A.ok){D(La(A.errors));return}D(3);return}if(E===3){const A=_r(3);if(!A.ok){D(La(A.errors));return}const{erro:Y}=Bs();if(Y){alert(Y);return}D(4)}};async function _a(A){if(A.preventDefault(),E!==4){ls();return}if(Ae||vt)return;const Y=_r(4,{scroll:!1});if(!Y.ok){const we=La(Y.errors);D(we),window.setTimeout(()=>Zn(Y.errors),120);return}if(!U||b.length===0||le===null)return;const{respostas:oe,erro:ue}=Bs();if(ue){D(3),alert(ue);return}P(!0),_e(null),Ur(null),J(null),ye(null),wt(me==="CREDIT_CARD"?{status:"processing",message:"Processando compra. Aguarde a confirmacao do cartao."}:null);try{const we=U.toISOString().slice(0,10),xe=Af(Te)+F,Le=$a(),gt=bn.length>0&&R?R:"Sem horrio especfico",ze=ht.map(Dr=>Dr.nome).join(" + "),tt=He?ja(He)?` (Combo: ${He.nome} - ${On(He)})`:He.preco&&He.preco>0?` (Combo: ${He.nome} - valor especial ${dl(He.preco)})`:He.desconto&&He.desconto>0?` (Combo: ${He.nome} - ${He.desconto}% de desconto)`:` (Combo: ${He.nome})`:"",yn=df(Te,tn,"adult")??0,Ft=df(Te,tn,"crian")??0,Jr=df(Te,tn,"bariat")??0,Fn=me==="CREDIT_CARD"?w1(ct):null,Es={nome:O,email:q,valor:Le,cpf:Re,telefone:ge,atividade:ze+tt,data:we,participantes:xe,participantesPorTipo:Te,adultos:yn,bariatrica:Jr,criancas:Ft,naoPagante:F,billingType:me,horario:gt,temPet:le,pacoteIds:b,comboId:He?.id||null};me==="CREDIT_CARD"&&Fn&&(Es.creditCard={holderName:Fe.trim(),number:sa(Mt),expiryMonth:String(Fn.month).padStart(2,"0"),expiryYear:String(Fn.year),ccv:sa(cn)},Es.creditCardHolderInfo={name:Fe.trim(),email:q,cpfCnpj:sa(Re),postalCode:sa(ya),address:Pn.trim(),addressNumber:gr.trim(),addressComplement:Kr.trim(),province:Vn.trim(),city:va.trim(),state:Ke.trim().toUpperCase(),phone:sa(ge)}),oe.length>0&&(Es.perguntasPersonalizadas=oe),console.log(" Enviando payload:",{nome:O,email:q,valor:Le,data:we,billingType:me});const Ua=await fetch("https://vagafogo-production.up.railway.app/criar-cobranca",{method:"POST",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(Es)});console.log(" Status da resposta:",Ua.status);const $n=await Ua.json().catch(()=>({}));if(console.log(" Resposta completa:",$n),!Ua.ok){console.error(" Erro na resposta:",$n);const Dr=E1($n,"Erro ao criar a cobranca.");me==="CREDIT_CARD"?wt({status:"error",message:`Compra negada: ${Dr}`}):alert(`Erro ao criar a cobranca: ${Dr}`);return}if($n?.status==="ok"){if(console.log(" Resposta OK recebida:",$n),console.log(" Invoice URL:",$n.cobranca?.invoiceUrl),console.log(" PIX Key:",$n.cobranca?.pixKey),me==="PIX")_e($n.cobranca?.invoiceUrl||null),Ur($n.cobranca?.pixKey||null),J($n.cobranca?.qrCodeImage||null),ye($n.cobranca?.expirationDate||null);else{const Dr=String($n.cobranca?.status??"").toUpperCase(),Ns=["CONFIRMED","RECEIVED","PAID"].includes(Dr),Ts=["DECLINED","DENIED","REFUSED","FAILED","CANCELED","CANCELLED","CHARGEBACK"].includes(Dr),pi=Ns?"success":Ts?"error":"pending",Ss=Ns?"Compra realizada com sucesso. Reserva confirmada.":Ts?`Compra negada. Motivo: ${Dr||"NAO INFORMADO"}.`:"Pagamento em processamento. Aguarde a confirmacao do cartao.";wt({status:pi,message:Ss}),Ns&&Dt()}setTimeout(()=>{je.current?.scrollIntoView({behavior:"smooth",block:"center"})},100),Jr>0&&alert(" IMPORTANTE: Como voc selecionou opo baritrica, ser necessrio enviar a foto da carteirinha via WhatsApp aps realizar a reserva para validao.")}else{console.error(" Status no  OK:",$n?.status);const Dr=E1($n,"Erro ao criar a cobranca. Verifique os dados ou tente novamente.");me==="CREDIT_CARD"?wt({status:"error",message:`Compra negada: ${Dr}`}):alert(Dr)}}catch(we){console.error("Erro ao processar reserva:",we),me==="CREDIT_CARD"?wt({status:"error",message:"Erro ao processar a compra. Tente novamente."}):alert("Erro ao processar reserva. Tente novamente.")}finally{P(!1)}}const Hs=b.length>0?$a():0,wr=ht.map(A=>A.nome).filter(Boolean),zr=ht.filter(A=>A.modoHorario==="intervalo"&&A.horarioInicio&&A.horarioFim).map(A=>`${A.horarioInicio}${A.horarioFim}`),oa=R||(bn.length>0?"Selecione um horrio":zr.length>0?`Faixa: ${zr.join(" / ")}`:"Sem horrio especfico"),ws=wr.length>0?`${wr.slice(0,2).join(" + ")}${wr.length>2?` +${wr.length-2}`:""}`:"Selecione os pacotes para continuar.",la=u.jsxs("div",{className:"rounded-3xl border border-white/60 bg-white/80 p-5 shadow-sm backdrop-blur",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Resumo"}),u.jsxs("div",{className:"mt-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Atividades"}),wr.length>0?u.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-slate-700",children:[wr.slice(0,3).map(A=>u.jsx("li",{className:"truncate",children:A},A)),wr.length>3&&u.jsxs("li",{className:"text-slate-500",children:["+ ",wr.length-3," outro(s)"]})]}):u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Selecione os pacotes para continuar."}),He&&u.jsxs("p",{className:"mt-2 text-xs font-semibold text-emerald-700",children:["Combo: ",He.nome]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Data"}),u.jsx("p",{className:"mt-1 text-slate-700",children:U?U.toLocaleDateString("pt-BR"):""})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Horrio"}),u.jsx("p",{className:"mt-1 text-slate-700",children:U?oa:""})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Participantes"}),u.jsx("p",{className:"mt-1 text-slate-700",children:er>0?er:""})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Pagamento"}),u.jsx("p",{className:"mt-1 text-slate-700",children:me==="PIX"?"PIX":"Carto"})]})]})]}),u.jsxs("div",{className:"mt-5 flex items-baseline justify-between rounded-2xl bg-slate-50 px-4 py-3",children:[u.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Total"}),u.jsx("span",{className:"text-xl font-bold text-emerald-700",children:dl(Hs)})]})]}),Ga=u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500",children:"Resumo"}),u.jsx("p",{className:"mt-1 truncate text-sm font-semibold text-slate-800",children:ws})]}),u.jsx("p",{className:"text-lg font-bold text-emerald-700",children:dl(Hs)})]}),u.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-x-3 gap-y-2 text-xs text-slate-600",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold text-slate-700",children:"Data:"})," ",U?U.toLocaleDateString("pt-BR"):""]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold text-slate-700",children:"Horrio:"})," ",U?oa:""]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold text-slate-700",children:"Participantes:"})," ",er>0?er:""]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold text-slate-700",children:"Pagamento:"})," ",me==="PIX"?"PIX":"Carto"]})]}),He&&u.jsxs("p",{className:"mt-2 text-xs font-semibold text-emerald-700",children:["Combo: ",He.nome]})]}),Ut=u.jsxs("div",{className:"rounded-3xl border border-white/60 bg-white/80 p-5 shadow-sm backdrop-blur",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Etapas"}),u.jsx("div",{className:"mt-4 space-y-2",children:ft.map((A,Y)=>{const oe=Y===E,ue=Y<=E;return u.jsxs("button",{type:"button",disabled:!ue,onClick:()=>ue&&D(Y),className:`flex w-full items-center gap-3 rounded-xl border px-3 py-2 text-left transition ${oe?"border-emerald-200 bg-emerald-50":ue?"border-slate-200 bg-white hover:bg-slate-50":"cursor-not-allowed border-slate-100 bg-slate-50 text-slate-400"}`,children:[u.jsx("span",{className:`flex h-7 w-7 shrink-0 items-center justify-center rounded-full text-xs font-bold ${oe||ue?"bg-emerald-600 text-white":"bg-slate-200 text-slate-500"}`,children:Y+1}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"truncate text-sm font-semibold text-slate-900",children:A.title}),u.jsx("p",{className:"truncate text-xs text-slate-500",children:A.description})]})]},A.title)})})]});return u.jsx("section",{id:"reservas",className:"py-10",children:u.jsx("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"mx-auto max-w-6xl",children:u.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1fr)_340px] lg:items-start xl:grid-cols-[minmax(0,1fr)_360px]",children:[u.jsxs("div",{children:[u.jsxs("form",{onSubmit:_a,noValidate:!0,className:"rounded-3xl border border-white/60 bg-white/80 p-4 shadow-xl backdrop-blur sm:p-6 md:p-8",children:[u.jsxs("div",{className:"mb-6 sm:mb-8",children:[u.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:u.jsxs("div",{children:[u.jsxs("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:["Etapa ",E+1," de ",ft.length]}),u.jsx("h2",{className:"mt-1 text-xl font-bold text-slate-900",children:ft[E].title}),u.jsx("p",{className:"mt-1 text-sm text-slate-600",children:ft[E].description})]})}),u.jsx("div",{className:"mt-4 h-2 w-full rounded-full bg-slate-100",children:u.jsx("div",{className:"h-2 rounded-full bg-emerald-600 transition-all",style:{width:`${(E+1)/ft.length*100}%`}})}),u.jsx("div",{className:"mt-5 hidden grid-cols-2 gap-3 sm:grid md:grid-cols-5 lg:hidden",children:ft.map((A,Y)=>{const oe=Y===E,ue=Y<=E;return u.jsxs("button",{type:"button",disabled:!ue,onClick:()=>ue&&D(Y),className:`flex items-center gap-3 rounded-2xl border p-3 text-left transition ${oe?"border-emerald-200 bg-emerald-50":ue?"border-slate-200 bg-white hover:bg-slate-50":"cursor-not-allowed border-slate-100 bg-slate-50 text-slate-400"}`,children:[u.jsx("span",{className:`flex h-8 w-8 items-center justify-center rounded-full text-sm font-bold ${oe||ue?"bg-emerald-600 text-white":"bg-slate-200 text-slate-500"}`,children:Y+1}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"truncate text-sm font-semibold text-slate-900",children:A.title}),u.jsx("p",{className:"truncate text-xs text-slate-500",children:A.description})]})]},A.title)})})]}),E===0&&u.jsxs(u.Fragment,{children:[t.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Combos especiais"}),u.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:t.map(A=>{const Y=A.pacoteIds.map(gt=>ut.get(gt)?.nome??"Pacote removido").filter(Boolean).join(", "),oe=He?.id===A.id,ue=!!(U&&A.id&&_s[A.id]===!1),we=ue&&!oe,xe=ja(A),Le=On(A);return u.jsx("button",{type:"button",disabled:we,onClick:()=>an(A),className:`rounded-2xl border p-4 text-left transition ${we?"border-gray-200 bg-gray-50 text-gray-500 cursor-not-allowed opacity-60":oe?"border-green-500 bg-green-50 shadow-md":"border-gray-200 hover:border-green-300 hover:bg-green-50/40"}`,children:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-gray-800",children:A.nome}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Inclui: ",Y||"Pacotes removidos"]})]}),u.jsx("span",{className:`text-xs font-semibold ${ue?"text-red-700":"text-green-700"}`,children:ue?"Esgotado":xe?"Tabela personalizada":A.preco&&A.preco>0?dl(A.preco):A.desconto&&A.desconto>0?`${A.desconto}% off`:"Especial"})]}),xe&&u.jsx("div",{className:"text-xs text-gray-600",children:Le||"Configurao por tipo"})]})},A.id)})}),u.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Ao selecionar um combo, os pacotes correspondentes so escolhidos automaticamente."})]}),u.jsxs("div",{ref:Xn,className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Selecione os Pacotes *"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(A=>{const Y=b.includes(A.id),oe=!!(U&&A.id&&hr[A.id]===!1),ue=oe&&!Y;return u.jsx("div",{"aria-disabled":ue,className:`border-2 rounded-lg p-4 transition-all ${ue?"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed":Y?"border-green-500 bg-green-50 cursor-pointer":"border-gray-200 hover:border-green-300 cursor-pointer"}`,onClick:()=>{ue||is(A.id)},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[u.jsxs("span",{children:[A.emoji," ",A.nome]}),oe&&u.jsx("span",{className:"inline-flex items-center rounded-full bg-red-100 px-2 py-0.5 text-xs font-semibold text-red-700",children:"Esgotado"})]}),tn.map(we=>u.jsxs("p",{className:"text-sm text-gray-600",children:[we.nome,": ",dl($u(A.precosPorTipo,we,A))]},Qg(we)))]}),u.jsx("input",{type:"checkbox",disabled:ue,checked:Y,onChange:()=>is(A.id),onClick:we=>we.stopPropagation(),className:"w-5 h-5 text-green-600"})]})},A.id)})}),He&&u.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:u.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[" Combo ativo: ",He.nome," "," ",ja(He)?On(He)||"valores personalizados":He.preco&&He.preco>0?`valor especial ${dl(He.preco)}`:He.desconto&&He.desconto>0?`${He.desconto}% de desconto aplicado`:"condies especiais aplicadas"]})}),nt.pacotes&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:nt.pacotes})]})]}),E===1&&u.jsxs(u.Fragment,{children:[b.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Selecione a Data *"}),u.jsx("div",{ref:Et,className:"flex justify-center",children:u.jsx(LO,{mode:"single",selected:U,onSelect:br,disabled:[{before:Ot},A=>!ba(A)],locale:mk,className:"border border-black rounded-lg p-4",modifiers:{blocked:A=>hn(A)},modifiersStyles:{blocked:{backgroundColor:"#fee2e2",color:"#dc2626",textDecoration:"line-through"}}})}),nt.data&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:nt.data})]}),U&&ht.length>0&&u.jsx("div",{ref:wn,className:"mb-6",children:G?u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-700",children:"Este dia esta fechado para todos os pacotes. Escolha outra data para continuar."})}):En.length>0?u.jsxs(u.Fragment,{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horario *"}),u.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:En.map(A=>{const Y=Ma[A],oe=typeof Y=="number"?Math.max(Y,0):null,ue=typeof Y=="number"&&Y<=0,we=!ue&&typeof Y=="number"&&er>Math.max(Y,0),xe=ue||we,Le=R===A,gt="flex flex-col items-center justify-center rounded-lg border px-3 py-2 text-sm font-medium transition",ze=ue?"border-red-300 bg-red-50 text-red-600 cursor-not-allowed":we?"border-yellow-300 bg-yellow-50 text-yellow-700 cursor-not-allowed":Le?"border-black bg-black text-white":"border-black text-gray-900 hover:bg-black hover:text-white",tt=ue?"text-red-500":we?"text-yellow-700":"text-gray-500",yn=oe===null?"Sem limite de vagas":ue?"Esgotado":we?`Insuficiente (${oe} vaga(s))`:`${oe} vaga(s)`;return u.jsxs("button",{type:"button",disabled:xe,onClick:()=>{I(A),St("horario")},className:`${gt} ${ze}`,children:[u.jsx("span",{className:"text-base",children:A}),u.jsx("span",{className:`text-xs ${tt}`,children:yn})]},A)})}),Zr.length>0&&bn.length===0&&u.jsxs("p",{className:"mt-2 text-sm text-yellow-700",children:["Nenhum horrio comporta ",er," participante(s). Reduza a quantidade ou escolha outra data."]}),Da&&u.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:ht.filter(A=>A.modoHorario==="intervalo"&&A.horarioInicio&&A.horarioFim).map(A=>u.jsxs("p",{className:"text-sm text-blue-700 mb-1 last:mb-0",children:["A atividade ",A.nome," funciona em faixa de horario, ocorre das ",A.horarioInicio," ate ",A.horarioFim]},A.id))})]}):Da?u.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:ht.filter(A=>A.modoHorario==="intervalo"&&A.horarioInicio&&A.horarioFim).map(A=>u.jsxs("p",{className:"text-sm font-medium text-green-700 mb-1 last:mb-0",children:["A atividade ",A.nome," funciona em faixa de horario, ocorre das ",A.horarioInicio," ate ",A.horarioFim]},A.id))}):u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-700",children:"Nenhum horario disponivel para os pacotes selecionados nesta data. Escolha outra data ou ajuste os pacotes."})})}),nt.horario&&!G&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:nt.horario})]}),E===2&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{ref:gn,className:"mb-6",children:[typeof jr=="number"&&u.jsxs("p",{className:"mb-3 text-xs text-gray-600",children:["Vagas restantes: ",Math.max(jr,0)," ",R?"para este horrio":"para esta data","."]}),u.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-3",children:tn.map(A=>{const Y=Qg(A),oe=Number(Tc(Te,A)??0),ue=typeof jr=="number"?Math.max(jr,0):null,we=ue===null?void 0:Math.max(ue-(er-oe),0),xe=oe>0,Le=typeof we=="number"?oe<we:!0,gt=ze=>{const tt=Math.floor(No(ze));ve(yn=>{if(ue===null)return{...yn,[Y]:tt};const Ft=Math.floor(No(yn[Y])),Jr=Af(yn)-Ft+F,Fn=Math.max(ue-Jr,0);return{...yn,[Y]:Math.min(tt,Fn)}}),St("participantes"),St("horario")};return u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 shadow-sm",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[u.jsx("span",{className:"block",children:A.nome}),A.descricao&&u.jsx("span",{className:"mt-1 block text-xs font-normal text-gray-500",children:A.descricao})]}),u.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[u.jsx("button",{type:"button",onClick:()=>gt(oe-1),disabled:!xe,className:"inline-flex h-10 w-10 items-center justify-center rounded-lg border border-slate-300 bg-white text-xl font-semibold text-slate-700 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-40","aria-label":`Diminuir ${A.nome}`,children:""}),u.jsx("span",{className:"min-w-[40px] text-center text-2xl font-bold text-slate-800",children:oe}),u.jsx("button",{type:"button",onClick:()=>gt(oe+1),disabled:!Le,className:"inline-flex h-10 w-10 items-center justify-center rounded-lg border border-slate-300 bg-white text-xl font-semibold text-slate-700 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-40","aria-label":`Aumentar ${A.nome}`,children:"+"})]}),typeof we=="number"&&u.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Mximo disponvel: ",we]})]},Y)})}),nt.participantes&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:nt.participantes}),typeof jr=="number"&&er>Math.max(jr,0)&&u.jsxs("p",{className:"mt-2 text-sm text-red-600",children:["Voc selecionou ",er," participante(s), mas restam apenas"," ",Math.max(jr,0)," vaga(s)"," ",R?"para este horrio":"para esta data","."]})]}),(df(Te,tn,"bariat")??0)>0&&u.jsx("div",{className:"mb-6 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-orange-700",children:[" ",u.jsx("strong",{children:"Importante:"}),"  obrigatrio apresentar a carteirinha baritrica via WhatsApp aps a reserva para validao."]})}),u.jsxs("div",{ref:vr,className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Vai levar pet? *"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6",children:[u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"radio",name:"pet",checked:le===!0,onChange:()=>{ce(!0),St("pet")},className:"mr-3 w-4 h-4 text-green-600 focus:ring-green-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Sim"})]}),u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"radio",name:"pet",checked:le===!1,onChange:()=>{ce(!1),St("pet")},className:"mr-3 w-4 h-4 text-green-600 focus:ring-green-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"No"})]})]}),le===!0&&Va()&&u.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-red-700",children:[" ",Va()]})}),nt.pet&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:nt.pet})]})]}),E===3&&u.jsxs(u.Fragment,{children:[ht.some(A=>(A.perguntasPersonalizadas?.length??0)>0)&&u.jsx("div",{ref:Bt,className:"mb-6 space-y-5",children:ht.map(A=>!A.id||(A.perguntasPersonalizadas?.length??0)===0?null:u.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50/60 p-4",children:[u.jsxs("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:["Informaes adicionais  ",A.nome]}),u.jsx("div",{className:"space-y-4",children:A.perguntasPersonalizadas.map(Y=>{const oe=`${A.id}-${Y.id}`,ue=Rn[oe]??{},we=ue.resposta??"",xe=Y.perguntaCondicional,Le=xe&&we===xe.condicao;return u.jsxs("div",{className:"space-y-3 rounded-md bg-white p-3 shadow-sm",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[Y.pergunta,Y.obrigatoria&&u.jsx("span",{className:"text-red-500",children:" *"})]}),u.jsx("p",{className:"text-xs text-gray-500",children:Y.tipo==="sim_nao"?"Selecione Sim ou No conforme necessrio.":"Informe a resposta no campo abaixo."})]}),Y.tipo==="sim_nao"?u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsxs("label",{className:"inline-flex items-center text-sm text-gray-700",children:[u.jsx("input",{type:"radio",name:`${oe}-base`,className:"mr-2",checked:we==="sim",onChange:()=>Ya(oe,"sim",xe?.condicao)}),"Sim"]}),u.jsxs("label",{className:"inline-flex items-center text-sm text-gray-700",children:[u.jsx("input",{type:"radio",name:`${oe}-base`,className:"mr-2",checked:we==="nao",onChange:()=>Ya(oe,"nao",xe?.condicao)}),"No"]}),u.jsx("button",{type:"button",onClick:()=>Ya(oe,"",xe?.condicao),className:"text-xs text-gray-500 underline",children:"Limpar"})]}):u.jsx("textarea",{value:typeof we=="string"?we:"",onChange:gt=>Ya(oe,gt.target.value,xe?.condicao,!0),className:"w-full rounded-md border border-black px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-black",rows:3,placeholder:"Digite sua resposta"}),xe&&u.jsxs("div",{className:`rounded-md border px-3 py-2 ${Le?"border-green-200 bg-green-50":"border-gray-200 bg-gray-100"}`,children:[u.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[xe.pergunta,xe.obrigatoria&&u.jsx("span",{className:"text-red-500",children:" *"})]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Condicional exibida quando a resposta anterior for ",xe.condicao==="sim"?"Sim":"No","."]}),xe.tipo==="sim_nao"?u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-4",children:[u.jsxs("label",{className:"inline-flex items-center text-sm text-gray-700",children:[u.jsx("input",{type:"radio",name:`${oe}-condicional`,className:"mr-2",checked:ue.condicional==="sim",disabled:!Le,onChange:()=>os(oe,"sim")}),"Sim"]}),u.jsxs("label",{className:"inline-flex items-center text-sm text-gray-700",children:[u.jsx("input",{type:"radio",name:`${oe}-condicional`,className:"mr-2",checked:ue.condicional==="nao",disabled:!Le,onChange:()=>os(oe,"nao")}),"No"]}),u.jsx("button",{type:"button",onClick:()=>os(oe,""),className:"text-xs text-gray-500 underline",disabled:!Le,children:"Limpar"})]}):u.jsx("textarea",{value:typeof ue.condicional=="string"?ue.condicional:"",onChange:gt=>os(oe,gt.target.value,!0),className:"mt-2 w-full rounded-md border border-black px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-black disabled:bg-gray-100",rows:2,placeholder:"Digite a resposta complementar",disabled:!Le})]})]},Y.id)})})]},`perguntas-${A.id}`))}),!ht.some(A=>(A.perguntasPersonalizadas?.length??0)>0)&&u.jsxs("div",{ref:Bt,className:"mb-6 rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Sem perguntas adicionais."}),u.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Os pacotes selecionados no exigem informaes extras. Clique em continuar para revisar e pagar."})]})]}),E===4&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),u.jsx("input",{type:"text",value:O,onChange:A=>{z(A.target.value),St("nome")},onBlur:()=>qn("nome"),className:Je("nome"),ref:Lr,autoComplete:"name",required:!0}),nt.nome&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.nome})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),u.jsx("input",{type:"email",value:q,onChange:A=>{K(A.target.value),St("email")},onBlur:()=>qn("email"),className:Je("email"),ref:yr,autoComplete:"email",required:!0}),nt.email&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.email})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),u.jsx("input",{type:"text",value:Re,onChange:A=>{fe(bk(A.target.value)),St("cpf")},onBlur:()=>qn("cpf"),className:Je("cpf"),ref:dt,placeholder:"000.000.000-00",inputMode:"numeric",maxLength:14,autoComplete:"off",required:!0}),nt.cpf&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.cpf})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),u.jsx("input",{type:"tel",value:ge,onChange:A=>{ae(_k(A.target.value)),St("telefone")},onBlur:()=>qn("telefone"),className:Je("telefone"),ref:Lt,placeholder:"(11) 99999-9999",inputMode:"tel",autoComplete:"tel",maxLength:15}),nt.telefone&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.telefone})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Forma de Pagamento"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6",children:[u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"radio",name:"pagamento",checked:me==="CREDIT_CARD",onChange:()=>De("CREDIT_CARD"),className:"mr-3 w-4 h-4 text-green-600 focus:ring-green-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Carto de Crdito"})]}),u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"radio",name:"pagamento",checked:me==="PIX",onChange:()=>De("PIX"),className:"mr-3 w-4 h-4 text-green-600 focus:ring-green-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"PIX"})]})]})]}),me==="CREDIT_CARD"&&u.jsx("div",{ref:xn,className:"mb-6 rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:u.jsxs("div",{className:"flex flex-col gap-6 lg:grid lg:grid-cols-[minmax(0,0.95fr)_minmax(0,1.05fr)] lg:items-start",children:[u.jsxs("div",{className:"relative mx-auto w-full max-w-[420px] aspect-[1.586/1] overflow-hidden rounded-2xl bg-gradient-to-br from-slate-900 via-slate-800 to-slate-700 p-5 text-white sm:p-6 lg:mx-0",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-white/70",children:"Credito"}),u.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-wide ${Qe?Qe.badgeClass:"bg-white/10 text-white/70"}`,children:Qe?Qe.label:"Bandeira"})]}),u.jsx("div",{className:"mt-8 whitespace-nowrap text-[0.95rem] font-semibold tracking-[0.18em] sm:text-lg sm:tracking-[0.25em]",children:Xe}),u.jsxs("div",{className:"mt-6 flex items-end justify-between gap-4 text-xs uppercase tracking-widest text-white/70",children:[u.jsxs("div",{children:[u.jsx("span",{className:"block text-[10px] text-white/60",children:"Nome"}),u.jsx("span",{className:"text-sm font-semibold text-white",children:it})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"block text-[10px] text-white/60",children:"Validade"}),u.jsx("span",{className:"text-sm font-semibold text-white",children:Ze})]})]}),u.jsx("div",{className:"absolute -right-10 -top-10 h-28 w-28 rounded-full bg-white/10 blur-2xl"}),u.jsx("div",{className:"absolute -bottom-10 -left-10 h-36 w-36 rounded-full bg-indigo-400/20 blur-2xl"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Dados do cartao"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Digite exatamente como no cartao."})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:A0.map(A=>{const Y=Ie===A.id;return u.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-[10px] font-semibold uppercase tracking-wide ${Y?A.badgeClass:"bg-slate-100 text-slate-500"}`,children:A.label},A.id)})})]}),u.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Nome no cartao",u.jsx("input",{type:"text",value:Fe,onChange:A=>{$e(A.target.value),St("cartaoNome")},className:`${Je("cartaoNome")} rounded-xl bg-white shadow-sm`,placeholder:"Nome impresso no cartao",autoComplete:"cc-name",autoCapitalize:"words"}),nt.cartaoNome&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.cartaoNome})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Numero do cartao",u.jsx("input",{type:"text",value:Mt,onChange:A=>{jt(Ek(A.target.value)),St("cartaoNumero")},className:`${Je("cartaoNumero")} rounded-xl bg-white shadow-sm`,placeholder:Ve,inputMode:"numeric",autoComplete:"cc-number",maxLength:Ye,spellCheck:!1}),nt.cartaoNumero&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.cartaoNumero})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Validade",u.jsx("input",{type:"text",value:ct,onChange:A=>{Nt(Nk(A.target.value)),St("cartaoValidade")},className:`${Je("cartaoValidade")} rounded-xl bg-white shadow-sm`,placeholder:"MM/AA",inputMode:"numeric",autoComplete:"cc-exp",maxLength:5}),nt.cartaoValidade&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.cartaoValidade})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["CVV",u.jsx("input",{type:"password",value:cn,onChange:A=>{An(sa(A.target.value).slice(0,Be)),St("cartaoCvv")},className:`${Je("cartaoCvv")} rounded-xl bg-white shadow-sm`,placeholder:st,inputMode:"numeric",autoComplete:"cc-csc",maxLength:Be}),u.jsx("p",{className:"mt-1 text-[11px] text-slate-400",children:Ie==="amex"?"4 digitos na frente":"3 digitos no verso"}),nt.cartaoCvv&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.cartaoCvv})]})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50/70 p-4",children:[u.jsx("h4",{className:"text-xs font-semibold uppercase text-slate-500",children:"Endereco de cobranca"}),u.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 mt-3",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["CEP",u.jsx("input",{type:"text",value:ya,onChange:A=>{ka(wk(A.target.value)),St("enderecoCep")},className:`${Je("enderecoCep")} rounded-xl bg-white shadow-sm`,placeholder:"00000-000",inputMode:"numeric"}),nt.enderecoCep&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.enderecoCep})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Rua",u.jsx("input",{type:"text",value:Pn,onChange:A=>{Qr(A.target.value),St("enderecoRua")},className:`${Je("enderecoRua")} rounded-xl bg-white shadow-sm`,placeholder:"Rua / Avenida"}),nt.enderecoRua&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.enderecoRua})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Numero",u.jsx("input",{type:"text",value:gr,onChange:A=>{Ar(A.target.value),St("enderecoNumero")},className:`${Je("enderecoNumero")} rounded-xl bg-white shadow-sm`,placeholder:"Numero"}),nt.enderecoNumero&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.enderecoNumero})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Complemento (opcional)",u.jsx("input",{type:"text",value:Kr,onChange:A=>or(A.target.value),className:`${Je("enderecoComplemento")} rounded-xl bg-white shadow-sm`,placeholder:"Apto, casa, bloco"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Bairro",u.jsx("input",{type:"text",value:Vn,onChange:A=>{Xr(A.target.value),St("enderecoBairro")},className:`${Je("enderecoBairro")} rounded-xl bg-white shadow-sm`,placeholder:"Bairro"}),nt.enderecoBairro&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.enderecoBairro})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Cidade",u.jsx("input",{type:"text",value:va,onChange:A=>{It(A.target.value),St("enderecoCidade")},className:`${Je("enderecoCidade")} rounded-xl bg-white shadow-sm`,placeholder:"Cidade"}),nt.enderecoCidade&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.enderecoCidade})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Estado (UF)",u.jsx("input",{type:"text",value:Ke,onChange:A=>{pn(A.target.value.toUpperCase().slice(0,2)),St("enderecoEstado")},className:`${Je("enderecoEstado")} rounded-xl bg-white shadow-sm`,placeholder:"UF",maxLength:2}),nt.enderecoEstado&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.enderecoEstado})]})]})]})]})]})})]}),E===4&&u.jsx("div",{className:"mb-6 lg:hidden",children:Ga}),u.jsxs("div",{className:"mt-8 flex flex-col-reverse gap-3 border-t border-slate-200 pt-6 sm:mt-10 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("button",{type:"button",onClick:fr,disabled:E===0||Ae,className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-5 py-2.5 text-sm font-semibold text-slate-700 shadow-sm transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Voltar"}),E<4?u.jsx("button",{type:"button",onClick:ls,className:"inline-flex items-center justify-center rounded-full bg-emerald-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-emerald-700",children:"Continuar"}):u.jsx("button",{type:"submit",disabled:Ae||b.length===0||vt,className:"inline-flex items-center justify-center rounded-full bg-emerald-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-50",children:Ae?"Processando...":vt?"Aguardando confirmao...":"Fazer Reserva"})]})]}),(ie||We)&&u.jsxs("div",{ref:je,className:"mt-8 p-8 rounded-3xl shadow-2xl relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",animation:"pulse-glow 3s ease-in-out infinite"},children:[u.jsx("h3",{className:"text-2xl font-bold text-white mb-6 text-center",children:We?"Pagamento no cartao":"Finalize seu Pagamento"}),We?u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("p",{className:"text-lg text-white/90",children:We.message}),u.jsx("span",{className:`inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-semibold ${We.status==="success"?"bg-emerald-500/20 text-emerald-100":We.status==="processing"?"bg-sky-500/20 text-sky-100":We.status==="pending"?"bg-amber-500/20 text-amber-100":"bg-rose-500/20 text-rose-100"}`,children:We.status==="success"?"Pagamento confirmado":We.status==="processing"?"Processando compra":We.status==="pending"?"Pagamento em processamento":"Pagamento nao aprovado"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"mb-6 text-lg text-white/90 text-center",children:"Clique no botao abaixo para acessar a pagina de pagamento:"}),u.jsx("a",{href:ie??void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-green-600 text-white py-4 px-8 rounded-lg font-bold text-lg hover:bg-green-700 transition-colors shadow-lg transform hover:scale-105",children:"Realizar Pagamento PIX"}),u.jsx("p",{className:"mt-4 text-sm text-white/80 text-center",children:"Voce sera redirecionado para a pagina de pagamento PIX"})]}),Tt&&u.jsxs("div",{className:"mt-6",children:[u.jsx("p",{className:"mb-4 text-white/90 text-center",children:"Use a chave PIX abaixo para pagamento:"}),u.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-lg mb-4 border border-white/30",children:u.jsx("p",{className:"font-mono text-sm break-all text-white",children:Tt})}),$&&u.jsx("div",{className:"text-center mb-4",children:u.jsx("img",{src:$,alt:"QR Code PIX",className:"mx-auto max-w-xs"})}),te&&u.jsxs("p",{className:"text-sm text-white/80 text-center",children:["Valido ate: ",new Date(te).toLocaleString("pt-BR")]})]})]})]})]}),u.jsx("aside",{className:"hidden lg:block",children:u.jsxs("div",{className:"sticky top-6 space-y-4",children:[E===4&&la,Ut]})})]})})})})}const R0=document.createElement("style");R0.textContent=`
  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1);
      transform: translateY(0);
    }
    50% {
      box-shadow: 0 25px 50px -12px rgba(102, 126, 234, 0.4), 0 0 30px rgba(102, 126, 234, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
    }
  }
`;document.head.querySelector("style[data-payment-card]")||(R0.setAttribute("data-payment-card","true"),document.head.appendChild(R0));function Rk(){return u.jsxs("div",{className:"min-h-screen bg-[#F7FAEF]",children:[u.jsxs("div",{className:"relative isolate overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#F7FAEF] via-white to-[#F7FAEF]"}),u.jsx("div",{className:"absolute -top-24 left-1/2 h-72 w-72 -translate-x-1/2 rounded-full bg-[#8B4F23]/10 blur-3xl"}),u.jsx("div",{className:"relative mx-auto w-full max-w-screen-2xl px-4 py-6 sm:px-6 lg:px-8",children:u.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:z0,alt:"Logo Vagafogo",className:"h-12 w-12 rounded-full border border-white/60 object-cover shadow-sm",loading:"lazy"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-green-700",children:"Reserva"}),u.jsx("h1",{className:"text-xl font-bold text-[#8B4F23] sm:text-2xl",children:"Faa sua reserva"})]})]}),u.jsx("div",{className:"flex flex-wrap items-center gap-3",children:u.jsx(ks,{to:"/",className:"inline-flex items-center justify-center rounded-full border border-[#8B4F23]/20 bg-white/70 px-4 py-2 text-sm font-semibold text-[#8B4F23] shadow-sm backdrop-blur transition hover:bg-white",children:"Voltar ao site"})})]})})]}),u.jsx(Ak,{})]})}const jk=bA([{path:"/",element:u.jsx(QA,{})},{path:"/reservar",element:u.jsx(Rk,{})},{path:"/login",element:u.jsx(nI,{})},{path:"/admin",element:u.jsx(kI,{children:u.jsx(jI,{})})}]);SS.createRoot(document.getElementById("root")).render(u.jsx(ke.StrictMode,{children:u.jsx(IA,{router:jk})}));export{Yw as _,Dk as c,nm as g};
