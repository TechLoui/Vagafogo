(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();var Dk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gg={exports:{}},Lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function yS(){if(Ib)return Lu;Ib=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,i,l){var d=null;if(l!==void 0&&(d=""+l),i.key!==void 0&&(d=""+i.key),"key"in i){l={};for(var m in i)m!=="key"&&(l[m]=i[m])}else l=i;return i=l.ref,{$$typeof:n,type:a,key:d,ref:i!==void 0?i:null,props:l}}return Lu.Fragment=e,Lu.jsx=t,Lu.jsxs=t,Lu}var Pb;function vS(){return Pb||(Pb=1,gg.exports=yS()),gg.exports}var u=vS(),yg={exports:{}},kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function xS(){if(Ob)return kt;Ob=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.iterator;function E(P){return P===null||typeof P!="object"?null:(P=_&&P[_]||P["@@iterator"],typeof P=="function"?P:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,z={};function $(P,oe,be){this.props=P,this.context=oe,this.refs=z,this.updater=be||D}$.prototype.isReactComponent={},$.prototype.setState=function(P,oe){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,oe,"setState")},$.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function K(){}K.prototype=$.prototype;function ge(P,oe,be){this.props=P,this.context=oe,this.refs=z,this.updater=be||D}var se=ge.prototype=new K;se.constructor=ge,O(se,$.prototype),se.isPureReactComponent=!0;var Ae=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function k(P,oe,be,me,De,qe){return be=qe.ref,{$$typeof:n,type:P,key:oe,ref:be!==void 0?be:null,props:qe}}function A(P,oe){return k(P.type,oe,void 0,void 0,void 0,P.props)}function I(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function M(P){var oe={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(be){return oe[be]})}var B=/\/+/g;function G(P,oe){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):oe.toString(36)}function V(){}function Ee(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(V,V):(P.status="pending",P.then(function(oe){P.status==="pending"&&(P.status="fulfilled",P.value=oe)},function(oe){P.status==="pending"&&(P.status="rejected",P.reason=oe)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ve(P,oe,be,me,De){var qe=typeof P;(qe==="undefined"||qe==="boolean")&&(P=null);var Ye=!1;if(P===null)Ye=!0;else switch(qe){case"bigint":case"string":case"number":Ye=!0;break;case"object":switch(P.$$typeof){case n:case e:Ye=!0;break;case b:return Ye=P._init,ve(Ye(P._payload),oe,be,me,De)}}if(Ye)return De=De(P),Ye=me===""?"."+G(P,0):me,Ae(De)?(be="",Ye!=null&&(be=Ye.replace(B,"$&/")+"/"),ve(De,oe,be,"",function(dt){return dt})):De!=null&&(I(De)&&(De=A(De,be+(De.key==null||P&&P.key===De.key?"":(""+De.key).replace(B,"$&/")+"/")+Ye)),oe.push(De)),1;Ye=0;var Mt=me===""?".":me+":";if(Ae(P))for(var jt=0;jt<P.length;jt++)me=P[jt],qe=Mt+G(me,jt),Ye+=ve(me,oe,be,qe,De);else if(jt=E(P),typeof jt=="function")for(P=jt.call(P),jt=0;!(me=P.next()).done;)me=me.value,qe=Mt+G(me,jt++),Ye+=ve(me,oe,be,qe,De);else if(qe==="object"){if(typeof P.then=="function")return ve(Ee(P),oe,be,me,De);throw oe=String(P),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Ye}function F(P,oe,be){if(P==null)return P;var me=[],De=0;return ve(P,me,"","",function(qe){return oe.call(be,qe,De++)}),me}function le(P){if(P._status===-1){var oe=P._result;oe=oe(),oe.then(function(be){(P._status===0||P._status===-1)&&(P._status=1,P._result=be)},function(be){(P._status===0||P._status===-1)&&(P._status=2,P._result=be)}),P._status===-1&&(P._status=0,P._result=oe)}if(P._status===1)return P._result.default;throw P._result}var ce=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Ce(){}return kt.Children={map:F,forEach:function(P,oe,be){F(P,function(){oe.apply(this,arguments)},be)},count:function(P){var oe=0;return F(P,function(){oe++}),oe},toArray:function(P){return F(P,function(oe){return oe})||[]},only:function(P){if(!I(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},kt.Component=$,kt.Fragment=t,kt.Profiler=i,kt.PureComponent=ge,kt.StrictMode=a,kt.Suspense=p,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,kt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return fe.H.useMemoCache(P)}},kt.cache=function(P){return function(){return P.apply(null,arguments)}},kt.cloneElement=function(P,oe,be){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var me=O({},P.props),De=P.key,qe=void 0;if(oe!=null)for(Ye in oe.ref!==void 0&&(qe=void 0),oe.key!==void 0&&(De=""+oe.key),oe)!U.call(oe,Ye)||Ye==="key"||Ye==="__self"||Ye==="__source"||Ye==="ref"&&oe.ref===void 0||(me[Ye]=oe[Ye]);var Ye=arguments.length-2;if(Ye===1)me.children=be;else if(1<Ye){for(var Mt=Array(Ye),jt=0;jt<Ye;jt++)Mt[jt]=arguments[jt+2];me.children=Mt}return k(P.type,De,void 0,void 0,qe,me)},kt.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},kt.createElement=function(P,oe,be){var me,De={},qe=null;if(oe!=null)for(me in oe.key!==void 0&&(qe=""+oe.key),oe)U.call(oe,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(De[me]=oe[me]);var Ye=arguments.length-2;if(Ye===1)De.children=be;else if(1<Ye){for(var Mt=Array(Ye),jt=0;jt<Ye;jt++)Mt[jt]=arguments[jt+2];De.children=Mt}if(P&&P.defaultProps)for(me in Ye=P.defaultProps,Ye)De[me]===void 0&&(De[me]=Ye[me]);return k(P,qe,void 0,void 0,null,De)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(P){return{$$typeof:m,render:P}},kt.isValidElement=I,kt.lazy=function(P){return{$$typeof:b,_payload:{_status:-1,_result:P},_init:le}},kt.memo=function(P,oe){return{$$typeof:g,type:P,compare:oe===void 0?null:oe}},kt.startTransition=function(P){var oe=fe.T,be={};fe.T=be;try{var me=P(),De=fe.S;De!==null&&De(be,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Ce,ce)}catch(qe){ce(qe)}finally{fe.T=oe}},kt.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},kt.use=function(P){return fe.H.use(P)},kt.useActionState=function(P,oe,be){return fe.H.useActionState(P,oe,be)},kt.useCallback=function(P,oe){return fe.H.useCallback(P,oe)},kt.useContext=function(P){return fe.H.useContext(P)},kt.useDebugValue=function(){},kt.useDeferredValue=function(P,oe){return fe.H.useDeferredValue(P,oe)},kt.useEffect=function(P,oe,be){var me=fe.H;if(typeof be=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(P,oe)},kt.useId=function(){return fe.H.useId()},kt.useImperativeHandle=function(P,oe,be){return fe.H.useImperativeHandle(P,oe,be)},kt.useInsertionEffect=function(P,oe){return fe.H.useInsertionEffect(P,oe)},kt.useLayoutEffect=function(P,oe){return fe.H.useLayoutEffect(P,oe)},kt.useMemo=function(P,oe){return fe.H.useMemo(P,oe)},kt.useOptimistic=function(P,oe){return fe.H.useOptimistic(P,oe)},kt.useReducer=function(P,oe,be){return fe.H.useReducer(P,oe,be)},kt.useRef=function(P){return fe.H.useRef(P)},kt.useState=function(P){return fe.H.useState(P)},kt.useSyncExternalStore=function(P,oe,be){return fe.H.useSyncExternalStore(P,oe,be)},kt.useTransition=function(){return fe.H.useTransition()},kt.version="19.1.0",kt}var kb;function j0(){return kb||(kb=1,yg.exports=xS()),yg.exports}var T=j0();const Le=nm(T);var vg={exports:{}},Uu={},xg={exports:{}},bg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function bS(){return Vb||(Vb=1,function(n){function e(F,le){var ce=F.length;F.push(le);e:for(;0<ce;){var Ce=ce-1>>>1,P=F[Ce];if(0<i(P,le))F[Ce]=le,F[ce]=P,ce=Ce;else break e}}function t(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var le=F[0],ce=F.pop();if(ce!==le){F[0]=ce;e:for(var Ce=0,P=F.length,oe=P>>>1;Ce<oe;){var be=2*(Ce+1)-1,me=F[be],De=be+1,qe=F[De];if(0>i(me,ce))De<P&&0>i(qe,me)?(F[Ce]=qe,F[De]=ce,Ce=De):(F[Ce]=me,F[be]=ce,Ce=be);else if(De<P&&0>i(qe,ce))F[Ce]=qe,F[De]=ce,Ce=De;else break e}}return le}function i(F,le){var ce=F.sortIndex-le.sortIndex;return ce!==0?ce:F.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,m=d.now();n.unstable_now=function(){return d.now()-m}}var p=[],g=[],b=1,_=null,E=3,D=!1,O=!1,z=!1,$=!1,K=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Ae(F){for(var le=t(g);le!==null;){if(le.callback===null)a(g);else if(le.startTime<=F)a(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function fe(F){if(z=!1,Ae(F),!O)if(t(p)!==null)O=!0,U||(U=!0,G());else{var le=t(g);le!==null&&ve(fe,le.startTime-F)}}var U=!1,k=-1,A=5,I=-1;function M(){return $?!0:!(n.unstable_now()-I<A)}function B(){if($=!1,U){var F=n.unstable_now();I=F;var le=!0;try{e:{O=!1,z&&(z=!1,ge(k),k=-1),D=!0;var ce=E;try{t:{for(Ae(F),_=t(p);_!==null&&!(_.expirationTime>F&&M());){var Ce=_.callback;if(typeof Ce=="function"){_.callback=null,E=_.priorityLevel;var P=Ce(_.expirationTime<=F);if(F=n.unstable_now(),typeof P=="function"){_.callback=P,Ae(F),le=!0;break t}_===t(p)&&a(p),Ae(F)}else a(p);_=t(p)}if(_!==null)le=!0;else{var oe=t(g);oe!==null&&ve(fe,oe.startTime-F),le=!1}}break e}finally{_=null,E=ce,D=!1}le=void 0}}finally{le?G():U=!1}}}var G;if(typeof se=="function")G=function(){se(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Ee=V.port2;V.port1.onmessage=B,G=function(){Ee.postMessage(null)}}else G=function(){K(B,0)};function ve(F,le){k=K(function(){F(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(F){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var ce=E;E=le;try{return F()}finally{E=ce}},n.unstable_requestPaint=function(){$=!0},n.unstable_runWithPriority=function(F,le){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ce=E;E=F;try{return le()}finally{E=ce}},n.unstable_scheduleCallback=function(F,le,ce){var Ce=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ce+ce:Ce):ce=Ce,F){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ce+P,F={id:b++,callback:le,priorityLevel:F,startTime:ce,expirationTime:P,sortIndex:-1},ce>Ce?(F.sortIndex=ce,e(g,F),t(p)===null&&F===t(g)&&(z?(ge(k),k=-1):z=!0,ve(fe,ce-Ce))):(F.sortIndex=P,e(p,F),O||D||(O=!0,U||(U=!0,G()))),F},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(F){var le=E;return function(){var ce=E;E=le;try{return F.apply(this,arguments)}finally{E=ce}}}}(bg)),bg}var Lb;function _S(){return Lb||(Lb=1,xg.exports=bS()),xg.exports}var _g={exports:{}},xa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function wS(){if(Ub)return xa;Ub=1;var n=j0();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(p,g,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:p,containerInfo:g,implementation:b}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return xa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,xa.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,b)},xa.flushSync=function(p){var g=d.T,b=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=g,a.p=b,a.d.f()}},xa.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},xa.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},xa.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,_=m(b,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:D}):b==="script"&&a.d.X(p,{crossOrigin:_,integrity:E,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},xa.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},xa.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,_=m(b,g.crossOrigin);a.d.L(p,b,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},xa.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},xa.requestFormReset=function(p){a.d.r(p)},xa.unstable_batchedUpdates=function(p,g){return p(g)},xa.useFormState=function(p,g,b){return d.H.useFormState(p,g,b)},xa.useFormStatus=function(){return d.H.useHostTransitionStatus()},xa.version="19.1.0",xa}var zb;function S1(){if(zb)return _g.exports;zb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_g.exports=wS(),_g.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function ES(){if(Bb)return Uu;Bb=1;var n=_S(),e=j0(),t=S1();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function d(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(a(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(a(188));return s!==r?null:r}for(var o=r,c=s;;){var f=o.return;if(f===null)break;var y=f.alternate;if(y===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===o)return m(f),r;if(y===c)return m(f),s;y=y.sibling}throw Error(a(188))}if(o.return!==c.return)o=f,c=y;else{for(var N=!1,S=f.child;S;){if(S===o){N=!0,o=f,c=y;break}if(S===c){N=!0,c=f,o=y;break}S=S.sibling}if(!N){for(S=y.child;S;){if(S===o){N=!0,o=y,c=f;break}if(S===c){N=!0,c=y,o=f;break}S=S.sibling}if(!N)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),ge=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=B&&r[B]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function Ee(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case $:return"Profiler";case z:return"StrictMode";case fe:return"Suspense";case U:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case se:return(r.displayName||"Context")+".Provider";case ge:return(r._context.displayName||"Context")+".Consumer";case Ae:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return s=r.displayName||null,s!==null?s:Ee(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return Ee(r(s))}catch{}}return null}var ve=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ce=[],P=-1;function oe(r){return{current:r}}function be(r){0>P||(r.current=Ce[P],Ce[P]=null,P--)}function me(r,s){P++,Ce[P]=r.current,r.current=s}var De=oe(null),qe=oe(null),Ye=oe(null),Mt=oe(null);function jt(r,s){switch(me(Ye,s),me(qe,r),me(De,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?ob(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=ob(s),r=lb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}be(De),me(De,r)}function dt(){be(De),be(qe),be(Ye)}function Tt(r){r.memoizedState!==null&&me(Mt,r);var s=De.current,o=lb(s,r.type);s!==o&&(me(qe,r),me(De,o))}function on(r){qe.current===r&&(be(De),be(qe)),Mt.current===r&&(be(Mt),Iu._currentValue=ce)}var Tn=Object.prototype.hasOwnProperty,Ge=n.unstable_scheduleCallback,_t=n.unstable_cancelCallback,ha=n.unstable_shouldYield,Ia=n.unstable_requestPaint,In=n.unstable_now,$r=n.unstable_getCurrentPriorityLevel,mr=n.unstable_ImmediatePriority,Nr=n.unstable_UserBlockingPriority,Yr=n.unstable_NormalPriority,ir=n.unstable_LowPriority,Vn=n.unstable_IdlePriority,Wr=n.log,fa=n.unstable_setDisableYieldValue,It=null,Xe=null;function mn(r){if(typeof Wr=="function"&&fa(r),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(It,r)}catch{}}var Sn=Math.clz32?Math.clz32:Tr,ta=Math.log,Xn=Math.LN2;function Tr(r){return r>>>=0,r===0?32:31-(ta(r)/Xn|0)|0}var nt=256,or=4194304;function Zn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Or(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var f=0,y=r.suspendedLanes,N=r.pingedLanes;r=r.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?f=Zn(c):(N&=S,N!==0?f=Zn(N):o||(o=S&~r,o!==0&&(f=Zn(o))))):(S=c&~y,S!==0?f=Zn(S):N!==0?f=Zn(N):o||(o=c&~r,o!==0&&(f=Zn(o)))),f===0?0:s!==0&&s!==f&&(s&y)===0&&(y=f&-f,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:f}function pr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ht(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vt(){var r=nt;return nt<<=1,(nt&4194048)===0&&(nt=256),r}function wt(){var r=or;return or<<=1,(or&62914560)===0&&(or=4194304),r}function Cn(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function yn(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Sr(r,s,o,c,f,y){var N=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,H=r.expirationTimes,ie=r.hiddenUpdates;for(o=N&~o;0<o;){var xe=31-Sn(o),Ne=1<<xe;S[xe]=0,H[xe]=-1;var ue=ie[xe];if(ue!==null)for(ie[xe]=null,xe=0;xe<ue.length;xe++){var he=ue[xe];he!==null&&(he.lane&=-536870913)}o&=~Ne}c!==0&&Ut(r,c,0),y!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=y&~(N&~s))}function Ut(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Sn(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function xn(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Sn(o),f=1<<c;f&s|r[c]&s&&(r[c]|=s),o&=~f}}function Et(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function na(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function q(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:Cb(r.type))}function te(r,s){var o=le.p;try{return le.p=r,s()}finally{le.p=o}}var ne=Math.random().toString(36).slice(2),ye="__reactFiber$"+ne,Se="__reactProps$"+ne,ke="__reactContainer$"+ne,Je="__reactEvents$"+ne,Ue="__reactListeners$"+ne,Fe="__reactHandles$"+ne,We="__reactResources$"+ne,it="__reactMarker$"+ne;function et(r){delete r[ye],delete r[Se],delete r[Je],delete r[Ue],delete r[Fe]}function ot(r){var s=r[ye];if(s)return s;for(var o=r.parentNode;o;){if(s=o[ke]||o[ye]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=hb(r);r!==null;){if(o=r[ye])return o;r=hb(r)}return s}r=o,o=r.parentNode}return null}function Ze(r){if(r=r[ye]||r[ke]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Nt(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function Dt(r){var s=r[We];return s||(s=r[We]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function lt(r){r[it]=!0}var He=new Set,gr={};function Ln(r,s){yr(r,s),yr(r+"Capture",s)}function yr(r,s){for(gr[r]=s,r=0;r<s.length;r++)He.add(s[r])}var Fn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nn={},Un={};function Sa(r){return Tn.call(Un,r)?!0:Tn.call(nn,r)?!1:Fn.test(r)?Un[r]=!0:(nn[r]=!0,!1)}function at(r,s,o){if(Sa(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function lr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function ft(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var An,cr;function Hn(r){if(An===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);An=s&&s[1]||"",cr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+An+r+cr}var Ke=!1;function dn(r,s){if(!r||Ke)return"";Ke=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(he){var ue=he}Reflect.construct(r,[],Ne)}else{try{Ne.call()}catch(he){ue=he}r.call(Ne.prototype)}}else{try{throw Error()}catch(he){ue=he}(Ne=r())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(he){if(he&&ue&&typeof he.stack=="string")return[he.stack,ue.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),N=y[0],S=y[1];if(N&&S){var H=N.split(`
`),ie=S.split(`
`);for(f=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;f<ie.length&&!ie[f].includes("DetermineComponentFrameRoot");)f++;if(c===H.length||f===ie.length)for(c=H.length-1,f=ie.length-1;1<=c&&0<=f&&H[c]!==ie[f];)f--;for(;1<=c&&0<=f;c--,f--)if(H[c]!==ie[f]){if(c!==1||f!==1)do if(c--,f--,0>f||H[c]!==ie[f]){var xe=`
`+H[c].replace(" at new "," at ");return r.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",r.displayName)),xe}while(1<=c&&0<=f);break}}}finally{Ke=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Hn(o):""}function Gt(r){switch(r.tag){case 26:case 27:case 5:return Hn(r.type);case 16:return Hn("Lazy");case 13:return Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 15:return dn(r.type,!1);case 11:return dn(r.type.render,!1);case 1:return dn(r.type,!0);case 31:return Hn("Activity");default:return""}}function kr(r){try{var s="";do s+=Gt(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ba(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ur(r){var s=Ba(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(N){c=""+N,y.call(this,N)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ma(r){r._valueTracker||(r._valueTracker=ur(r))}function qn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Ba(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function Ca(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Cr=/[\n"\\]/g;function Pn(r){return r.replace(Cr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ar(r,s,o,c,f,y,N,S){r.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.type=N:r.removeAttribute("type"),s!=null?N==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+bn(s)):r.value!==""+bn(s)&&(r.value=""+bn(s)):N!=="submit"&&N!=="reset"||r.removeAttribute("value"),s!=null?as(r,N,bn(s)):o!=null?as(r,N,bn(o)):c!=null&&r.removeAttribute("value"),f==null&&y!=null&&(r.defaultChecked=!!y),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+bn(S):r.removeAttribute("name")}function Fa(r,s,o,c,f,y,N,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+bn(o):"",s=s!=null?""+bn(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=S?r.checked:!!c,r.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(r.name=N)}function as(r,s,o){s==="number"&&Ca(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function pa(r,s,o,c){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&c&&(r[o].defaultSelected=!0)}else{for(o=""+bn(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function ln(r,s,o){if(s!=null&&(s=""+bn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+bn(o):""}function Ha(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(a(92));if(ve(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=bn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function dr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Pa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qa(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||Pa.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function ks(r,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&o[f]!==c&&qa(r,f,c)}else for(var y in s)s.hasOwnProperty(y)&&qa(r,y,s[y])}function di(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(r){return Fo.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Aa=null;function vr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var St=null,Jn=null;function bs(r){var s=Ze(r);if(s&&(r=s.stateNode)){var o=r[Se]||null;e:switch(r=s.stateNode,s.type){case"input":if(Ar(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var f=c[Se]||null;if(!f)throw Error(a(90));Ar(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&qn(c)}break e;case"textarea":ln(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&pa(r,!!o.multiple,s,!1)}}}var ga=!1;function ss(r,s,o){if(ga)return r(s,o);ga=!0;try{var c=r(s);return c}finally{if(ga=!1,(St!==null||Jn!==null)&&(Ah(),St&&(s=St,r=Jn,Jn=St=null,bs(s),r)))for(s=0;s<r.length;s++)bs(r[s])}}function Ra(r,s){var o=r.stateNode;if(o===null)return null;var c=o[Se]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(Gr)try{var j={};Object.defineProperty(j,"passive",{get:function(){ra=!0}}),window.addEventListener("test",j,j),window.removeEventListener("test",j,j)}catch{ra=!1}var W=null,de=null,Z=null;function Re(){if(Z)return Z;var r,s=de,o=s.length,c,f="value"in W?W.value:W.textContent,y=f.length;for(r=0;r<o&&s[r]===f[r];r++);var N=o-r;for(c=1;c<=N&&s[o-c]===f[y-c];c++);return Z=f.slice(r,1<c?1-c:void 0)}function je(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ze(){return!0}function yt(){return!1}function Ie(r){function s(o,c,f,y,N){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=y,this.target=N,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ze:yt,this.isPropagationStopped=yt,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ze)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ze)},persist:function(){},isPersistent:ze}),s}var Oe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},On=Ie(Oe),Jt=b({},Oe,{view:0,detail:0}),$a=Ie(Jt),is,Oa,ya,$n=b({},Jt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ya&&(ya&&r.type==="mousemove"?(is=r.screenX-ya.screenX,Oa=r.screenY-ya.screenY):Oa=is=0,ya=r),is)},movementY:function(r){return"movementY"in r?r.movementY:Oa}}),pn=Ie($n),Ls=b({},$n,{dataTransfer:0}),Ya=Ie(Ls),_s=b({},Jt,{relatedTarget:0}),Us=Ie(_s),Ho=b({},Oe,{animationName:0,elapsedTime:0,pseudoElement:0}),zi=Ie(Ho),qo=b({},Oe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),hi=Ie(qo),Dl=b({},Oe,{data:0}),$o=Ie(Dl),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fi(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Ml[r])?!!s[r]:!1}function Bs(){return fi}var xr=b({},Jt,{key:function(r){if(r.key){var s=zs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=je(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Yo[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(r){return r.type==="keypress"?je(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?je(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),mi=Ie(xr),Bi=b({},$n,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=Ie(Bi),Wa=b({},Jt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),Il=Ie(Wa),ws=b({},Oe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Es=Ie(ws),Go=b({},$n,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Fi=Ie(Go),Vr=b({},Oe,{newState:0,oldState:0}),Pl=Ie(Vr),Ol=[9,13,27,32],os=Gr&&"CompositionEvent"in window,h=null;Gr&&"documentMode"in document&&(h=document.documentMode);var x=Gr&&"TextEvent"in window&&!h,w=Gr&&(!os||h&&8<h&&11>=h),R=" ",re=!1;function pe(r,s){switch(r){case"keyup":return Ol.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Me(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ft=!1;function er(r,s){switch(r){case"compositionend":return Me(s);case"keypress":return s.which!==32?null:(re=!0,R);case"textInput":return r=s.data,r===R&&re?null:r;default:return null}}function Qt(r,s){if(Ft)return r==="compositionend"||!os&&pe(r,s)?(r=Re(),Z=de=W=null,Ft=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var Yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Yn[r.type]:s==="textarea"}function Ns(r,s,o,c){St?Jn?Jn.push(c):Jn=[c]:St=c,s=Ph(s,"onChange"),0<s.length&&(o=new On("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Lr=null,ls=null;function Qo(r){nb(r,0)}function kl(r){var s=Nt(r);if(qn(s))return r}function Fd(r,s){if(r==="change")return s}var Hd=!1;if(Gr){var Jc;if(Gr){var eu="oninput"in document;if(!eu){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),eu=typeof qd.oninput=="function"}Jc=eu}else Jc=!1;Hd=Jc&&(!document.documentMode||9<document.documentMode)}function $d(){Lr&&(Lr.detachEvent("onpropertychange",Yd),ls=Lr=null)}function Yd(r){if(r.propertyName==="value"&&kl(ls)){var s=[];Ns(s,ls,r,vr(r)),ss(Qo,s)}}function Rm(r,s,o){r==="focusin"?($d(),Lr=s,ls=o,Lr.attachEvent("onpropertychange",Yd)):r==="focusout"&&$d()}function jm(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return kl(ls)}function Dm(r,s){if(r==="click")return kl(s)}function Mm(r,s){if(r==="input"||r==="change")return kl(s)}function Wd(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var ja=typeof Object.is=="function"?Object.is:Wd;function Ko(r,s){if(ja(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Tn.call(s,f)||!ja(r[f],s[f]))return!1}return!0}function Gd(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Qd(r,s){var o=Gd(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Gd(o)}}function v(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?v(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function C(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ca(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Ca(r.document)}return s}function L(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Y=Gr&&"documentMode"in document&&11>=document.documentMode,ee=null,X=null,Ve=null,tt=!1;function en(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;tt||ee==null||ee!==Ca(c)||(c=ee,"selectionStart"in c&&L(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ve&&Ko(Ve,c)||(Ve=c,c=Ph(X,"onSelect"),0<c.length&&(s=new On("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=ee)))}function ct(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Kt={animationend:ct("Animation","AnimationEnd"),animationiteration:ct("Animation","AnimationIteration"),animationstart:ct("Animation","AnimationStart"),transitionrun:ct("Transition","TransitionRun"),transitionstart:ct("Transition","TransitionStart"),transitioncancel:ct("Transition","TransitionCancel"),transitionend:ct("Transition","TransitionEnd")},rn={},Gn={};Gr&&(Gn=document.createElement("div").style,"AnimationEvent"in window||(delete Kt.animationend.animation,delete Kt.animationiteration.animation,delete Kt.animationstart.animation),"TransitionEvent"in window||delete Kt.transitionend.transition);function cn(r){if(rn[r])return rn[r];if(!Kt[r])return r;var s=Kt[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Gn)return rn[r]=s[o];return r}var tr=cn("animationend"),$t=cn("animationiteration"),Qn=cn("animationstart"),hn=cn("transitionrun"),Ot=cn("transitionstart"),Pe=cn("transitioncancel"),mt=cn("transitionend"),tn=new Map,Ct="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ct.push("scrollEnd");function Lt(r,s){tn.set(r,s),Ln(s,[r])}var Ur=new WeakMap;function cs(r,s){if(typeof r=="object"&&r!==null){var o=Ur.get(r);return o!==void 0?o:(s={value:r,source:s,stack:kr(s)},Ur.set(r,s),s)}return{value:r,source:s,stack:kr(s)}}var us=[],Vl=0,Im=0;function Kd(){for(var r=Vl,s=Im=Vl=0;s<r;){var o=us[s];us[s++]=null;var c=us[s];us[s++]=null;var f=us[s];us[s++]=null;var y=us[s];if(us[s++]=null,c!==null&&f!==null){var N=c.pending;N===null?f.next=f:(f.next=N.next,N.next=f),c.pending=f}y!==0&&zy(o,f,y)}}function Xd(r,s,o,c){us[Vl++]=r,us[Vl++]=s,us[Vl++]=o,us[Vl++]=c,Im|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Pm(r,s,o,c){return Xd(r,s,o,c),Zd(r)}function Ll(r,s){return Xd(r,null,null,s),Zd(r)}function zy(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var f=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(f=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,f&&s!==null&&(f=31-Sn(o),r=y.hiddenUpdates,c=r[f],c===null?r[f]=[s]:c.push(s),s.lane=o|536870912),y):null}function Zd(r){if(50<Tu)throw Tu=0,zp=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Ul={};function nT(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ga(r,s,o,c){return new nT(r,s,o,c)}function Om(r){return r=r.prototype,!(!r||!r.isReactComponent)}function pi(r,s){var o=r.alternate;return o===null?(o=Ga(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function By(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Jd(r,s,o,c,f,y){var N=0;if(c=r,typeof r=="function")Om(r)&&(N=1);else if(typeof r=="string")N=aS(r,o,De.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Ga(31,o,s,f),r.elementType=I,r.lanes=y,r;case O:return Xo(o.children,f,y,s);case z:N=8,f|=24;break;case $:return r=Ga(12,o,s,f|2),r.elementType=$,r.lanes=y,r;case fe:return r=Ga(13,o,s,f),r.elementType=fe,r.lanes=y,r;case U:return r=Ga(19,o,s,f),r.elementType=U,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case K:case se:N=10;break e;case ge:N=9;break e;case Ae:N=11;break e;case k:N=14;break e;case A:N=16,c=null;break e}N=29,o=Error(a(130,r===null?"null":typeof r,"")),c=null}return s=Ga(N,o,s,f),s.elementType=r,s.type=c,s.lanes=y,s}function Xo(r,s,o,c){return r=Ga(7,r,c,s),r.lanes=o,r}function km(r,s,o){return r=Ga(6,r,null,s),r.lanes=o,r}function Vm(r,s,o){return s=Ga(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var zl=[],Bl=0,eh=null,th=0,ds=[],hs=0,Zo=null,gi=1,yi="";function Jo(r,s){zl[Bl++]=th,zl[Bl++]=eh,eh=r,th=s}function Fy(r,s,o){ds[hs++]=gi,ds[hs++]=yi,ds[hs++]=Zo,Zo=r;var c=gi;r=yi;var f=32-Sn(c)-1;c&=~(1<<f),o+=1;var y=32-Sn(s)+f;if(30<y){var N=f-f%5;y=(c&(1<<N)-1).toString(32),c>>=N,f-=N,gi=1<<32-Sn(s)+f|o<<f|c,yi=y+r}else gi=1<<y|o<<f|c,yi=r}function Lm(r){r.return!==null&&(Jo(r,1),Fy(r,1,0))}function Um(r){for(;r===eh;)eh=zl[--Bl],zl[Bl]=null,th=zl[--Bl],zl[Bl]=null;for(;r===Zo;)Zo=ds[--hs],ds[hs]=null,yi=ds[--hs],ds[hs]=null,gi=ds[--hs],ds[hs]=null}var Da=null,hr=null,gn=!1,el=null,Fs=!1,zm=Error(a(519));function tl(r){var s=Error(a(418,""));throw ru(cs(s,r)),zm}function Hy(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[ye]=r,s[Se]=c,o){case"dialog":Wt("cancel",s),Wt("close",s);break;case"iframe":case"object":case"embed":Wt("load",s);break;case"video":case"audio":for(o=0;o<Cu.length;o++)Wt(Cu[o],s);break;case"source":Wt("error",s);break;case"img":case"image":case"link":Wt("error",s),Wt("load",s);break;case"details":Wt("toggle",s);break;case"input":Wt("invalid",s),Fa(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ma(s);break;case"select":Wt("invalid",s);break;case"textarea":Wt("invalid",s),Ha(s,c.value,c.defaultValue,c.children),ma(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||ib(s.textContent,o)?(c.popover!=null&&(Wt("beforetoggle",s),Wt("toggle",s)),c.onScroll!=null&&Wt("scroll",s),c.onScrollEnd!=null&&Wt("scrollend",s),c.onClick!=null&&(s.onclick=Oh),s=!0):s=!1,s||tl(r)}function qy(r){for(Da=r.return;Da;)switch(Da.tag){case 5:case 13:Fs=!1;return;case 27:case 3:Fs=!0;return;default:Da=Da.return}}function tu(r){if(r!==Da)return!1;if(!gn)return qy(r),gn=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||ng(r.type,r.memoizedProps)),o=!o),o&&hr&&tl(r),qy(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){hr=Ss(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}hr=null}}else s===27?(s=hr,ao(r.type)?(r=ig,ig=null,hr=r):hr=s):hr=Da?Ss(r.stateNode.nextSibling):null;return!0}function nu(){hr=Da=null,gn=!1}function $y(){var r=el;return r!==null&&(La===null?La=r:La.push.apply(La,r),el=null),r}function ru(r){el===null?el=[r]:el.push(r)}var Bm=oe(null),nl=null,vi=null;function Hi(r,s,o){me(Bm,s._currentValue),s._currentValue=o}function xi(r){r._currentValue=Bm.current,be(Bm)}function Fm(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function Hm(r,s,o,c){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var y=f.dependencies;if(y!==null){var N=f.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=f;for(var H=0;H<s.length;H++)if(S.context===s[H]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),Fm(y.return,o,r),c||(N=null);break e}y=S.next}}else if(f.tag===18){if(N=f.return,N===null)throw Error(a(341));N.lanes|=o,y=N.alternate,y!==null&&(y.lanes|=o),Fm(N,o,r),N=null}else N=f.child;if(N!==null)N.return=f;else for(N=f;N!==null;){if(N===r){N=null;break}if(f=N.sibling,f!==null){f.return=N.return,N=f;break}N=N.return}f=N}}function au(r,s,o,c){r=null;for(var f=s,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var N=f.alternate;if(N===null)throw Error(a(387));if(N=N.memoizedProps,N!==null){var S=f.type;ja(f.pendingProps.value,N.value)||(r!==null?r.push(S):r=[S])}}else if(f===Mt.current){if(N=f.alternate,N===null)throw Error(a(387));N.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Iu):r=[Iu])}f=f.return}r!==null&&Hm(s,r,o,c),s.flags|=262144}function nh(r){for(r=r.firstContext;r!==null;){if(!ja(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function rl(r){nl=r,vi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function va(r){return Yy(nl,r)}function rh(r,s){return nl===null&&rl(r),Yy(r,s)}function Yy(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},vi===null){if(r===null)throw Error(a(308));vi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else vi=vi.next=s;return o}var rT=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},aT=n.unstable_scheduleCallback,sT=n.unstable_NormalPriority,zr={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qm(){return{controller:new rT,data:new Map,refCount:0}}function su(r){r.refCount--,r.refCount===0&&aT(sT,function(){r.controller.abort()})}var iu=null,$m=0,Fl=0,Hl=null;function iT(r,s){if(iu===null){var o=iu=[];$m=0,Fl=Wp(),Hl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return $m++,s.then(Wy,Wy),s}function Wy(){if(--$m===0&&iu!==null){Hl!==null&&(Hl.status="fulfilled");var r=iu;iu=null,Fl=0,Hl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function oT(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Gy=F.S;F.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&iT(r,s),Gy!==null&&Gy(r,s)};var al=oe(null);function Ym(){var r=al.current;return r!==null?r:zn.pooledCache}function ah(r,s){s===null?me(al,al.current):me(al,s.pool)}function Qy(){var r=Ym();return r===null?null:{parent:zr._currentValue,pool:r}}var ou=Error(a(460)),Ky=Error(a(474)),sh=Error(a(542)),Wm={then:function(){}};function Xy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ih(){}function Zy(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(ih,ih),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,ev(r),r;default:if(typeof s.status=="string")s.then(ih,ih);else{if(r=zn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,ev(r),r}throw lu=s,ou}}var lu=null;function Jy(){if(lu===null)throw Error(a(459));var r=lu;return lu=null,r}function ev(r){if(r===ou||r===sh)throw Error(a(483))}var qi=!1;function Gm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function $i(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Yi(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(_n&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=Zd(r),zy(r,null,o),s}return Xd(r,c,s,o),Zd(r)}function cu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,xn(r,o)}}function Km(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var N={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?f=y=N:y=y.next=N,o=o.next}while(o!==null);y===null?f=y=s:y=y.next=s}else f=y=s;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Xm=!1;function uu(){if(Xm){var r=Hl;if(r!==null)throw r}}function du(r,s,o,c){Xm=!1;var f=r.updateQueue;qi=!1;var y=f.firstBaseUpdate,N=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var H=S,ie=H.next;H.next=null,N===null?y=ie:N.next=ie,N=H;var xe=r.alternate;xe!==null&&(xe=xe.updateQueue,S=xe.lastBaseUpdate,S!==N&&(S===null?xe.firstBaseUpdate=ie:S.next=ie,xe.lastBaseUpdate=H))}if(y!==null){var Ne=f.baseState;N=0,xe=ie=H=null,S=y;do{var ue=S.lane&-536870913,he=ue!==S.lane;if(he?(an&ue)===ue:(c&ue)===ue){ue!==0&&ue===Fl&&(Xm=!0),xe!==null&&(xe=xe.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var bt=r,pt=S;ue=s;var Dn=o;switch(pt.tag){case 1:if(bt=pt.payload,typeof bt=="function"){Ne=bt.call(Dn,Ne,ue);break e}Ne=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=pt.payload,ue=typeof bt=="function"?bt.call(Dn,Ne,ue):bt,ue==null)break e;Ne=b({},Ne,ue);break e;case 2:qi=!0}}ue=S.callback,ue!==null&&(r.flags|=64,he&&(r.flags|=8192),he=f.callbacks,he===null?f.callbacks=[ue]:he.push(ue))}else he={lane:ue,tag:S.tag,payload:S.payload,callback:S.callback,next:null},xe===null?(ie=xe=he,H=Ne):xe=xe.next=he,N|=ue;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;he=S,S=he.next,he.next=null,f.lastBaseUpdate=he,f.shared.pending=null}}while(!0);xe===null&&(H=Ne),f.baseState=H,f.firstBaseUpdate=ie,f.lastBaseUpdate=xe,y===null&&(f.shared.lanes=0),eo|=N,r.lanes=N,r.memoizedState=Ne}}function tv(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function nv(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)tv(o[r],s)}var ql=oe(null),oh=oe(0);function rv(r,s){r=Si,me(oh,r),me(ql,s),Si=r|s.baseLanes}function Zm(){me(oh,Si),me(ql,ql.current)}function Jm(){Si=oh.current,be(ql),be(oh)}var Wi=0,zt=null,Rn=null,Rr=null,lh=!1,$l=!1,sl=!1,ch=0,hu=0,Yl=null,lT=0;function br(){throw Error(a(321))}function ep(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!ja(r[o],s[o]))return!1;return!0}function tp(r,s,o,c,f,y){return Wi=y,zt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=r===null||r.memoizedState===null?zv:Bv,sl=!1,y=o(c,f),sl=!1,$l&&(y=sv(s,o,c,f)),av(r),y}function av(r){F.H=ph;var s=Rn!==null&&Rn.next!==null;if(Wi=0,Rr=Rn=zt=null,lh=!1,hu=0,Yl=null,s)throw Error(a(300));r===null||Qr||(r=r.dependencies,r!==null&&nh(r)&&(Qr=!0))}function sv(r,s,o,c){zt=r;var f=0;do{if($l&&(Yl=null),hu=0,$l=!1,25<=f)throw Error(a(301));if(f+=1,Rr=Rn=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}F.H=pT,y=s(o,c)}while($l);return y}function cT(){var r=F.H,s=r.useState()[0];return s=typeof s.then=="function"?fu(s):s,r=r.useState()[0],(Rn!==null?Rn.memoizedState:null)!==r&&(zt.flags|=1024),s}function np(){var r=ch!==0;return ch=0,r}function rp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function ap(r){if(lh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lh=!1}Wi=0,Rr=Rn=zt=null,$l=!1,hu=ch=0,Yl=null}function ka(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?zt.memoizedState=Rr=r:Rr=Rr.next=r,Rr}function jr(){if(Rn===null){var r=zt.alternate;r=r!==null?r.memoizedState:null}else r=Rn.next;var s=Rr===null?zt.memoizedState:Rr.next;if(s!==null)Rr=s,Rn=r;else{if(r===null)throw zt.alternate===null?Error(a(467)):Error(a(310));Rn=r,r={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Rr===null?zt.memoizedState=Rr=r:Rr=Rr.next=r}return Rr}function sp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fu(r){var s=hu;return hu+=1,Yl===null&&(Yl=[]),r=Zy(Yl,r,s),s=zt,(Rr===null?s.memoizedState:Rr.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?zv:Bv),r}function uh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return fu(r);if(r.$$typeof===se)return va(r)}throw Error(a(438,String(r)))}function ip(r){var s=null,o=zt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=zt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=sp(),zt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=M;return s.index++,o}function bi(r,s){return typeof s=="function"?s(r):s}function dh(r){var s=jr();return op(s,Rn,r)}function op(r,s,o){var c=r.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var f=r.baseQueue,y=c.pending;if(y!==null){if(f!==null){var N=f.next;f.next=y.next,y.next=N}s.baseQueue=f=y,c.pending=null}if(y=r.baseState,f===null)r.memoizedState=y;else{s=f.next;var S=N=null,H=null,ie=s,xe=!1;do{var Ne=ie.lane&-536870913;if(Ne!==ie.lane?(an&Ne)===Ne:(Wi&Ne)===Ne){var ue=ie.revertLane;if(ue===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),Ne===Fl&&(xe=!0);else if((Wi&ue)===ue){ie=ie.next,ue===Fl&&(xe=!0);continue}else Ne={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},H===null?(S=H=Ne,N=y):H=H.next=Ne,zt.lanes|=ue,eo|=ue;Ne=ie.action,sl&&o(y,Ne),y=ie.hasEagerState?ie.eagerState:o(y,Ne)}else ue={lane:Ne,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},H===null?(S=H=ue,N=y):H=H.next=ue,zt.lanes|=Ne,eo|=Ne;ie=ie.next}while(ie!==null&&ie!==s);if(H===null?N=y:H.next=S,!ja(y,r.memoizedState)&&(Qr=!0,xe&&(o=Hl,o!==null)))throw o;r.memoizedState=y,r.baseState=N,r.baseQueue=H,c.lastRenderedState=y}return f===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function lp(r){var s=jr(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=o.dispatch,f=o.pending,y=s.memoizedState;if(f!==null){o.pending=null;var N=f=f.next;do y=r(y,N.action),N=N.next;while(N!==f);ja(y,s.memoizedState)||(Qr=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function iv(r,s,o){var c=zt,f=jr(),y=gn;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=s();var N=!ja((Rn||f).memoizedState,o);N&&(f.memoizedState=o,Qr=!0),f=f.queue;var S=cv.bind(null,c,f,r);if(mu(2048,8,S,[r]),f.getSnapshot!==s||N||Rr!==null&&Rr.memoizedState.tag&1){if(c.flags|=2048,Wl(9,hh(),lv.bind(null,c,f,o,s),null),zn===null)throw Error(a(349));y||(Wi&124)!==0||ov(c,s,o)}return o}function ov(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=zt.updateQueue,s===null?(s=sp(),zt.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function lv(r,s,o,c){s.value=o,s.getSnapshot=c,uv(s)&&dv(r)}function cv(r,s,o){return o(function(){uv(s)&&dv(r)})}function uv(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!ja(r,o)}catch{return!0}}function dv(r){var s=Ll(r,2);s!==null&&Ja(s,r,2)}function cp(r){var s=ka();if(typeof r=="function"){var o=r;if(r=o(),sl){mn(!0);try{o()}finally{mn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:r},s}function hv(r,s,o,c){return r.baseState=o,op(r,Rn,typeof c=="function"?c:bi)}function uT(r,s,o,c,f){if(mh(r))throw Error(a(485));if(r=s.action,r!==null){var y={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){y.listeners.push(N)}};F.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,fv(s,y)):(y.next=o.next,s.pending=o.next=y)}}function fv(r,s){var o=s.action,c=s.payload,f=r.state;if(s.isTransition){var y=F.T,N={};F.T=N;try{var S=o(f,c),H=F.S;H!==null&&H(N,S),mv(r,s,S)}catch(ie){up(r,s,ie)}finally{F.T=y}}else try{y=o(f,c),mv(r,s,y)}catch(ie){up(r,s,ie)}}function mv(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){pv(r,s,c)},function(c){return up(r,s,c)}):pv(r,s,o)}function pv(r,s,o){s.status="fulfilled",s.value=o,gv(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,fv(r,o)))}function up(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,gv(s),s=s.next;while(s!==c)}r.action=null}function gv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function yv(r,s){return s}function vv(r,s){if(gn){var o=zn.formState;if(o!==null){e:{var c=zt;if(gn){if(hr){t:{for(var f=hr,y=Fs;f.nodeType!==8;){if(!y){f=null;break t}if(f=Ss(f.nextSibling),f===null){f=null;break t}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){hr=Ss(f.nextSibling),c=f.data==="F!";break e}}tl(c)}c=!1}c&&(s=o[0])}}return o=ka(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yv,lastRenderedState:s},o.queue=c,o=Vv.bind(null,zt,c),c.dispatch=o,c=cp(!1),y=pp.bind(null,zt,!1,c.queue),c=ka(),f={state:s,dispatch:null,action:r,pending:null},c.queue=f,o=uT.bind(null,zt,f,y,o),f.dispatch=o,c.memoizedState=r,[s,o,!1]}function xv(r){var s=jr();return bv(s,Rn,r)}function bv(r,s,o){if(s=op(r,s,yv)[0],r=dh(bi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=fu(s)}catch(N){throw N===ou?sh:N}else c=s;s=jr();var f=s.queue,y=f.dispatch;return o!==s.memoizedState&&(zt.flags|=2048,Wl(9,hh(),dT.bind(null,f,o),null)),[c,y,r]}function dT(r,s){r.action=s}function _v(r){var s=jr(),o=Rn;if(o!==null)return bv(s,o,r);jr(),s=s.memoizedState,o=jr();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Wl(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=zt.updateQueue,s===null&&(s=sp(),zt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function hh(){return{destroy:void 0,resource:void 0}}function wv(){return jr().memoizedState}function fh(r,s,o,c){var f=ka();c=c===void 0?null:c,zt.flags|=r,f.memoizedState=Wl(1|s,hh(),o,c)}function mu(r,s,o,c){var f=jr();c=c===void 0?null:c;var y=f.memoizedState.inst;Rn!==null&&c!==null&&ep(c,Rn.memoizedState.deps)?f.memoizedState=Wl(s,y,o,c):(zt.flags|=r,f.memoizedState=Wl(1|s,y,o,c))}function Ev(r,s){fh(8390656,8,r,s)}function Nv(r,s){mu(2048,8,r,s)}function Tv(r,s){return mu(4,2,r,s)}function Sv(r,s){return mu(4,4,r,s)}function Cv(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Av(r,s,o){o=o!=null?o.concat([r]):null,mu(4,4,Cv.bind(null,s,r),o)}function dp(){}function Rv(r,s){var o=jr();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&ep(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function jv(r,s){var o=jr();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&ep(s,c[1]))return c[0];if(c=r(),sl){mn(!0);try{r()}finally{mn(!1)}}return o.memoizedState=[c,s],c}function hp(r,s,o){return o===void 0||(Wi&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Ix(),zt.lanes|=r,eo|=r,o)}function Dv(r,s,o,c){return ja(o,s)?o:ql.current!==null?(r=hp(r,o,c),ja(r,s)||(Qr=!0),r):(Wi&42)===0?(Qr=!0,r.memoizedState=o):(r=Ix(),zt.lanes|=r,eo|=r,s)}function Mv(r,s,o,c,f){var y=le.p;le.p=y!==0&&8>y?y:8;var N=F.T,S={};F.T=S,pp(r,!1,s,o);try{var H=f(),ie=F.S;if(ie!==null&&ie(S,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var xe=oT(H,c);pu(r,s,xe,Za(r))}else pu(r,s,c,Za(r))}catch(Ne){pu(r,s,{then:function(){},status:"rejected",reason:Ne},Za())}finally{le.p=y,F.T=N}}function hT(){}function fp(r,s,o,c){if(r.tag!==5)throw Error(a(476));var f=Iv(r).queue;Mv(r,f,s,ce,o===null?hT:function(){return Pv(r),o(c)})}function Iv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:ce},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Pv(r){var s=Iv(r).next.queue;pu(r,s,{},Za())}function mp(){return va(Iu)}function Ov(){return jr().memoizedState}function kv(){return jr().memoizedState}function fT(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Za();r=$i(o);var c=Yi(s,r,o);c!==null&&(Ja(c,s,o),cu(c,s,o)),s={cache:qm()},r.payload=s;return}s=s.return}}function mT(r,s,o){var c=Za();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},mh(r)?Lv(s,o):(o=Pm(r,s,o,c),o!==null&&(Ja(o,r,c),Uv(o,s,c)))}function Vv(r,s,o){var c=Za();pu(r,s,o,c)}function pu(r,s,o,c){var f={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(mh(r))Lv(s,f);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var N=s.lastRenderedState,S=y(N,o);if(f.hasEagerState=!0,f.eagerState=S,ja(S,N))return Xd(r,s,f,0),zn===null&&Kd(),!1}catch{}finally{}if(o=Pm(r,s,f,c),o!==null)return Ja(o,r,c),Uv(o,s,c),!0}return!1}function pp(r,s,o,c){if(c={lane:2,revertLane:Wp(),action:c,hasEagerState:!1,eagerState:null,next:null},mh(r)){if(s)throw Error(a(479))}else s=Pm(r,o,c,2),s!==null&&Ja(s,r,2)}function mh(r){var s=r.alternate;return r===zt||s!==null&&s===zt}function Lv(r,s){$l=lh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Uv(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,xn(r,o)}}var ph={readContext:va,use:uh,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useLayoutEffect:br,useInsertionEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useSyncExternalStore:br,useId:br,useHostTransitionStatus:br,useFormState:br,useActionState:br,useOptimistic:br,useMemoCache:br,useCacheRefresh:br},zv={readContext:va,use:uh,useCallback:function(r,s){return ka().memoizedState=[r,s===void 0?null:s],r},useContext:va,useEffect:Ev,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,fh(4194308,4,Cv.bind(null,s,r),o)},useLayoutEffect:function(r,s){return fh(4194308,4,r,s)},useInsertionEffect:function(r,s){fh(4,2,r,s)},useMemo:function(r,s){var o=ka();s=s===void 0?null:s;var c=r();if(sl){mn(!0);try{r()}finally{mn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=ka();if(o!==void 0){var f=o(s);if(sl){mn(!0);try{o(s)}finally{mn(!1)}}}else f=s;return c.memoizedState=c.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},c.queue=r,r=r.dispatch=mT.bind(null,zt,r),[c.memoizedState,r]},useRef:function(r){var s=ka();return r={current:r},s.memoizedState=r},useState:function(r){r=cp(r);var s=r.queue,o=Vv.bind(null,zt,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:dp,useDeferredValue:function(r,s){var o=ka();return hp(o,r,s)},useTransition:function(){var r=cp(!1);return r=Mv.bind(null,zt,r.queue,!0,!1),ka().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=zt,f=ka();if(gn){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),zn===null)throw Error(a(349));(an&124)!==0||ov(c,s,o)}f.memoizedState=o;var y={value:o,getSnapshot:s};return f.queue=y,Ev(cv.bind(null,c,y,r),[r]),c.flags|=2048,Wl(9,hh(),lv.bind(null,c,y,o,s),null),o},useId:function(){var r=ka(),s=zn.identifierPrefix;if(gn){var o=yi,c=gi;o=(c&~(1<<32-Sn(c)-1)).toString(32)+o,s=""+s+"R"+o,o=ch++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=lT++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:mp,useFormState:vv,useActionState:vv,useOptimistic:function(r){var s=ka();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=pp.bind(null,zt,!0,o),o.dispatch=s,[r,s]},useMemoCache:ip,useCacheRefresh:function(){return ka().memoizedState=fT.bind(null,zt)}},Bv={readContext:va,use:uh,useCallback:Rv,useContext:va,useEffect:Nv,useImperativeHandle:Av,useInsertionEffect:Tv,useLayoutEffect:Sv,useMemo:jv,useReducer:dh,useRef:wv,useState:function(){return dh(bi)},useDebugValue:dp,useDeferredValue:function(r,s){var o=jr();return Dv(o,Rn.memoizedState,r,s)},useTransition:function(){var r=dh(bi)[0],s=jr().memoizedState;return[typeof r=="boolean"?r:fu(r),s]},useSyncExternalStore:iv,useId:Ov,useHostTransitionStatus:mp,useFormState:xv,useActionState:xv,useOptimistic:function(r,s){var o=jr();return hv(o,Rn,r,s)},useMemoCache:ip,useCacheRefresh:kv},pT={readContext:va,use:uh,useCallback:Rv,useContext:va,useEffect:Nv,useImperativeHandle:Av,useInsertionEffect:Tv,useLayoutEffect:Sv,useMemo:jv,useReducer:lp,useRef:wv,useState:function(){return lp(bi)},useDebugValue:dp,useDeferredValue:function(r,s){var o=jr();return Rn===null?hp(o,r,s):Dv(o,Rn.memoizedState,r,s)},useTransition:function(){var r=lp(bi)[0],s=jr().memoizedState;return[typeof r=="boolean"?r:fu(r),s]},useSyncExternalStore:iv,useId:Ov,useHostTransitionStatus:mp,useFormState:_v,useActionState:_v,useOptimistic:function(r,s){var o=jr();return Rn!==null?hv(o,Rn,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:ip,useCacheRefresh:kv},Gl=null,gu=0;function gh(r){var s=gu;return gu+=1,Gl===null&&(Gl=[]),Zy(Gl,r,s)}function yu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function yh(r,s){throw s.$$typeof===_?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Fv(r){var s=r._init;return s(r._payload)}function Hv(r){function s(J,Q){if(r){var ae=J.deletions;ae===null?(J.deletions=[Q],J.flags|=16):ae.push(Q)}}function o(J,Q){if(!r)return null;for(;Q!==null;)s(J,Q),Q=Q.sibling;return null}function c(J){for(var Q=new Map;J!==null;)J.key!==null?Q.set(J.key,J):Q.set(J.index,J),J=J.sibling;return Q}function f(J,Q){return J=pi(J,Q),J.index=0,J.sibling=null,J}function y(J,Q,ae){return J.index=ae,r?(ae=J.alternate,ae!==null?(ae=ae.index,ae<Q?(J.flags|=67108866,Q):ae):(J.flags|=67108866,Q)):(J.flags|=1048576,Q)}function N(J){return r&&J.alternate===null&&(J.flags|=67108866),J}function S(J,Q,ae,_e){return Q===null||Q.tag!==6?(Q=km(ae,J.mode,_e),Q.return=J,Q):(Q=f(Q,ae),Q.return=J,Q)}function H(J,Q,ae,_e){var Qe=ae.type;return Qe===O?xe(J,Q,ae.props.children,_e,ae.key):Q!==null&&(Q.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===A&&Fv(Qe)===Q.type)?(Q=f(Q,ae.props),yu(Q,ae),Q.return=J,Q):(Q=Jd(ae.type,ae.key,ae.props,null,J.mode,_e),yu(Q,ae),Q.return=J,Q)}function ie(J,Q,ae,_e){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ae.containerInfo||Q.stateNode.implementation!==ae.implementation?(Q=Vm(ae,J.mode,_e),Q.return=J,Q):(Q=f(Q,ae.children||[]),Q.return=J,Q)}function xe(J,Q,ae,_e,Qe){return Q===null||Q.tag!==7?(Q=Xo(ae,J.mode,_e,Qe),Q.return=J,Q):(Q=f(Q,ae),Q.return=J,Q)}function Ne(J,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=km(""+Q,J.mode,ae),Q.return=J,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return ae=Jd(Q.type,Q.key,Q.props,null,J.mode,ae),yu(ae,Q),ae.return=J,ae;case D:return Q=Vm(Q,J.mode,ae),Q.return=J,Q;case A:var _e=Q._init;return Q=_e(Q._payload),Ne(J,Q,ae)}if(ve(Q)||G(Q))return Q=Xo(Q,J.mode,ae,null),Q.return=J,Q;if(typeof Q.then=="function")return Ne(J,gh(Q),ae);if(Q.$$typeof===se)return Ne(J,rh(J,Q),ae);yh(J,Q)}return null}function ue(J,Q,ae,_e){var Qe=Q!==null?Q.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Qe!==null?null:S(J,Q,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return ae.key===Qe?H(J,Q,ae,_e):null;case D:return ae.key===Qe?ie(J,Q,ae,_e):null;case A:return Qe=ae._init,ae=Qe(ae._payload),ue(J,Q,ae,_e)}if(ve(ae)||G(ae))return Qe!==null?null:xe(J,Q,ae,_e,null);if(typeof ae.then=="function")return ue(J,Q,gh(ae),_e);if(ae.$$typeof===se)return ue(J,Q,rh(J,ae),_e);yh(J,ae)}return null}function he(J,Q,ae,_e,Qe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return J=J.get(ae)||null,S(Q,J,""+_e,Qe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case E:return J=J.get(_e.key===null?ae:_e.key)||null,H(Q,J,_e,Qe);case D:return J=J.get(_e.key===null?ae:_e.key)||null,ie(Q,J,_e,Qe);case A:var Ht=_e._init;return _e=Ht(_e._payload),he(J,Q,ae,_e,Qe)}if(ve(_e)||G(_e))return J=J.get(ae)||null,xe(Q,J,_e,Qe,null);if(typeof _e.then=="function")return he(J,Q,ae,gh(_e),Qe);if(_e.$$typeof===se)return he(J,Q,ae,rh(Q,_e),Qe);yh(Q,_e)}return null}function bt(J,Q,ae,_e){for(var Qe=null,Ht=null,rt=Q,gt=Q=0,Xr=null;rt!==null&&gt<ae.length;gt++){rt.index>gt?(Xr=rt,rt=null):Xr=rt.sibling;var fn=ue(J,rt,ae[gt],_e);if(fn===null){rt===null&&(rt=Xr);break}r&&rt&&fn.alternate===null&&s(J,rt),Q=y(fn,Q,gt),Ht===null?Qe=fn:Ht.sibling=fn,Ht=fn,rt=Xr}if(gt===ae.length)return o(J,rt),gn&&Jo(J,gt),Qe;if(rt===null){for(;gt<ae.length;gt++)rt=Ne(J,ae[gt],_e),rt!==null&&(Q=y(rt,Q,gt),Ht===null?Qe=rt:Ht.sibling=rt,Ht=rt);return gn&&Jo(J,gt),Qe}for(rt=c(rt);gt<ae.length;gt++)Xr=he(rt,J,gt,ae[gt],_e),Xr!==null&&(r&&Xr.alternate!==null&&rt.delete(Xr.key===null?gt:Xr.key),Q=y(Xr,Q,gt),Ht===null?Qe=Xr:Ht.sibling=Xr,Ht=Xr);return r&&rt.forEach(function(co){return s(J,co)}),gn&&Jo(J,gt),Qe}function pt(J,Q,ae,_e){if(ae==null)throw Error(a(151));for(var Qe=null,Ht=null,rt=Q,gt=Q=0,Xr=null,fn=ae.next();rt!==null&&!fn.done;gt++,fn=ae.next()){rt.index>gt?(Xr=rt,rt=null):Xr=rt.sibling;var co=ue(J,rt,fn.value,_e);if(co===null){rt===null&&(rt=Xr);break}r&&rt&&co.alternate===null&&s(J,rt),Q=y(co,Q,gt),Ht===null?Qe=co:Ht.sibling=co,Ht=co,rt=Xr}if(fn.done)return o(J,rt),gn&&Jo(J,gt),Qe;if(rt===null){for(;!fn.done;gt++,fn=ae.next())fn=Ne(J,fn.value,_e),fn!==null&&(Q=y(fn,Q,gt),Ht===null?Qe=fn:Ht.sibling=fn,Ht=fn);return gn&&Jo(J,gt),Qe}for(rt=c(rt);!fn.done;gt++,fn=ae.next())fn=he(rt,J,gt,fn.value,_e),fn!==null&&(r&&fn.alternate!==null&&rt.delete(fn.key===null?gt:fn.key),Q=y(fn,Q,gt),Ht===null?Qe=fn:Ht.sibling=fn,Ht=fn);return r&&rt.forEach(function(gS){return s(J,gS)}),gn&&Jo(J,gt),Qe}function Dn(J,Q,ae,_e){if(typeof ae=="object"&&ae!==null&&ae.type===O&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:e:{for(var Qe=ae.key;Q!==null;){if(Q.key===Qe){if(Qe=ae.type,Qe===O){if(Q.tag===7){o(J,Q.sibling),_e=f(Q,ae.props.children),_e.return=J,J=_e;break e}}else if(Q.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===A&&Fv(Qe)===Q.type){o(J,Q.sibling),_e=f(Q,ae.props),yu(_e,ae),_e.return=J,J=_e;break e}o(J,Q);break}else s(J,Q);Q=Q.sibling}ae.type===O?(_e=Xo(ae.props.children,J.mode,_e,ae.key),_e.return=J,J=_e):(_e=Jd(ae.type,ae.key,ae.props,null,J.mode,_e),yu(_e,ae),_e.return=J,J=_e)}return N(J);case D:e:{for(Qe=ae.key;Q!==null;){if(Q.key===Qe)if(Q.tag===4&&Q.stateNode.containerInfo===ae.containerInfo&&Q.stateNode.implementation===ae.implementation){o(J,Q.sibling),_e=f(Q,ae.children||[]),_e.return=J,J=_e;break e}else{o(J,Q);break}else s(J,Q);Q=Q.sibling}_e=Vm(ae,J.mode,_e),_e.return=J,J=_e}return N(J);case A:return Qe=ae._init,ae=Qe(ae._payload),Dn(J,Q,ae,_e)}if(ve(ae))return bt(J,Q,ae,_e);if(G(ae)){if(Qe=G(ae),typeof Qe!="function")throw Error(a(150));return ae=Qe.call(ae),pt(J,Q,ae,_e)}if(typeof ae.then=="function")return Dn(J,Q,gh(ae),_e);if(ae.$$typeof===se)return Dn(J,Q,rh(J,ae),_e);yh(J,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Q!==null&&Q.tag===6?(o(J,Q.sibling),_e=f(Q,ae),_e.return=J,J=_e):(o(J,Q),_e=km(ae,J.mode,_e),_e.return=J,J=_e),N(J)):o(J,Q)}return function(J,Q,ae,_e){try{gu=0;var Qe=Dn(J,Q,ae,_e);return Gl=null,Qe}catch(rt){if(rt===ou||rt===sh)throw rt;var Ht=Ga(29,rt,null,J.mode);return Ht.lanes=_e,Ht.return=J,Ht}finally{}}}var Ql=Hv(!0),qv=Hv(!1),fs=oe(null),Hs=null;function Gi(r){var s=r.alternate;me(Br,Br.current&1),me(fs,r),Hs===null&&(s===null||ql.current!==null||s.memoizedState!==null)&&(Hs=r)}function $v(r){if(r.tag===22){if(me(Br,Br.current),me(fs,r),Hs===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Hs=r)}}else Qi()}function Qi(){me(Br,Br.current),me(fs,fs.current)}function _i(r){be(fs),Hs===r&&(Hs=null),be(Br)}var Br=oe(0);function vh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||sg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function gp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:b({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var yp={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Za(),f=$i(c);f.payload=s,o!=null&&(f.callback=o),s=Yi(r,f,c),s!==null&&(Ja(s,r,c),cu(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Za(),f=$i(c);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Yi(r,f,c),s!==null&&(Ja(s,r,c),cu(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Za(),c=$i(o);c.tag=2,s!=null&&(c.callback=s),s=Yi(r,c,o),s!==null&&(Ja(s,r,o),cu(s,r,o))}};function Yv(r,s,o,c,f,y,N){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,N):s.prototype&&s.prototype.isPureReactComponent?!Ko(o,c)||!Ko(f,y):!0}function Wv(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&yp.enqueueReplaceState(s,s.state,null)}function il(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=b({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var xh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Gv(r){xh(r)}function Qv(r){console.error(r)}function Kv(r){xh(r)}function bh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Xv(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vp(r,s,o){return o=$i(o),o.tag=3,o.payload={element:null},o.callback=function(){bh(r,s)},o}function Zv(r){return r=$i(r),r.tag=3,r}function Jv(r,s,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=c.value;r.payload=function(){return f(y)},r.callback=function(){Xv(s,o,c)}}var N=o.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(r.callback=function(){Xv(s,o,c),typeof f!="function"&&(to===null?to=new Set([this]):to.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function gT(r,s,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&au(s,o,f,!0),o=fs.current,o!==null){switch(o.tag){case 13:return Hs===null?Fp():o.alternate===null&&fr===0&&(fr=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Wm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),qp(r,c,f)),!1;case 22:return o.flags|=65536,c===Wm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),qp(r,c,f)),!1}throw Error(a(435,o.tag))}return qp(r,c,f),Fp(),!1}if(gn)return s=fs.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==zm&&(r=Error(a(422),{cause:c}),ru(cs(r,o)))):(c!==zm&&(s=Error(a(423),{cause:c}),ru(cs(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,c=cs(c,o),f=vp(r.stateNode,c,f),Km(r,f),fr!==4&&(fr=2)),!1;var y=Error(a(520),{cause:c});if(y=cs(y,o),Nu===null?Nu=[y]:Nu.push(y),fr!==4&&(fr=2),s===null)return!0;c=cs(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=vp(o.stateNode,c,r),Km(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(to===null||!to.has(y))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Zv(f),Jv(f,r,o,c),Km(o,f),!1}o=o.return}while(o!==null);return!1}var ex=Error(a(461)),Qr=!1;function aa(r,s,o,c){s.child=r===null?qv(s,null,o,c):Ql(s,r.child,o,c)}function tx(r,s,o,c,f){o=o.render;var y=s.ref;if("ref"in c){var N={};for(var S in c)S!=="ref"&&(N[S]=c[S])}else N=c;return rl(s),c=tp(r,s,o,N,y,f),S=np(),r!==null&&!Qr?(rp(r,s,f),wi(r,s,f)):(gn&&S&&Lm(s),s.flags|=1,aa(r,s,c,f),s.child)}function nx(r,s,o,c,f){if(r===null){var y=o.type;return typeof y=="function"&&!Om(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,rx(r,s,y,c,f)):(r=Jd(o.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Sp(r,f)){var N=y.memoizedProps;if(o=o.compare,o=o!==null?o:Ko,o(N,c)&&r.ref===s.ref)return wi(r,s,f)}return s.flags|=1,r=pi(y,c),r.ref=s.ref,r.return=s,s.child=r}function rx(r,s,o,c,f){if(r!==null){var y=r.memoizedProps;if(Ko(y,c)&&r.ref===s.ref)if(Qr=!1,s.pendingProps=c=y,Sp(r,f))(r.flags&131072)!==0&&(Qr=!0);else return s.lanes=r.lanes,wi(r,s,f)}return xp(r,s,o,c,f)}function ax(r,s,o){var c=s.pendingProps,f=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,r!==null){for(f=s.child=r.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return sx(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&ah(s,y!==null?y.cachePool:null),y!==null?rv(s,y):Zm(),$v(s);else return s.lanes=s.childLanes=536870912,sx(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(ah(s,y.cachePool),rv(s,y),Qi(),s.memoizedState=null):(r!==null&&ah(s,null),Zm(),Qi());return aa(r,s,f,o),s.child}function sx(r,s,o,c){var f=Ym();return f=f===null?null:{parent:zr._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&ah(s,null),Zm(),$v(s),r!==null&&au(r,s,c,!0),null}function _h(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function xp(r,s,o,c,f){return rl(s),o=tp(r,s,o,c,void 0,f),c=np(),r!==null&&!Qr?(rp(r,s,f),wi(r,s,f)):(gn&&c&&Lm(s),s.flags|=1,aa(r,s,o,f),s.child)}function ix(r,s,o,c,f,y){return rl(s),s.updateQueue=null,o=sv(s,c,o,f),av(r),c=np(),r!==null&&!Qr?(rp(r,s,y),wi(r,s,y)):(gn&&c&&Lm(s),s.flags|=1,aa(r,s,o,y),s.child)}function ox(r,s,o,c,f){if(rl(s),s.stateNode===null){var y=Ul,N=o.contextType;typeof N=="object"&&N!==null&&(y=va(N)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=yp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},Gm(s),N=o.contextType,y.context=typeof N=="object"&&N!==null?va(N):Ul,y.state=s.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(gp(s,o,N,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(N=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),N!==y.state&&yp.enqueueReplaceState(y,y.state,null),du(s,c,y,f),uu(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var S=s.memoizedProps,H=il(o,S);y.props=H;var ie=y.context,xe=o.contextType;N=Ul,typeof xe=="object"&&xe!==null&&(N=va(xe));var Ne=o.getDerivedStateFromProps;xe=typeof Ne=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,xe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||ie!==N)&&Wv(s,y,c,N),qi=!1;var ue=s.memoizedState;y.state=ue,du(s,c,y,f),uu(),ie=s.memoizedState,S||ue!==ie||qi?(typeof Ne=="function"&&(gp(s,o,Ne,c),ie=s.memoizedState),(H=qi||Yv(s,o,H,c,ue,ie,N))?(xe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=ie),y.props=c,y.state=ie,y.context=N,c=H):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,Qm(r,s),N=s.memoizedProps,xe=il(o,N),y.props=xe,Ne=s.pendingProps,ue=y.context,ie=o.contextType,H=Ul,typeof ie=="object"&&ie!==null&&(H=va(ie)),S=o.getDerivedStateFromProps,(ie=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N!==Ne||ue!==H)&&Wv(s,y,c,H),qi=!1,ue=s.memoizedState,y.state=ue,du(s,c,y,f),uu();var he=s.memoizedState;N!==Ne||ue!==he||qi||r!==null&&r.dependencies!==null&&nh(r.dependencies)?(typeof S=="function"&&(gp(s,o,S,c),he=s.memoizedState),(xe=qi||Yv(s,o,xe,c,ue,he,H)||r!==null&&r.dependencies!==null&&nh(r.dependencies))?(ie||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,he,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,he,H)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||N===r.memoizedProps&&ue===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&ue===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=he),y.props=c,y.state=he,y.context=H,c=xe):(typeof y.componentDidUpdate!="function"||N===r.memoizedProps&&ue===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&ue===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,_h(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=Ql(s,r.child,null,f),s.child=Ql(s,null,o,f)):aa(r,s,o,f),s.memoizedState=y.state,r=s.child):r=wi(r,s,f),r}function lx(r,s,o,c){return nu(),s.flags|=256,aa(r,s,o,c),s.child}var bp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _p(r){return{baseLanes:r,cachePool:Qy()}}function wp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=ms),r}function cx(r,s,o){var c=s.pendingProps,f=!1,y=(s.flags&128)!==0,N;if((N=y)||(N=r!==null&&r.memoizedState===null?!1:(Br.current&2)!==0),N&&(f=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,r===null){if(gn){if(f?Gi(s):Qi(),gn){var S=hr,H;if(H=S){e:{for(H=S,S=Fs;H.nodeType!==8;){if(!S){S=null;break e}if(H=Ss(H.nextSibling),H===null){S=null;break e}}S=H}S!==null?(s.memoizedState={dehydrated:S,treeContext:Zo!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},H=Ga(18,null,null,0),H.stateNode=S,H.return=s,s.child=H,Da=s,hr=null,H=!0):H=!1}H||tl(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return sg(S)?s.lanes=32:s.lanes=536870912,null;_i(s)}return S=c.children,c=c.fallback,f?(Qi(),f=s.mode,S=wh({mode:"hidden",children:S},f),c=Xo(c,f,o,null),S.return=s,c.return=s,S.sibling=c,s.child=S,f=s.child,f.memoizedState=_p(o),f.childLanes=wp(r,N,o),s.memoizedState=bp,c):(Gi(s),Ep(s,S))}if(H=r.memoizedState,H!==null&&(S=H.dehydrated,S!==null)){if(y)s.flags&256?(Gi(s),s.flags&=-257,s=Np(r,s,o)):s.memoizedState!==null?(Qi(),s.child=r.child,s.flags|=128,s=null):(Qi(),f=c.fallback,S=s.mode,c=wh({mode:"visible",children:c.children},S),f=Xo(f,S,o,null),f.flags|=2,c.return=s,f.return=s,c.sibling=f,s.child=c,Ql(s,r.child,null,o),c=s.child,c.memoizedState=_p(o),c.childLanes=wp(r,N,o),s.memoizedState=bp,s=f);else if(Gi(s),sg(S)){if(N=S.nextSibling&&S.nextSibling.dataset,N)var ie=N.dgst;N=ie,c=Error(a(419)),c.stack="",c.digest=N,ru({value:c,source:null,stack:null}),s=Np(r,s,o)}else if(Qr||au(r,s,o,!1),N=(o&r.childLanes)!==0,Qr||N){if(N=zn,N!==null&&(c=o&-o,c=(c&42)!==0?1:Et(c),c=(c&(N.suspendedLanes|o))!==0?0:c,c!==0&&c!==H.retryLane))throw H.retryLane=c,Ll(r,c),Ja(N,r,c),ex;S.data==="$?"||Fp(),s=Np(r,s,o)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=H.treeContext,hr=Ss(S.nextSibling),Da=s,gn=!0,el=null,Fs=!1,r!==null&&(ds[hs++]=gi,ds[hs++]=yi,ds[hs++]=Zo,gi=r.id,yi=r.overflow,Zo=s),s=Ep(s,c.children),s.flags|=4096);return s}return f?(Qi(),f=c.fallback,S=s.mode,H=r.child,ie=H.sibling,c=pi(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,ie!==null?f=pi(ie,f):(f=Xo(f,S,o,null),f.flags|=2),f.return=s,c.return=s,c.sibling=f,s.child=c,c=f,f=s.child,S=r.child.memoizedState,S===null?S=_p(o):(H=S.cachePool,H!==null?(ie=zr._currentValue,H=H.parent!==ie?{parent:ie,pool:ie}:H):H=Qy(),S={baseLanes:S.baseLanes|o,cachePool:H}),f.memoizedState=S,f.childLanes=wp(r,N,o),s.memoizedState=bp,c):(Gi(s),o=r.child,r=o.sibling,o=pi(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(N=s.deletions,N===null?(s.deletions=[r],s.flags|=16):N.push(r)),s.child=o,s.memoizedState=null,o)}function Ep(r,s){return s=wh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function wh(r,s){return r=Ga(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Np(r,s,o){return Ql(s,r.child,null,o),r=Ep(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function ux(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Fm(r.return,s,o)}function Tp(r,s,o,c,f){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=f)}function dx(r,s,o){var c=s.pendingProps,f=c.revealOrder,y=c.tail;if(aa(r,s,c.children,o),c=Br.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ux(r,o,s);else if(r.tag===19)ux(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(me(Br,c),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&vh(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Tp(s,!1,f,o,y);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&vh(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Tp(s,!0,o,null,y);break;case"together":Tp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function wi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),eo|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(au(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,o=pi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=pi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Sp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&nh(r)))}function yT(r,s,o){switch(s.tag){case 3:jt(s,s.stateNode.containerInfo),Hi(s,zr,r.memoizedState.cache),nu();break;case 27:case 5:Tt(s);break;case 4:jt(s,s.stateNode.containerInfo);break;case 10:Hi(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Gi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?cx(r,s,o):(Gi(s),r=wi(r,s,o),r!==null?r.sibling:null);Gi(s);break;case 19:var f=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(au(r,s,o,!1),c=(o&s.childLanes)!==0),f){if(c)return dx(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),me(Br,Br.current),c)break;return null;case 22:case 23:return s.lanes=0,ax(r,s,o);case 24:Hi(s,zr,r.memoizedState.cache)}return wi(r,s,o)}function hx(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Qr=!0;else{if(!Sp(r,o)&&(s.flags&128)===0)return Qr=!1,yT(r,s,o);Qr=(r.flags&131072)!==0}else Qr=!1,gn&&(s.flags&1048576)!==0&&Fy(s,th,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,f=c._init;if(c=f(c._payload),s.type=c,typeof c=="function")Om(c)?(r=il(c,r),s.tag=1,s=ox(null,s,c,r,o)):(s.tag=0,s=xp(null,s,c,r,o));else{if(c!=null){if(f=c.$$typeof,f===Ae){s.tag=11,s=tx(null,s,c,r,o);break e}else if(f===k){s.tag=14,s=nx(null,s,c,r,o);break e}}throw s=Ee(c)||c,Error(a(306,s,""))}}return s;case 0:return xp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,f=il(c,s.pendingProps),ox(r,s,c,f,o);case 3:e:{if(jt(s,s.stateNode.containerInfo),r===null)throw Error(a(387));c=s.pendingProps;var y=s.memoizedState;f=y.element,Qm(r,s),du(s,c,null,o);var N=s.memoizedState;if(c=N.cache,Hi(s,zr,c),c!==y.cache&&Hm(s,[zr],o,!0),uu(),c=N.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=lx(r,s,c,o);break e}else if(c!==f){f=cs(Error(a(424)),s),ru(f),s=lx(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(hr=Ss(r.firstChild),Da=s,gn=!0,el=null,Fs=!0,o=qv(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(nu(),c===f){s=wi(r,s,o);break e}aa(r,s,c,o)}s=s.child}return s;case 26:return _h(r,s),r===null?(o=gb(s.type,null,s.pendingProps,null))?s.memoizedState=o:gn||(o=s.type,r=s.pendingProps,c=kh(Ye.current).createElement(o),c[ye]=s,c[Se]=r,ia(c,o,r),lt(c),s.stateNode=c):s.memoizedState=gb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Tt(s),r===null&&gn&&(c=s.stateNode=fb(s.type,s.pendingProps,Ye.current),Da=s,Fs=!0,f=hr,ao(s.type)?(ig=f,hr=Ss(c.firstChild)):hr=f),aa(r,s,s.pendingProps.children,o),_h(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&gn&&((f=c=hr)&&(c=$T(c,s.type,s.pendingProps,Fs),c!==null?(s.stateNode=c,Da=s,hr=Ss(c.firstChild),Fs=!1,f=!0):f=!1),f||tl(s)),Tt(s),f=s.type,y=s.pendingProps,N=r!==null?r.memoizedProps:null,c=y.children,ng(f,y)?c=null:N!==null&&ng(f,N)&&(s.flags|=32),s.memoizedState!==null&&(f=tp(r,s,cT,null,null,o),Iu._currentValue=f),_h(r,s),aa(r,s,c,o),s.child;case 6:return r===null&&gn&&((r=o=hr)&&(o=YT(o,s.pendingProps,Fs),o!==null?(s.stateNode=o,Da=s,hr=null,r=!0):r=!1),r||tl(s)),null;case 13:return cx(r,s,o);case 4:return jt(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Ql(s,null,c,o):aa(r,s,c,o),s.child;case 11:return tx(r,s,s.type,s.pendingProps,o);case 7:return aa(r,s,s.pendingProps,o),s.child;case 8:return aa(r,s,s.pendingProps.children,o),s.child;case 12:return aa(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Hi(s,s.type,c.value),aa(r,s,c.children,o),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,rl(s),f=va(f),c=c(f),s.flags|=1,aa(r,s,c,o),s.child;case 14:return nx(r,s,s.type,s.pendingProps,o);case 15:return rx(r,s,s.type,s.pendingProps,o);case 19:return dx(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=wh(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=pi(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return ax(r,s,o);case 24:return rl(s),c=va(zr),r===null?(f=Ym(),f===null&&(f=zn,y=qm(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=o),f=y),s.memoizedState={parent:c,cache:f},Gm(s),Hi(s,zr,f)):((r.lanes&o)!==0&&(Qm(r,s),du(s,null,null,o),uu()),f=r.memoizedState,y=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Hi(s,zr,c)):(c=y.cache,Hi(s,zr,c),c!==f.cache&&Hm(s,[zr],o,!0))),aa(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Ei(r){r.flags|=4}function fx(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!_b(s)){if(s=fs.current,s!==null&&((an&4194048)===an?Hs!==null:(an&62914560)!==an&&(an&536870912)===0||s!==Hs))throw lu=Wm,Ky;r.flags|=8192}}function Eh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?wt():536870912,r.lanes|=s,Jl|=s)}function vu(r,s){if(!gn)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function nr(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function vT(r,s,o){var c=s.pendingProps;switch(Um(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(s),null;case 1:return nr(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),xi(zr),dt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(tu(s)?Ei(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$y())),nr(s),null;case 26:return o=s.memoizedState,r===null?(Ei(s),o!==null?(nr(s),fx(s,o)):(nr(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Ei(s),nr(s),fx(s,o)):(nr(s),s.flags&=-16777217):(r.memoizedProps!==c&&Ei(s),nr(s),s.flags&=-16777217),null;case 27:on(s),o=Ye.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Ei(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return nr(s),null}r=De.current,tu(s)?Hy(s):(r=fb(f,c,o),s.stateNode=r,Ei(s))}return nr(s),null;case 5:if(on(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Ei(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return nr(s),null}if(r=De.current,tu(s))Hy(s);else{switch(f=kh(Ye.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?f.createElement(o,{is:c.is}):f.createElement(o)}}r[ye]=s,r[Se]=c;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(ia(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ei(s)}}return nr(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Ei(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(r=Ye.current,tu(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,f=Da,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}r[ye]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||ib(r.nodeValue,o)),r||tl(s)}else r=kh(r).createTextNode(c),r[ye]=s,s.stateNode=r}return nr(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=tu(s),c!==null&&c.dehydrated!==null){if(r===null){if(!f)throw Error(a(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ye]=s}else nu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;nr(s),f=!1}else f=$y(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(_i(s),s):(_i(s),null)}if(_i(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==f&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Eh(s,s.updateQueue),nr(s),null;case 4:return dt(),r===null&&Xp(s.stateNode.containerInfo),nr(s),null;case 10:return xi(s.type),nr(s),null;case 19:if(be(Br),f=s.memoizedState,f===null)return nr(s),null;if(c=(s.flags&128)!==0,y=f.rendering,y===null)if(c)vu(f,!1);else{if(fr!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=vh(r),y!==null){for(s.flags|=128,vu(f,!1),r=y.updateQueue,s.updateQueue=r,Eh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)By(o,r),o=o.sibling;return me(Br,Br.current&1|2),s.child}r=r.sibling}f.tail!==null&&In()>Sh&&(s.flags|=128,c=!0,vu(f,!1),s.lanes=4194304)}else{if(!c)if(r=vh(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,Eh(s,r),vu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!gn)return nr(s),null}else 2*In()-f.renderingStartTime>Sh&&o!==536870912&&(s.flags|=128,c=!0,vu(f,!1),s.lanes=4194304);f.isBackwards?(y.sibling=s.child,s.child=y):(r=f.last,r!==null?r.sibling=y:s.child=y,f.last=y)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=In(),s.sibling=null,r=Br.current,me(Br,c?r&1|2:r&1),s):(nr(s),null);case 22:case 23:return _i(s),Jm(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(nr(s),s.subtreeFlags&6&&(s.flags|=8192)):nr(s),o=s.updateQueue,o!==null&&Eh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&be(al),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),xi(zr),nr(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function xT(r,s){switch(Um(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return xi(zr),dt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return on(s),null;case 13:if(_i(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));nu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return be(Br),null;case 4:return dt(),null;case 10:return xi(s.type),null;case 22:case 23:return _i(s),Jm(),r!==null&&be(al),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return xi(zr),null;case 25:return null;default:return null}}function mx(r,s){switch(Um(s),s.tag){case 3:xi(zr),dt();break;case 26:case 27:case 5:on(s);break;case 4:dt();break;case 13:_i(s);break;case 19:be(Br);break;case 10:xi(s.type);break;case 22:case 23:_i(s),Jm(),r!==null&&be(al);break;case 24:xi(zr)}}function xu(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&r)===r){c=void 0;var y=o.create,N=o.inst;c=y(),N.destroy=c}o=o.next}while(o!==f)}}catch(S){kn(s,s.return,S)}}function Ki(r,s,o){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&r)===r){var N=c.inst,S=N.destroy;if(S!==void 0){N.destroy=void 0,f=s;var H=o,ie=S;try{ie()}catch(xe){kn(f,H,xe)}}}c=c.next}while(c!==y)}}catch(xe){kn(s,s.return,xe)}}function px(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{nv(s,o)}catch(c){kn(r,r.return,c)}}}function gx(r,s,o){o.props=il(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){kn(r,s,c)}}function bu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(f){kn(r,s,f)}}function qs(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){kn(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){kn(r,s,f)}else o.current=null}function yx(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){kn(r,r.return,f)}}function Cp(r,s,o){try{var c=r.stateNode;zT(c,r.type,o,s),c[Se]=s}catch(f){kn(r,r.return,f)}}function vx(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ao(r.type)||r.tag===4}function Ap(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||vx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ao(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Rp(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Oh));else if(c!==4&&(c===27&&ao(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Rp(r,s,o),r=r.sibling;r!==null;)Rp(r,s,o),r=r.sibling}function Nh(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&ao(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Nh(r,s,o),r=r.sibling;r!==null;)Nh(r,s,o),r=r.sibling}function xx(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);ia(s,c,o),s[ye]=r,s[Se]=o}catch(y){kn(r,r.return,y)}}var Ni=!1,_r=!1,jp=!1,bx=typeof WeakSet=="function"?WeakSet:Set,Kr=null;function bT(r,s){if(r=r.containerInfo,eg=Fh,r=C(r),L(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var N=0,S=-1,H=-1,ie=0,xe=0,Ne=r,ue=null;t:for(;;){for(var he;Ne!==o||f!==0&&Ne.nodeType!==3||(S=N+f),Ne!==y||c!==0&&Ne.nodeType!==3||(H=N+c),Ne.nodeType===3&&(N+=Ne.nodeValue.length),(he=Ne.firstChild)!==null;)ue=Ne,Ne=he;for(;;){if(Ne===r)break t;if(ue===o&&++ie===f&&(S=N),ue===y&&++xe===c&&(H=N),(he=Ne.nextSibling)!==null)break;Ne=ue,ue=Ne.parentNode}Ne=he}o=S===-1||H===-1?null:{start:S,end:H}}else o=null}o=o||{start:0,end:0}}else o=null;for(tg={focusedElem:r,selectionRange:o},Fh=!1,Kr=s;Kr!==null;)if(s=Kr,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Kr=r;else for(;Kr!==null;){switch(s=Kr,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,f=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var bt=il(o.type,f,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(bt,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(pt){kn(o,o.return,pt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)ag(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ag(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,Kr=r;break}Kr=s.return}}function _x(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Xi(r,o),c&4&&xu(5,o);break;case 1:if(Xi(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(N){kn(o,o.return,N)}else{var f=il(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(N){kn(o,o.return,N)}}c&64&&px(o),c&512&&bu(o,o.return);break;case 3:if(Xi(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{nv(r,s)}catch(N){kn(o,o.return,N)}}break;case 27:s===null&&c&4&&xx(o);case 26:case 5:Xi(r,o),s===null&&c&4&&yx(o),c&512&&bu(o,o.return);break;case 12:Xi(r,o);break;case 13:Xi(r,o),c&4&&Nx(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=RT.bind(null,o),WT(r,o))));break;case 22:if(c=o.memoizedState!==null||Ni,!c){s=s!==null&&s.memoizedState!==null||_r,f=Ni;var y=_r;Ni=c,(_r=s)&&!y?Zi(r,o,(o.subtreeFlags&8772)!==0):Xi(r,o),Ni=f,_r=y}break;case 30:break;default:Xi(r,o)}}function wx(r){var s=r.alternate;s!==null&&(r.alternate=null,wx(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&et(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Kn=null,Va=!1;function Ti(r,s,o){for(o=o.child;o!==null;)Ex(r,s,o),o=o.sibling}function Ex(r,s,o){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(It,o)}catch{}switch(o.tag){case 26:_r||qs(o,s),Ti(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_r||qs(o,s);var c=Kn,f=Va;ao(o.type)&&(Kn=o.stateNode,Va=!1),Ti(r,s,o),Ru(o.stateNode),Kn=c,Va=f;break;case 5:_r||qs(o,s);case 6:if(c=Kn,f=Va,Kn=null,Ti(r,s,o),Kn=c,Va=f,Kn!==null)if(Va)try{(Kn.nodeType===9?Kn.body:Kn.nodeName==="HTML"?Kn.ownerDocument.body:Kn).removeChild(o.stateNode)}catch(y){kn(o,s,y)}else try{Kn.removeChild(o.stateNode)}catch(y){kn(o,s,y)}break;case 18:Kn!==null&&(Va?(r=Kn,db(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Vu(r)):db(Kn,o.stateNode));break;case 4:c=Kn,f=Va,Kn=o.stateNode.containerInfo,Va=!0,Ti(r,s,o),Kn=c,Va=f;break;case 0:case 11:case 14:case 15:_r||Ki(2,o,s),_r||Ki(4,o,s),Ti(r,s,o);break;case 1:_r||(qs(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&gx(o,s,c)),Ti(r,s,o);break;case 21:Ti(r,s,o);break;case 22:_r=(c=_r)||o.memoizedState!==null,Ti(r,s,o),_r=c;break;default:Ti(r,s,o)}}function Nx(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Vu(r)}catch(o){kn(s,s.return,o)}}function _T(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new bx),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new bx),s;default:throw Error(a(435,r.tag))}}function Dp(r,s){var o=_T(r);s.forEach(function(c){var f=jT.bind(null,r,c);o.has(c)||(o.add(c),c.then(f,f))})}function Qa(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],y=r,N=s,S=N;e:for(;S!==null;){switch(S.tag){case 27:if(ao(S.type)){Kn=S.stateNode,Va=!1;break e}break;case 5:Kn=S.stateNode,Va=!1;break e;case 3:case 4:Kn=S.stateNode.containerInfo,Va=!0;break e}S=S.return}if(Kn===null)throw Error(a(160));Ex(y,N,f),Kn=null,Va=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Tx(s,r),s=s.sibling}var Ts=null;function Tx(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Qa(s,r),Ka(r),c&4&&(Ki(3,r,r.return),xu(3,r),Ki(5,r,r.return));break;case 1:Qa(s,r),Ka(r),c&512&&(_r||o===null||qs(o,o.return)),c&64&&Ni&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=Ts;if(Qa(s,r),Ka(r),c&512&&(_r||o===null||qs(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":y=f.getElementsByTagName("title")[0],(!y||y[it]||y[ye]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(c),f.head.insertBefore(y,f.querySelector("head > title"))),ia(y,c,o),y[ye]=r,lt(y),c=y;break e;case"link":var N=xb("link","href",f).get(c+(o.href||""));if(N){for(var S=0;S<N.length;S++)if(y=N[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){N.splice(S,1);break t}}y=f.createElement(c),ia(y,c,o),f.head.appendChild(y);break;case"meta":if(N=xb("meta","content",f).get(c+(o.content||""))){for(S=0;S<N.length;S++)if(y=N[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){N.splice(S,1);break t}}y=f.createElement(c),ia(y,c,o),f.head.appendChild(y);break;default:throw Error(a(468,c))}y[ye]=r,lt(y),c=y}r.stateNode=c}else bb(f,r.type,r.stateNode);else r.stateNode=vb(f,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?bb(f,r.type,r.stateNode):vb(f,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Cp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Qa(s,r),Ka(r),c&512&&(_r||o===null||qs(o,o.return)),o!==null&&c&4&&Cp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Qa(s,r),Ka(r),c&512&&(_r||o===null||qs(o,o.return)),r.flags&32){f=r.stateNode;try{dr(f,"")}catch(he){kn(r,r.return,he)}}c&4&&r.stateNode!=null&&(f=r.memoizedProps,Cp(r,f,o!==null?o.memoizedProps:f)),c&1024&&(jp=!0);break;case 6:if(Qa(s,r),Ka(r),c&4){if(r.stateNode===null)throw Error(a(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(he){kn(r,r.return,he)}}break;case 3:if(Uh=null,f=Ts,Ts=Vh(s.containerInfo),Qa(s,r),Ts=f,Ka(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Vu(s.containerInfo)}catch(he){kn(r,r.return,he)}jp&&(jp=!1,Sx(r));break;case 4:c=Ts,Ts=Vh(r.stateNode.containerInfo),Qa(s,r),Ka(r),Ts=c;break;case 12:Qa(s,r),Ka(r);break;case 13:Qa(s,r),Ka(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Vp=In()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Dp(r,c)));break;case 22:f=r.memoizedState!==null;var H=o!==null&&o.memoizedState!==null,ie=Ni,xe=_r;if(Ni=ie||f,_r=xe||H,Qa(s,r),_r=xe,Ni=ie,Ka(r),c&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||H||Ni||_r||ol(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){H=o=s;try{if(y=H.stateNode,f)N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{S=H.stateNode;var Ne=H.memoizedProps.style,ue=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;S.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(he){kn(H,H.return,he)}}}else if(s.tag===6){if(o===null){H=s;try{H.stateNode.nodeValue=f?"":H.memoizedProps}catch(he){kn(H,H.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Dp(r,o))));break;case 19:Qa(s,r),Ka(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Dp(r,c)));break;case 30:break;case 21:break;default:Qa(s,r),Ka(r)}}function Ka(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(vx(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,y=Ap(r);Nh(r,y,f);break;case 5:var N=o.stateNode;o.flags&32&&(dr(N,""),o.flags&=-33);var S=Ap(r);Nh(r,S,N);break;case 3:case 4:var H=o.stateNode.containerInfo,ie=Ap(r);Rp(r,ie,H);break;default:throw Error(a(161))}}catch(xe){kn(r,r.return,xe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Sx(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Sx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Xi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_x(r,s.alternate,s),s=s.sibling}function ol(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ki(4,s,s.return),ol(s);break;case 1:qs(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&gx(s,s.return,o),ol(s);break;case 27:Ru(s.stateNode);case 26:case 5:qs(s,s.return),ol(s);break;case 22:s.memoizedState===null&&ol(s);break;case 30:ol(s);break;default:ol(s)}r=r.sibling}}function Zi(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=r,y=s,N=y.flags;switch(y.tag){case 0:case 11:case 15:Zi(f,y,o),xu(4,y);break;case 1:if(Zi(f,y,o),c=y,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ie){kn(c,c.return,ie)}if(c=y,f=c.updateQueue,f!==null){var S=c.stateNode;try{var H=f.shared.hiddenCallbacks;if(H!==null)for(f.shared.hiddenCallbacks=null,f=0;f<H.length;f++)tv(H[f],S)}catch(ie){kn(c,c.return,ie)}}o&&N&64&&px(y),bu(y,y.return);break;case 27:xx(y);case 26:case 5:Zi(f,y,o),o&&c===null&&N&4&&yx(y),bu(y,y.return);break;case 12:Zi(f,y,o);break;case 13:Zi(f,y,o),o&&N&4&&Nx(f,y);break;case 22:y.memoizedState===null&&Zi(f,y,o),bu(y,y.return);break;case 30:break;default:Zi(f,y,o)}s=s.sibling}}function Mp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&su(o))}function Ip(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&su(r))}function $s(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Cx(r,s,o,c),s=s.sibling}function Cx(r,s,o,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:$s(r,s,o,c),f&2048&&xu(9,s);break;case 1:$s(r,s,o,c);break;case 3:$s(r,s,o,c),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&su(r)));break;case 12:if(f&2048){$s(r,s,o,c),r=s.stateNode;try{var y=s.memoizedProps,N=y.id,S=y.onPostCommit;typeof S=="function"&&S(N,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){kn(s,s.return,H)}}else $s(r,s,o,c);break;case 13:$s(r,s,o,c);break;case 23:break;case 22:y=s.stateNode,N=s.alternate,s.memoizedState!==null?y._visibility&2?$s(r,s,o,c):_u(r,s):y._visibility&2?$s(r,s,o,c):(y._visibility|=2,Kl(r,s,o,c,(s.subtreeFlags&10256)!==0)),f&2048&&Mp(N,s);break;case 24:$s(r,s,o,c),f&2048&&Ip(s.alternate,s);break;default:$s(r,s,o,c)}}function Kl(r,s,o,c,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,N=s,S=o,H=c,ie=N.flags;switch(N.tag){case 0:case 11:case 15:Kl(y,N,S,H,f),xu(8,N);break;case 23:break;case 22:var xe=N.stateNode;N.memoizedState!==null?xe._visibility&2?Kl(y,N,S,H,f):_u(y,N):(xe._visibility|=2,Kl(y,N,S,H,f)),f&&ie&2048&&Mp(N.alternate,N);break;case 24:Kl(y,N,S,H,f),f&&ie&2048&&Ip(N.alternate,N);break;default:Kl(y,N,S,H,f)}s=s.sibling}}function _u(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,f=c.flags;switch(c.tag){case 22:_u(o,c),f&2048&&Mp(c.alternate,c);break;case 24:_u(o,c),f&2048&&Ip(c.alternate,c);break;default:_u(o,c)}s=s.sibling}}var wu=8192;function Xl(r){if(r.subtreeFlags&wu)for(r=r.child;r!==null;)Ax(r),r=r.sibling}function Ax(r){switch(r.tag){case 26:Xl(r),r.flags&wu&&r.memoizedState!==null&&iS(Ts,r.memoizedState,r.memoizedProps);break;case 5:Xl(r);break;case 3:case 4:var s=Ts;Ts=Vh(r.stateNode.containerInfo),Xl(r),Ts=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=wu,wu=16777216,Xl(r),wu=s):Xl(r));break;default:Xl(r)}}function Rx(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Eu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Kr=c,Dx(c,r)}Rx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jx(r),r=r.sibling}function jx(r){switch(r.tag){case 0:case 11:case 15:Eu(r),r.flags&2048&&Ki(9,r,r.return);break;case 3:Eu(r);break;case 12:Eu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Th(r)):Eu(r);break;default:Eu(r)}}function Th(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Kr=c,Dx(c,r)}Rx(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ki(8,s,s.return),Th(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Th(s));break;default:Th(s)}r=r.sibling}}function Dx(r,s){for(;Kr!==null;){var o=Kr;switch(o.tag){case 0:case 11:case 15:Ki(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:su(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Kr=c;else e:for(o=r;Kr!==null;){c=Kr;var f=c.sibling,y=c.return;if(wx(c),c===o){Kr=null;break e}if(f!==null){f.return=y,Kr=f;break e}Kr=y}}}var wT={getCacheForType:function(r){var s=va(zr),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},ET=typeof WeakMap=="function"?WeakMap:Map,_n=0,zn=null,Yt=null,an=0,wn=0,Xa=null,Ji=!1,Zl=!1,Pp=!1,Si=0,fr=0,eo=0,ll=0,Op=0,ms=0,Jl=0,Nu=null,La=null,kp=!1,Vp=0,Sh=1/0,Ch=null,to=null,sa=0,no=null,ec=null,tc=0,Lp=0,Up=null,Mx=null,Tu=0,zp=null;function Za(){if((_n&2)!==0&&an!==0)return an&-an;if(F.T!==null){var r=Fl;return r!==0?r:Wp()}return q()}function Ix(){ms===0&&(ms=(an&536870912)===0||gn?Vt():536870912);var r=fs.current;return r!==null&&(r.flags|=32),ms}function Ja(r,s,o){(r===zn&&(wn===2||wn===9)||r.cancelPendingCommit!==null)&&(nc(r,0),ro(r,an,ms,!1)),yn(r,o),((_n&2)===0||r!==zn)&&(r===zn&&((_n&2)===0&&(ll|=o),fr===4&&ro(r,an,ms,!1)),Ys(r))}function Px(r,s,o){if((_n&6)!==0)throw Error(a(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||pr(r,s),f=c?ST(r,s):Hp(r,s,!0),y=c;do{if(f===0){Zl&&!c&&ro(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!NT(o)){f=Hp(r,s,!1),y=!1;continue}if(f===2){if(y=s,r.errorRecoveryDisabledLanes&y)var N=0;else N=r.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var S=r;f=Nu;var H=S.current.memoizedState.isDehydrated;if(H&&(nc(S,N).flags|=256),N=Hp(S,N,!1),N!==2){if(Pp&&!H){S.errorRecoveryDisabledLanes|=y,ll|=y,f=4;break e}y=La,La=f,y!==null&&(La===null?La=y:La.push.apply(La,y))}f=N}if(y=!1,f!==2)continue}}if(f===1){nc(r,0),ro(r,s,0,!0);break}e:{switch(c=r,y=f,y){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:ro(c,s,ms,!Ji);break e;case 2:La=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(f=Vp+300-In(),10<f)){if(ro(c,s,ms,!Ji),Or(c,0,!0)!==0)break e;c.timeoutHandle=cb(Ox.bind(null,c,o,La,Ch,kp,s,ms,ll,Jl,Ji,y,2,-0,0),f);break e}Ox(c,o,La,Ch,kp,s,ms,ll,Jl,Ji,y,0,-0,0)}}break}while(!0);Ys(r)}function Ox(r,s,o,c,f,y,N,S,H,ie,xe,Ne,ue,he){if(r.timeoutHandle=-1,Ne=s.subtreeFlags,(Ne&8192||(Ne&16785408)===16785408)&&(Mu={stylesheets:null,count:0,unsuspend:sS},Ax(s),Ne=oS(),Ne!==null)){r.cancelPendingCommit=Ne(Fx.bind(null,r,s,y,o,c,f,N,S,H,xe,1,ue,he)),ro(r,y,N,!ie);return}Fx(r,s,y,o,c,f,N,S,H)}function NT(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],y=f.getSnapshot;f=f.value;try{if(!ja(y(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ro(r,s,o,c){s&=~Op,s&=~ll,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var f=s;0<f;){var y=31-Sn(f),N=1<<y;c[y]=-1,f&=~N}o!==0&&Ut(r,o,s)}function Ah(){return(_n&6)===0?(Su(0),!1):!0}function Bp(){if(Yt!==null){if(wn===0)var r=Yt.return;else r=Yt,vi=nl=null,ap(r),Gl=null,gu=0,r=Yt;for(;r!==null;)mx(r.alternate,r),r=r.return;Yt=null}}function nc(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,FT(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Bp(),zn=r,Yt=o=pi(r.current,null),an=s,wn=0,Xa=null,Ji=!1,Zl=pr(r,s),Pp=!1,Jl=ms=Op=ll=eo=fr=0,La=Nu=null,kp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var f=31-Sn(c),y=1<<f;s|=r[f],c&=~y}return Si=s,Kd(),o}function kx(r,s){zt=null,F.H=ph,s===ou||s===sh?(s=Jy(),wn=3):s===Ky?(s=Jy(),wn=4):wn=s===ex?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xa=s,Yt===null&&(fr=1,bh(r,cs(s,r.current)))}function Vx(){var r=F.H;return F.H=ph,r===null?ph:r}function Lx(){var r=F.A;return F.A=wT,r}function Fp(){fr=4,Ji||(an&4194048)!==an&&fs.current!==null||(Zl=!0),(eo&134217727)===0&&(ll&134217727)===0||zn===null||ro(zn,an,ms,!1)}function Hp(r,s,o){var c=_n;_n|=2;var f=Vx(),y=Lx();(zn!==r||an!==s)&&(Ch=null,nc(r,s)),s=!1;var N=fr;e:do try{if(wn!==0&&Yt!==null){var S=Yt,H=Xa;switch(wn){case 8:Bp(),N=6;break e;case 3:case 2:case 9:case 6:fs.current===null&&(s=!0);var ie=wn;if(wn=0,Xa=null,rc(r,S,H,ie),o&&Zl){N=0;break e}break;default:ie=wn,wn=0,Xa=null,rc(r,S,H,ie)}}TT(),N=fr;break}catch(xe){kx(r,xe)}while(!0);return s&&r.shellSuspendCounter++,vi=nl=null,_n=c,F.H=f,F.A=y,Yt===null&&(zn=null,an=0,Kd()),N}function TT(){for(;Yt!==null;)Ux(Yt)}function ST(r,s){var o=_n;_n|=2;var c=Vx(),f=Lx();zn!==r||an!==s?(Ch=null,Sh=In()+500,nc(r,s)):Zl=pr(r,s);e:do try{if(wn!==0&&Yt!==null){s=Yt;var y=Xa;t:switch(wn){case 1:wn=0,Xa=null,rc(r,s,y,1);break;case 2:case 9:if(Xy(y)){wn=0,Xa=null,zx(s);break}s=function(){wn!==2&&wn!==9||zn!==r||(wn=7),Ys(r)},y.then(s,s);break e;case 3:wn=7;break e;case 4:wn=5;break e;case 7:Xy(y)?(wn=0,Xa=null,zx(s)):(wn=0,Xa=null,rc(r,s,y,7));break;case 5:var N=null;switch(Yt.tag){case 26:N=Yt.memoizedState;case 5:case 27:var S=Yt;if(!N||_b(N)){wn=0,Xa=null;var H=S.sibling;if(H!==null)Yt=H;else{var ie=S.return;ie!==null?(Yt=ie,Rh(ie)):Yt=null}break t}}wn=0,Xa=null,rc(r,s,y,5);break;case 6:wn=0,Xa=null,rc(r,s,y,6);break;case 8:Bp(),fr=6;break e;default:throw Error(a(462))}}CT();break}catch(xe){kx(r,xe)}while(!0);return vi=nl=null,F.H=c,F.A=f,_n=o,Yt!==null?0:(zn=null,an=0,Kd(),fr)}function CT(){for(;Yt!==null&&!ha();)Ux(Yt)}function Ux(r){var s=hx(r.alternate,r,Si);r.memoizedProps=r.pendingProps,s===null?Rh(r):Yt=s}function zx(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=ix(o,s,s.pendingProps,s.type,void 0,an);break;case 11:s=ix(o,s,s.pendingProps,s.type.render,s.ref,an);break;case 5:ap(s);default:mx(o,s),s=Yt=By(s,Si),s=hx(o,s,Si)}r.memoizedProps=r.pendingProps,s===null?Rh(r):Yt=s}function rc(r,s,o,c){vi=nl=null,ap(s),Gl=null,gu=0;var f=s.return;try{if(gT(r,f,s,o,an)){fr=1,bh(r,cs(o,r.current)),Yt=null;return}}catch(y){if(f!==null)throw Yt=f,y;fr=1,bh(r,cs(o,r.current)),Yt=null;return}s.flags&32768?(gn||c===1?r=!0:Zl||(an&536870912)!==0?r=!1:(Ji=r=!0,(c===2||c===9||c===3||c===6)&&(c=fs.current,c!==null&&c.tag===13&&(c.flags|=16384))),Bx(s,r)):Rh(s)}function Rh(r){var s=r;do{if((s.flags&32768)!==0){Bx(s,Ji);return}r=s.return;var o=vT(s.alternate,s,Si);if(o!==null){Yt=o;return}if(s=s.sibling,s!==null){Yt=s;return}Yt=s=r}while(s!==null);fr===0&&(fr=5)}function Bx(r,s){do{var o=xT(r.alternate,r);if(o!==null){o.flags&=32767,Yt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Yt=r;return}Yt=r=o}while(r!==null);fr=6,Yt=null}function Fx(r,s,o,c,f,y,N,S,H){r.cancelPendingCommit=null;do jh();while(sa!==0);if((_n&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(y=s.lanes|s.childLanes,y|=Im,Sr(r,o,y,N,S,H),r===zn&&(Yt=zn=null,an=0),ec=s,no=r,tc=o,Lp=y,Up=f,Mx=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,DT(Yr,function(){return Wx(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=F.T,F.T=null,f=le.p,le.p=2,N=_n,_n|=4;try{bT(r,s,o)}finally{_n=N,le.p=f,F.T=c}}sa=1,Hx(),qx(),$x()}}function Hx(){if(sa===1){sa=0;var r=no,s=ec,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=F.T,F.T=null;var c=le.p;le.p=2;var f=_n;_n|=4;try{Tx(s,r);var y=tg,N=C(r.containerInfo),S=y.focusedElem,H=y.selectionRange;if(N!==S&&S&&S.ownerDocument&&v(S.ownerDocument.documentElement,S)){if(H!==null&&L(S)){var ie=H.start,xe=H.end;if(xe===void 0&&(xe=ie),"selectionStart"in S)S.selectionStart=ie,S.selectionEnd=Math.min(xe,S.value.length);else{var Ne=S.ownerDocument||document,ue=Ne&&Ne.defaultView||window;if(ue.getSelection){var he=ue.getSelection(),bt=S.textContent.length,pt=Math.min(H.start,bt),Dn=H.end===void 0?pt:Math.min(H.end,bt);!he.extend&&pt>Dn&&(N=Dn,Dn=pt,pt=N);var J=Qd(S,pt),Q=Qd(S,Dn);if(J&&Q&&(he.rangeCount!==1||he.anchorNode!==J.node||he.anchorOffset!==J.offset||he.focusNode!==Q.node||he.focusOffset!==Q.offset)){var ae=Ne.createRange();ae.setStart(J.node,J.offset),he.removeAllRanges(),pt>Dn?(he.addRange(ae),he.extend(Q.node,Q.offset)):(ae.setEnd(Q.node,Q.offset),he.addRange(ae))}}}}for(Ne=[],he=S;he=he.parentNode;)he.nodeType===1&&Ne.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Ne.length;S++){var _e=Ne[S];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}Fh=!!eg,tg=eg=null}finally{_n=f,le.p=c,F.T=o}}r.current=s,sa=2}}function qx(){if(sa===2){sa=0;var r=no,s=ec,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=F.T,F.T=null;var c=le.p;le.p=2;var f=_n;_n|=4;try{_x(r,s.alternate,s)}finally{_n=f,le.p=c,F.T=o}}sa=3}}function $x(){if(sa===4||sa===3){sa=0,Ia();var r=no,s=ec,o=tc,c=Mx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?sa=5:(sa=0,ec=no=null,Yx(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(to=null),na(o),s=s.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(It,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=F.T,f=le.p,le.p=2,F.T=null;try{for(var y=r.onRecoverableError,N=0;N<c.length;N++){var S=c[N];y(S.value,{componentStack:S.stack})}}finally{F.T=s,le.p=f}}(tc&3)!==0&&jh(),Ys(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===zp?Tu++:(Tu=0,zp=r):Tu=0,Su(0)}}function Yx(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,su(s)))}function jh(r){return Hx(),qx(),$x(),Wx()}function Wx(){if(sa!==5)return!1;var r=no,s=Lp;Lp=0;var o=na(tc),c=F.T,f=le.p;try{le.p=32>o?32:o,F.T=null,o=Up,Up=null;var y=no,N=tc;if(sa=0,ec=no=null,tc=0,(_n&6)!==0)throw Error(a(331));var S=_n;if(_n|=4,jx(y.current),Cx(y,y.current,N,o),_n=S,Su(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(It,y)}catch{}return!0}finally{le.p=f,F.T=c,Yx(r,s)}}function Gx(r,s,o){s=cs(o,s),s=vp(r.stateNode,s,2),r=Yi(r,s,2),r!==null&&(yn(r,2),Ys(r))}function kn(r,s,o){if(r.tag===3)Gx(r,r,o);else for(;s!==null;){if(s.tag===3){Gx(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(to===null||!to.has(c))){r=cs(o,r),o=Zv(2),c=Yi(s,o,2),c!==null&&(Jv(o,c,s,r),yn(c,2),Ys(c));break}}s=s.return}}function qp(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new ET;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(o)||(Pp=!0,f.add(o),r=AT.bind(null,r,s,o),s.then(r,r))}function AT(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,zn===r&&(an&o)===o&&(fr===4||fr===3&&(an&62914560)===an&&300>In()-Vp?(_n&2)===0&&nc(r,0):Op|=o,Jl===an&&(Jl=0)),Ys(r)}function Qx(r,s){s===0&&(s=wt()),r=Ll(r,s),r!==null&&(yn(r,s),Ys(r))}function RT(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Qx(r,o)}function jT(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),Qx(r,o)}function DT(r,s){return Ge(r,s)}var Dh=null,ac=null,$p=!1,Mh=!1,Yp=!1,cl=0;function Ys(r){r!==ac&&r.next===null&&(ac===null?Dh=ac=r:ac=ac.next=r),Mh=!0,$p||($p=!0,IT())}function Su(r,s){if(!Yp&&Mh){Yp=!0;do for(var o=!1,c=Dh;c!==null;){if(r!==0){var f=c.pendingLanes;if(f===0)var y=0;else{var N=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-Sn(42|r)+1)-1,y&=f&~(N&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Jx(c,y))}else y=an,y=Or(c,c===zn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||pr(c,y)||(o=!0,Jx(c,y));c=c.next}while(o);Yp=!1}}function MT(){Kx()}function Kx(){Mh=$p=!1;var r=0;cl!==0&&(BT()&&(r=cl),cl=0);for(var s=In(),o=null,c=Dh;c!==null;){var f=c.next,y=Xx(c,s);y===0?(c.next=null,o===null?Dh=f:o.next=f,f===null&&(ac=o)):(o=c,(r!==0||(y&3)!==0)&&(Mh=!0)),c=f}Su(r)}function Xx(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var N=31-Sn(y),S=1<<N,H=f[N];H===-1?((S&o)===0||(S&c)!==0)&&(f[N]=ht(S,s)):H<=s&&(r.expiredLanes|=S),y&=~S}if(s=zn,o=an,o=Or(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(wn===2||wn===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&_t(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||pr(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&_t(c),na(o)){case 2:case 8:o=Nr;break;case 32:o=Yr;break;case 268435456:o=Vn;break;default:o=Yr}return c=Zx.bind(null,r),o=Ge(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&_t(c),r.callbackPriority=2,r.callbackNode=null,2}function Zx(r,s){if(sa!==0&&sa!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(jh()&&r.callbackNode!==o)return null;var c=an;return c=Or(r,r===zn?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Px(r,c,s),Xx(r,In()),r.callbackNode!=null&&r.callbackNode===o?Zx.bind(null,r):null)}function Jx(r,s){if(jh())return null;Px(r,s,!0)}function IT(){HT(function(){(_n&6)!==0?Ge(mr,MT):Kx()})}function Wp(){return cl===0&&(cl=Vt()),cl}function eb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Vs(""+r)}function tb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function PT(r,s,o,c,f){if(s==="submit"&&o&&o.stateNode===f){var y=eb((f[Se]||null).action),N=c.submitter;N&&(s=(s=N[Se]||null)?eb(s.formAction):N.getAttribute("formAction"),s!==null&&(y=s,N=null));var S=new On("action","action",null,c,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(cl!==0){var H=N?tb(f,N):new FormData(f);fp(o,{pending:!0,data:H,method:f.method,action:y},null,H)}}else typeof y=="function"&&(S.preventDefault(),H=N?tb(f,N):new FormData(f),fp(o,{pending:!0,data:H,method:f.method,action:y},y,H))},currentTarget:f}]})}}for(var Gp=0;Gp<Ct.length;Gp++){var Qp=Ct[Gp],OT=Qp.toLowerCase(),kT=Qp[0].toUpperCase()+Qp.slice(1);Lt(OT,"on"+kT)}Lt(tr,"onAnimationEnd"),Lt($t,"onAnimationIteration"),Lt(Qn,"onAnimationStart"),Lt("dblclick","onDoubleClick"),Lt("focusin","onFocus"),Lt("focusout","onBlur"),Lt(hn,"onTransitionRun"),Lt(Ot,"onTransitionStart"),Lt(Pe,"onTransitionCancel"),Lt(mt,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function nb(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],f=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var N=c.length-1;0<=N;N--){var S=c[N],H=S.instance,ie=S.currentTarget;if(S=S.listener,H!==y&&f.isPropagationStopped())break e;y=S,f.currentTarget=ie;try{y(f)}catch(xe){xh(xe)}f.currentTarget=null,y=H}else for(N=0;N<c.length;N++){if(S=c[N],H=S.instance,ie=S.currentTarget,S=S.listener,H!==y&&f.isPropagationStopped())break e;y=S,f.currentTarget=ie;try{y(f)}catch(xe){xh(xe)}f.currentTarget=null,y=H}}}}function Wt(r,s){var o=s[Je];o===void 0&&(o=s[Je]=new Set);var c=r+"__bubble";o.has(c)||(rb(s,r,2,!1),o.add(c))}function Kp(r,s,o){var c=0;s&&(c|=4),rb(o,r,c,s)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function Xp(r){if(!r[Ih]){r[Ih]=!0,He.forEach(function(o){o!=="selectionchange"&&(VT.has(o)||Kp(o,!1,r),Kp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ih]||(s[Ih]=!0,Kp("selectionchange",!1,s))}}function rb(r,s,o,c){switch(Cb(s)){case 2:var f=uS;break;case 8:f=dS;break;default:f=dg}o=f.bind(null,s,o,r),f=void 0,!ra||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function Zp(r,s,o,c,f){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var S=c.stateNode.containerInfo;if(S===f)break;if(N===4)for(N=c.return;N!==null;){var H=N.tag;if((H===3||H===4)&&N.stateNode.containerInfo===f)return;N=N.return}for(;S!==null;){if(N=ot(S),N===null)return;if(H=N.tag,H===5||H===6||H===26||H===27){c=y=N;continue e}S=S.parentNode}}c=c.return}ss(function(){var ie=y,xe=vr(o),Ne=[];e:{var ue=tn.get(r);if(ue!==void 0){var he=On,bt=r;switch(r){case"keypress":if(je(o)===0)break e;case"keydown":case"keyup":he=mi;break;case"focusin":bt="focus",he=Us;break;case"focusout":bt="blur",he=Us;break;case"beforeblur":case"afterblur":he=Us;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Ya;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Il;break;case tr:case $t:case Qn:he=zi;break;case mt:he=Es;break;case"scroll":case"scrollend":he=$a;break;case"wheel":he=Fi;break;case"copy":case"cut":case"paste":he=hi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Wo;break;case"toggle":case"beforetoggle":he=Pl}var pt=(s&4)!==0,Dn=!pt&&(r==="scroll"||r==="scrollend"),J=pt?ue!==null?ue+"Capture":null:ue;pt=[];for(var Q=ie,ae;Q!==null;){var _e=Q;if(ae=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ae===null||J===null||(_e=Ra(Q,J),_e!=null&&pt.push(Au(Q,_e,ae))),Dn)break;Q=Q.return}0<pt.length&&(ue=new he(ue,bt,null,o,xe),Ne.push({event:ue,listeners:pt}))}}if((s&7)===0){e:{if(ue=r==="mouseover"||r==="pointerover",he=r==="mouseout"||r==="pointerout",ue&&o!==Aa&&(bt=o.relatedTarget||o.fromElement)&&(ot(bt)||bt[ke]))break e;if((he||ue)&&(ue=xe.window===xe?xe:(ue=xe.ownerDocument)?ue.defaultView||ue.parentWindow:window,he?(bt=o.relatedTarget||o.toElement,he=ie,bt=bt?ot(bt):null,bt!==null&&(Dn=l(bt),pt=bt.tag,bt!==Dn||pt!==5&&pt!==27&&pt!==6)&&(bt=null)):(he=null,bt=ie),he!==bt)){if(pt=pn,_e="onMouseLeave",J="onMouseEnter",Q="mouse",(r==="pointerout"||r==="pointerover")&&(pt=Wo,_e="onPointerLeave",J="onPointerEnter",Q="pointer"),Dn=he==null?ue:Nt(he),ae=bt==null?ue:Nt(bt),ue=new pt(_e,Q+"leave",he,o,xe),ue.target=Dn,ue.relatedTarget=ae,_e=null,ot(xe)===ie&&(pt=new pt(J,Q+"enter",bt,o,xe),pt.target=ae,pt.relatedTarget=Dn,_e=pt),Dn=_e,he&&bt)t:{for(pt=he,J=bt,Q=0,ae=pt;ae;ae=sc(ae))Q++;for(ae=0,_e=J;_e;_e=sc(_e))ae++;for(;0<Q-ae;)pt=sc(pt),Q--;for(;0<ae-Q;)J=sc(J),ae--;for(;Q--;){if(pt===J||J!==null&&pt===J.alternate)break t;pt=sc(pt),J=sc(J)}pt=null}else pt=null;he!==null&&ab(Ne,ue,he,pt,!1),bt!==null&&Dn!==null&&ab(Ne,Dn,bt,pt,!0)}}e:{if(ue=ie?Nt(ie):window,he=ue.nodeName&&ue.nodeName.toLowerCase(),he==="select"||he==="input"&&ue.type==="file")var Qe=Fd;else if(Wn(ue))if(Hd)Qe=Mm;else{Qe=jm;var Ht=Rm}else he=ue.nodeName,!he||he.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?ie&&di(ie.elementType)&&(Qe=Fd):Qe=Dm;if(Qe&&(Qe=Qe(r,ie))){Ns(Ne,Qe,o,xe);break e}Ht&&Ht(r,ue,ie),r==="focusout"&&ie&&ue.type==="number"&&ie.memoizedProps.value!=null&&as(ue,"number",ue.value)}switch(Ht=ie?Nt(ie):window,r){case"focusin":(Wn(Ht)||Ht.contentEditable==="true")&&(ee=Ht,X=ie,Ve=null);break;case"focusout":Ve=X=ee=null;break;case"mousedown":tt=!0;break;case"contextmenu":case"mouseup":case"dragend":tt=!1,en(Ne,o,xe);break;case"selectionchange":if(Y)break;case"keydown":case"keyup":en(Ne,o,xe)}var rt;if(os)e:{switch(r){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Ft?pe(r,o)&&(gt="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(gt="onCompositionStart");gt&&(w&&o.locale!=="ko"&&(Ft||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ft&&(rt=Re()):(W=xe,de="value"in W?W.value:W.textContent,Ft=!0)),Ht=Ph(ie,gt),0<Ht.length&&(gt=new $o(gt,r,null,o,xe),Ne.push({event:gt,listeners:Ht}),rt?gt.data=rt:(rt=Me(o),rt!==null&&(gt.data=rt)))),(rt=x?er(r,o):Qt(r,o))&&(gt=Ph(ie,"onBeforeInput"),0<gt.length&&(Ht=new $o("onBeforeInput","beforeinput",null,o,xe),Ne.push({event:Ht,listeners:gt}),Ht.data=rt)),PT(Ne,r,ie,o,xe)}nb(Ne,s)})}function Au(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Ph(r,s){for(var o=s+"Capture",c=[];r!==null;){var f=r,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=Ra(r,o),f!=null&&c.unshift(Au(r,f,y)),f=Ra(r,s),f!=null&&c.push(Au(r,f,y))),r.tag===3)return c;r=r.return}return[]}function sc(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function ab(r,s,o,c,f){for(var y=s._reactName,N=[];o!==null&&o!==c;){var S=o,H=S.alternate,ie=S.stateNode;if(S=S.tag,H!==null&&H===c)break;S!==5&&S!==26&&S!==27||ie===null||(H=ie,f?(ie=Ra(o,y),ie!=null&&N.unshift(Au(o,ie,H))):f||(ie=Ra(o,y),ie!=null&&N.push(Au(o,ie,H)))),o=o.return}N.length!==0&&r.push({event:s,listeners:N})}var LT=/\r\n?/g,UT=/\u0000|\uFFFD/g;function sb(r){return(typeof r=="string"?r:""+r).replace(LT,`
`).replace(UT,"")}function ib(r,s){return s=sb(s),sb(r)===s}function Oh(){}function jn(r,s,o,c,f,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||dr(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&dr(r,""+c);break;case"className":lr(r,"class",c);break;case"tabIndex":lr(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(r,o,c);break;case"style":ks(r,c,y);break;case"data":if(s!=="object"){lr(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Vs(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&jn(r,s,"name",f.name,f,null),jn(r,s,"formEncType",f.formEncType,f,null),jn(r,s,"formMethod",f.formMethod,f,null),jn(r,s,"formTarget",f.formTarget,f,null)):(jn(r,s,"encType",f.encType,f,null),jn(r,s,"method",f.method,f,null),jn(r,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Vs(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Oh);break;case"onScroll":c!=null&&Wt("scroll",r);break;case"onScrollEnd":c!=null&&Wt("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Vs(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Wt("beforetoggle",r),Wt("toggle",r),at(r,"popover",c);break;case"xlinkActuate":ft(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ft(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ft(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ft(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ft(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ft(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ft(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ft(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ft(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":at(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=xs.get(o)||o,at(r,o,c))}}function Jp(r,s,o,c,f,y){switch(o){case"style":ks(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"children":typeof c=="string"?dr(r,c):(typeof c=="number"||typeof c=="bigint")&&dr(r,""+c);break;case"onScroll":c!=null&&Wt("scroll",r);break;case"onScrollEnd":c!=null&&Wt("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Oh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gr.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),y=r[Se]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,f),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,f);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):at(r,o,c)}}}function ia(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Wt("error",r),Wt("load",r);var c=!1,f=!1,y;for(y in o)if(o.hasOwnProperty(y)){var N=o[y];if(N!=null)switch(y){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:jn(r,s,y,N,o,null)}}f&&jn(r,s,"srcSet",o.srcSet,o,null),c&&jn(r,s,"src",o.src,o,null);return;case"input":Wt("invalid",r);var S=y=N=f=null,H=null,ie=null;for(c in o)if(o.hasOwnProperty(c)){var xe=o[c];if(xe!=null)switch(c){case"name":f=xe;break;case"type":N=xe;break;case"checked":H=xe;break;case"defaultChecked":ie=xe;break;case"value":y=xe;break;case"defaultValue":S=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(a(137,s));break;default:jn(r,s,c,xe,o,null)}}Fa(r,y,S,H,ie,N,f,!1),ma(r);return;case"select":Wt("invalid",r),c=N=y=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":y=S;break;case"defaultValue":N=S;break;case"multiple":c=S;default:jn(r,s,f,S,o,null)}s=y,o=N,r.multiple=!!c,s!=null?pa(r,!!c,s,!1):o!=null&&pa(r,!!c,o,!0);return;case"textarea":Wt("invalid",r),y=f=c=null;for(N in o)if(o.hasOwnProperty(N)&&(S=o[N],S!=null))switch(N){case"value":c=S;break;case"defaultValue":f=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:jn(r,s,N,S,o,null)}Ha(r,c,f,y),ma(r);return;case"option":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:jn(r,s,H,c,o,null)}return;case"dialog":Wt("beforetoggle",r),Wt("toggle",r),Wt("cancel",r),Wt("close",r);break;case"iframe":case"object":Wt("load",r);break;case"video":case"audio":for(c=0;c<Cu.length;c++)Wt(Cu[c],r);break;case"image":Wt("error",r),Wt("load",r);break;case"details":Wt("toggle",r);break;case"embed":case"source":case"link":Wt("error",r),Wt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in o)if(o.hasOwnProperty(ie)&&(c=o[ie],c!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:jn(r,s,ie,c,o,null)}return;default:if(di(s)){for(xe in o)o.hasOwnProperty(xe)&&(c=o[xe],c!==void 0&&Jp(r,s,xe,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&jn(r,s,S,c,o,null))}function zT(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,N=null,S=null,H=null,ie=null,xe=null;for(he in o){var Ne=o[he];if(o.hasOwnProperty(he)&&Ne!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":H=Ne;default:c.hasOwnProperty(he)||jn(r,s,he,null,c,Ne)}}for(var ue in c){var he=c[ue];if(Ne=o[ue],c.hasOwnProperty(ue)&&(he!=null||Ne!=null))switch(ue){case"type":y=he;break;case"name":f=he;break;case"checked":ie=he;break;case"defaultChecked":xe=he;break;case"value":N=he;break;case"defaultValue":S=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,s));break;default:he!==Ne&&jn(r,s,ue,he,c,Ne)}}Ar(r,N,S,H,ie,xe,y,f);return;case"select":he=N=S=ue=null;for(y in o)if(H=o[y],o.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":he=H;default:c.hasOwnProperty(y)||jn(r,s,y,null,c,H)}for(f in c)if(y=c[f],H=o[f],c.hasOwnProperty(f)&&(y!=null||H!=null))switch(f){case"value":ue=y;break;case"defaultValue":S=y;break;case"multiple":N=y;default:y!==H&&jn(r,s,f,y,c,H)}s=S,o=N,c=he,ue!=null?pa(r,!!o,ue,!1):!!c!=!!o&&(s!=null?pa(r,!!o,s,!0):pa(r,!!o,o?[]:"",!1));return;case"textarea":he=ue=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:jn(r,s,S,null,c,f)}for(N in c)if(f=c[N],y=o[N],c.hasOwnProperty(N)&&(f!=null||y!=null))switch(N){case"value":ue=f;break;case"defaultValue":he=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==y&&jn(r,s,N,f,c,y)}ln(r,ue,he);return;case"option":for(var bt in o)if(ue=o[bt],o.hasOwnProperty(bt)&&ue!=null&&!c.hasOwnProperty(bt))switch(bt){case"selected":r.selected=!1;break;default:jn(r,s,bt,null,c,ue)}for(H in c)if(ue=c[H],he=o[H],c.hasOwnProperty(H)&&ue!==he&&(ue!=null||he!=null))switch(H){case"selected":r.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:jn(r,s,H,ue,c,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in o)ue=o[pt],o.hasOwnProperty(pt)&&ue!=null&&!c.hasOwnProperty(pt)&&jn(r,s,pt,null,c,ue);for(ie in c)if(ue=c[ie],he=o[ie],c.hasOwnProperty(ie)&&ue!==he&&(ue!=null||he!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(a(137,s));break;default:jn(r,s,ie,ue,c,he)}return;default:if(di(s)){for(var Dn in o)ue=o[Dn],o.hasOwnProperty(Dn)&&ue!==void 0&&!c.hasOwnProperty(Dn)&&Jp(r,s,Dn,void 0,c,ue);for(xe in c)ue=c[xe],he=o[xe],!c.hasOwnProperty(xe)||ue===he||ue===void 0&&he===void 0||Jp(r,s,xe,ue,c,he);return}}for(var J in o)ue=o[J],o.hasOwnProperty(J)&&ue!=null&&!c.hasOwnProperty(J)&&jn(r,s,J,null,c,ue);for(Ne in c)ue=c[Ne],he=o[Ne],!c.hasOwnProperty(Ne)||ue===he||ue==null&&he==null||jn(r,s,Ne,ue,c,he)}var eg=null,tg=null;function kh(r){return r.nodeType===9?r:r.ownerDocument}function ob(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function ng(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rg=null;function BT(){var r=window.event;return r&&r.type==="popstate"?r===rg?!1:(rg=r,!0):(rg=null,!1)}var cb=typeof setTimeout=="function"?setTimeout:void 0,FT=typeof clearTimeout=="function"?clearTimeout:void 0,ub=typeof Promise=="function"?Promise:void 0,HT=typeof queueMicrotask=="function"?queueMicrotask:typeof ub<"u"?function(r){return ub.resolve(null).then(r).catch(qT)}:cb;function qT(r){setTimeout(function(){throw r})}function ao(r){return r==="head"}function db(r,s){var o=s,c=0,f=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var N=r.ownerDocument;if(o&1&&Ru(N.documentElement),o&2&&Ru(N.body),o&4)for(o=N.head,Ru(o),N=o.firstChild;N;){var S=N.nextSibling,H=N.nodeName;N[it]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&N.rel.toLowerCase()==="stylesheet"||o.removeChild(N),N=S}}if(f===0){r.removeChild(y),Vu(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);Vu(s)}function ag(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ag(o),et(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function $T(r,s,o,c){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[it])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Ss(r.nextSibling),r===null)break}return null}function YT(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Ss(r.nextSibling),r===null))return null;return r}function sg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function WT(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Ss(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var ig=null;function hb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function fb(r,s,o){switch(s=kh(o),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function Ru(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);et(r)}var ps=new Map,mb=new Set;function Vh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ci=le.d;le.d={f:GT,r:QT,D:KT,C:XT,L:ZT,m:JT,X:tS,S:eS,M:nS};function GT(){var r=Ci.f(),s=Ah();return r||s}function QT(r){var s=Ze(r);s!==null&&s.tag===5&&s.type==="form"?Pv(s):Ci.r(r)}var ic=typeof document>"u"?null:document;function pb(r,s,o){var c=ic;if(c&&typeof s=="string"&&s){var f=Pn(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),mb.has(f)||(mb.add(f),r={rel:r,crossOrigin:o,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),ia(s,"link",r),lt(s),c.head.appendChild(s)))}}function KT(r){Ci.D(r),pb("dns-prefetch",r,null)}function XT(r,s){Ci.C(r,s),pb("preconnect",r,s)}function ZT(r,s,o){Ci.L(r,s,o);var c=ic;if(c&&r&&s){var f='link[rel="preload"][as="'+Pn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Pn(o.imageSizes)+'"]')):f+='[href="'+Pn(r)+'"]';var y=f;switch(s){case"style":y=oc(r);break;case"script":y=lc(r)}ps.has(y)||(r=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ps.set(y,r),c.querySelector(f)!==null||s==="style"&&c.querySelector(ju(y))||s==="script"&&c.querySelector(Du(y))||(s=c.createElement("link"),ia(s,"link",r),lt(s),c.head.appendChild(s)))}}function JT(r,s){Ci.m(r,s);var o=ic;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Pn(c)+'"][href="'+Pn(r)+'"]',y=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=lc(r)}if(!ps.has(y)&&(r=b({rel:"modulepreload",href:r},s),ps.set(y,r),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Du(y)))return}c=o.createElement("link"),ia(c,"link",r),lt(c),o.head.appendChild(c)}}}function eS(r,s,o){Ci.S(r,s,o);var c=ic;if(c&&r){var f=Dt(c).hoistableStyles,y=oc(r);s=s||"default";var N=f.get(y);if(!N){var S={loading:0,preload:null};if(N=c.querySelector(ju(y)))S.loading=5;else{r=b({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ps.get(y))&&og(r,o);var H=N=c.createElement("link");lt(H),ia(H,"link",r),H._p=new Promise(function(ie,xe){H.onload=ie,H.onerror=xe}),H.addEventListener("load",function(){S.loading|=1}),H.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Lh(N,s,c)}N={type:"stylesheet",instance:N,count:1,state:S},f.set(y,N)}}}function tS(r,s){Ci.X(r,s);var o=ic;if(o&&r){var c=Dt(o).hoistableScripts,f=lc(r),y=c.get(f);y||(y=o.querySelector(Du(f)),y||(r=b({src:r,async:!0},s),(s=ps.get(f))&&lg(r,s),y=o.createElement("script"),lt(y),ia(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function nS(r,s){Ci.M(r,s);var o=ic;if(o&&r){var c=Dt(o).hoistableScripts,f=lc(r),y=c.get(f);y||(y=o.querySelector(Du(f)),y||(r=b({src:r,async:!0,type:"module"},s),(s=ps.get(f))&&lg(r,s),y=o.createElement("script"),lt(y),ia(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function gb(r,s,o,c){var f=(f=Ye.current)?Vh(f):null;if(!f)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=oc(o.href),o=Dt(f).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=oc(o.href);var y=Dt(f).hoistableStyles,N=y.get(r);if(N||(f=f.ownerDocument||f,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,N),(y=f.querySelector(ju(r)))&&!y._p&&(N.instance=y,N.state.loading=5),ps.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ps.set(r,o),y||rS(f,r,o,N.state))),s&&c===null)throw Error(a(528,""));return N}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lc(o),o=Dt(f).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function oc(r){return'href="'+Pn(r)+'"'}function ju(r){return'link[rel="stylesheet"]['+r+"]"}function yb(r){return b({},r,{"data-precedence":r.precedence,precedence:null})}function rS(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),ia(s,"link",o),lt(s),r.head.appendChild(s))}function lc(r){return'[src="'+Pn(r)+'"]'}function Du(r){return"script[async]"+r}function vb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Pn(o.href)+'"]');if(c)return s.instance=c,lt(c),c;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),lt(c),ia(c,"style",f),Lh(c,o.precedence,r),s.instance=c;case"stylesheet":f=oc(o.href);var y=r.querySelector(ju(f));if(y)return s.state.loading|=4,s.instance=y,lt(y),y;c=yb(o),(f=ps.get(f))&&og(c,f),y=(r.ownerDocument||r).createElement("link"),lt(y);var N=y;return N._p=new Promise(function(S,H){N.onload=S,N.onerror=H}),ia(y,"link",c),s.state.loading|=4,Lh(y,o.precedence,r),s.instance=y;case"script":return y=lc(o.src),(f=r.querySelector(Du(y)))?(s.instance=f,lt(f),f):(c=o,(f=ps.get(y))&&(c=b({},o),lg(c,f)),r=r.ownerDocument||r,f=r.createElement("script"),lt(f),ia(f,"link",c),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Lh(c,o.precedence,r));return s.instance}function Lh(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,y=f,N=0;N<c.length;N++){var S=c[N];if(S.dataset.precedence===s)y=S;else if(y!==f)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function og(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function lg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Uh=null;function xb(r,s,o){if(Uh===null){var c=new Map,f=Uh=new Map;f.set(o,c)}else f=Uh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var y=o[f];if(!(y[it]||y[ye]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var N=y.getAttribute(s)||"";N=r+N;var S=c.get(N);S?S.push(y):c.set(N,[y])}}return c}function bb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function aS(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _b(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Mu=null;function sS(){}function iS(r,s,o){if(Mu===null)throw Error(a(475));var c=Mu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=oc(o.href),y=r.querySelector(ju(f));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=zh.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,lt(y);return}y=r.ownerDocument||r,o=yb(o),(f=ps.get(f))&&og(o,f),y=y.createElement("link"),lt(y);var N=y;N._p=new Promise(function(S,H){N.onload=S,N.onerror=H}),ia(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=zh.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function oS(){if(Mu===null)throw Error(a(475));var r=Mu;return r.stylesheets&&r.count===0&&cg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&cg(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function zh(){if(this.count--,this.count===0){if(this.stylesheets)cg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Bh=null;function cg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Bh=new Map,s.forEach(lS,r),Bh=null,zh.call(r))}function lS(r,s){if(!(s.state.loading&4)){var o=Bh.get(r);if(o)var c=o.get(null);else{o=new Map,Bh.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var N=f[y];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(o.set(N.dataset.precedence,N),c=N)}c&&o.set(null,c)}f=s.instance,N=f.getAttribute("data-precedence"),y=o.get(N)||c,y===c&&o.set(null,f),o.set(N,f),this.count++,c=zh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),y?y.parentNode.insertBefore(f,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var Iu={$$typeof:se,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function cS(r,s,o,c,f,y,N,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cn(0),this.hiddenUpdates=Cn(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function wb(r,s,o,c,f,y,N,S,H,ie,xe,Ne){return r=new cS(r,s,o,N,S,H,ie,Ne),s=1,y===!0&&(s|=24),y=Ga(3,null,null,s),r.current=y,y.stateNode=r,s=qm(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},Gm(y),r}function Eb(r){return r?(r=Ul,r):Ul}function Nb(r,s,o,c,f,y){f=Eb(f),c.context===null?c.context=f:c.pendingContext=f,c=$i(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Yi(r,c,s),o!==null&&(Ja(o,r,s),cu(o,r,s))}function Tb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function ug(r,s){Tb(r,s),(r=r.alternate)&&Tb(r,s)}function Sb(r){if(r.tag===13){var s=Ll(r,67108864);s!==null&&Ja(s,r,67108864),ug(r,67108864)}}var Fh=!0;function uS(r,s,o,c){var f=F.T;F.T=null;var y=le.p;try{le.p=2,dg(r,s,o,c)}finally{le.p=y,F.T=f}}function dS(r,s,o,c){var f=F.T;F.T=null;var y=le.p;try{le.p=8,dg(r,s,o,c)}finally{le.p=y,F.T=f}}function dg(r,s,o,c){if(Fh){var f=hg(c);if(f===null)Zp(r,s,c,Hh,o),Ab(r,c);else if(fS(f,r,s,o,c))c.stopPropagation();else if(Ab(r,c),s&4&&-1<hS.indexOf(r)){for(;f!==null;){var y=Ze(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var N=Zn(y.pendingLanes);if(N!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;N;){var H=1<<31-Sn(N);S.entanglements[1]|=H,N&=~H}Ys(y),(_n&6)===0&&(Sh=In()+500,Su(0))}}break;case 13:S=Ll(y,2),S!==null&&Ja(S,y,2),Ah(),ug(y,2)}if(y=hg(c),y===null&&Zp(r,s,c,Hh,o),y===f)break;f=y}f!==null&&c.stopPropagation()}else Zp(r,s,c,null,o)}}function hg(r){return r=vr(r),fg(r)}var Hh=null;function fg(r){if(Hh=null,r=ot(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=d(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Hh=r,null}function Cb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($r()){case mr:return 2;case Nr:return 8;case Yr:case ir:return 32;case Vn:return 268435456;default:return 32}default:return 32}}var mg=!1,so=null,io=null,oo=null,Pu=new Map,Ou=new Map,lo=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ab(r,s){switch(r){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":io=null;break;case"mouseover":case"mouseout":oo=null;break;case"pointerover":case"pointerout":Pu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ou.delete(s.pointerId)}}function ku(r,s,o,c,f,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[f]},s!==null&&(s=Ze(s),s!==null&&Sb(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function fS(r,s,o,c,f){switch(s){case"focusin":return so=ku(so,r,s,o,c,f),!0;case"dragenter":return io=ku(io,r,s,o,c,f),!0;case"mouseover":return oo=ku(oo,r,s,o,c,f),!0;case"pointerover":var y=f.pointerId;return Pu.set(y,ku(Pu.get(y)||null,r,s,o,c,f)),!0;case"gotpointercapture":return y=f.pointerId,Ou.set(y,ku(Ou.get(y)||null,r,s,o,c,f)),!0}return!1}function Rb(r){var s=ot(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=d(o),s!==null){r.blockedOn=s,te(r.priority,function(){if(o.tag===13){var c=Za();c=Et(c);var f=Ll(o,c);f!==null&&Ja(f,o,c),ug(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=hg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Aa=c,o.target.dispatchEvent(c),Aa=null}else return s=Ze(o),s!==null&&Sb(s),r.blockedOn=o,!1;s.shift()}return!0}function jb(r,s,o){qh(r)&&o.delete(s)}function mS(){mg=!1,so!==null&&qh(so)&&(so=null),io!==null&&qh(io)&&(io=null),oo!==null&&qh(oo)&&(oo=null),Pu.forEach(jb),Ou.forEach(jb)}function $h(r,s){r.blockedOn===s&&(r.blockedOn=null,mg||(mg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,mS)))}var Yh=null;function Db(r){Yh!==r&&(Yh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yh===r&&(Yh=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],f=r[s+2];if(typeof c!="function"){if(fg(c||o)===null)continue;break}var y=Ze(o);y!==null&&(r.splice(s,3),s-=3,fp(y,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Vu(r){function s(H){return $h(H,r)}so!==null&&$h(so,r),io!==null&&$h(io,r),oo!==null&&$h(oo,r),Pu.forEach(s),Ou.forEach(s);for(var o=0;o<lo.length;o++){var c=lo[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<lo.length&&(o=lo[0],o.blockedOn===null);)Rb(o),o.blockedOn===null&&lo.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],y=o[c+1],N=f[Se]||null;if(typeof y=="function")N||Db(o);else if(N){var S=null;if(y&&y.hasAttribute("formAction")){if(f=y,N=y[Se]||null)S=N.formAction;else if(fg(f)!==null)continue}else S=N.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),Db(o)}}}function pg(r){this._internalRoot=r}Wh.prototype.render=pg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,c=Za();Nb(o,c,r,s,null,null)},Wh.prototype.unmount=pg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Nb(r.current,2,null,r,null,null),Ah(),s[ke]=null}};function Wh(r){this._internalRoot=r}Wh.prototype.unstable_scheduleHydration=function(r){if(r){var s=q();r={blockedOn:null,target:r,priority:s};for(var o=0;o<lo.length&&s!==0&&s<lo[o].priority;o++);lo.splice(o,0,r),o===0&&Rb(r)}};var Mb=e.version;if(Mb!=="19.1.0")throw Error(a(527,Mb,"19.1.0"));le.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var pS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{It=Gh.inject(pS),Xe=Gh}catch{}}return Uu.createRoot=function(r,s){if(!i(r))throw Error(a(299));var o=!1,c="",f=Gv,y=Qv,N=Kv,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=wb(r,1,!1,null,null,o,c,f,y,N,S,null),r[ke]=s.current,Xp(r),new pg(s)},Uu.hydrateRoot=function(r,s,o){if(!i(r))throw Error(a(299));var c=!1,f="",y=Gv,N=Qv,S=Kv,H=null,ie=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(H=o.unstable_transitionCallbacks),o.formState!==void 0&&(ie=o.formState)),s=wb(r,1,!0,s,o??null,c,f,y,N,S,H,ie),s.context=Eb(null),o=s.current,c=Za(),c=Et(c),f=$i(c),f.callback=null,Yi(o,f,c),o=c,s.current.lanes=o,yn(s,o),Ys(s),r[ke]=s.current,Xp(r),new Wh(s)},Uu.version="19.1.0",Uu}var Fb;function NS(){if(Fb)return vg.exports;Fb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vg.exports=ES(),vg.exports}var TS=NS();const SS=nm(TS);var zu={},Hb;function CS(){if(Hb)return zu;Hb=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.parse=d,zu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function d(E,D){const O=new l,z=E.length;if(z<2)return O;const $=D?.decode||b;let K=0;do{const ge=E.indexOf("=",K);if(ge===-1)break;const se=E.indexOf(";",K),Ae=se===-1?z:se;if(ge>Ae){K=E.lastIndexOf(";",ge-1)+1;continue}const fe=m(E,K,ge),U=p(E,ge,fe),k=E.slice(fe,U);if(O[k]===void 0){let A=m(E,ge+1,Ae),I=p(E,Ae,A);const M=$(E.slice(A,I));O[k]=M}K=Ae+1}while(K<z);return O}function m(E,D,O){do{const z=E.charCodeAt(D);if(z!==32&&z!==9)return D}while(++D<O);return O}function p(E,D,O){for(;D>O;){const z=E.charCodeAt(--D);if(z!==32&&z!==9)return D+1}return O}function g(E,D,O){const z=O?.encode||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const $=z(D);if(!e.test($))throw new TypeError(`argument val is invalid: ${D}`);let K=E+"="+$;if(!O)return K;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);K+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);K+="; Domain="+O.domain}if(O.path){if(!a.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);K+="; Path="+O.path}if(O.expires){if(!_(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);K+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(K+="; HttpOnly"),O.secure&&(K+="; Secure"),O.partitioned&&(K+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return K}function b(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return i.call(E)==="[object Date]"}return zu}CS();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var C1=n=>{throw TypeError(n)},AS=(n,e,t)=>e.has(n)||C1("Cannot "+t),wg=(n,e,t)=>(AS(n,e,"read from private field"),t?t.call(n):e.get(n)),RS=(n,e,t)=>e.has(n)?C1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),qb="popstate";function jS(n={}){function e(a,i){let{pathname:l,search:d,hash:m}=a.location;return ld("",{pathname:l,search:d,hash:m},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(a,i){return typeof i=="string"?i:Ro(i)}return MS(e,t,null,n)}function qt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Er(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DS(){return Math.random().toString(36).substring(2,10)}function $b(n,e){return{usr:n.state,key:n.key,idx:e}}function ld(n,e,t=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Vo(e):e,state:t,key:e&&e.key||a||DS()}}function Ro({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Vo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function MS(n,e,t,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,d=i.history,m="POP",p=null,g=b();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function b(){return(d.state||{idx:null}).idx}function _(){m="POP";let $=b(),K=$==null?null:$-g;g=$,p&&p({action:m,location:z.location,delta:K})}function E($,K){m="PUSH";let ge=ld(z.location,$,K);g=b()+1;let se=$b(ge,g),Ae=z.createHref(ge);try{d.pushState(se,"",Ae)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;i.location.assign(Ae)}l&&p&&p({action:m,location:z.location,delta:1})}function D($,K){m="REPLACE";let ge=ld(z.location,$,K);g=b();let se=$b(ge,g),Ae=z.createHref(ge);d.replaceState(se,"",Ae),l&&p&&p({action:m,location:z.location,delta:0})}function O($){return A1($)}let z={get action(){return m},get location(){return n(i,d)},listen($){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(qb,_),p=$,()=>{i.removeEventListener(qb,_),p=null}},createHref($){return e(i,$)},createURL:O,encodeLocation($){let K=O($);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:E,replace:D,go($){return d.go($)}};return z}function A1(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),qt(t,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Ro(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}var Yu,Yb=class{constructor(n){if(RS(this,Yu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(wg(this,Yu).has(n))return wg(this,Yu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){wg(this,Yu).set(n,e)}};Yu=new WeakMap;var IS=new Set(["lazy","caseSensitive","path","id","index","children"]);function PS(n){return IS.has(n)}var OS=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function kS(n){return OS.has(n)}function VS(n){return n.index===!0}function Rf(n,e,t=[],a={}){return n.map((i,l)=>{let d=[...t,String(l)],m=typeof i.id=="string"?i.id:d.join("-");if(qt(i.index!==!0||!i.children,"Cannot specify children on an index route"),qt(!a[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),VS(i)){let p={...i,...e(i),id:m};return a[m]=p,p}else{let p={...i,...e(i),id:m,children:void 0};return a[m]=p,i.children&&(p.children=Rf(i.children,e,d,a)),p}})}function po(n,e,t="/"){return hf(n,e,t,!1)}function hf(n,e,t,a){let i=typeof e=="string"?Vo(e):e,l=vs(i.pathname||"/",t);if(l==null)return null;let d=R1(n);US(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let g=KS(l);m=GS(d[p],g,a)}return m}function LS(n,e){let{route:t,pathname:a,params:i}=n;return{id:t.id,pathname:a,params:i,data:e[t.id],handle:t.handle}}function R1(n,e=[],t=[],a=""){let i=(l,d,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};p.relativePath.startsWith("/")&&(qt(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=ti([a,p.relativePath]),b=t.concat(p);l.children&&l.children.length>0&&(qt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),R1(l.children,e,b,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:YS(g,l.index),routesMeta:b})};return n.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))i(l,d);else for(let m of j1(l.path))i(l,d,m)}),e}function j1(n){let e=n.split("/");if(e.length===0)return[];let[t,...a]=e,i=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let d=j1(a.join("/")),m=[];return m.push(...d.map(p=>p===""?l:[l,p].join("/"))),i&&m.push(...d),m.map(p=>n.startsWith("/")&&p===""?"/":p)}function US(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WS(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var zS=/^:[\w-]+$/,BS=3,FS=2,HS=1,qS=10,$S=-2,Wb=n=>n==="*";function YS(n,e){let t=n.split("/"),a=t.length;return t.some(Wb)&&(a+=$S),e&&(a+=FS),t.filter(i=>!Wb(i)).reduce((i,l)=>i+(zS.test(l)?BS:l===""?HS:qS),a)}function WS(n,e){return n.length===e.length&&n.slice(0,-1).every((a,i)=>a===e[i])?n[n.length-1]-e[e.length-1]:0}function GS(n,e,t=!1){let{routesMeta:a}=n,i={},l="/",d=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,b=l==="/"?e:e.slice(l.length)||"/",_=jf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),E=p.route;if(!_&&g&&t&&!a[a.length-1].route.index&&(_=jf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!_)return null;Object.assign(i,_.params),d.push({params:i,pathname:ti([l,_.pathname]),pathnameBase:JS(ti([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=ti([l,_.pathnameBase]))}return d}function jf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,a]=QS(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let l=i[0],d=l.replace(/(.)\/+$/,"$1"),m=i.slice(1);return{params:a.reduce((g,{paramName:b,isOptional:_},E)=>{if(b==="*"){let O=m[E]||"";d=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const D=m[E];return _&&!D?g[b]=void 0:g[b]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:d,pattern:n}}function QS(n,e=!1,t=!0){Er(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(a.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function KS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Er(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function vs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=n.charAt(t);return a&&a!=="/"?null:n.slice(t)||"/"}function XS(n,e="/"){let{pathname:t,search:a="",hash:i=""}=typeof n=="string"?Vo(n):n;return{pathname:t?t.startsWith("/")?t:ZS(t,e):e,search:eC(a),hash:tC(i)}}function ZS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Eg(n,e,t,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rm(n){let e=D1(n);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function am(n,e,t,a=!1){let i;typeof n=="string"?i=Vo(n):(i={...n},qt(!i.pathname||!i.pathname.includes("?"),Eg("?","pathname","search",i)),qt(!i.pathname||!i.pathname.includes("#"),Eg("#","pathname","hash",i)),qt(!i.search||!i.search.includes("#"),Eg("#","search","hash",i)));let l=n===""||i.pathname==="",d=l?"/":i.pathname,m;if(d==null)m=t;else{let _=e.length-1;if(!a&&d.startsWith("..")){let E=d.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}m=_>=0?e[_]:"/"}let p=XS(i,m),g=d&&d!=="/"&&d.endsWith("/"),b=(l||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var ti=n=>n.join("/").replace(/\/\/+/g,"/"),JS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),eC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,tC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Df=class{constructor(n,e,t,a=!1){this.status=n,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function cd(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var M1=["POST","PUT","PATCH","DELETE"],nC=new Set(M1),rC=["GET",...M1],aC=new Set(rC),sC=new Set([301,302,303,307,308]),iC=new Set([307,308]),Ng={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},D0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lC=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),I1="remix-router-transitions",P1=Symbol("ResetLoaderData");function cC(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";qt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=n.hydrationRouteProperties||[],i=n.mapRouteProperties||lC,l={},d=Rf(n.routes,i,void 0,l),m,p=n.basename||"/",g=n.dataStrategy||mC,b={unstable_middleware:!1,...n.future},_=null,E=new Set,D=null,O=null,z=null,$=n.hydrationData!=null,K=po(d,n.history.location,p),ge=!1,se=null,Ae;if(K==null&&!n.patchRoutesOnNavigation){let q=gs(404,{pathname:n.history.location.pathname}),{matches:te,route:ne}=s_(d);Ae=!0,K=te,se={[ne.id]:q}}else if(K&&!n.hydrationData&&Ut(K,d,n.history.location.pathname).active&&(K=null),K)if(K.some(q=>q.route.lazy))Ae=!1;else if(!K.some(q=>q.route.loader))Ae=!0;else{let q=n.hydrationData?n.hydrationData.loaderData:null,te=n.hydrationData?n.hydrationData.errors:null;if(te){let ne=K.findIndex(ye=>te[ye.route.id]!==void 0);Ae=K.slice(0,ne+1).every(ye=>!Xg(ye.route,q,te))}else Ae=K.every(ne=>!Xg(ne.route,q,te))}else{Ae=!1,K=[];let q=Ut(null,d,n.history.location.pathname);q.active&&q.matches&&(ge=!0,K=q.matches)}let fe,U={historyAction:n.history.action,location:n.history.location,matches:K,initialized:Ae,navigation:Ng,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||se,fetchers:new Map,blockers:new Map},k="POP",A=!1,I,M=!1,B=new Map,G=null,V=!1,Ee=!1,ve=new Set,F=new Map,le=0,ce=-1,Ce=new Map,P=new Set,oe=new Map,be=new Map,me=new Set,De=new Map,qe,Ye=null;function Mt(){if(_=n.history.listen(({action:q,location:te,delta:ne})=>{if(qe){qe(),qe=void 0;return}Er(De.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ye=ht({currentLocation:U.location,nextLocation:te,historyAction:q});if(ye&&ne!=null){let Se=new Promise(ke=>{qe=ke});n.history.go(ne*-1),pr(ye,{state:"blocked",location:te,proceed(){pr(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),Se.then(()=>n.history.go(ne))},reset(){let ke=new Map(U.blockers);ke.set(ye,Bu),Tt({blockers:ke})}});return}return _t(q,te)}),t){TC(e,B);let q=()=>SC(e,B);e.addEventListener("pagehide",q),G=()=>e.removeEventListener("pagehide",q)}return U.initialized||_t("POP",U.location,{initialHydration:!0}),fe}function jt(){_&&_(),G&&G(),E.clear(),I&&I.abort(),U.fetchers.forEach((q,te)=>Sn(te)),U.blockers.forEach((q,te)=>Or(te))}function dt(q){return E.add(q),()=>E.delete(q)}function Tt(q,te={}){U={...U,...q};let ne=[],ye=[];U.fetchers.forEach((Se,ke)=>{Se.state==="idle"&&(me.has(ke)?ne.push(ke):ye.push(ke))}),me.forEach(Se=>{!U.fetchers.has(Se)&&!F.has(Se)&&ne.push(Se)}),[...E].forEach(Se=>Se(U,{deletedFetchers:ne,viewTransitionOpts:te.viewTransitionOpts,flushSync:te.flushSync===!0})),ne.forEach(Se=>Sn(Se)),ye.forEach(Se=>U.fetchers.delete(Se))}function on(q,te,{flushSync:ne}={}){let ye=U.actionData!=null&&U.navigation.formMethod!=null&&ns(U.navigation.formMethod)&&U.navigation.state==="loading"&&q.state?._isRedirect!==!0,Se;te.actionData?Object.keys(te.actionData).length>0?Se=te.actionData:Se=null:ye?Se=U.actionData:Se=null;let ke=te.loaderData?r_(U.loaderData,te.loaderData,te.matches||[],te.errors):U.loaderData,Je=U.blockers;Je.size>0&&(Je=new Map(Je),Je.forEach((We,it)=>Je.set(it,Bu)));let Ue=A===!0||U.navigation.formMethod!=null&&ns(U.navigation.formMethod)&&q.state?._isRedirect!==!0;m&&(d=m,m=void 0),V||k==="POP"||(k==="PUSH"?n.history.push(q,q.state):k==="REPLACE"&&n.history.replace(q,q.state));let Fe;if(k==="POP"){let We=B.get(U.location.pathname);We&&We.has(q.pathname)?Fe={currentLocation:U.location,nextLocation:q}:B.has(q.pathname)&&(Fe={currentLocation:q,nextLocation:U.location})}else if(M){let We=B.get(U.location.pathname);We?We.add(q.pathname):(We=new Set([q.pathname]),B.set(U.location.pathname,We)),Fe={currentLocation:U.location,nextLocation:q}}Tt({...te,actionData:Se,loaderData:ke,historyAction:k,location:q,initialized:!0,navigation:Ng,revalidation:"idle",restoreScrollPosition:Sr(q,te.matches||U.matches),preventScrollReset:Ue,blockers:Je},{viewTransitionOpts:Fe,flushSync:ne===!0}),k="POP",A=!1,M=!1,V=!1,Ee=!1,Ye?.resolve(),Ye=null}async function Tn(q,te){if(typeof q=="number"){n.history.go(q);return}let ne=Kg(U.location,U.matches,p,q,te?.fromRouteId,te?.relative),{path:ye,submission:Se,error:ke}=Gb(!1,ne,te),Je=U.location,Ue=ld(U.location,ye,te&&te.state);Ue={...Ue,...n.history.encodeLocation(Ue)};let Fe=te&&te.replace!=null?te.replace:void 0,We="PUSH";Fe===!0?We="REPLACE":Fe===!1||Se!=null&&ns(Se.formMethod)&&Se.formAction===U.location.pathname+U.location.search&&(We="REPLACE");let it=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,et=(te&&te.flushSync)===!0,ot=ht({currentLocation:Je,nextLocation:Ue,historyAction:We});if(ot){pr(ot,{state:"blocked",location:Ue,proceed(){pr(ot,{state:"proceeding",proceed:void 0,reset:void 0,location:Ue}),Tn(q,te)},reset(){let Ze=new Map(U.blockers);Ze.set(ot,Bu),Tt({blockers:Ze})}});return}await _t(We,Ue,{submission:Se,pendingError:ke,preventScrollReset:it,replace:te&&te.replace,enableViewTransition:te&&te.viewTransition,flushSync:et})}function Ge(){Ye||(Ye=CC()),fa(),Tt({revalidation:"loading"});let q=Ye.promise;return U.navigation.state==="submitting"?q:U.navigation.state==="idle"?(_t(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),q):(_t(k||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:M===!0}),q)}async function _t(q,te,ne){I&&I.abort(),I=null,k=q,V=(ne&&ne.startUninterruptedRevalidation)===!0,yn(U.location,U.matches),A=(ne&&ne.preventScrollReset)===!0,M=(ne&&ne.enableViewTransition)===!0;let ye=m||d,Se=ne&&ne.overrideNavigation,ke=ne?.initialHydration&&U.matches&&U.matches.length>0&&!ge?U.matches:po(ye,te,p),Je=(ne&&ne.flushSync)===!0;if(ke&&U.initialized&&!Ee&&bC(U.location,te)&&!(ne&&ne.submission&&ns(ne.submission.formMethod))){on(te,{matches:ke},{flushSync:Je});return}let Ue=Ut(ke,ye,te.pathname);if(Ue.active&&Ue.matches&&(ke=Ue.matches),!ke){let{error:Dt,notFoundMatches:lt,route:He}=Vt(te.pathname);on(te,{matches:lt,loaderData:{},errors:{[He.id]:Dt}},{flushSync:Je});return}I=new AbortController;let Fe=yc(n.history,te,I.signal,ne&&ne.submission),We=new Yb(n.unstable_getContext?await n.unstable_getContext():void 0),it;if(ne&&ne.pendingError)it=[ml(ke).route.id,{type:"error",error:ne.pendingError}];else if(ne&&ne.submission&&ns(ne.submission.formMethod)){let Dt=await ha(Fe,te,ne.submission,ke,We,Ue.active,ne&&ne.initialHydration===!0,{replace:ne.replace,flushSync:Je});if(Dt.shortCircuited)return;if(Dt.pendingActionResult){let[lt,He]=Dt.pendingActionResult;if(ts(He)&&cd(He.error)&&He.error.status===404){I=null,on(te,{matches:Dt.matches,loaderData:{},errors:{[lt]:He.error}});return}}ke=Dt.matches||ke,it=Dt.pendingActionResult,Se=Tg(te,ne.submission),Je=!1,Ue.active=!1,Fe=yc(n.history,Fe.url,Fe.signal)}let{shortCircuited:et,matches:ot,loaderData:Ze,errors:Nt}=await Ia(Fe,te,ke,We,Ue.active,Se,ne&&ne.submission,ne&&ne.fetcherSubmission,ne&&ne.replace,ne&&ne.initialHydration===!0,Je,it);et||(I=null,on(te,{matches:ot||ke,...a_(it),loaderData:Ze,errors:Nt}))}async function ha(q,te,ne,ye,Se,ke,Je,Ue={}){fa();let Fe=EC(te,ne);if(Tt({navigation:Fe},{flushSync:Ue.flushSync===!0}),ke){let et=await xn(ye,te.pathname,q.signal);if(et.type==="aborted")return{shortCircuited:!0};if(et.type==="error"){let ot=ml(et.partialMatches).route.id;return{matches:et.partialMatches,pendingActionResult:[ot,{type:"error",error:et.error}]}}else if(et.matches)ye=et.matches;else{let{notFoundMatches:ot,error:Ze,route:Nt}=Vt(te.pathname);return{matches:ot,pendingActionResult:[Nt.id,{type:"error",error:Ze}]}}}let We,it=Wu(ye,te);if(!it.route.action&&!it.route.lazy)We={type:"error",error:gs(405,{method:q.method,pathname:te.pathname,routeId:it.route.id})};else{let et=Sc(i,l,q,ye,it,Je?[]:a,Se),ot=await Vn(q,et,Se,null);if(We=ot[it.route.id],!We){for(let Ze of ye)if(ot[Ze.route.id]){We=ot[Ze.route.id];break}}if(q.signal.aborted)return{shortCircuited:!0}}if(gl(We)){let et;return Ue&&Ue.replace!=null?et=Ue.replace:et=e_(We.response.headers.get("Location"),new URL(q.url),p)===U.location.pathname+U.location.search,await ir(q,We,!0,{submission:ne,replace:et}),{shortCircuited:!0}}if(ts(We)){let et=ml(ye,it.route.id);return(Ue&&Ue.replace)!==!0&&(k="PUSH"),{matches:ye,pendingActionResult:[et.route.id,We,it.route.id]}}return{matches:ye,pendingActionResult:[it.route.id,We]}}async function Ia(q,te,ne,ye,Se,ke,Je,Ue,Fe,We,it,et){let ot=ke||Tg(te,Je),Ze=Je||Ue||o_(ot),Nt=!V&&!We;if(Se){if(Nt){let An=In(et);Tt({navigation:ot,...An!==void 0?{actionData:An}:{}},{flushSync:it})}let ft=await xn(ne,te.pathname,q.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){let An=ml(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[An]:ft.error}}}else if(ft.matches)ne=ft.matches;else{let{error:An,notFoundMatches:cr,route:Hn}=Vt(te.pathname);return{matches:cr,loaderData:{},errors:{[Hn.id]:An}}}}let Dt=m||d,{dsMatches:lt,revalidatingFetchers:He}=Qb(q,ye,i,l,n.history,U,ne,Ze,te,We?[]:a,We===!0,Ee,ve,me,oe,P,Dt,p,n.patchRoutesOnNavigation!=null,et);if(ce=++le,!n.dataStrategy&&!lt.some(ft=>ft.shouldLoad)&&He.length===0){let ft=nt();return on(te,{matches:ne,loaderData:{},errors:et&&ts(et[1])?{[et[0]]:et[1].error}:null,...a_(et),...ft?{fetchers:new Map(U.fetchers)}:{}},{flushSync:it}),{shortCircuited:!0}}if(Nt){let ft={};if(!Se){ft.navigation=ot;let An=In(et);An!==void 0&&(ft.actionData=An)}He.length>0&&(ft.fetchers=$r(He)),Tt(ft,{flushSync:it})}He.forEach(ft=>{Xn(ft.key),ft.controller&&F.set(ft.key,ft.controller)});let gr=()=>He.forEach(ft=>Xn(ft.key));I&&I.signal.addEventListener("abort",gr);let{loaderResults:Ln,fetcherResults:yr}=await Wr(lt,He,q,ye);if(q.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",gr),He.forEach(ft=>F.delete(ft.key));let Fn=Qh(Ln);if(Fn)return await ir(q,Fn.result,!0,{replace:Fe}),{shortCircuited:!0};if(Fn=Qh(yr),Fn)return P.add(Fn.key),await ir(q,Fn.result,!0,{replace:Fe}),{shortCircuited:!0};let{loaderData:nn,errors:Un}=n_(U,ne,Ln,et,He,yr);We&&U.errors&&(Un={...U.errors,...Un});let Sa=nt(),at=or(ce),lr=Sa||at||He.length>0;return{matches:ne,loaderData:nn,errors:Un,...lr?{fetchers:new Map(U.fetchers)}:{}}}function In(q){if(q&&!ts(q[1]))return{[q[0]]:q[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function $r(q){return q.forEach(te=>{let ne=U.fetchers.get(te.key),ye=Fu(void 0,ne?ne.data:void 0);U.fetchers.set(te.key,ye)}),new Map(U.fetchers)}async function mr(q,te,ne,ye){Xn(q);let Se=(ye&&ye.flushSync)===!0,ke=m||d,Je=Kg(U.location,U.matches,p,ne,te,ye?.relative),Ue=po(ke,Je,p),Fe=Ut(Ue,ke,Je);if(Fe.active&&Fe.matches&&(Ue=Fe.matches),!Ue){Xe(q,te,gs(404,{pathname:Je}),{flushSync:Se});return}let{path:We,submission:it,error:et}=Gb(!0,Je,ye);if(et){Xe(q,te,et,{flushSync:Se});return}let ot=Wu(Ue,We),Ze=new Yb(n.unstable_getContext?await n.unstable_getContext():void 0),Nt=(ye&&ye.preventScrollReset)===!0;if(it&&ns(it.formMethod)){await Nr(q,te,We,ot,Ue,Ze,Fe.active,Se,Nt,it);return}oe.set(q,{routeId:te,path:We}),await Yr(q,te,We,ot,Ue,Ze,Fe.active,Se,Nt,it)}async function Nr(q,te,ne,ye,Se,ke,Je,Ue,Fe,We){fa(),oe.delete(q);function it(dn){if(!dn.route.action&&!dn.route.lazy){let Gt=gs(405,{method:We.formMethod,pathname:ne,routeId:te});return Xe(q,te,Gt,{flushSync:Ue}),!0}return!1}if(!Je&&it(ye))return;let et=U.fetchers.get(q);It(q,NC(We,et),{flushSync:Ue});let ot=new AbortController,Ze=yc(n.history,ne,ot.signal,We);if(Je){let dn=await xn(Se,ne,Ze.signal,q);if(dn.type==="aborted")return;if(dn.type==="error"){Xe(q,te,dn.error,{flushSync:Ue});return}else if(dn.matches){if(Se=dn.matches,ye=Wu(Se,ne),it(ye))return}else{Xe(q,te,gs(404,{pathname:ne}),{flushSync:Ue});return}}F.set(q,ot);let Nt=le,Dt=Sc(i,l,Ze,Se,ye,a,ke),He=(await Vn(Ze,Dt,ke,q))[ye.route.id];if(Ze.signal.aborted){F.get(q)===ot&&F.delete(q);return}if(me.has(q)){if(gl(He)||ts(He)){It(q,fo(void 0));return}}else{if(gl(He))if(F.delete(q),ce>Nt){It(q,fo(void 0));return}else return P.add(q),It(q,Fu(We)),ir(Ze,He,!1,{fetcherSubmission:We,preventScrollReset:Fe});if(ts(He)){Xe(q,te,He.error);return}}let gr=U.navigation.location||U.location,Ln=yc(n.history,gr,ot.signal),yr=m||d,Fn=U.navigation.state!=="idle"?po(yr,U.navigation.location,p):U.matches;qt(Fn,"Didn't find any matches after fetcher action");let nn=++le;Ce.set(q,nn);let Un=Fu(We,He.data);U.fetchers.set(q,Un);let{dsMatches:Sa,revalidatingFetchers:at}=Qb(Ln,ke,i,l,n.history,U,Fn,We,gr,a,!1,Ee,ve,me,oe,P,yr,p,n.patchRoutesOnNavigation!=null,[ye.route.id,He]);at.filter(dn=>dn.key!==q).forEach(dn=>{let Gt=dn.key,kr=U.fetchers.get(Gt),bn=Fu(void 0,kr?kr.data:void 0);U.fetchers.set(Gt,bn),Xn(Gt),dn.controller&&F.set(Gt,dn.controller)}),Tt({fetchers:new Map(U.fetchers)});let lr=()=>at.forEach(dn=>Xn(dn.key));ot.signal.addEventListener("abort",lr);let{loaderResults:ft,fetcherResults:An}=await Wr(Sa,at,Ln,ke);if(ot.signal.aborted)return;if(ot.signal.removeEventListener("abort",lr),Ce.delete(q),F.delete(q),at.forEach(dn=>F.delete(dn.key)),U.fetchers.has(q)){let dn=fo(He.data);U.fetchers.set(q,dn)}let cr=Qh(ft);if(cr)return ir(Ln,cr.result,!1,{preventScrollReset:Fe});if(cr=Qh(An),cr)return P.add(cr.key),ir(Ln,cr.result,!1,{preventScrollReset:Fe});let{loaderData:Hn,errors:Ke}=n_(U,Fn,ft,void 0,at,An);or(nn),U.navigation.state==="loading"&&nn>ce?(qt(k,"Expected pending action"),I&&I.abort(),on(U.navigation.location,{matches:Fn,loaderData:Hn,errors:Ke,fetchers:new Map(U.fetchers)})):(Tt({errors:Ke,loaderData:r_(U.loaderData,Hn,Fn,Ke),fetchers:new Map(U.fetchers)}),Ee=!1)}async function Yr(q,te,ne,ye,Se,ke,Je,Ue,Fe,We){let it=U.fetchers.get(q);It(q,Fu(We,it?it.data:void 0),{flushSync:Ue});let et=new AbortController,ot=yc(n.history,ne,et.signal);if(Je){let He=await xn(Se,ne,ot.signal,q);if(He.type==="aborted")return;if(He.type==="error"){Xe(q,te,He.error,{flushSync:Ue});return}else if(He.matches)Se=He.matches,ye=Wu(Se,ne);else{Xe(q,te,gs(404,{pathname:ne}),{flushSync:Ue});return}}F.set(q,et);let Ze=le,Nt=Sc(i,l,ot,Se,ye,a,ke),lt=(await Vn(ot,Nt,ke,q))[ye.route.id];if(F.get(q)===et&&F.delete(q),!ot.signal.aborted){if(me.has(q)){It(q,fo(void 0));return}if(gl(lt))if(ce>Ze){It(q,fo(void 0));return}else{P.add(q),await ir(ot,lt,!1,{preventScrollReset:Fe});return}if(ts(lt)){Xe(q,te,lt.error);return}It(q,fo(lt.data))}}async function ir(q,te,ne,{submission:ye,fetcherSubmission:Se,preventScrollReset:ke,replace:Je}={}){te.response.headers.has("X-Remix-Revalidate")&&(Ee=!0);let Ue=te.response.headers.get("Location");qt(Ue,"Expected a Location header on the redirect Response"),Ue=e_(Ue,new URL(q.url),p);let Fe=ld(U.location,Ue,{_isRedirect:!0});if(t){let Nt=!1;if(te.response.headers.has("X-Remix-Reload-Document"))Nt=!0;else if(D0.test(Ue)){const Dt=A1(Ue,!0);Nt=Dt.origin!==e.location.origin||vs(Dt.pathname,p)==null}if(Nt){Je?e.location.replace(Ue):e.location.assign(Ue);return}}I=null;let We=Je===!0||te.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:it,formAction:et,formEncType:ot}=U.navigation;!ye&&!Se&&it&&et&&ot&&(ye=o_(U.navigation));let Ze=ye||Se;if(iC.has(te.response.status)&&Ze&&ns(Ze.formMethod))await _t(We,Fe,{submission:{...Ze,formAction:Ue},preventScrollReset:ke||A,enableViewTransition:ne?M:void 0});else{let Nt=Tg(Fe,ye);await _t(We,Fe,{overrideNavigation:Nt,fetcherSubmission:Se,preventScrollReset:ke||A,enableViewTransition:ne?M:void 0})}}async function Vn(q,te,ne,ye){let Se,ke={};try{Se=await pC(g,q,te,ye,ne,!1)}catch(Je){return te.filter(Ue=>Ue.shouldLoad).forEach(Ue=>{ke[Ue.route.id]={type:"error",error:Je}}),ke}if(q.signal.aborted)return ke;for(let[Je,Ue]of Object.entries(Se))if(_C(Ue)){let Fe=Ue.result;ke[Je]={type:"redirect",response:vC(Fe,q,Je,te,p)}}else ke[Je]=await yC(Ue);return ke}async function Wr(q,te,ne,ye){let Se=Vn(ne,q,ye,null),ke=Promise.all(te.map(async Fe=>{if(Fe.matches&&Fe.match&&Fe.request&&Fe.controller){let it=(await Vn(Fe.request,Fe.matches,ye,Fe.key))[Fe.match.route.id];return{[Fe.key]:it}}else return Promise.resolve({[Fe.key]:{type:"error",error:gs(404,{pathname:Fe.path})}})})),Je=await Se,Ue=(await ke).reduce((Fe,We)=>Object.assign(Fe,We),{});return{loaderResults:Je,fetcherResults:Ue}}function fa(){Ee=!0,oe.forEach((q,te)=>{F.has(te)&&ve.add(te),Xn(te)})}function It(q,te,ne={}){U.fetchers.set(q,te),Tt({fetchers:new Map(U.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function Xe(q,te,ne,ye={}){let Se=ml(U.matches,te);Sn(q),Tt({errors:{[Se.route.id]:ne},fetchers:new Map(U.fetchers)},{flushSync:(ye&&ye.flushSync)===!0})}function mn(q){return be.set(q,(be.get(q)||0)+1),me.has(q)&&me.delete(q),U.fetchers.get(q)||oC}function Sn(q){let te=U.fetchers.get(q);F.has(q)&&!(te&&te.state==="loading"&&Ce.has(q))&&Xn(q),oe.delete(q),Ce.delete(q),P.delete(q),me.delete(q),ve.delete(q),U.fetchers.delete(q)}function ta(q){let te=(be.get(q)||0)-1;te<=0?(be.delete(q),me.add(q)):be.set(q,te),Tt({fetchers:new Map(U.fetchers)})}function Xn(q){let te=F.get(q);te&&(te.abort(),F.delete(q))}function Tr(q){for(let te of q){let ne=mn(te),ye=fo(ne.data);U.fetchers.set(te,ye)}}function nt(){let q=[],te=!1;for(let ne of P){let ye=U.fetchers.get(ne);qt(ye,`Expected fetcher: ${ne}`),ye.state==="loading"&&(P.delete(ne),q.push(ne),te=!0)}return Tr(q),te}function or(q){let te=[];for(let[ne,ye]of Ce)if(ye<q){let Se=U.fetchers.get(ne);qt(Se,`Expected fetcher: ${ne}`),Se.state==="loading"&&(Xn(ne),Ce.delete(ne),te.push(ne))}return Tr(te),te.length>0}function Zn(q,te){let ne=U.blockers.get(q)||Bu;return De.get(q)!==te&&De.set(q,te),ne}function Or(q){U.blockers.delete(q),De.delete(q)}function pr(q,te){let ne=U.blockers.get(q)||Bu;qt(ne.state==="unblocked"&&te.state==="blocked"||ne.state==="blocked"&&te.state==="blocked"||ne.state==="blocked"&&te.state==="proceeding"||ne.state==="blocked"&&te.state==="unblocked"||ne.state==="proceeding"&&te.state==="unblocked",`Invalid blocker state transition: ${ne.state} -> ${te.state}`);let ye=new Map(U.blockers);ye.set(q,te),Tt({blockers:ye})}function ht({currentLocation:q,nextLocation:te,historyAction:ne}){if(De.size===0)return;De.size>1&&Er(!1,"A router only supports one blocker at a time");let ye=Array.from(De.entries()),[Se,ke]=ye[ye.length-1],Je=U.blockers.get(Se);if(!(Je&&Je.state==="proceeding")&&ke({currentLocation:q,nextLocation:te,historyAction:ne}))return Se}function Vt(q){let te=gs(404,{pathname:q}),ne=m||d,{matches:ye,route:Se}=s_(ne);return{notFoundMatches:ye,route:Se,error:te}}function wt(q,te,ne){if(D=q,z=te,O=ne||null,!$&&U.navigation===Ng){$=!0;let ye=Sr(U.location,U.matches);ye!=null&&Tt({restoreScrollPosition:ye})}return()=>{D=null,z=null,O=null}}function Cn(q,te){return O&&O(q,te.map(ye=>LS(ye,U.loaderData)))||q.key}function yn(q,te){if(D&&z){let ne=Cn(q,te);D[ne]=z()}}function Sr(q,te){if(D){let ne=Cn(q,te),ye=D[ne];if(typeof ye=="number")return ye}return null}function Ut(q,te,ne){if(n.patchRoutesOnNavigation)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:hf(te,ne,p,!0)}}else return{active:!0,matches:hf(te,ne,p,!0)||[]};return{active:!1,matches:null}}async function xn(q,te,ne,ye){if(!n.patchRoutesOnNavigation)return{type:"success",matches:q};let Se=q;for(;;){let ke=m==null,Je=m||d,Ue=l;try{await n.patchRoutesOnNavigation({signal:ne,path:te,matches:Se,fetcherKey:ye,patch:(it,et)=>{ne.aborted||Kb(it,et,Je,Ue,i)}})}catch(it){return{type:"error",error:it,partialMatches:Se}}finally{ke&&!ne.aborted&&(d=[...d])}if(ne.aborted)return{type:"aborted"};let Fe=po(Je,te,p);if(Fe)return{type:"success",matches:Fe};let We=hf(Je,te,p,!0);if(!We||Se.length===We.length&&Se.every((it,et)=>it.route.id===We[et].route.id))return{type:"success",matches:null};Se=We}}function Et(q){l={},m=Rf(q,i,void 0,l)}function na(q,te){let ne=m==null;Kb(q,te,m||d,l,i),ne&&(d=[...d],Tt({}))}return fe={get basename(){return p},get future(){return b},get state(){return U},get routes(){return d},get window(){return e},initialize:Mt,subscribe:dt,enableScrollRestoration:wt,navigate:Tn,fetch:mr,revalidate:Ge,createHref:q=>n.history.createHref(q),encodeLocation:q=>n.history.encodeLocation(q),getFetcher:mn,deleteFetcher:ta,dispose:jt,getBlocker:Zn,deleteBlocker:Or,patchRoutes:na,_internalFetchControllers:F,_internalSetRoutes:Et},fe}function uC(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Kg(n,e,t,a,i,l){let d,m;if(i){d=[];for(let g of e)if(d.push(g),g.route.id===i){m=g;break}}else d=e,m=e[e.length-1];let p=am(a||".",rm(d),vs(n.pathname,t)||n.pathname,l==="path");if(a==null&&(p.search=n.search,p.hash=n.hash),(a==null||a===""||a===".")&&m){let g=M0(p.search);if(m.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let b=new URLSearchParams(p.search),_=b.getAll("index");b.delete("index"),_.filter(D=>D).forEach(D=>b.append("index",D));let E=b.toString();p.search=E?`?${E}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:ti([t,p.pathname])),Ro(p)}function Gb(n,e,t){if(!t||!uC(t))return{path:e};if(t.formMethod&&!wC(t.formMethod))return{path:e,error:gs(405,{method:t.formMethod})};let a=()=>({path:e,error:gs(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),d=z1(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!ns(l))return a();let _=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((E,[D,O])=>`${E}${D}=${O}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:d,formEncType:t.formEncType,formData:void 0,json:void 0,text:_}}}else if(t.formEncType==="application/json"){if(!ns(l))return a();try{let _=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:d,formEncType:t.formEncType,formData:void 0,json:_,text:void 0}}}catch{return a()}}}qt(typeof FormData=="function","FormData is not available in this environment");let m,p;if(t.formData)m=Jg(t.formData),p=t.formData;else if(t.body instanceof FormData)m=Jg(t.body),p=t.body;else if(t.body instanceof URLSearchParams)m=t.body,p=t_(m);else if(t.body==null)m=new URLSearchParams,p=new FormData;else try{m=new URLSearchParams(t.body),p=t_(m)}catch{return a()}let g={formMethod:l,formAction:d,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(ns(g.formMethod))return{path:e,submission:g};let b=Vo(e);return n&&b.search&&M0(b.search)&&m.append("index",""),b.search=`?${m}`,{path:Ro(b),submission:g}}function Qb(n,e,t,a,i,l,d,m,p,g,b,_,E,D,O,z,$,K,ge,se){let Ae=se?ts(se[1])?se[1].error:se[1].data:void 0,fe=i.createURL(l.location),U=i.createURL(p),k;if(b&&l.errors){let V=Object.keys(l.errors)[0];k=d.findIndex(Ee=>Ee.route.id===V)}else if(se&&ts(se[1])){let V=se[0];k=d.findIndex(Ee=>Ee.route.id===V)-1}let A=se?se[1].statusCode:void 0,I=A&&A>=400,M={currentUrl:fe,currentParams:l.matches[0]?.params||{},nextUrl:U,nextParams:d[0].params,...m,actionResult:Ae,actionStatus:A},B=d.map((V,Ee)=>{let{route:ve}=V,F=null;if(k!=null&&Ee>k?F=!1:ve.lazy?F=!0:ve.loader==null?F=!1:b?F=Xg(ve,l.loaderData,l.errors):dC(l.loaderData,l.matches[Ee],V)&&(F=!0),F!==null)return Zg(t,a,n,V,g,e,F);let le=I?!1:_||fe.pathname+fe.search===U.pathname+U.search||fe.search!==U.search||hC(l.matches[Ee],V),ce={...M,defaultShouldRevalidate:le},Ce=Mf(V,ce);return Zg(t,a,n,V,g,e,Ce,ce)}),G=[];return O.forEach((V,Ee)=>{if(b||!d.some(be=>be.route.id===V.routeId)||D.has(Ee))return;let ve=l.fetchers.get(Ee),F=ve&&ve.state!=="idle"&&ve.data===void 0,le=po($,V.path,K);if(!le){if(ge&&F)return;G.push({key:Ee,routeId:V.routeId,path:V.path,matches:null,match:null,request:null,controller:null});return}if(z.has(Ee))return;let ce=Wu(le,V.path),Ce=new AbortController,P=yc(i,V.path,Ce.signal),oe=null;if(E.has(Ee))E.delete(Ee),oe=Sc(t,a,P,le,ce,g,e);else if(F)_&&(oe=Sc(t,a,P,le,ce,g,e));else{let be={...M,defaultShouldRevalidate:I?!1:_};Mf(ce,be)&&(oe=Sc(t,a,P,le,ce,g,e,be))}oe&&G.push({key:Ee,routeId:V.routeId,path:V.path,matches:oe,match:ce,request:P,controller:Ce})}),{dsMatches:B,revalidatingFetchers:G}}function Xg(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let a=e!=null&&n.id in e,i=t!=null&&t[n.id]!==void 0;return!a&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!a&&!i}function dC(n,e,t){let a=!e||t.route.id!==e.route.id,i=!n.hasOwnProperty(t.route.id);return a||i}function hC(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Mf(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Kb(n,e,t,a,i){let l;if(n){let p=a[n];qt(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let d=e.filter(p=>!l.some(g=>O1(p,g))),m=Rf(d,i,[n||"_","patch",String(l?.length||"0")],a);l.push(...m)}function O1(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,a)=>e.children?.some(i=>O1(t,i))):!1}var Xb=new WeakMap,k1=({key:n,route:e,manifest:t,mapRouteProperties:a})=>{let i=t[e.id];if(qt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let l=i.lazy[n];if(!l)return;let d=Xb.get(i);d||(d={},Xb.set(i,d));let m=d[n];if(m)return m;let p=(async()=>{let g=PS(n),_=i[n]!==void 0&&n!=="hasErrorBoundary";if(g)Er(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),d[n]=Promise.resolve();else if(_)Er(!1,`Route "${i.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let E=await l();E!=null&&(Object.assign(i,{[n]:E}),Object.assign(i,a(i)))}typeof i.lazy=="object"&&(i.lazy[n]=void 0,Object.values(i.lazy).every(E=>E===void 0)&&(i.lazy=void 0))})();return d[n]=p,p},Zb=new WeakMap;function fC(n,e,t,a,i){let l=t[n.id];if(qt(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let b=Zb.get(l);if(b)return{lazyRoutePromise:b,lazyHandlerPromise:b};let _=(async()=>{qt(typeof n.lazy=="function","No lazy route function found");let E=await n.lazy(),D={};for(let O in E){let z=E[O];if(z===void 0)continue;let $=kS(O),ge=l[O]!==void 0&&O!=="hasErrorBoundary";$?Er(!$,"Route property "+O+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ge?Er(!ge,`Route "${l.id}" has a static property "${O}" defined but its lazy function is also returning a value for this property. The lazy route property "${O}" will be ignored.`):D[O]=z}Object.assign(l,D),Object.assign(l,{...a(l),lazy:void 0})})();return Zb.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let d=Object.keys(n.lazy),m=[],p;for(let b of d){if(i&&i.includes(b))continue;let _=k1({key:b,route:n,manifest:t,mapRouteProperties:a});_&&(m.push(_),b===e&&(p=_))}let g=m.length>0?Promise.all(m).then(()=>{}):void 0;return g?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function Jb(n){let e=n.matches.filter(i=>i.shouldLoad),t={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,l)=>{t[e[l].route.id]=i}),t}async function mC(n){return n.matches.some(e=>e.route.unstable_middleware)?V1(n,!1,()=>Jb(n),(e,t)=>({[t]:{type:"error",result:e}})):Jb(n)}async function V1(n,e,t,a){let{matches:i,request:l,params:d,context:m}=n,p={handlerResult:void 0};try{let g=i.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(E=>[_.route.id,E]):[]),b=await L1({request:l,params:d,context:m},g,e,p,t);return e?b:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let b=await a(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,b):b}}async function L1(n,e,t,a,i,l=0){let{request:d}=n;if(d.signal.aborted)throw d.signal.reason?d.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${d.method} ${d.url}`);let m=e[l];if(!m)return a.handlerResult=await i(),a.handlerResult;let[p,g]=m,b=!1,_,E=async()=>{if(b)throw new Error("You may only call `next()` once per middleware");b=!0,await L1(n,e,t,a,i,l+1)};try{let D=await g({request:n.request,params:n.params,context:n.context},E);return b?D===void 0?_:D:E()}catch(D){throw a.middlewareError?a.middlewareError.error!==D&&(a.middlewareError={routeId:p,error:D}):a.middlewareError={routeId:p,error:D},D}}function U1(n,e,t,a,i){let l=k1({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:n}),d=fC(a.route,ns(t.method)?"action":"loader",e,n,i);return{middleware:l,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function Zg(n,e,t,a,i,l,d,m=null){let p=!1,g=U1(n,e,t,a,i);return{...a,_lazyPromises:g,shouldLoad:d,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(b){return p=!0,m?typeof b=="boolean"?Mf(a,{...m,defaultShouldRevalidate:b}):Mf(a,m):d},resolve(b){return p||d||b&&t.method==="GET"&&(a.route.lazy||a.route.loader)?gC({request:t,match:a,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:b,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Sc(n,e,t,a,i,l,d,m=null){return a.map(p=>p.route.id!==i.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:U1(n,e,t,p,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Zg(n,e,t,p,l,d,!0,m))}async function pC(n,e,t,a,i,l){t.some(g=>g._lazyPromises?.middleware)&&await Promise.all(t.map(g=>g._lazyPromises?.middleware));let d={request:e,params:t[0].params,context:i,matches:t},p=await n({...d,fetcherKey:a,unstable_runClientMiddleware:g=>{let b=d;return V1(b,!1,()=>g({...b,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(_,E)=>({[E]:{type:"error",result:_}}))}});try{await Promise.all(t.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return p}async function gC({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:a,handlerOverride:i,scopedContext:l}){let d,m,p=ns(n.method),g=p?"action":"loader",b=_=>{let E,D=new Promise(($,K)=>E=K);m=()=>E(),n.signal.addEventListener("abort",m);let O=$=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):_({request:n,params:e.params,context:l},...$!==void 0?[$]:[]),z=(async()=>{try{return{type:"data",result:await(i?i(K=>O(K)):O())}}catch($){return{type:"error",result:$}}})();return Promise.race([z,D])};try{let _=p?e.route.action:e.route.loader;if(t||a)if(_){let E,[D]=await Promise.all([b(_).catch(O=>{E=O}),t,a]);if(E!==void 0)throw E;d=D}else{await t;let E=p?e.route.action:e.route.loader;if(E)[d]=await Promise.all([b(E),a]);else if(g==="action"){let D=new URL(n.url),O=D.pathname+D.search;throw gs(405,{method:n.method,pathname:O,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)d=await b(_);else{let E=new URL(n.url),D=E.pathname+E.search;throw gs(404,{pathname:D})}}catch(_){return{type:"error",result:_}}finally{m&&n.signal.removeEventListener("abort",m)}return d}async function yC(n){let{result:e,type:t}=n;if(B1(e)){let a;try{let i=e.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?e.body==null?a=null:a=await e.json():a=await e.text()}catch(i){return{type:"error",error:i}}return t==="error"?{type:"error",error:new Df(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return t==="error"?i_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Df(e.init?.status||500,void 0,e.data),statusCode:cd(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:cd(e)?e.status:void 0}:i_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function vC(n,e,t,a,i){let l=n.headers.get("Location");if(qt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!D0.test(l)){let d=a.slice(0,a.findIndex(m=>m.route.id===t)+1);l=Kg(new URL(e.url),d,i,l),n.headers.set("Location",l)}return n}function e_(n,e,t){if(D0.test(n)){let a=n,i=a.startsWith("//")?new URL(e.protocol+a):new URL(a),l=vs(i.pathname,t)!=null;if(i.origin===e.origin&&l)return i.pathname+i.search+i.hash}return n}function yc(n,e,t,a){let i=n.createURL(z1(e)).toString(),l={signal:t};if(a&&ns(a.formMethod)){let{formMethod:d,formEncType:m}=a;l.method=d.toUpperCase(),m==="application/json"?(l.headers=new Headers({"Content-Type":m}),l.body=JSON.stringify(a.json)):m==="text/plain"?l.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?l.body=Jg(a.formData):l.body=a.formData}return new Request(i,l)}function Jg(n){let e=new URLSearchParams;for(let[t,a]of n.entries())e.append(t,typeof a=="string"?a:a.name);return e}function t_(n){let e=new FormData;for(let[t,a]of n.entries())e.append(t,a);return e}function xC(n,e,t,a=!1,i=!1){let l={},d=null,m,p=!1,g={},b=t&&ts(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let E=_.route.id,D=e[E];if(qt(!gl(D),"Cannot handle redirect results in processLoaderData"),ts(D)){let O=D.error;if(b!==void 0&&(O=b,b=void 0),d=d||{},i)d[E]=O;else{let z=ml(n,E);d[z.route.id]==null&&(d[z.route.id]=O)}a||(l[E]=P1),p||(p=!0,m=cd(D.error)?D.error.status:500),D.headers&&(g[E]=D.headers)}else l[E]=D.data,D.statusCode&&D.statusCode!==200&&!p&&(m=D.statusCode),D.headers&&(g[E]=D.headers)}),b!==void 0&&t&&(d={[t[0]]:b},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:d,statusCode:m||200,loaderHeaders:g}}function n_(n,e,t,a,i,l){let{loaderData:d,errors:m}=xC(e,t,a);return i.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:b,controller:_}=p,E=l[g];if(qt(E,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(ts(E)){let D=ml(n.matches,b?.route.id);m&&m[D.route.id]||(m={...m,[D.route.id]:E.error}),n.fetchers.delete(g)}else if(gl(E))qt(!1,"Unhandled fetcher revalidation redirect");else{let D=fo(E.data);n.fetchers.set(g,D)}}),{loaderData:d,errors:m}}function r_(n,e,t,a){let i=Object.entries(e).filter(([,l])=>l!==P1).reduce((l,[d,m])=>(l[d]=m,l),{});for(let l of t){let d=l.route.id;if(!e.hasOwnProperty(d)&&n.hasOwnProperty(d)&&l.route.loader&&(i[d]=n[d]),a&&a.hasOwnProperty(d))break}return i}function a_(n){return n?ts(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ml(n,e){return(e?n.slice(0,n.findIndex(a=>a.route.id===e)+1):[...n]).reverse().find(a=>a.route.hasErrorBoundary===!0)||n[0]}function s_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function gs(n,{pathname:e,routeId:t,method:a,type:i,message:l}={}){let d="Unknown Server Error",m="Unknown @remix-run/router error";return n===400?(d="Bad Request",a&&e&&t?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(m="Unable to encode submission body")):n===403?(d="Forbidden",m=`Route "${t}" does not match URL "${e}"`):n===404?(d="Not Found",m=`No route matches URL "${e}"`):n===405&&(d="Method Not Allowed",a&&e&&t?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new Df(n||500,d,new Error(m),!0)}function Qh(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[a,i]=e[t];if(gl(i))return{key:a,result:i}}}function z1(n){let e=typeof n=="string"?Vo(n):n;return Ro({...e,hash:""})}function bC(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function _C(n){return B1(n.result)&&sC.has(n.result.status)}function ts(n){return n.type==="error"}function gl(n){return(n&&n.type)==="redirect"}function i_(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function B1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function wC(n){return aC.has(n.toUpperCase())}function ns(n){return nC.has(n.toUpperCase())}function M0(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Wu(n,e){let t=typeof e=="string"?Vo(e).search:e.search;if(n[n.length-1].route.index&&M0(t||""))return n[n.length-1];let a=D1(n);return a[a.length-1]}function o_(n){let{formMethod:e,formAction:t,formEncType:a,text:i,formData:l,json:d}=n;if(!(!e||!t||!a)){if(i!=null)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:void 0,text:i};if(l!=null)return{formMethod:e,formAction:t,formEncType:a,formData:l,json:void 0,text:void 0};if(d!==void 0)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:d,text:void 0}}}function Tg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function EC(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function NC(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function fo(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function TC(n,e){try{let t=n.sessionStorage.getItem(I1);if(t){let a=JSON.parse(t);for(let[i,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(i,new Set(l||[]))}}catch{}}function SC(n,e){if(e.size>0){let t={};for(let[a,i]of e)t[a]=[...i];try{n.sessionStorage.setItem(I1,JSON.stringify(t))}catch(a){Er(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function CC(){let n,e,t=new Promise((a,i)=>{n=async l=>{a(l);try{await t}catch{}},e=async l=>{i(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Sl=T.createContext(null);Sl.displayName="DataRouter";var _d=T.createContext(null);_d.displayName="DataRouterState";var I0=T.createContext({isTransitioning:!1});I0.displayName="ViewTransition";var F1=T.createContext(new Map);F1.displayName="Fetchers";var AC=T.createContext(null);AC.displayName="Await";var Os=T.createContext(null);Os.displayName="Navigation";var sm=T.createContext(null);sm.displayName="Location";var ci=T.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var P0=T.createContext(null);P0.displayName="RouteError";function RC(n,{relative:e}={}){qt(Fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=T.useContext(Os),{hash:i,pathname:l,search:d}=wd(n,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:ti([t,l])),a.createHref({pathname:m,search:d,hash:i})}function Fc(){return T.useContext(sm)!=null}function Lo(){return qt(Fc(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(sm).location}var H1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q1(n){T.useContext(Os).static||T.useLayoutEffect(n)}function O0(){let{isDataRoute:n}=T.useContext(ci);return n?FC():jC()}function jC(){qt(Fc(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(Sl),{basename:e,navigator:t}=T.useContext(Os),{matches:a}=T.useContext(ci),{pathname:i}=Lo(),l=JSON.stringify(rm(a)),d=T.useRef(!1);return q1(()=>{d.current=!0}),T.useCallback((p,g={})=>{if(Er(d.current,H1),!d.current)return;if(typeof p=="number"){t.go(p);return}let b=am(p,JSON.parse(l),i,g.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ti([e,b.pathname])),(g.replace?t.replace:t.push)(b,g.state,g)},[e,t,l,i,n])}T.createContext(null);function wd(n,{relative:e}={}){let{matches:t}=T.useContext(ci),{pathname:a}=Lo(),i=JSON.stringify(rm(t));return T.useMemo(()=>am(n,JSON.parse(i),a,e==="path"),[n,i,a,e])}function DC(n,e,t,a){qt(Fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(Os),{matches:l}=T.useContext(ci),d=l[l.length-1],m=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",b=d&&d.route;{let K=b&&b.path||"";$1(p,!b||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let _=Lo(),E;E=_;let D=E.pathname||"/",O=D;if(g!=="/"){let K=g.replace(/^\//,"").split("/");O="/"+D.replace(/^\//,"").split("/").slice(K.length).join("/")}let z=po(n,{pathname:O});return Er(b||z!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Er(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),kC(z&&z.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:ti([g,i.encodeLocation?i.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?g:ti([g,i.encodeLocation?i.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),l,t,a)}function MC(){let n=BC(),e=cd(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:l},"ErrorBoundary")," or"," ",T.createElement("code",{style:l},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:i},t):null,d)}var IC=T.createElement(MC,null),PC=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?T.createElement(ci.Provider,{value:this.props.routeContext},T.createElement(P0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OC({routeContext:n,match:e,children:t}){let a=T.useContext(Sl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(ci.Provider,{value:n},t)}function kC(n,e=[],t=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,l=t?.errors;if(l!=null){let p=i.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);qt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,p+1))}let d=!1,m=-1;if(t)for(let p=0;p<i.length;p++){let g=i[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:b,errors:_}=t,E=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||E){d=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((p,g,b)=>{let _,E=!1,D=null,O=null;t&&(_=l&&g.route.id?l[g.route.id]:void 0,D=g.route.errorElement||IC,d&&(m<0&&b===0?($1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,O=null):m===b&&(E=!0,O=g.route.hydrateFallbackElement||null)));let z=e.concat(i.slice(0,b+1)),$=()=>{let K;return _?K=D:E?K=O:g.route.Component?K=T.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,T.createElement(OC,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:t!=null},children:K})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?T.createElement(PC,{location:t.location,revalidation:t.revalidation,component:D,error:_,children:$(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):$()},null)}function k0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VC(n){let e=T.useContext(Sl);return qt(e,k0(n)),e}function LC(n){let e=T.useContext(_d);return qt(e,k0(n)),e}function UC(n){let e=T.useContext(ci);return qt(e,k0(n)),e}function V0(n){let e=UC(n),t=e.matches[e.matches.length-1];return qt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function zC(){return V0("useRouteId")}function BC(){let n=T.useContext(P0),e=LC("useRouteError"),t=V0("useRouteError");return n!==void 0?n:e.errors?.[t]}function FC(){let{router:n}=VC("useNavigate"),e=V0("useNavigate"),t=T.useRef(!1);return q1(()=>{t.current=!0}),T.useCallback(async(i,l={})=>{Er(t.current,H1),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...l}))},[n,e])}var l_={};function $1(n,e,t){!e&&!l_[n]&&(l_[n]=!0,Er(!1,t))}var c_={};function u_(n,e){!n&&!c_[e]&&(c_[e]=!0,console.warn(e))}function HC(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Er(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:T.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Er(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:T.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Er(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:T.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var qC=["HydrateFallback","hydrateFallbackElement"],$C=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}};function YC({router:n,flushSync:e}){let[t,a]=T.useState(n.state),[i,l]=T.useState(),[d,m]=T.useState({isTransitioning:!1}),[p,g]=T.useState(),[b,_]=T.useState(),[E,D]=T.useState(),O=T.useRef(new Map),z=T.useCallback((se,{deletedFetchers:Ae,flushSync:fe,viewTransitionOpts:U})=>{se.fetchers.forEach((A,I)=>{A.data!==void 0&&O.current.set(I,A.data)}),Ae.forEach(A=>O.current.delete(A)),u_(fe===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(u_(U==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!k){e&&fe?e(()=>a(se)):T.startTransition(()=>a(se));return}if(e&&fe){e(()=>{b&&(p&&p.resolve(),b.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let A=n.window.document.startViewTransition(()=>{e(()=>a(se))});A.finished.finally(()=>{e(()=>{g(void 0),_(void 0),l(void 0),m({isTransitioning:!1})})}),e(()=>_(A));return}b?(p&&p.resolve(),b.skipTransition(),D({state:se,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(l(se),m({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[n.window,e,b,p]);T.useLayoutEffect(()=>n.subscribe(z),[n,z]),T.useEffect(()=>{d.isTransitioning&&!d.flushSync&&g(new $C)},[d]),T.useEffect(()=>{if(p&&i&&n.window){let se=i,Ae=p.promise,fe=n.window.document.startViewTransition(async()=>{T.startTransition(()=>a(se)),await Ae});fe.finished.finally(()=>{g(void 0),_(void 0),l(void 0),m({isTransitioning:!1})}),_(fe)}},[i,p,n.window]),T.useEffect(()=>{p&&i&&t.location.key===i.location.key&&p.resolve()},[p,b,t.location,i]),T.useEffect(()=>{!d.isTransitioning&&E&&(l(E.state),m({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),D(void 0))},[d.isTransitioning,E]);let $=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:se=>n.navigate(se),push:(se,Ae,fe)=>n.navigate(se,{state:Ae,preventScrollReset:fe?.preventScrollReset}),replace:(se,Ae,fe)=>n.navigate(se,{replace:!0,state:Ae,preventScrollReset:fe?.preventScrollReset})}),[n]),K=n.basename||"/",ge=T.useMemo(()=>({router:n,navigator:$,static:!1,basename:K}),[n,$,K]);return T.createElement(T.Fragment,null,T.createElement(Sl.Provider,{value:ge},T.createElement(_d.Provider,{value:t},T.createElement(F1.Provider,{value:O.current},T.createElement(I0.Provider,{value:d},T.createElement(KC,{basename:K,location:t.location,navigationType:t.historyAction,navigator:$},T.createElement(WC,{routes:n.routes,future:n.future,state:t})))))),null)}var WC=T.memo(GC);function GC({routes:n,future:e,state:t}){return DC(n,void 0,t,e)}function QC({to:n,replace:e,state:t,relative:a}){qt(Fc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(Os);Er(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=T.useContext(ci),{pathname:d}=Lo(),m=O0(),p=am(n,rm(l),d,a==="path"),g=JSON.stringify(p);return T.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:a})},[m,g,a,e,t]),null}function KC({basename:n="/",children:e=null,location:t,navigationType:a="POP",navigator:i,static:l=!1}){qt(!Fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),m=T.useMemo(()=>({basename:d,navigator:i,static:l,future:{}}),[d,i,l]);typeof t=="string"&&(t=Vo(t));let{pathname:p="/",search:g="",hash:b="",state:_=null,key:E="default"}=t,D=T.useMemo(()=>{let O=vs(p,d);return O==null?null:{location:{pathname:O,search:g,hash:b,state:_,key:E},navigationType:a}},[d,p,g,b,_,E,a]);return Er(D!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:T.createElement(Os.Provider,{value:m},T.createElement(sm.Provider,{children:e,value:D}))}var ff="get",mf="application/x-www-form-urlencoded";function im(n){return n!=null&&typeof n.tagName=="string"}function XC(n){return im(n)&&n.tagName.toLowerCase()==="button"}function ZC(n){return im(n)&&n.tagName.toLowerCase()==="form"}function JC(n){return im(n)&&n.tagName.toLowerCase()==="input"}function eA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tA(n,e){return n.button===0&&(!e||e==="_self")&&!eA(n)}var Kh=null;function nA(){if(Kh===null)try{new FormData(document.createElement("form"),0),Kh=!1}catch{Kh=!0}return Kh}var rA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sg(n){return n!=null&&!rA.has(n)?(Er(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mf}"`),null):n}function aA(n,e){let t,a,i,l,d;if(ZC(n)){let m=n.getAttribute("action");a=m?vs(m,e):null,t=n.getAttribute("method")||ff,i=Sg(n.getAttribute("enctype"))||mf,l=new FormData(n)}else if(XC(n)||JC(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||m.getAttribute("action");if(a=p?vs(p,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||ff,i=Sg(n.getAttribute("formenctype"))||Sg(m.getAttribute("enctype"))||mf,l=new FormData(m,n),!nA()){let{name:g,type:b,value:_}=n;if(b==="image"){let E=g?`${g}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else g&&l.append(g,_)}}else{if(im(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ff,a=null,i=mf,d=n}return l&&i==="text/plain"&&(d=l,l=void 0),{action:a,method:t.toLowerCase(),encType:i,formData:l,body:d}}function L0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function sA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function oA(n,e,t){let a=await Promise.all(n.map(async i=>{let l=e.routes[i.route.id];if(l){let d=await sA(l,t);return d.links?d.links():[]}return[]}));return dA(a.flat(1).filter(iA).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function d_(n,e,t,a,i,l){let d=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>d(p,g)||m(p,g)):l==="data"?e.filter((p,g)=>{let b=a.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(d(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function lA(n,e,{includeHydrateFallback:t}={}){return cA(n.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function cA(n){return[...new Set(n)]}function uA(n){let e={},t=Object.keys(n).sort();for(let a of t)e[a]=n[a];return e}function dA(n,e){let t=new Set;return new Set(e),n.reduce((a,i)=>{let l=JSON.stringify(uA(i));return t.has(l)||(t.add(l),a.push({key:l,link:i})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hA=new Set([100,101,204,205]);function fA(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&vs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Y1(){let n=T.useContext(Sl);return L0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function mA(){let n=T.useContext(_d);return L0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var U0=T.createContext(void 0);U0.displayName="FrameworkContext";function W1(){let n=T.useContext(U0);return L0(n,"You must render this element inside a <HydratedRouter> element"),n}function pA(n,e){let t=T.useContext(U0),[a,i]=T.useState(!1),[l,d]=T.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:_}=e,E=T.useRef(null);T.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let z=K=>{K.forEach(ge=>{d(ge.isIntersecting)})},$=new IntersectionObserver(z,{threshold:.5});return E.current&&$.observe(E.current),()=>{$.disconnect()}}},[n]),T.useEffect(()=>{if(a){let z=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(z)}}},[a]);let D=()=>{i(!0)},O=()=>{i(!1),d(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:Hu(m,D),onBlur:Hu(p,O),onMouseEnter:Hu(g,D),onMouseLeave:Hu(b,O),onTouchStart:Hu(_,D)}]:[!1,E,{}]}function Hu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function gA({page:n,...e}){let{router:t}=Y1(),a=T.useMemo(()=>po(t.routes,n,t.basename),[t.routes,n,t.basename]);return a?T.createElement(vA,{page:n,matches:a,...e}):null}function yA(n){let{manifest:e,routeModules:t}=W1(),[a,i]=T.useState([]);return T.useEffect(()=>{let l=!1;return oA(n,e,t).then(d=>{l||i(d)}),()=>{l=!0}},[n,e,t]),a}function vA({page:n,matches:e,...t}){let a=Lo(),{manifest:i,routeModules:l}=W1(),{basename:d}=Y1(),{loaderData:m,matches:p}=mA(),g=T.useMemo(()=>d_(n,e,p,i,a,"data"),[n,e,p,i,a]),b=T.useMemo(()=>d_(n,e,p,i,a,"assets"),[n,e,p,i,a]),_=T.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let O=new Set,z=!1;if(e.forEach(K=>{let ge=i.routes[K.route.id];!ge||!ge.hasLoader||(!g.some(se=>se.route.id===K.route.id)&&K.route.id in m&&l[K.route.id]?.shouldRevalidate||ge.hasClientLoader?z=!0:O.add(K.route.id))}),O.size===0)return[];let $=fA(n,d);return z&&O.size>0&&$.searchParams.set("_routes",e.filter(K=>O.has(K.route.id)).map(K=>K.route.id).join(",")),[$.pathname+$.search]},[d,m,a,i,g,e,n,l]),E=T.useMemo(()=>lA(b,i),[b,i]),D=yA(b);return T.createElement(T.Fragment,null,_.map(O=>T.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),E.map(O=>T.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),D.map(({key:O,link:z})=>T.createElement("link",{key:O,...z})))}function xA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var G1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G1&&(window.__reactRouterVersion="7.6.3")}catch{}function bA(n,e){return cC({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:jS({window:e?.window}),hydrationData:_A(),routes:n,mapRouteProperties:HC,hydrationRouteProperties:qC,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function _A(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:wA(n.errors)}),n}function wA(n){if(!n)return null;let e=Object.entries(n),t={};for(let[a,i]of e)if(i&&i.__type==="RouteErrorResponse")t[a]=new Df(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let l=window[i.__subType];if(typeof l=="function")try{let d=new l(i.message);d.stack="",t[a]=d}catch{}}if(t[a]==null){let l=new Error(i.message);l.stack="",t[a]=l}}else t[a]=i;return t}var Q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ds=T.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:i,reloadDocument:l,replace:d,state:m,target:p,to:g,preventScrollReset:b,viewTransition:_,...E},D){let{basename:O}=T.useContext(Os),z=typeof g=="string"&&Q1.test(g),$,K=!1;if(typeof g=="string"&&z&&($=g,G1))try{let I=new URL(window.location.href),M=g.startsWith("//")?new URL(I.protocol+g):new URL(g),B=vs(M.pathname,O);M.origin===I.origin&&B!=null?g=B+M.search+M.hash:K=!0}catch{Er(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ge=RC(g,{relative:i}),[se,Ae,fe]=pA(a,E),U=SA(g,{replace:d,state:m,target:p,preventScrollReset:b,relative:i,viewTransition:_});function k(I){e&&e(I),I.defaultPrevented||U(I)}let A=T.createElement("a",{...E,...fe,href:$||ge,onClick:K||l?e:k,ref:xA(D,Ae),target:p,"data-discover":!z&&t==="render"?"true":void 0});return se&&!z?T.createElement(T.Fragment,null,A,T.createElement(gA,{page:ge})):A});Ds.displayName="Link";var EA=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:i=!1,style:l,to:d,viewTransition:m,children:p,...g},b){let _=wd(d,{relative:g.relative}),E=Lo(),D=T.useContext(_d),{navigator:O,basename:z}=T.useContext(Os),$=D!=null&&DA(_)&&m===!0,K=O.encodeLocation?O.encodeLocation(_).pathname:_.pathname,ge=E.pathname,se=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(ge=ge.toLowerCase(),se=se?se.toLowerCase():null,K=K.toLowerCase()),se&&z&&(se=vs(se,z)||se);const Ae=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let fe=ge===K||!i&&ge.startsWith(K)&&ge.charAt(Ae)==="/",U=se!=null&&(se===K||!i&&se.startsWith(K)&&se.charAt(K.length)==="/"),k={isActive:fe,isPending:U,isTransitioning:$},A=fe?e:void 0,I;typeof a=="function"?I=a(k):I=[a,fe?"active":null,U?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(k):l;return T.createElement(Ds,{...g,"aria-current":A,className:I,ref:b,style:M,to:d,viewTransition:m},typeof p=="function"?p(k):p)});EA.displayName="NavLink";var NA=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:i,state:l,method:d=ff,action:m,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:_,...E},D)=>{let O=RA(),z=jA(m,{relative:g}),$=d.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&Q1.test(m),ge=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let Ae=se.nativeEvent.submitter,fe=Ae?.getAttribute("formmethod")||d;O(Ae||se.currentTarget,{fetcherKey:e,method:fe,navigate:t,replace:i,state:l,relative:g,preventScrollReset:b,viewTransition:_})};return T.createElement("form",{ref:D,method:$,action:z,onSubmit:a?p:ge,...E,"data-discover":!K&&n==="render"?"true":void 0})});NA.displayName="Form";function TA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K1(n){let e=T.useContext(Sl);return qt(e,TA(n)),e}function SA(n,{target:e,replace:t,state:a,preventScrollReset:i,relative:l,viewTransition:d}={}){let m=O0(),p=Lo(),g=wd(n,{relative:l});return T.useCallback(b=>{if(tA(b,e)){b.preventDefault();let _=t!==void 0?t:Ro(p)===Ro(g);m(n,{replace:_,state:a,preventScrollReset:i,relative:l,viewTransition:d})}},[p,m,g,t,a,e,n,i,l,d])}var CA=0,AA=()=>`__${String(++CA)}__`;function RA(){let{router:n}=K1("useSubmit"),{basename:e}=T.useContext(Os),t=zC();return T.useCallback(async(a,i={})=>{let{action:l,method:d,encType:m,formData:p,body:g}=aA(a,e);if(i.navigate===!1){let b=i.fetcherKey||AA();await n.fetch(b,t,i.action||l,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||d,formEncType:i.encType||m,flushSync:i.flushSync})}else await n.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||d,formEncType:i.encType||m,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function jA(n,{relative:e}={}){let{basename:t}=T.useContext(Os),a=T.useContext(ci);qt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...wd(n||".",{relative:e})},d=Lo();if(n==null){l.search=d.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(_=>_).forEach(_=>m.append("index",_));let b=m.toString();l.search=b?`?${b}`:""}}return(!n||n===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ti([t,l.pathname])),Ro(l)}function DA(n,e={}){let t=T.useContext(I0);qt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=K1("useViewTransitionState"),i=wd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=vs(t.currentLocation.pathname,a)||t.currentLocation.pathname,d=vs(t.nextLocation.pathname,a)||t.nextLocation.pathname;return jf(i.pathname,d)!=null||jf(i.pathname,l)!=null}[...hA];var MA=S1();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function IA(n){return T.createElement(YC,{flushSync:MA.flushSync,...n})}const z0="/assets/logo-Di_XZ8sh.jpg";function PA(){const[n,e]=T.useState(!1);return u.jsxs("header",{className:"fixed top-0 left-0 w-full bg-white shadow z-50",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center min-w-[180px]",children:[u.jsx("img",{src:z0,alt:"Logo Vagafogo",className:"w-12 h-12 rounded-full object-cover border border-gray-300",loading:"lazy"}),u.jsx("span",{className:"ml-4 font-bold text-2xl text-[#8B4F23] tracking-wide",children:"VAGAFOGO"})]}),u.jsxs("nav",{className:"hidden lg:flex flex-1 justify-center gap-10",children:[u.jsx("a",{href:"#inicio",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Incio"}),u.jsx("a",{href:"#brunch",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Brunch"}),u.jsx("a",{href:"#trilha",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Trilha"}),u.jsx("a",{href:"#educacao",className:"text-[#8B4F23] text-lg font-semibold hover:underline",children:"Educao"})]}),u.jsx(Ds,{to:"/reservar",className:"hidden md:block bg-[#8B4F23] text-white font-bold px-8 py-2 rounded-full text-lg shadow hover:bg-[#A05D2B] transition min-w-[170px] text-center",children:"Reservar Agora"}),u.jsx("button",{onClick:()=>e(!n),className:"lg:hidden text-3xl ml-2 text-[#8B4F23]","aria-label":"Abrir menu",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]}),n&&u.jsx("div",{className:"lg:hidden absolute top-full left-0 w-full bg-white shadow-md py-5 z-40",children:u.jsxs("div",{className:"flex flex-col gap-4 px-6",children:[u.jsx("a",{href:"#inicio",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Incio"}),u.jsx("a",{href:"#brunch",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Brunch"}),u.jsx("a",{href:"#trilha",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Trilha"}),u.jsx("a",{href:"#educacao",className:"py-2 text-lg font-semibold border-b border-gray-100 text-[#8B4F23]",children:"Educao"}),u.jsx(Ds,{to:"/reservar",onClick:()=>e(!1),className:"bg-[#8B4F23] text-white font-bold px-6 py-2 rounded-full mt-2 text-center",children:"Reservar Agora"})]})})]})}const OA="/assets/hero-1-DYW6Kti2.jpg";function kA(){return u.jsxs("section",{id:"inicio",className:"relative min-h-screen flex items-center justify-center pt-20 md:pt-0",style:{backgroundImage:`linear-gradient(rgba(45,30,15,0.7), rgba(45,30,15,0.7)), url(${OA})`,backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[u.jsx("div",{className:"absolute inset-0 bg-black/40"})," ",u.jsx("div",{className:"relative z-10 mx-auto flex w-full max-w-screen-2xl flex-col items-center px-4 py-16 md:py-0 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"w-full max-w-4xl text-center lg:max-w-5xl",children:[u.jsx("h1",{className:"font-heading text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight drop-shadow-lg",children:"Descubra o Santurio Vagafogo"}),u.jsx("p",{className:"text-lg md:text-xl text-white mb-8 drop-shadow",children:"Uma experincia gastronmica nica, aliada s maravilhas do cerrado brasileiro. Sabores que emocionam com uma natureza que encanta."}),u.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[u.jsxs(Ds,{to:"/reservar",className:"flex items-center bg-yellow-600 text-white font-semibold px-8 py-4 rounded-full shadow hover:bg-yellow-700 transition duration-300 text-lg",children:[u.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Faa sua reserva"]}),u.jsxs("a",{href:"#brunch",className:"flex items-center border-2 border-white text-white font-semibold px-8 py-4 rounded-full hover:bg-white hover:text-yellow-700 transition duration-300 text-lg",children:[u.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01"})]}),"Saiba mais"]})]})]})})]})}function VA(){return u.jsx("section",{className:"py-16 bg-gray-100",children:u.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("span",{className:"text-green-600 font-semibold tracking-widest uppercase text-sm",children:"POR QUE ESCOLHER O VAGAFOGO"}),u.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-[#8B4F23] mt-2 mb-6",children:"Uma Experincia que Transforma"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center border-t-4 border-accent scroll-reveal show",style:{borderTopColor:"#E0B13C"},children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),u.jsxs("h3",{className:"font-heading text-xl font-bold text-[#8B4F23] mb-3",children:["Brunch Gastronmico "," ",u.jsx(Ds,{to:"/reservar",className:"inline-flex items-center justify-center rounded-full bg-[#8B4F23] px-3 py-1 text-xs font-semibold text-white shadow-sm transition hover:bg-[#A05D2B] focus:ring-2 focus:ring-[#8B4F23] focus:ring-offset-2",children:"Consultar preos atualizados"})]}),u.jsx("p",{className:"text-gray-600 text-base",children:"45 itens e 14 harmonizaes nicas com derivados do leite local e frutas do cerrado em manejo sustentvel."})]}),u.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center border-t-4",style:{borderTopColor:"#E0B13C"},children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v20m6-6l-6 6-6-6"})})}),u.jsxs("h3",{className:"font-heading text-xl font-bold text-[#8B4F23] mb-3",children:["Trilha Me da Floresta "," ",u.jsx(Ds,{to:"/reservar",className:"inline-flex items-center justify-center rounded-full bg-[#8B4F23] px-3 py-1 text-xs font-semibold text-white shadow-sm transition hover:bg-[#A05D2B] focus:ring-2 focus:ring-[#8B4F23] focus:ring-offset-2",children:"Consultar preos atualizados"})]}),u.jsx("p",{className:"text-gray-600 text-base",children:"1.530m por mata ciliar primria margeando o rio Vagafogo, com 182 espcies de pssaros catalogadas."})]}),u.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center border-t-4",style:{borderTopColor:"#E0B13C"},children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3l8 4-8 4-8-4 8-4zm0 7v6m0 6a2 2 0 002-2h-4a2 2 0 002 2z"})})}),u.jsxs("h3",{className:"font-heading text-xl font-bold text-[#8B4F23] mb-3",children:["Educao Ambiental  ",u.jsx("span",{className:"whitespace-nowrap",children:"Agendamento via WhatsApp"})]}),u.jsx("p",{className:"text-gray-600 text-base",children:"Projeto voltado para escolas, faculdades e grupos especficos, promovendo compreenso sobre flora, fauna e sustentabilidade."})]})]})]})})}const LA="/assets/hero-2-DE6uD2w4.jpg",UA="/assets/brunch-1-BOp_1ZCE.jpg",zA="/assets/brunch-2-BJEw1Xdm.jpg",BA="/assets/brunch-3-CFPzufog.jpg";function FA(){return u.jsx("section",{id:"brunch",className:"py-16 md:py-24",style:{backgroundImage:`linear-gradient(rgba(45, 30, 15, 0.7), rgba(45, 30, 15, 0.7)), url(${LA})`,backgroundPosition:"center",backgroundSize:"cover"},children:u.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"max-w-5xl mx-auto text-center mb-12",children:[u.jsx("span",{className:"text-white font-semibold uppercase tracking-wider",children:"DESCUBRA A GASTRONOMIA"}),u.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-white mt-2 mb-4 drop-shadow-lg",children:"Brunch Vagafogo"}),u.jsx("p",{className:"text-gray-200 text-lg",children:"Um maravilhoso festival gastronmico com derivados do leite produzido na fazenda e frutas do cerrado cultivadas no local, proveniente de manejo sustentvel."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:u.jsxs("div",{className:"relative h-64",children:[u.jsx("div",{className:"h-full w-full bg-cover bg-center",style:{backgroundImage:`url(${UA})`}}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:u.jsx("h3",{className:"font-heading text-xl font-bold text-white drop-shadow",children:"Laticnios Artesanais"})})]})}),u.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:u.jsxs("div",{className:"relative h-64",children:[u.jsx("div",{className:"h-full w-full bg-cover bg-center",style:{backgroundImage:`url(${zA})`}}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:u.jsx("h3",{className:"font-heading text-xl font-bold text-white drop-shadow",children:"Frutas do Cerrado"})})]})}),u.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:u.jsxs("div",{className:"relative h-64",children:[u.jsx("div",{className:"h-full w-full bg-cover bg-center",style:{backgroundImage:`url(${BA})`}}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:u.jsx("h3",{className:"font-heading text-xl font-bold text-white drop-shadow",children:"Harmonizaes Exclusivas"})})]})})]}),u.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[u.jsx("span",{className:"w-2 h-2 bg-white rounded-full inline-block opacity-80"}),u.jsx("span",{className:"w-2 h-2 bg-white/60 rounded-full inline-block opacity-80"}),u.jsx("span",{className:"w-2 h-2 bg-white/60 rounded-full inline-block opacity-80"})]}),u.jsx("div",{className:"text-center mt-12",children:u.jsxs(Ds,{to:"/reservar",className:"bg-[#8B4F23] text-white font-semibold px-6 py-3 sm:px-8 sm:py-4 rounded-full shadow-lg hover:bg-[#A05D2B] text-base sm:text-lg transition duration-300 focus:ring-2 focus:ring-offset-2 focus:ring-[#8B4F23] inline-block w-full sm:w-auto max-w-md",children:[u.jsx("i",{className:"fas fa-bookmark mr-2"})," Reservar Experincia Gastronmica"]})})]})})}const HA="/assets/trilhaecologica-1-DZvapW0k.jpg",qA="/assets/trilhaecologica-2-ByLTFY3j.jpg";function $A(){return u.jsx("section",{id:"trilha",className:"py-16 md:py-24",style:{background:`linear-gradient(rgba(45,30,15,0.7),rgba(45,30,15,0.7)), url(${HA})`,backgroundPosition:"center",backgroundSize:"cover"},children:u.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"max-w-5xl mx-auto text-center mb-12",children:[u.jsx("span",{className:"text-white font-semibold uppercase tracking-widest",children:"CONEXO COM A NATUREZA"}),u.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-white mt-2 mb-4",children:"Trilha Ecolgica"})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-10 max-w-7xl mx-auto",children:[u.jsx("div",{className:"lg:w-1/2 mb-6 lg:mb-0",children:u.jsx("div",{className:"bg-white/80 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm",children:u.jsxs("div",{className:"relative h-96",children:[u.jsx("div",{className:"h-full w-full bg-cover bg-center rounded-2xl",style:{backgroundImage:`url(${qA})`}}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:u.jsx("h3",{className:"font-heading text-xl font-bold text-white",children:"Trilha Me da Floresta"})})]})})}),u.jsxs("div",{className:"lg:w-1/2 text-white",children:[u.jsx("h3",{className:"font-heading text-2xl font-bold mb-4",children:"Caminhada Imersiva de 1500m"}),u.jsx("p",{className:"mb-6 text-gray-200",children:"Nossa trilha ecolgica atravessa uma belssima mata ciliar primria preservada. A trilha  completamente protegida por madeiramento, oferecendo conforto e segurana ao visitante."}),u.jsxs("ul",{className:"space-y-4 mb-8 text-base",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{children:"Espaos estratgicos para descanso e meditao"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{children:"Corrimes para segurana em reas mais ngremes"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{children:"Piscina natural e uma pequena cachoeira "})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{children:"Placas informativas sobre flora e fauna do cerrado"})]})]}),u.jsxs(Ds,{to:"/reservar",className:"bg-white text-[#8B4F23] font-semibold px-8 py-3 rounded-full shadow hover:bg-gray-100 text-lg transition duration-300 focus:ring-2 focus:ring-offset-2 focus:ring-white flex items-center justify-center w-max",children:[u.jsx("i",{className:"fas fa-hiking mr-2"})," Agendar Trilha"]})]})]})]})})}const YA="/assets/educacaoambiental-1-DE8jViqV.jpg";function WA(){return u.jsx("section",{id:"educacao",className:"py-16 bg-[#F7FAEF]",children:u.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("span",{className:"text-green-600 font-semibold uppercase tracking-widest",children:"APRENDIZADO E INTEGRAO"}),u.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold text-[#8B4F23] mt-2 mb-4",children:"Educao Ambiental"}),u.jsx("p",{className:"max-w-4xl mx-auto text-gray-700 mt-4 text-lg",children:"Demonstramos a relao de interdependncia do ser humano com a natureza, promovendo proteo e preservao ambiental."})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 max-w-7xl mx-auto",children:[u.jsx("div",{className:"lg:w-1/2 w-full h-72 object-cover rounded-2xl shadow-lg",style:{backgroundImage:`url(${YA})`}}),u.jsxs("div",{className:"lg:w-1/2",children:[u.jsx("h3",{className:"font-heading text-2xl font-bold text-[#8B4F23] mb-2",children:"Projeto para Escolas e Grupos"}),u.jsx("p",{className:"mb-6 text-gray-700 text-base",children:"Atividade realizada nas trilhas promovendo interpretao sobre flora, fauna, recursos naturais e sustentabilidade."}),u.jsxs("ul",{className:"space-y-4 mb-8",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{className:"text-gray-700",children:"Para escolas, faculdades e grupos especficos"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{className:"text-gray-700",children:"Mostra a importncia da proteo ambiental local e global"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),u.jsx("span",{className:"text-gray-700",children:"Atividade principal realizada nas trilhas"})]})]}),u.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-8",children:u.jsxs("p",{className:"text-yellow-700 flex items-start",children:[u.jsxs("svg",{className:"w-5 h-5 text-yellow-500 mt-1 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01"})]}),u.jsx("span",{children:"Esta atividade requer agendamento prvio via WhatsApp"})]})}),u.jsx("div",{className:"mt-4",children:u.jsxs("a",{href:"https://wa.me/+5562992225471",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-[#8B4F23] text-white font-bold px-8 py-3 rounded-full shadow hover:bg-[#A05D2B] text-lg transition duration-300 focus:ring-2 focus:ring-offset-2 focus:ring-[#8B4F23]",children:[u.jsx("svg",{className:"w-6 h-6 mr-2 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12.01 2C6.48 2 2 6.477 2 12.006c0 1.937.512 3.775 1.482 5.39L2.04 22l4.716-1.248A9.949 9.949 0 0 0 12.01 22c5.523 0 10.01-4.478 10.01-9.994C22.02 6.478 17.533 2 12.01 2zm5.236 14.395c-.242.683-1.406 1.35-1.924 1.38-.517.03-1.013.255-2.826-.607-2.38-.99-3.904-3.408-4.024-3.568-.12-.16-.96-1.277-.96-2.436s.608-1.728.824-1.963c.217-.234.48-.293.64-.293s.32-.005.459.007c.144.012.337-.055.528.407.192.462.652 1.595.711 1.71.06.115.096.257.018.413-.08.157-.12.256-.238.394-.12.138-.252.306-.36.412-.12.117-.243.244-.105.478.137.233.607 1.003 1.305 1.625.897.803 1.656 1.05 1.89 1.17.235.12.373.103.509-.06.136-.164.58-.675.734-.908.154-.232.308-.194.519-.117.211.076 1.335.63 1.565.744.23.115.384.17.442.266.06.096.06.554-.183 1.237z"})}),"Agendar por WhatsApp"]})})]})]})]})})}function GA(){return u.jsx("footer",{className:"py-8 text-center text-xs text-slate-500",children:"Santuario Vagafogo"})}function QA(){return u.jsxs(u.Fragment,{children:[u.jsx(PA,{}),u.jsxs("main",{className:"mt-24 px-4",children:[u.jsx(kA,{}),u.jsx(VA,{}),u.jsx(FA,{}),u.jsx($A,{}),u.jsx(WA,{}),u.jsx("section",{className:"py-16",children:u.jsx("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"mx-auto max-w-5xl rounded-3xl border border-[#8B4F23]/10 bg-[#F7FAEF] p-8 shadow-lg md:p-12",children:u.jsxs("div",{className:"flex flex-col items-start justify-between gap-6 md:flex-row md:items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-green-700",children:"Reservas"}),u.jsx("h2",{className:"mt-2 text-3xl font-bold text-[#8B4F23]",children:"Faa sua reserva em poucos passos"}),u.jsx("p",{className:"mt-2 max-w-2xl text-base text-slate-700",children:"Escolha o pacote, selecione a data/horrio e finalize o pagamento de forma simples e segura."})]}),u.jsx(Ds,{to:"/reservar",className:"inline-flex w-full items-center justify-center rounded-full bg-[#8B4F23] px-8 py-3 text-base font-bold text-white shadow-sm transition hover:bg-[#A05D2B] md:w-auto",children:"Reservar agora"})]})})})}),u.jsx(GA,{})]})]})}const KA=()=>{};var h_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=function(n){const e=[];let t=0;for(let a=0;a<n.length;a++){let i=n.charCodeAt(a);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++a)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},XA=function(n){const e=[];let t=0,a=0;for(;t<n.length;){const i=n[t++];if(i<128)e[a++]=String.fromCharCode(i);else if(i>191&&i<224){const l=n[t++];e[a++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=n[t++],d=n[t++],m=n[t++],p=((i&7)<<18|(l&63)<<12|(d&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],d=n[t++];e[a++]=String.fromCharCode((i&15)<<12|(l&63)<<6|d&63)}}return e.join("")},Z1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let i=0;i<n.length;i+=3){const l=n[i],d=i+1<n.length,m=d?n[i+1]:0,p=i+2<n.length,g=p?n[i+2]:0,b=l>>2,_=(l&3)<<4|m>>4;let E=(m&15)<<2|g>>6,D=g&63;p||(D=64,d||(E=64)),a.push(t[b],t[_],t[E],t[D])}return a.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(X1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):XA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let i=0;i<n.length;){const l=t[n.charAt(i++)],m=i<n.length?t[n.charAt(i)]:0;++i;const g=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,l==null||m==null||g==null||_==null)throw new ZA;const E=l<<2|m>>4;if(a.push(E),g!==64){const D=m<<4&240|g>>2;if(a.push(D),_!==64){const O=g<<6&192|_;a.push(O)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JA=function(n){const e=X1(n);return Z1.encodeByteArray(e,!0)},If=function(n){return JA(n).replace(/\./g,"")},J1=function(n){try{return Z1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=()=>e4().__FIREBASE_DEFAULTS__,n4=()=>{if(typeof process>"u"||typeof h_>"u")return;const n=h_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},r4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&J1(n[1]);return e&&JSON.parse(e)},om=()=>{try{return KA()||t4()||n4()||r4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},e2=n=>{var e,t;return(t=(e=om())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},a4=n=>{const e=e2(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},t2=()=>{var n;return(n=om())===null||n===void 0?void 0:n.config},n2=n=>{var e;return(e=om())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r2(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",i=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[If(JSON.stringify(t)),If(JSON.stringify(d)),""].join(".")}const td={};function o4(){const n={prod:[],emulator:[]};for(const e of Object.keys(td))td[e]?n.emulator.push(e):n.prod.push(e);return n}function l4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let f_=!1;function a2(n,e){if(typeof window>"u"||typeof document>"u"||!Hc(window.location.host)||td[n]===e||td[n]||f_)return;td[n]=e;function t(E){return`__firebase__banner__${E}`}const a="__firebase__banner",l=o4().prod.length>0;function d(){const E=document.getElementById(a);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,D){E.setAttribute("width","24"),E.setAttribute("id",D),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{f_=!0,d()},E}function b(E,D){E.setAttribute("id",D),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=l4(a),D=t("text"),O=document.getElementById(D)||document.createElement("span"),z=t("learnmore"),$=document.getElementById(z)||document.createElement("a"),K=t("preprendIcon"),ge=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const se=E.element;m(se),b($,z);const Ae=g();p(ge,K),se.append(ge,O,$,Ae),document.body.appendChild(se)}l?(O.innerText="Preview backend disconnected.",ge.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ge.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ta())}function u4(){var n;const e=(n=om())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function f4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m4(){const n=Ta();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function p4(){return!u4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g4(){try{return typeof indexedDB=="object"}catch{return!1}}function y4(){return new Promise((n,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(a),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var l;e(((l=i.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="FirebaseError";class Li extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=v4,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ed.prototype.create)}}class Ed{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},i=`${this.service}/${e}`,l=this.errors[e],d=l?x4(l,a):"Error",m=`${this.serviceName}: ${d} (${i}).`;return new Li(i,m,a)}}function x4(n,e){return n.replace(b4,(t,a)=>{const i=e[a];return i!=null?String(i):`<${a}?>`})}const b4=/\{\$([^}]+)}/g;function _4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bl(n,e){if(n===e)return!0;const t=Object.keys(n),a=Object.keys(e);for(const i of t){if(!a.includes(i))return!1;const l=n[i],d=e[i];if(m_(l)&&m_(d)){if(!bl(l,d))return!1}else if(l!==d)return!1}for(const i of a)if(!t.includes(i))return!1;return!0}function m_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n){const e=[];for(const[t,a]of Object.entries(n))Array.isArray(a)?a.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Gu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[i,l]=a.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function Qu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function w4(n,e){const t=new E4(n,e);return t.subscribe.bind(t)}class E4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let i;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");N4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:a},i.next===void 0&&(i.next=Cg),i.error===void 0&&(i.error=Cg),i.complete===void 0&&(i.complete=Cg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(n){return n&&n._delegate?n._delegate:n}class _l{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new s4;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&a.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C4(e))try{this.getOrInitializeService({instanceIdentifier:hl})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:i});a.resolve(l)}catch{}}}}clearInstance(e=hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hl){return this.instances.has(e)}getOptions(e=hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);a===m&&d.resolve(i)}return i}onInit(e,t){var a;const i=this.normalizeInstanceIdentifier(t),l=(a=this.onInitCallbacks.get(i))!==null&&a!==void 0?a:new Set;l.add(e),this.onInitCallbacks.set(i,l);const d=this.instances.get(i);return d&&e(d,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const i of a)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:S4(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=hl){return this.component?this.component.multipleInstances?e:hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S4(n){return n===hl?void 0:n}function C4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new T4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Xt||(Xt={}));const R4={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},j4=Xt.INFO,D4={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},M4=(n,e,...t)=>{if(e<n.logLevel)return;const a=new Date().toISOString(),i=D4[e];if(i)console[i](`[${a}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class B0{constructor(e){this.name=e,this._logLevel=j4,this._logHandler=M4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...e),this._logHandler(this,Xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...e),this._logHandler(this,Xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...e),this._logHandler(this,Xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...e),this._logHandler(this,Xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...e),this._logHandler(this,Xt.ERROR,...e)}}const I4=(n,e)=>e.some(t=>n instanceof t);let p_,g_;function P4(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O4(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s2=new WeakMap,e0=new WeakMap,i2=new WeakMap,Ag=new WeakMap,F0=new WeakMap;function k4(n){const e=new Promise((t,a)=>{const i=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{t(Eo(n.result)),i()},d=()=>{a(n.error),i()};n.addEventListener("success",l),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&s2.set(t,n)}).catch(()=>{}),F0.set(e,n),e}function V4(n){if(e0.has(n))return;const e=new Promise((t,a)=>{const i=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{t(),i()},d=()=>{a(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});e0.set(n,e)}let t0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return e0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||i2.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Eo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function L4(n){t0=n(t0)}function U4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=n.call(Rg(this),e,...t);return i2.set(a,e.sort?e.sort():[e]),Eo(a)}:O4().includes(n)?function(...e){return n.apply(Rg(this),e),Eo(s2.get(this))}:function(...e){return Eo(n.apply(Rg(this),e))}}function z4(n){return typeof n=="function"?U4(n):(n instanceof IDBTransaction&&V4(n),I4(n,P4())?new Proxy(n,t0):n)}function Eo(n){if(n instanceof IDBRequest)return k4(n);if(Ag.has(n))return Ag.get(n);const e=z4(n);return e!==n&&(Ag.set(n,e),F0.set(e,n)),e}const Rg=n=>F0.get(n);function B4(n,e,{blocked:t,upgrade:a,blocking:i,terminated:l}={}){const d=indexedDB.open(n,e),m=Eo(d);return a&&d.addEventListener("upgradeneeded",p=>{a(Eo(d.result),p.oldVersion,p.newVersion,Eo(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),i&&p.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const F4=["get","getKey","getAll","getAllKeys","count"],H4=["put","add","delete","clear"],jg=new Map;function y_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jg.get(e))return jg.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,i=H4.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(i||F4.includes(t)))return;const l=async function(d,...m){const p=this.transaction(d,i?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),i&&p.done]))[0]};return jg.set(e,l),l}L4(n=>({...n,get:(e,t,a)=>y_(e,t)||n.get(e,t,a),has:(e,t)=>!!y_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($4(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function $4(n){const e=n.getComponent();return e?.type==="VERSION"}const n0="@firebase/app",v_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new B0("@firebase/app"),Y4="@firebase/app-compat",W4="@firebase/analytics-compat",G4="@firebase/analytics",Q4="@firebase/app-check-compat",K4="@firebase/app-check",X4="@firebase/auth",Z4="@firebase/auth-compat",J4="@firebase/database",eR="@firebase/data-connect",tR="@firebase/database-compat",nR="@firebase/functions",rR="@firebase/functions-compat",aR="@firebase/installations",sR="@firebase/installations-compat",iR="@firebase/messaging",oR="@firebase/messaging-compat",lR="@firebase/performance",cR="@firebase/performance-compat",uR="@firebase/remote-config",dR="@firebase/remote-config-compat",hR="@firebase/storage",fR="@firebase/storage-compat",mR="@firebase/firestore",pR="@firebase/ai",gR="@firebase/firestore-compat",yR="firebase",vR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="[DEFAULT]",xR={[n0]:"fire-core",[Y4]:"fire-core-compat",[G4]:"fire-analytics",[W4]:"fire-analytics-compat",[K4]:"fire-app-check",[Q4]:"fire-app-check-compat",[X4]:"fire-auth",[Z4]:"fire-auth-compat",[J4]:"fire-rtdb",[eR]:"fire-data-connect",[tR]:"fire-rtdb-compat",[nR]:"fire-fn",[rR]:"fire-fn-compat",[aR]:"fire-iid",[sR]:"fire-iid-compat",[iR]:"fire-fcm",[oR]:"fire-fcm-compat",[lR]:"fire-perf",[cR]:"fire-perf-compat",[uR]:"fire-rc",[dR]:"fire-rc-compat",[hR]:"fire-gcs",[fR]:"fire-gcs-compat",[mR]:"fire-fst",[gR]:"fire-fst-compat",[pR]:"fire-vertex","fire-js":"fire-js",[yR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new Map,bR=new Map,a0=new Map;function x_(n,e){try{n.container.addComponent(e)}catch(t){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ic(n){const e=n.name;if(a0.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;a0.set(e,n);for(const t of Pf.values())x_(t,n);for(const t of bR.values())x_(t,n);return!0}function H0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function As(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},No=new Ed("app","Firebase",_R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new _l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw No.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=vR;function o2(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const a=Object.assign({name:r0,automaticDataCollectionEnabled:!0},e),i=a.name;if(typeof i!="string"||!i)throw No.create("bad-app-name",{appName:String(i)});if(t||(t=t2()),!t)throw No.create("no-options");const l=Pf.get(i);if(l){if(bl(t,l.options)&&bl(a,l.config))return l;throw No.create("duplicate-app",{appName:i})}const d=new A4(i);for(const p of a0.values())d.addComponent(p);const m=new wR(t,a,d);return Pf.set(i,m),m}function l2(n=r0){const e=Pf.get(n);if(!e&&n===r0&&t2())return o2();if(!e)throw No.create("no-app",{appName:n});return e}function To(n,e,t){var a;let i=(a=xR[n])!==null&&a!==void 0?a:n;t&&(i+=`-${t}`);const l=i.match(/\s|\//),d=e.match(/\s|\//);if(l||d){const m=[`Unable to register library "${i}" with version "${e}":`];l&&m.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(m.join(" "));return}Ic(new _l(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebase-heartbeat-database",NR=1,ud="firebase-heartbeat-store";let Dg=null;function c2(){return Dg||(Dg=B4(ER,NR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ud)}catch(t){console.warn(t)}}}}).catch(n=>{throw No.create("idb-open",{originalErrorMessage:n.message})})),Dg}async function TR(n){try{const t=(await c2()).transaction(ud),a=await t.objectStore(ud).get(u2(n));return await t.done,a}catch(e){if(e instanceof Li)Pi.warn(e.message);else{const t=No.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(t.message)}}}async function b_(n,e){try{const a=(await c2()).transaction(ud,"readwrite");await a.objectStore(ud).put(e,u2(n)),await a.done}catch(t){if(t instanceof Li)Pi.warn(t.message);else{const a=No.create("idb-set",{originalErrorMessage:t?.message});Pi.warn(a.message)}}}function u2(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=1024,CR=30;class AR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jR(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=__();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(d=>d.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>CR){const d=DR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Pi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=__(),{heartbeatsToSend:a,unsentEntries:i}=RR(this._heartbeatsCache.heartbeats),l=If(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Pi.warn(t),""}}}function __(){return new Date().toISOString().substring(0,10)}function RR(n,e=SR){const t=[];let a=n.slice();for(const i of n){const l=t.find(d=>d.agent===i.agent);if(l){if(l.dates.push(i.date),w_(t)>e){l.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),w_(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class jR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g4()?y4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return b_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return b_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function w_(n){return If(JSON.stringify({version:2,heartbeats:n})).length}function DR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let a=1;a<n.length;a++)n[a].date<t&&(t=n[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(n){Ic(new _l("platform-logger",e=>new q4(e),"PRIVATE")),Ic(new _l("heartbeat",e=>new AR(e),"PRIVATE")),To(n0,v_,n),To(n0,v_,"esm2017"),To("fire-js","")}MR("");function q0(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(n);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(n,a[i])&&(t[a[i]]=n[a[i]]);return t}function d2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IR=d2,h2=new Ed("auth","Firebase",d2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new B0("@firebase/auth");function PR(n,...e){Of.logLevel<=Xt.WARN&&Of.warn(`Auth (${qc}): ${n}`,...e)}function pf(n,...e){Of.logLevel<=Xt.ERROR&&Of.error(`Auth (${qc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n,...e){throw $0(n,...e)}function ni(n,...e){return $0(n,...e)}function f2(n,e,t){const a=Object.assign(Object.assign({},IR()),{[e]:t});return new Ed("auth","Firebase",a).create(e,{appName:n.name})}function So(n){return f2(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $0(n,...e){if(typeof n!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(t,...a)}return h2.create(n,...e)}function vt(n,e,...t){if(!n)throw $0(e,...t)}function Ri(n){const e="INTERNAL ASSERTION FAILED: "+n;throw pf(e),new Error(e)}function Oi(n,e){n||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function OR(){return E_()==="http:"||E_()==="https:"}function E_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OR()||h4()||"connection"in navigator)?navigator.onLine:!0}function VR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t){this.shortDelay=e,this.longDelay=t,Oi(t>e,"Short delay should be less than long delay!"),this.isMobile=c4()||f4()}get(){return kR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(n,e){Oi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zR=new Td(3e4,6e4);function Cl(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Uo(n,e,t,a,i={}){return p2(n,i,async()=>{let l={},d={};a&&(e==="GET"?d=a:l={body:JSON.stringify(a)});const m=Nd(Object.assign({key:n.config.apiKey},d)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},l);return d4()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Hc(n.emulatorConfig.host)&&(g.credentials="include"),m2.fetch()(await g2(n,n.config.apiHost,t,m),g)})}async function p2(n,e,t){n._canInitEmulator=!1;const a=Object.assign(Object.assign({},LR),e);try{const i=new FR(n),l=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw Xh(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const m=l.ok?d.errorMessage:d.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(n,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Xh(n,"email-already-in-use",d);if(p==="USER_DISABLED")throw Xh(n,"user-disabled",d);const b=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw f2(n,b,g);Ms(n,b)}}catch(i){if(i instanceof Li)throw i;Ms(n,"network-request-failed",{message:String(i)})}}async function lm(n,e,t,a,i={}){const l=await Uo(n,e,t,a,i);return"mfaPendingCredential"in l&&Ms(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function g2(n,e,t,a){const i=`${e}${t}?${a}`,l=n,d=l.config.emulator?Y0(n.config,i):`${n.config.apiScheme}://${i}`;return UR.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(d).toString():d}function BR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(ni(this.auth,"network-request-failed")),zR.get())})}}function Xh(n,e,t){const a={appName:n.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const i=ni(n,e,a);return i.customData._tokenResponse=t,i}function N_(n){return n!==void 0&&n.enterprise!==void 0}class HR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return BR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qR(n,e){return Uo(n,"GET","/v2/recaptchaConfig",Cl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(n,e){return Uo(n,"POST","/v1/accounts:delete",e)}async function kf(n,e){return Uo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YR(n,e=!1){const t=Pr(n),a=await t.getIdToken(e),i=W0(a);vt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,d=l?.sign_in_provider;return{claims:i,token:a,authTime:nd(Mg(i.auth_time)),issuedAtTime:nd(Mg(i.iat)),expirationTime:nd(Mg(i.exp)),signInProvider:d||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Mg(n){return Number(n)*1e3}function W0(n){const[e,t,a]=n.split(".");if(e===void 0||t===void 0||a===void 0)return pf("JWT malformed, contained fewer than 3 sections"),null;try{const i=J1(t);return i?JSON.parse(i):(pf("Failed to decode base64 JWT payload"),null)}catch(i){return pf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function T_(n){const e=W0(n);return vt(e,"internal-error"),vt(typeof e.exp<"u","internal-error"),vt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(n,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof Li&&WR(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function WR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nd(this.lastLoginAt),this.creationTime=nd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(n){var e;const t=n.auth,a=await n.getIdToken(),i=await dd(n,kf(t,{idToken:a}));vt(i?.users.length,t,"internal-error");const l=i.users[0];n._notifyReloadListener(l);const d=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?y2(l.providerUserInfo):[],m=KR(n.providerData,d),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!m?.length,b=p?g:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new i0(l.createdAt,l.lastLoginAt),isAnonymous:b};Object.assign(n,_)}async function QR(n){const e=Pr(n);await Vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KR(n,e){return[...n.filter(a=>!e.some(i=>i.providerId===a.providerId)),...e]}function y2(n){return n.map(e=>{var{providerId:t}=e,a=q0(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(n,e){const t=await p2(n,{},async()=>{const a=Nd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=n.config,d=await g2(n,i,"/v1/token",`key=${l}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return n.emulatorConfig&&Hc(n.emulatorConfig.host)&&(p.credentials="include"),m2.fetch()(d,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ZR(n,e){return Uo(n,"POST","/v2/accounts:revokeToken",Cl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vt(e.idToken,"internal-error"),vt(typeof e.idToken<"u","internal-error"),vt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){vt(e.length!==0,"internal-error");const t=T_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:i,expiresIn:l}=await XR(e,t);this.updateTokensAndExpiration(a,i,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:i,expirationTime:l}=t,d=new Cc;return a&&(vt(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),i&&(vt(typeof i=="string","internal-error",{appName:e}),d.accessToken=i),l&&(vt(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cc,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(n,e){vt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Rs{constructor(e){var{uid:t,auth:a,stsTokenManager:i}=e,l=q0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new i0(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await dd(this,this.stsTokenManager.getToken(this.auth,e));return vt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YR(this,e)}reload(){return QR(this)}_assign(e){this!==e&&(vt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Vf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(As(this.auth.app))return Promise.reject(So(this.auth));const e=await this.getIdToken();return await dd(this,$R(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,i,l,d,m,p,g,b;const _=(a=t.displayName)!==null&&a!==void 0?a:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,D=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(d=t.photoURL)!==null&&d!==void 0?d:void 0,z=(m=t.tenantId)!==null&&m!==void 0?m:void 0,$=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ge=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:se,emailVerified:Ae,isAnonymous:fe,providerData:U,stsTokenManager:k}=t;vt(se&&k,e,"internal-error");const A=Cc.fromJSON(this.name,k);vt(typeof se=="string",e,"internal-error"),uo(_,e.name),uo(E,e.name),vt(typeof Ae=="boolean",e,"internal-error"),vt(typeof fe=="boolean",e,"internal-error"),uo(D,e.name),uo(O,e.name),uo(z,e.name),uo($,e.name),uo(K,e.name),uo(ge,e.name);const I=new Rs({uid:se,auth:e,email:E,emailVerified:Ae,displayName:_,isAnonymous:fe,photoURL:O,phoneNumber:D,tenantId:z,stsTokenManager:A,createdAt:K,lastLoginAt:ge});return U&&Array.isArray(U)&&(I.providerData=U.map(M=>Object.assign({},M))),$&&(I._redirectEventId=$),I}static async _fromIdTokenResponse(e,t,a=!1){const i=new Cc;i.updateFromServerResponse(t);const l=new Rs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:a});return await Vf(l),l}static async _fromGetAccountInfoResponse(e,t,a){const i=t.users[0];vt(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?y2(i.providerUserInfo):[],d=!(i.email&&i.passwordHash)&&!l?.length,m=new Cc;m.updateFromIdToken(a);const p=new Rs({uid:i.localId,auth:e,stsTokenManager:m,isAnonymous:d}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new i0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=new Map;function ji(n){Oi(n instanceof Function,"Expected a class definition");let e=S_.get(n);return e?(Oi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,S_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}v2.type="NONE";const C_=v2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ac{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:i,name:l}=this.auth;this.fullUserKey=gf(this.userKey,i.apiKey,l),this.fullPersistenceKey=gf("persistence",i.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await kf(this.auth,{idToken:e}).catch(()=>{});return t?Rs._fromGetAccountInfoResponse(this.auth,t,e):null}return Rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Ac(ji(C_),e,a);const i=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=i[0]||ji(C_);const d=gf(a,e.config.apiKey,e.name);let m=null;for(const g of t)try{const b=await g._get(d);if(b){let _;if(typeof b=="string"){const E=await kf(e,{idToken:b}).catch(()=>{});if(!E)break;_=await Rs._fromGetAccountInfoResponse(e,E,b)}else _=Rs._fromJSON(e,b);g!==l&&(m=_),l=g;break}}catch{}const p=i.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ac(l,e,a):(l=p[0],m&&await l._set(d,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(d)}catch{}})),new Ac(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N2(e))return"Blackberry";if(T2(e))return"Webos";if(b2(e))return"Safari";if((e.includes("chrome/")||_2(e))&&!e.includes("edge/"))return"Chrome";if(E2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(t);if(a?.length===2)return a[1]}return"Other"}function x2(n=Ta()){return/firefox\//i.test(n)}function b2(n=Ta()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _2(n=Ta()){return/crios\//i.test(n)}function w2(n=Ta()){return/iemobile/i.test(n)}function E2(n=Ta()){return/android/i.test(n)}function N2(n=Ta()){return/blackberry/i.test(n)}function T2(n=Ta()){return/webos/i.test(n)}function G0(n=Ta()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JR(n=Ta()){var e;return G0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ej(){return m4()&&document.documentMode===10}function S2(n=Ta()){return G0(n)||E2(n)||T2(n)||N2(n)||/windows phone/i.test(n)||w2(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n,e=[]){let t;switch(n){case"Browser":t=A_(Ta());break;case"Worker":t=`${A_(Ta())}-${n}`;break;default:t=n}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qc}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((d,m)=>{try{const p=e(l);d(p)}catch(p){m(p)}});a.onAbort=t,this.queue.push(a);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(n,e={}){return Uo(n,"GET","/v2/passwordPolicy",Cl(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=6;class aj{constructor(e){var t,a,i,l;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:rj,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,i,l,d,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(i=p.containsLowercaseLetter)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let i=0;i<e.length;i++)a=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,t,a,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R_(this),this.idTokenSubscription=new R_(this),this.beforeStateQueue=new tj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ji(t)),this._initializationPromise=this.queue(async()=>{var a,i,l;if(!this._deleted&&(this.persistenceManager=await Ac.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await kf(this,{idToken:e}),a=await Rs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(As(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let i=a,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===m)&&p?.user&&(i=p.user,l=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(i)}catch(d){i=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(As(this.app))return Promise.reject(So(this));const t=e?Pr(e):null;return t&&vt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&vt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return As(this.app)?Promise.reject(So(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return As(this.app)?Promise.reject(So(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nj(this),t=new aj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ed("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await ZR(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ji(e)||this._popupRedirectResolver;vt(t,this,"argument-error"),this.redirectPersistenceManager=await Ac.create(this,[ji(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,i){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,i);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(As(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&PR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function $c(n){return Pr(n)}class R_{constructor(e){this.auth=e,this.observer=null,this.addObserver=w4(t=>this.observer=t)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ij(n){cm=n}function A2(n){return cm.loadJS(n)}function oj(){return cm.recaptchaEnterpriseScript}function lj(){return cm.gapiScript}function cj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class uj{constructor(){this.enterprise=new dj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class dj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const hj="recaptcha-enterprise",R2="NO_RECAPTCHA";class fj{constructor(e){this.type=hj,this.auth=$c(e)}async verify(e="verify",t=!1){async function a(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,m)=>{qR(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new HR(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,d(g.siteKey)}}).catch(p=>{m(p)})})}function i(l,d,m){const p=window.grecaptcha;N_(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{d(g)}).catch(()=>{d(R2)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uj().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{a(this.auth).then(m=>{if(!t&&N_(window.grecaptcha))i(m,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=oj();p.length!==0&&(p+=m),A2(p).then(()=>{i(m,l,d)}).catch(g=>{d(g)})}}).catch(m=>{d(m)})})}}async function j_(n,e,t,a=!1,i=!1){const l=new fj(n);let d;if(i)d=R2;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function D_(n,e,t,a,i){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await j_(n,e,t,t==="getOobCode");return a(n,d)}else return a(n,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await j_(n,e,t,t==="getOobCode");return a(n,m)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(n,e){const t=H0(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),l=t.getOptions();if(bl(l,e??{}))return i;Ms(i,"already-initialized")}return t.initialize({options:e})}function pj(n,e){const t=e?.persistence||[],a=(Array.isArray(t)?t:[t]).map(ji);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(a,e?.popupRedirectResolver)}function gj(n,e,t){const a=$c(n);vt(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const i=!1,l=j2(e),{host:d,port:m}=yj(e),p=m===null?"":`:${m}`,g={url:`${l}//${d}${p}/`},b=Object.freeze({host:d,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(bl(g,a.config.emulator)&&bl(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Hc(d)?(r2(`${l}//${d}${p}`),a2("Auth",!0)):vj()}function j2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yj(n){const e=j2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(a);if(i){const l=i[1];return{host:l,port:M_(a.substr(l.length+1))}}else{const[l,d]=a.split(":");return{host:l,port:M_(d)}}}function M_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function vj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,t){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function xj(n,e){return Uo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj(n,e){return lm(n,"POST","/v1/accounts:signInWithPassword",Cl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(n,e){return lm(n,"POST","/v1/accounts:signInWithEmailLink",Cl(n,e))}async function wj(n,e){return lm(n,"POST","/v1/accounts:signInWithEmailLink",Cl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends Q0{constructor(e,t,a,i=null){super("password",a),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new hd(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new hd(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D_(e,t,"signInWithPassword",bj);case"emailLink":return _j(e,{email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D_(e,a,"signUpPassword",xj);case"emailLink":return wj(e,{idToken:t,email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(n,e){return lm(n,"POST","/v1/accounts:signInWithIdp",Cl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="http://localhost";class wl extends Q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ms("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:i}=t,l=q0(t,["providerId","signInMethod"]);if(!a||!i)return null;const d=new wl(a,i);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Rc(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Rc(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Rc(e,t)}buildRequest(){const e={requestUri:Ej,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tj(n){const e=Gu(Qu(n)).link,t=e?Gu(Qu(e)).deep_link_id:null,a=Gu(Qu(n)).deep_link_id;return(a?Gu(Qu(a)).link:null)||a||t||e||n}class K0{constructor(e){var t,a,i,l,d,m;const p=Gu(Qu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,b=(a=p.oobCode)!==null&&a!==void 0?a:null,_=Nj((i=p.mode)!==null&&i!==void 0?i:null);vt(g&&b&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=b,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(d=p.lang)!==null&&d!==void 0?d:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=Tj(e);try{return new K0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.providerId=Yc.PROVIDER_ID}static credential(e,t){return hd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=K0.parseLink(t);return vt(a,"argument-error"),hd._fromEmailAndCode(e,a.code,a.tenantId)}}Yc.PROVIDER_ID="password";Yc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends D2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Sd{constructor(){super("facebook.com")}static credential(e){return wl._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Sd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return yo.credential(t,a)}catch{return null}}}yo.GOOGLE_SIGN_IN_METHOD="google.com";yo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Sd{constructor(){super("github.com")}static credential(e){return wl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.GITHUB_SIGN_IN_METHOD="github.com";vo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Sd{constructor(){super("twitter.com")}static credential(e,t){return wl._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return xo.credential(t,a)}catch{return null}}}xo.TWITTER_SIGN_IN_METHOD="twitter.com";xo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,i=!1){const l=await Rs._fromIdTokenResponse(e,a,i),d=I_(a);return new Pc({user:l,providerId:d,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const i=I_(a);return new Pc({user:e,providerId:i,_tokenResponse:a,operationType:t})}}function I_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends Li{constructor(e,t,a,i){var l;super(t.code,t.message),this.operationType=a,this.user=i,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,i){return new Lf(e,t,a,i)}}function M2(n,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(n,l,e,a):l})}async function Sj(n,e,t=!1){const a=await dd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Pc._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(n,e,t=!1){const{auth:a}=n;if(As(a.app))return Promise.reject(So(a));const i="reauthenticate";try{const l=await dd(n,M2(a,i,e,n),t);vt(l.idToken,a,"internal-error");const d=W0(l.idToken);vt(d,a,"internal-error");const{sub:m}=d;return vt(n.uid===m,a,"user-mismatch"),Pc._forOperation(n,i,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ms(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(n,e,t=!1){if(As(n.app))return Promise.reject(So(n));const a="signIn",i=await M2(n,a,e),l=await Pc._fromIdTokenResponse(n,a,i);return t||await n._updateCurrentUser(l.user),l}async function Aj(n,e){return I2($c(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(n){const e=$c(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function jj(n,e,t){return As(n.app)?Promise.reject(So(n)):Aj(Pr(n),Yc.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Rj(n),a})}function Dj(n,e,t,a){return Pr(n).onIdTokenChanged(e,t,a)}function Mj(n,e,t){return Pr(n).beforeAuthStateChanged(e,t)}function Ij(n,e,t,a){return Pr(n).onAuthStateChanged(e,t,a)}const Uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=1e3,Oj=10;class O2 extends P2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),i=this.localCache[t];a!==i&&e(t,i,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const d=this.storage.getItem(a);!t&&this.localCache[a]===d||this.notifyListeners(a,d)},l=this.storage.getItem(a);ej()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Oj):i()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},Pj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}O2.type="LOCAL";const kj=O2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2 extends P2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}k2.type="SESSION";const V2=k2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const a=new um(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:i,data:l}=t.data,d=this.handlersMap[i];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:i});const m=Array.from(d).map(async g=>g(t.origin,l)),p=await Vj(m);t.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,d;return new Promise((m,p)=>{const g=X0("",20);i.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:i,onMessage(_){const E=_;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(E.data.response);break;default:clearTimeout(b),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(d),i.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[i.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function Uj(n){ri().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function zj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Bj(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Fj(){return L2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="firebaseLocalStorageDb",Hj=1,zf="firebaseLocalStorage",z2="fbase_key";class Cd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dm(n,e){return n.transaction([zf],e?"readwrite":"readonly").objectStore(zf)}function qj(){const n=indexedDB.deleteDatabase(U2);return new Cd(n).toPromise()}function o0(){const n=indexedDB.open(U2,Hj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(zf,{keyPath:z2})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(zf)?e(a):(a.close(),await qj(),e(await o0()))})})}async function P_(n,e,t){const a=dm(n,!0).put({[z2]:e,value:t});return new Cd(a).toPromise()}async function $j(n,e){const t=dm(n,!1).get(e),a=await new Cd(t).toPromise();return a===void 0?null:a.value}function O_(n,e){const t=dm(n,!0).delete(e);return new Cd(t).toPromise()}const Yj=800,Wj=3;class B2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await o0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>Wj)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=um._getInstance(Fj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await zj(),!this.activeServiceWorker)return;this.sender=new Lj(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Bj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await o0();return await P_(e,Uf,"1"),await O_(e,Uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>P_(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>$j(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>O_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=dm(i,!1).getAll();return new Cd(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)a.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!a.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Yj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B2.type="LOCAL";const Gj=B2;new Td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(n,e){return e?ji(e):(vt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends Q0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Rc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Kj(n){return I2(n.auth,new Z0(n),n.bypassAuthState)}function Xj(n){const{auth:e,user:t}=n;return vt(t,e,"internal-error"),Cj(t,new Z0(n),n.bypassAuthState)}async function Zj(n){const{auth:e,user:t}=n;return vt(t,e,"internal-error"),Sj(t,new Z0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t,a,i,l=!1){this.auth=e,this.resolver=a,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:i,tenantId:l,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kj;case"linkViaPopup":case"linkViaRedirect":return Zj;case"reauthViaPopup":case"reauthViaRedirect":return Xj;default:Ms(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=new Td(2e3,1e4);class wc extends F2{constructor(e,t,a,i,l){super(e,t,i,l),this.provider=a,this.authWindow=null,this.pollId=null,wc.currentPopupAction&&wc.currentPopupAction.cancel(),wc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vt(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=X0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Jj.get())};e()}}wc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="pendingRedirect",yf=new Map;class tD extends F2{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=yf.get(this.auth._key());if(!e){try{const a=await nD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}yf.set(this.auth._key(),e)}return this.bypassAuthState||yf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nD(n,e){const t=sD(e),a=aD(n);if(!await a._isAvailable())return!1;const i=await a._get(t)==="true";return await a._remove(t),i}function rD(n,e){yf.set(n._key(),e)}function aD(n){return ji(n._redirectPersistence)}function sD(n){return gf(eD,n.config.apiKey,n.name)}async function iD(n,e,t=!1){if(As(n.app))return Promise.reject(So(n));const a=$c(n),i=Qj(a,e),d=await new tD(a,i,t).execute();return d&&!t&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=10*60*1e3;class lD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!H2(e)){const i=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(ni(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oD&&this.cachedEventUids.clear(),this.cachedEventUids.has(k_(e))}saveEventToCache(e){this.cachedEventUids.add(k_(e)),this.lastProcessedEventTime=Date.now()}}function k_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function H2({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function cD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(n,e={}){return Uo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hD=/^https?/;async function fD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await uD(n);for(const t of e)try{if(mD(t))return}catch{}Ms(n,"unauthorized-domain")}function mD(n){const e=s0(),{protocol:t,hostname:a}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&a===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===a}if(!hD.test(t))return!1;if(dD.test(n))return a===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new Td(3e4,6e4);function V_(){const n=ri().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gD(n){return new Promise((e,t)=>{var a,i,l;function d(){V_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V_(),t(ni(n,"network-request-failed"))},timeout:pD.get()})}if(!((i=(a=ri().gapi)===null||a===void 0?void 0:a.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((l=ri().gapi)===null||l===void 0)&&l.load)d();else{const m=cj("iframefcb");return ri()[m]=()=>{gapi.load?d():t(ni(n,"network-request-failed"))},A2(`${lj()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw vf=null,e})}let vf=null;function yD(n){return vf=vf||gD(n),vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new Td(5e3,15e3),xD="__/auth/iframe",bD="emulator/auth/iframe",_D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ED(n){const e=n.config;vt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Y0(e,bD):`https://${n.config.authDomain}/${xD}`,a={apiKey:e.apiKey,appName:n.name,v:qc},i=wD.get(n.config.apiHost);i&&(a.eid=i);const l=n._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${Nd(a).slice(1)}`}async function ND(n){const e=await yD(n),t=ri().gapi;return vt(t,n,"internal-error"),e.open({where:document.body,url:ED(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_D,dontclear:!0},a=>new Promise(async(i,l)=>{await a.restyle({setHideOnLeave:!1});const d=ni(n,"network-request-failed"),m=ri().setTimeout(()=>{l(d)},vD.get());function p(){ri().clearTimeout(m),i(a)}a.ping(p).then(p,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SD=500,CD=600,AD="_blank",RD="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jD(n,e,t,a=SD,i=CD){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},TD),{width:a.toString(),height:i.toString(),top:l,left:d}),g=Ta().toLowerCase();t&&(m=_2(g)?AD:t),x2(g)&&(e=e||RD,p.scrollbars="yes");const b=Object.entries(p).reduce((E,[D,O])=>`${E}${D}=${O},`,"");if(JR(g)&&m!=="_self")return DD(e||"",m),new L_(null);const _=window.open(e||"",m,b);vt(_,n,"popup-blocked");try{_.focus()}catch{}return new L_(_)}function DD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="__/auth/handler",ID="emulator/auth/handler",PD=encodeURIComponent("fac");async function U_(n,e,t,a,i,l){vt(n.config.authDomain,n,"auth-domain-config-required"),vt(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:a,v:qc,eventId:i};if(e instanceof D2){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",_4(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,_]of Object.entries({}))d[b]=_}if(e instanceof Sd){const b=e.getScopes().filter(_=>_!=="");b.length>0&&(d.scopes=b.join(","))}n.tenantId&&(d.tid=n.tenantId);const m=d;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await n._getAppCheckToken(),g=p?`#${PD}=${encodeURIComponent(p)}`:"";return`${OD(n)}?${Nd(m).slice(1)}${g}`}function OD({config:n}){return n.emulator?Y0(n,ID):`https://${n.authDomain}/${MD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="webStorageSupport";class kD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V2,this._completeRedirectFn=iD,this._overrideRedirectResult=rD}async _openPopup(e,t,a,i){var l;Oi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const d=await U_(e,t,a,s0(),i);return jD(e,d,X0())}async _openRedirect(e,t,a,i){await this._originValidation(e);const l=await U_(e,t,a,s0(),i);return Uj(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:l}=this.eventManagers[t];return i?Promise.resolve(i):(Oi(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await ND(e),a=new lD(e);return t.register("authEvent",i=>(vt(i?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ig,{type:Ig},i=>{var l;const d=(l=i?.[0])===null||l===void 0?void 0:l[Ig];d!==void 0&&t(!!d),Ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return S2()||b2()||G0()}}const VD=kD;var z_="@firebase/auth",B_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zD(n){Ic(new _l("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C2(n)},g=new sj(a,i,l,p);return pj(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Ic(new _l("auth-internal",e=>{const t=$c(e.getProvider("auth").getImmediate());return(a=>new LD(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),To(z_,B_,UD(n)),To(z_,B_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=5*60,FD=n2("authIdTokenMaxAge")||BD;let F_=null;const HD=n=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>FD)return;const i=t?.token;F_!==i&&(F_=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qD(n=l2()){const e=H0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=mj(n,{popupRedirectResolver:VD,persistence:[Gj,kj,V2]}),a=n2("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const d=HD(l.toString());Mj(t,d,()=>d(t.currentUser)),Dj(t,m=>d(m))}}const i=e2("auth");return i&&gj(t,`http://${i}`),t}function $D(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ij({loadJS(n){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=e,a.onerror=i=>{const l=ni("internal-error");l.customData=i,t(l)},a.type="text/javascript",a.charset="UTF-8",$D().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zD("Browser");var YD="firebase",WD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */To(YD,WD,"app");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Co,q2;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function I(){}I.prototype=A.prototype,k.D=A.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(M,B,G){for(var V=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)V[Ee-2]=arguments[Ee];return A.prototype[B].apply(M,V)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,A,I){I||(I=0);var M=Array(16);if(typeof A=="string")for(var B=0;16>B;++B)M[B]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(B=0;16>B;++B)M[B]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=k.g[0],I=k.g[1],B=k.g[2];var G=k.g[3],V=A+(G^I&(B^G))+M[0]+3614090360&4294967295;A=I+(V<<7&4294967295|V>>>25),V=G+(B^A&(I^B))+M[1]+3905402710&4294967295,G=A+(V<<12&4294967295|V>>>20),V=B+(I^G&(A^I))+M[2]+606105819&4294967295,B=G+(V<<17&4294967295|V>>>15),V=I+(A^B&(G^A))+M[3]+3250441966&4294967295,I=B+(V<<22&4294967295|V>>>10),V=A+(G^I&(B^G))+M[4]+4118548399&4294967295,A=I+(V<<7&4294967295|V>>>25),V=G+(B^A&(I^B))+M[5]+1200080426&4294967295,G=A+(V<<12&4294967295|V>>>20),V=B+(I^G&(A^I))+M[6]+2821735955&4294967295,B=G+(V<<17&4294967295|V>>>15),V=I+(A^B&(G^A))+M[7]+4249261313&4294967295,I=B+(V<<22&4294967295|V>>>10),V=A+(G^I&(B^G))+M[8]+1770035416&4294967295,A=I+(V<<7&4294967295|V>>>25),V=G+(B^A&(I^B))+M[9]+2336552879&4294967295,G=A+(V<<12&4294967295|V>>>20),V=B+(I^G&(A^I))+M[10]+4294925233&4294967295,B=G+(V<<17&4294967295|V>>>15),V=I+(A^B&(G^A))+M[11]+2304563134&4294967295,I=B+(V<<22&4294967295|V>>>10),V=A+(G^I&(B^G))+M[12]+1804603682&4294967295,A=I+(V<<7&4294967295|V>>>25),V=G+(B^A&(I^B))+M[13]+4254626195&4294967295,G=A+(V<<12&4294967295|V>>>20),V=B+(I^G&(A^I))+M[14]+2792965006&4294967295,B=G+(V<<17&4294967295|V>>>15),V=I+(A^B&(G^A))+M[15]+1236535329&4294967295,I=B+(V<<22&4294967295|V>>>10),V=A+(B^G&(I^B))+M[1]+4129170786&4294967295,A=I+(V<<5&4294967295|V>>>27),V=G+(I^B&(A^I))+M[6]+3225465664&4294967295,G=A+(V<<9&4294967295|V>>>23),V=B+(A^I&(G^A))+M[11]+643717713&4294967295,B=G+(V<<14&4294967295|V>>>18),V=I+(G^A&(B^G))+M[0]+3921069994&4294967295,I=B+(V<<20&4294967295|V>>>12),V=A+(B^G&(I^B))+M[5]+3593408605&4294967295,A=I+(V<<5&4294967295|V>>>27),V=G+(I^B&(A^I))+M[10]+38016083&4294967295,G=A+(V<<9&4294967295|V>>>23),V=B+(A^I&(G^A))+M[15]+3634488961&4294967295,B=G+(V<<14&4294967295|V>>>18),V=I+(G^A&(B^G))+M[4]+3889429448&4294967295,I=B+(V<<20&4294967295|V>>>12),V=A+(B^G&(I^B))+M[9]+568446438&4294967295,A=I+(V<<5&4294967295|V>>>27),V=G+(I^B&(A^I))+M[14]+3275163606&4294967295,G=A+(V<<9&4294967295|V>>>23),V=B+(A^I&(G^A))+M[3]+4107603335&4294967295,B=G+(V<<14&4294967295|V>>>18),V=I+(G^A&(B^G))+M[8]+1163531501&4294967295,I=B+(V<<20&4294967295|V>>>12),V=A+(B^G&(I^B))+M[13]+2850285829&4294967295,A=I+(V<<5&4294967295|V>>>27),V=G+(I^B&(A^I))+M[2]+4243563512&4294967295,G=A+(V<<9&4294967295|V>>>23),V=B+(A^I&(G^A))+M[7]+1735328473&4294967295,B=G+(V<<14&4294967295|V>>>18),V=I+(G^A&(B^G))+M[12]+2368359562&4294967295,I=B+(V<<20&4294967295|V>>>12),V=A+(I^B^G)+M[5]+4294588738&4294967295,A=I+(V<<4&4294967295|V>>>28),V=G+(A^I^B)+M[8]+2272392833&4294967295,G=A+(V<<11&4294967295|V>>>21),V=B+(G^A^I)+M[11]+1839030562&4294967295,B=G+(V<<16&4294967295|V>>>16),V=I+(B^G^A)+M[14]+4259657740&4294967295,I=B+(V<<23&4294967295|V>>>9),V=A+(I^B^G)+M[1]+2763975236&4294967295,A=I+(V<<4&4294967295|V>>>28),V=G+(A^I^B)+M[4]+1272893353&4294967295,G=A+(V<<11&4294967295|V>>>21),V=B+(G^A^I)+M[7]+4139469664&4294967295,B=G+(V<<16&4294967295|V>>>16),V=I+(B^G^A)+M[10]+3200236656&4294967295,I=B+(V<<23&4294967295|V>>>9),V=A+(I^B^G)+M[13]+681279174&4294967295,A=I+(V<<4&4294967295|V>>>28),V=G+(A^I^B)+M[0]+3936430074&4294967295,G=A+(V<<11&4294967295|V>>>21),V=B+(G^A^I)+M[3]+3572445317&4294967295,B=G+(V<<16&4294967295|V>>>16),V=I+(B^G^A)+M[6]+76029189&4294967295,I=B+(V<<23&4294967295|V>>>9),V=A+(I^B^G)+M[9]+3654602809&4294967295,A=I+(V<<4&4294967295|V>>>28),V=G+(A^I^B)+M[12]+3873151461&4294967295,G=A+(V<<11&4294967295|V>>>21),V=B+(G^A^I)+M[15]+530742520&4294967295,B=G+(V<<16&4294967295|V>>>16),V=I+(B^G^A)+M[2]+3299628645&4294967295,I=B+(V<<23&4294967295|V>>>9),V=A+(B^(I|~G))+M[0]+4096336452&4294967295,A=I+(V<<6&4294967295|V>>>26),V=G+(I^(A|~B))+M[7]+1126891415&4294967295,G=A+(V<<10&4294967295|V>>>22),V=B+(A^(G|~I))+M[14]+2878612391&4294967295,B=G+(V<<15&4294967295|V>>>17),V=I+(G^(B|~A))+M[5]+4237533241&4294967295,I=B+(V<<21&4294967295|V>>>11),V=A+(B^(I|~G))+M[12]+1700485571&4294967295,A=I+(V<<6&4294967295|V>>>26),V=G+(I^(A|~B))+M[3]+2399980690&4294967295,G=A+(V<<10&4294967295|V>>>22),V=B+(A^(G|~I))+M[10]+4293915773&4294967295,B=G+(V<<15&4294967295|V>>>17),V=I+(G^(B|~A))+M[1]+2240044497&4294967295,I=B+(V<<21&4294967295|V>>>11),V=A+(B^(I|~G))+M[8]+1873313359&4294967295,A=I+(V<<6&4294967295|V>>>26),V=G+(I^(A|~B))+M[15]+4264355552&4294967295,G=A+(V<<10&4294967295|V>>>22),V=B+(A^(G|~I))+M[6]+2734768916&4294967295,B=G+(V<<15&4294967295|V>>>17),V=I+(G^(B|~A))+M[13]+1309151649&4294967295,I=B+(V<<21&4294967295|V>>>11),V=A+(B^(I|~G))+M[4]+4149444226&4294967295,A=I+(V<<6&4294967295|V>>>26),V=G+(I^(A|~B))+M[11]+3174756917&4294967295,G=A+(V<<10&4294967295|V>>>22),V=B+(A^(G|~I))+M[2]+718787259&4294967295,B=G+(V<<15&4294967295|V>>>17),V=I+(G^(B|~A))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+B&4294967295,k.g[3]=k.g[3]+G&4294967295}a.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var I=A-this.blockSize,M=this.B,B=this.h,G=0;G<A;){if(B==0)for(;G<=I;)i(this,k,G),G+=this.blockSize;if(typeof k=="string"){for(;G<A;)if(M[B++]=k.charCodeAt(G++),B==this.blockSize){i(this,M),B=0;break}}else for(;G<A;)if(M[B++]=k[G++],B==this.blockSize){i(this,M),B=0;break}}this.h=B,this.o+=A},a.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var I=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=I&255,I/=256;for(this.u(k),k=Array(16),A=I=0;4>A;++A)for(var M=0;32>M;M+=8)k[I++]=this.g[A]>>>M&255;return k};function l(k,A){var I=m;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=A(k)}function d(k,A){this.h=A;for(var I=[],M=!0,B=k.length-1;0<=B;B--){var G=k[B]|0;M&&G==A||(I[B]=G,M=!1)}this.g=I}var m={};function p(k){return-128<=k&&128>k?l(k,function(A){return new d([A|0],0>A?-1:0)}):new d([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return $(g(-k));for(var A=[],I=1,M=0;k>=I;M++)A[M]=k/I|0,I*=4294967296;return new d(A,0)}function b(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return $(b(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(A,8)),M=_,B=0;B<k.length;B+=8){var G=Math.min(8,k.length-B),V=parseInt(k.substring(B,B+G),A);8>G?(G=g(Math.pow(A,G)),M=M.j(G).add(g(V))):(M=M.j(I),M=M.add(g(V)))}return M}var _=p(0),E=p(1),D=p(16777216);n=d.prototype,n.m=function(){if(z(this))return-$(this).m();for(var k=0,A=1,I=0;I<this.g.length;I++){var M=this.i(I);k+=(0<=M?M:4294967296+M)*A,A*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(z(this))return"-"+$(this).toString(k);for(var A=g(Math.pow(k,6)),I=this,M="";;){var B=Ae(I,A).g;I=K(I,B.j(A));var G=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=B,O(I))return G+M;for(;6>G.length;)G="0"+G;M=G+M}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function z(k){return k.h==-1}n.l=function(k){return k=K(this,k),z(k)?-1:O(k)?0:1};function $(k){for(var A=k.g.length,I=[],M=0;M<A;M++)I[M]=~k.g[M];return new d(I,~k.h).add(E)}n.abs=function(){return z(this)?$(this):this},n.add=function(k){for(var A=Math.max(this.g.length,k.g.length),I=[],M=0,B=0;B<=A;B++){var G=M+(this.i(B)&65535)+(k.i(B)&65535),V=(G>>>16)+(this.i(B)>>>16)+(k.i(B)>>>16);M=V>>>16,G&=65535,V&=65535,I[B]=V<<16|G}return new d(I,I[I.length-1]&-2147483648?-1:0)};function K(k,A){return k.add($(A))}n.j=function(k){if(O(this)||O(k))return _;if(z(this))return z(k)?$(this).j($(k)):$($(this).j(k));if(z(k))return $(this.j($(k)));if(0>this.l(D)&&0>k.l(D))return g(this.m()*k.m());for(var A=this.g.length+k.g.length,I=[],M=0;M<2*A;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var B=0;B<k.g.length;B++){var G=this.i(M)>>>16,V=this.i(M)&65535,Ee=k.i(B)>>>16,ve=k.i(B)&65535;I[2*M+2*B]+=V*ve,ge(I,2*M+2*B),I[2*M+2*B+1]+=G*ve,ge(I,2*M+2*B+1),I[2*M+2*B+1]+=V*Ee,ge(I,2*M+2*B+1),I[2*M+2*B+2]+=G*Ee,ge(I,2*M+2*B+2)}for(M=0;M<A;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=A;M<2*A;M++)I[M]=0;return new d(I,0)};function ge(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function se(k,A){this.g=k,this.h=A}function Ae(k,A){if(O(A))throw Error("division by zero");if(O(k))return new se(_,_);if(z(k))return A=Ae($(k),A),new se($(A.g),$(A.h));if(z(A))return A=Ae(k,$(A)),new se($(A.g),A.h);if(30<k.g.length){if(z(k)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var I=E,M=A;0>=M.l(k);)I=fe(I),M=fe(M);var B=U(I,1),G=U(M,1);for(M=U(M,2),I=U(I,2);!O(M);){var V=G.add(M);0>=V.l(k)&&(B=B.add(I),G=V),M=U(M,1),I=U(I,1)}return A=K(k,B.j(A)),new se(B,A)}for(B=_;0<=k.l(A);){for(I=Math.max(1,Math.floor(k.m()/A.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),G=g(I),V=G.j(A);z(V)||0<V.l(k);)I-=M,G=g(I),V=G.j(A);O(G)&&(G=E),B=B.add(G),k=K(k,V)}return new se(B,k)}n.A=function(k){return Ae(this,k).h},n.and=function(k){for(var A=Math.max(this.g.length,k.g.length),I=[],M=0;M<A;M++)I[M]=this.i(M)&k.i(M);return new d(I,this.h&k.h)},n.or=function(k){for(var A=Math.max(this.g.length,k.g.length),I=[],M=0;M<A;M++)I[M]=this.i(M)|k.i(M);return new d(I,this.h|k.h)},n.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),I=[],M=0;M<A;M++)I[M]=this.i(M)^k.i(M);return new d(I,this.h^k.h)};function fe(k){for(var A=k.g.length+1,I=[],M=0;M<A;M++)I[M]=k.i(M)<<1|k.i(M-1)>>>31;return new d(I,k.h)}function U(k,A){var I=A>>5;A%=32;for(var M=k.g.length-I,B=[],G=0;G<M;G++)B[G]=0<A?k.i(G+I)>>>A|k.i(G+I+1)<<32-A:k.i(G+I);return new d(B,k.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,q2=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=b,Co=d}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $2,Ku,Y2,xf,l0,W2,G2,Q2;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,w){return h==Array.prototype||h==Object.prototype||(h[x]=w.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var x=0;x<h.length;++x){var w=h[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var a=t(this);function i(h,x){if(x)e:{var w=a;h=h.split(".");for(var R=0;R<h.length-1;R++){var re=h[R];if(!(re in w))break e;w=w[re]}h=h[h.length-1],R=w[h],x=x(R),x!=R&&x!=null&&e(w,h,{configurable:!0,writable:!0,value:x})}}function l(h,x){h instanceof String&&(h+="");var w=0,R=!1,re={next:function(){if(!R&&w<h.length){var pe=w++;return{value:x(pe,h[pe]),done:!1}}return R=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}i("Array.prototype.values",function(h){return h||function(){return l(this,function(x,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function g(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function b(h,x,w){return h.call.apply(h.bind,arguments)}function _(h,x,w){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,R),h.apply(x,re)}}return function(){return h.apply(x,arguments)}}function E(h,x,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:_,E.apply(null,arguments)}function D(h,x){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function O(h,x){function w(){}w.prototype=x.prototype,h.aa=x.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(R,re,pe){for(var Me=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)Me[Ft-2]=arguments[Ft];return x.prototype[re].apply(R,Me)}}function z(h){const x=h.length;if(0<x){const w=Array(x);for(let R=0;R<x;R++)w[R]=h[R];return w}return[]}function $(h,x){for(let w=1;w<arguments.length;w++){const R=arguments[w];if(p(R)){const re=h.length||0,pe=R.length||0;h.length=re+pe;for(let Me=0;Me<pe;Me++)h[re+Me]=R[Me]}else h.push(R)}}class K{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function ge(h){return/^[\s\xa0]*$/.test(h)}function se(){var h=m.navigator;return h&&(h=h.userAgent)?h:""}function Ae(h){return Ae[" "](h),h}Ae[" "]=function(){};var fe=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function U(h,x,w){for(const R in h)x.call(w,h[R],R,h)}function k(h,x){for(const w in h)x.call(void 0,h[w],w,h)}function A(h){const x={};for(const w in h)x[w]=h[w];return x}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,x){let w,R;for(let re=1;re<arguments.length;re++){R=arguments[re];for(w in R)h[w]=R[w];for(let pe=0;pe<I.length;pe++)w=I[pe],Object.prototype.hasOwnProperty.call(R,w)&&(h[w]=R[w])}}function B(h){var x=1;h=h.split(":");const w=[];for(;0<x&&h.length;)w.push(h.shift()),x--;return h.length&&w.push(h.join(":")),w}function G(h){m.setTimeout(()=>{throw h},0)}function V(){var h=Ce;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class Ee{constructor(){this.h=this.g=null}add(x,w){const R=ve.get();R.set(x,w),this.h?this.h.next=R:this.g=R,this.h=R}}var ve=new K(()=>new F,h=>h.reset());class F{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ce=!1,Ce=new Ee,P=()=>{const h=m.Promise.resolve(void 0);le=()=>{h.then(oe)}};var oe=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(w){G(w)}var x=ve;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}ce=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};m.addEventListener("test",w,x),m.removeEventListener("test",w,x)}catch{}return h}();function qe(h,x){if(me.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(fe){e:{try{Ae(x.nodeName);var re=!0;break e}catch{}re=!1}re||(x=null)}}else w=="mouseover"?x=h.fromElement:w=="mouseout"&&(x=h.toElement);this.relatedTarget=x,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ye[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&qe.aa.h.call(this)}}O(qe,me);var Ye={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),jt=0;function dt(h,x,w,R,re){this.listener=h,this.proxy=null,this.src=x,this.type=w,this.capture=!!R,this.ha=re,this.key=++jt,this.da=this.fa=!1}function Tt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function on(h){this.src=h,this.g={},this.h=0}on.prototype.add=function(h,x,w,R,re){var pe=h.toString();h=this.g[pe],h||(h=this.g[pe]=[],this.h++);var Me=Ge(h,x,R,re);return-1<Me?(x=h[Me],w||(x.fa=!1)):(x=new dt(x,this.src,pe,!!R,re),x.fa=w,h.push(x)),x};function Tn(h,x){var w=x.type;if(w in h.g){var R=h.g[w],re=Array.prototype.indexOf.call(R,x,void 0),pe;(pe=0<=re)&&Array.prototype.splice.call(R,re,1),pe&&(Tt(x),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Ge(h,x,w,R){for(var re=0;re<h.length;++re){var pe=h[re];if(!pe.da&&pe.listener==x&&pe.capture==!!w&&pe.ha==R)return re}return-1}var _t="closure_lm_"+(1e6*Math.random()|0),ha={};function Ia(h,x,w,R,re){if(Array.isArray(x)){for(var pe=0;pe<x.length;pe++)Ia(h,x[pe],w,R,re);return null}return w=fa(w),h&&h[Mt]?h.K(x,w,g(R)?!!R.capture:!1,re):In(h,x,w,!1,R,re)}function In(h,x,w,R,re,pe){if(!x)throw Error("Invalid event type");var Me=g(re)?!!re.capture:!!re,Ft=Vn(h);if(Ft||(h[_t]=Ft=new on(h)),w=Ft.add(x,w,R,Me,pe),w.proxy)return w;if(R=$r(),w.proxy=R,R.src=h,R.listener=w,h.addEventListener)De||(re=Me),re===void 0&&(re=!1),h.addEventListener(x.toString(),R,re);else if(h.attachEvent)h.attachEvent(Yr(x.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function $r(){function h(w){return x.call(h.src,h.listener,w)}const x=ir;return h}function mr(h,x,w,R,re){if(Array.isArray(x))for(var pe=0;pe<x.length;pe++)mr(h,x[pe],w,R,re);else R=g(R)?!!R.capture:!!R,w=fa(w),h&&h[Mt]?(h=h.i,x=String(x).toString(),x in h.g&&(pe=h.g[x],w=Ge(pe,w,R,re),-1<w&&(Tt(pe[w]),Array.prototype.splice.call(pe,w,1),pe.length==0&&(delete h.g[x],h.h--)))):h&&(h=Vn(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Ge(x,w,R,re)),(w=-1<h?x[h]:null)&&Nr(w))}function Nr(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Mt])Tn(x.i,h);else{var w=h.type,R=h.proxy;x.removeEventListener?x.removeEventListener(w,R,h.capture):x.detachEvent?x.detachEvent(Yr(w),R):x.addListener&&x.removeListener&&x.removeListener(R),(w=Vn(x))?(Tn(w,h),w.h==0&&(w.src=null,x[_t]=null)):Tt(h)}}}function Yr(h){return h in ha?ha[h]:ha[h]="on"+h}function ir(h,x){if(h.da)h=!0;else{x=new qe(x,this);var w=h.listener,R=h.ha||h.src;h.fa&&Nr(h),h=w.call(R,x)}return h}function Vn(h){return h=h[_t],h instanceof on?h:null}var Wr="__closure_events_fn_"+(1e9*Math.random()>>>0);function fa(h){return typeof h=="function"?h:(h[Wr]||(h[Wr]=function(x){return h.handleEvent(x)}),h[Wr])}function It(){be.call(this),this.i=new on(this),this.M=this,this.F=null}O(It,be),It.prototype[Mt]=!0,It.prototype.removeEventListener=function(h,x,w,R){mr(this,h,x,w,R)};function Xe(h,x){var w,R=h.F;if(R)for(w=[];R;R=R.F)w.push(R);if(h=h.M,R=x.type||x,typeof x=="string")x=new me(x,h);else if(x instanceof me)x.target=x.target||h;else{var re=x;x=new me(R,h),M(x,re)}if(re=!0,w)for(var pe=w.length-1;0<=pe;pe--){var Me=x.g=w[pe];re=mn(Me,R,!0,x)&&re}if(Me=x.g=h,re=mn(Me,R,!0,x)&&re,re=mn(Me,R,!1,x)&&re,w)for(pe=0;pe<w.length;pe++)Me=x.g=w[pe],re=mn(Me,R,!1,x)&&re}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var w=h.g[x],R=0;R<w.length;R++)Tt(w[R]);delete h.g[x],h.h--}}this.F=null},It.prototype.K=function(h,x,w,R){return this.i.add(String(h),x,!1,w,R)},It.prototype.L=function(h,x,w,R){return this.i.add(String(h),x,!0,w,R)};function mn(h,x,w,R){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var re=!0,pe=0;pe<x.length;++pe){var Me=x[pe];if(Me&&!Me.da&&Me.capture==w){var Ft=Me.listener,er=Me.ha||Me.src;Me.fa&&Tn(h.i,Me),re=Ft.call(er,R)!==!1&&re}}return re&&!R.defaultPrevented}function Sn(h,x,w){if(typeof h=="function")w&&(h=E(h,w));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:m.setTimeout(h,x||0)}function ta(h){h.g=Sn(()=>{h.g=null,h.i&&(h.i=!1,ta(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Xn extends be{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ta(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(h){be.call(this),this.h=h,this.g={}}O(Tr,be);var nt=[];function or(h){U(h.g,function(x,w){this.g.hasOwnProperty(w)&&Nr(x)},h),h.g={}}Tr.prototype.N=function(){Tr.aa.N.call(this),or(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=m.JSON.stringify,Or=m.JSON.parse,pr=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function ht(){}ht.prototype.h=null;function Vt(h){return h.h||(h.h=h.i())}function wt(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yn(){me.call(this,"d")}O(yn,me);function Sr(){me.call(this,"c")}O(Sr,me);var Ut={},xn=null;function Et(){return xn=xn||new It}Ut.La="serverreachability";function na(h){me.call(this,Ut.La,h)}O(na,me);function q(h){const x=Et();Xe(x,new na(x))}Ut.STAT_EVENT="statevent";function te(h,x){me.call(this,Ut.STAT_EVENT,h),this.stat=x}O(te,me);function ne(h){const x=Et();Xe(x,new te(x,h))}Ut.Ma="timingevent";function ye(h,x){me.call(this,Ut.Ma,h),this.size=x}O(ye,me);function Se(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},x)}function ke(){this.g=!0}ke.prototype.xa=function(){this.g=!1};function Je(h,x,w,R,re,pe){h.info(function(){if(h.g)if(pe)for(var Me="",Ft=pe.split("&"),er=0;er<Ft.length;er++){var Qt=Ft[er].split("=");if(1<Qt.length){var Yn=Qt[0];Qt=Qt[1];var Wn=Yn.split("_");Me=2<=Wn.length&&Wn[1]=="type"?Me+(Yn+"="+Qt+"&"):Me+(Yn+"=redacted&")}}else Me=null;else Me=pe;return"XMLHTTP REQ ("+R+") [attempt "+re+"]: "+x+`
`+w+`
`+Me})}function Ue(h,x,w,R,re,pe,Me){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+re+"]: "+x+`
`+w+`
`+pe+" "+Me})}function Fe(h,x,w,R){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+it(h,w)+(R?" "+R:"")})}function We(h,x){h.info(function(){return"TIMEOUT: "+x})}ke.prototype.info=function(){};function it(h,x){if(!h.g)return x;if(!x)return null;try{var w=JSON.parse(x);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var R=w[h];if(!(2>R.length)){var re=R[1];if(Array.isArray(re)&&!(1>re.length)){var pe=re[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Me=1;Me<re.length;Me++)re[Me]=""}}}}return Zn(w)}catch{return x}}var et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ot={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ze;function Nt(){}O(Nt,ht),Nt.prototype.g=function(){return new XMLHttpRequest},Nt.prototype.i=function(){return{}},Ze=new Nt;function Dt(h,x,w,R){this.j=h,this.i=x,this.l=w,this.R=R||1,this.U=new Tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lt}function lt(){this.i=null,this.g="",this.h=!1}var He={},gr={};function Ln(h,x,w){h.L=1,h.v=Ha(Ar(x)),h.m=w,h.P=!0,yr(h,null)}function yr(h,x){h.F=Date.now(),Un(h),h.A=Ar(h.v);var w=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),bs(w.i,"t",R),h.C=0,w=h.j.J,h.h=new lt,h.g=Es(h.j,w?x:null,!h.m),0<h.O&&(h.M=new Xn(E(h.Y,h,h.g),h.O)),x=h.U,w=h.g,R=h.ca;var re="readystatechange";Array.isArray(re)||(re&&(nt[0]=re.toString()),re=nt);for(var pe=0;pe<re.length;pe++){var Me=Ia(w,re[pe],R||x.handleEvent,!1,x.h||x);if(!Me)break;x.g[Me.key]=Me}x=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),q(),Je(h.i,h.u,h.A,h.l,h.R,h.m)}Dt.prototype.ca=function(h){h=h.target;const x=this.M;x&&pn(h)==3?x.j():this.Y(h)},Dt.prototype.Y=function(h){try{if(h==this.g)e:{const Wn=pn(this.g);var x=this.g.Ba();const Ns=this.g.Z();if(!(3>Wn)&&(Wn!=3||this.g&&(this.h.h||this.g.oa()||Ls(this.g)))){this.J||Wn!=4||x==7||(x==8||0>=Ns?q(3):q(2)),at(this);var w=this.g.Z();this.X=w;t:if(Fn(this)){var R=Ls(this.g);h="";var re=R.length,pe=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ft(this),lr(this);var Me="";break t}this.h.i=new m.TextDecoder}for(x=0;x<re;x++)this.h.h=!0,h+=this.h.i.decode(R[x],{stream:!(pe&&x==re-1)});R.length=0,this.h.g+=h,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=w==200,Ue(this.i,this.u,this.A,this.l,this.R,Wn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ft,er=this.g;if((Ft=er.g?er.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(Ft)){var Qt=Ft;break t}}Qt=null}if(w=Qt)Fe(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,An(this,w);else{this.o=!1,this.s=3,ne(12),ft(this),lr(this);break e}}if(this.P){w=!0;let Lr;for(;!this.J&&this.C<Me.length;)if(Lr=nn(this,Me),Lr==gr){Wn==4&&(this.s=4,ne(14),w=!1),Fe(this.i,this.l,null,"[Incomplete Response]");break}else if(Lr==He){this.s=4,ne(15),Fe(this.i,this.l,Me,"[Invalid Chunk]"),w=!1;break}else Fe(this.i,this.l,Lr,null),An(this,Lr);if(Fn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wn!=4||Me.length!=0||this.h.h||(this.s=1,ne(16),w=!1),this.o=this.o&&w,!w)Fe(this.i,this.l,Me,"[Invalid Chunked Response]"),ft(this),lr(this);else if(0<Me.length&&!this.W){this.W=!0;var Yn=this.j;Yn.g==this&&Yn.ba&&!Yn.M&&(Yn.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),Bs(Yn),Yn.M=!0,ne(11))}}else Fe(this.i,this.l,Me,null),An(this,Me);Wn==4&&ft(this),this.o&&!this.J&&(Wn==4?Bi(this.j,this):(this.o=!1,Un(this)))}else Ya(this.g),w==400&&0<Me.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),ft(this),lr(this)}}}catch{}finally{}};function Fn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function nn(h,x){var w=h.C,R=x.indexOf(`
`,w);return R==-1?gr:(w=Number(x.substring(w,R)),isNaN(w)?He:(R+=1,R+w>x.length?gr:(x=x.slice(R,R+w),h.C=R+w,x)))}Dt.prototype.cancel=function(){this.J=!0,ft(this)};function Un(h){h.S=Date.now()+h.I,Sa(h,h.I)}function Sa(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Se(E(h.ba,h),x)}function at(h){h.B&&(m.clearTimeout(h.B),h.B=null)}Dt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(We(this.i,this.A),this.L!=2&&(q(),ne(17)),ft(this),this.s=2,lr(this)):Sa(this,this.S-h)};function lr(h){h.j.G==0||h.J||Bi(h.j,h)}function ft(h){at(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,or(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function An(h,x){try{var w=h.j;if(w.G!=0&&(w.g==h||Gt(w.h,h))){if(!h.K&&Gt(w.h,h)&&w.G==3){try{var R=w.Da.g.parse(x)}catch{R=null}if(Array.isArray(R)&&R.length==3){var re=R;if(re[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)mi(w),zi(w);else break e;fi(w),ne(18)}}else w.za=re[1],0<w.za-w.T&&37500>re[2]&&w.F&&w.v==0&&!w.C&&(w.C=Se(E(w.Za,w),6e3));if(1>=dn(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Wa(w,11)}else if((h.K||w.g==h)&&mi(w),!ge(x))for(re=w.Da.g.parse(x),x=0;x<re.length;x++){let Qt=re[x];if(w.T=Qt[0],Qt=Qt[1],w.G==2)if(Qt[0]=="c"){w.K=Qt[1],w.ia=Qt[2];const Yn=Qt[3];Yn!=null&&(w.la=Yn,w.j.info("VER="+w.la));const Wn=Qt[4];Wn!=null&&(w.Aa=Wn,w.j.info("SVER="+w.Aa));const Ns=Qt[5];Ns!=null&&typeof Ns=="number"&&0<Ns&&(R=1.5*Ns,w.L=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const Lr=h.g;if(Lr){const ls=Lr.g?Lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ls){var pe=R.h;pe.g||ls.indexOf("spdy")==-1&&ls.indexOf("quic")==-1&&ls.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(kr(pe,pe.h),pe.h=null))}if(R.D){const Qo=Lr.g?Lr.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(R.ya=Qo,ln(R.I,R.D,Qo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),R=w;var Me=h;if(R.qa=ws(R,R.J?R.ia:null,R.W),Me.K){bn(R.h,Me);var Ft=Me,er=R.L;er&&(Ft.I=er),Ft.B&&(at(Ft),Un(Ft)),R.g=Me}else Ml(R);0<w.i.length&&hi(w)}else Qt[0]!="stop"&&Qt[0]!="close"||Wa(w,7);else w.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Wa(w,7):Ho(w):Qt[0]!="noop"&&w.l&&w.l.ta(Qt),w.v=0)}}q(4)}catch{}}var cr=class{constructor(h,x){this.g=h,this.map=x}};function Hn(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ke(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function dn(h){return h.h?1:h.g?h.g.size:0}function Gt(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function kr(h,x){h.g?h.g.add(x):h.h=x}function bn(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Hn.prototype.cancel=function(){if(this.i=Ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ba(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const w of h.g.values())x=x.concat(w.D);return x}return z(h.i)}function ur(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var x=[],w=h.length,R=0;R<w;R++)x.push(h[R]);return x}x=[],w=0;for(R in h)x[w++]=h[R];return x}function ma(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var x=[];h=h.length;for(var w=0;w<h;w++)x.push(w);return x}x=[],w=0;for(const R in h)x[w++]=R;return x}}}function qn(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var w=ma(h),R=ur(h),re=R.length,pe=0;pe<re;pe++)x.call(void 0,R[pe],w&&w[pe],h)}var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cr(h,x){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var R=h[w].indexOf("="),re=null;if(0<=R){var pe=h[w].substring(0,R);re=h[w].substring(R+1)}else pe=h[w];x(pe,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Pn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Pn){this.h=h.h,Fa(this,h.j),this.o=h.o,this.g=h.g,as(this,h.s),this.l=h.l;var x=h.i,w=new Aa;w.i=x.i,x.g&&(w.g=new Map(x.g),w.h=x.h),pa(this,w),this.m=h.m}else h&&(x=String(h).match(Ca))?(this.h=!1,Fa(this,x[1]||"",!0),this.o=dr(x[2]||""),this.g=dr(x[3]||"",!0),as(this,x[4]),this.l=dr(x[5]||"",!0),pa(this,x[6]||"",!0),this.m=dr(x[7]||"")):(this.h=!1,this.i=new Aa(null,this.h))}Pn.prototype.toString=function(){var h=[],x=this.j;x&&h.push(Pa(x,ks,!0),":");var w=this.g;return(w||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Pa(x,ks,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Pa(w,w.charAt(0)=="/"?xs:di,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Pa(w,Vs)),h.join("")};function Ar(h){return new Pn(h)}function Fa(h,x,w){h.j=w?dr(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function as(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function pa(h,x,w){x instanceof Aa?(h.i=x,ss(h.i,h.h)):(w||(x=Pa(x,Fo)),h.i=new Aa(x,h.h))}function ln(h,x,w){h.i.set(x,w)}function Ha(h){return ln(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function dr(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Pa(h,x,w){return typeof h=="string"?(h=encodeURI(h).replace(x,qa),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function qa(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ks=/[#\/\?@]/g,di=/[#\?:]/g,xs=/[#\?]/g,Fo=/[#\?@]/g,Vs=/#/g;function Aa(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function vr(h){h.g||(h.g=new Map,h.h=0,h.i&&Cr(h.i,function(x,w){h.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}n=Aa.prototype,n.add=function(h,x){vr(this),this.i=null,h=ga(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(x),this.h+=1,this};function St(h,x){vr(h),x=ga(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Jn(h,x){return vr(h),x=ga(h,x),h.g.has(x)}n.forEach=function(h,x){vr(this),this.g.forEach(function(w,R){w.forEach(function(re){h.call(x,re,R,this)},this)},this)},n.na=function(){vr(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),w=[];for(let R=0;R<x.length;R++){const re=h[R];for(let pe=0;pe<re.length;pe++)w.push(x[R])}return w},n.V=function(h){vr(this);let x=[];if(typeof h=="string")Jn(this,h)&&(x=x.concat(this.g.get(ga(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)x=x.concat(h[w])}return x},n.set=function(h,x){return vr(this),this.i=null,h=ga(this,h),Jn(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},n.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function bs(h,x,w){St(h,x),0<w.length&&(h.i=null,h.g.set(ga(h,x),z(w)),h.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var w=0;w<x.length;w++){var R=x[w];const pe=encodeURIComponent(String(R)),Me=this.V(R);for(R=0;R<Me.length;R++){var re=pe;Me[R]!==""&&(re+="="+encodeURIComponent(String(Me[R]))),h.push(re)}}return this.i=h.join("&")};function ga(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function ss(h,x){x&&!h.j&&(vr(h),h.i=null,h.g.forEach(function(w,R){var re=R.toLowerCase();R!=re&&(St(this,R),bs(this,re,w))},h)),h.j=x}function Ra(h,x){const w=new ke;if(m.Image){const R=new Image;R.onload=D(ra,w,"TestLoadImage: loaded",!0,x,R),R.onerror=D(ra,w,"TestLoadImage: error",!1,x,R),R.onabort=D(ra,w,"TestLoadImage: abort",!1,x,R),R.ontimeout=D(ra,w,"TestLoadImage: timeout",!1,x,R),m.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else x(!1)}function Gr(h,x){const w=new ke,R=new AbortController,re=setTimeout(()=>{R.abort(),ra(w,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:R.signal}).then(pe=>{clearTimeout(re),pe.ok?ra(w,"TestPingServer: ok",!0,x):ra(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(re),ra(w,"TestPingServer: error",!1,x)})}function ra(h,x,w,R,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),R(w)}catch{}}function j(){this.g=new pr}function W(h,x,w){const R=w||"";try{qn(h,function(re,pe){let Me=re;g(re)&&(Me=Zn(re)),x.push(R+pe+"="+encodeURIComponent(Me))})}catch(re){throw x.push(R+"type="+encodeURIComponent("_badmap")),re}}function de(h){this.l=h.Ub||null,this.j=h.eb||!1}O(de,ht),de.prototype.g=function(){return new Z(this.l,this.j)},de.prototype.i=function(h){return function(){return h}}({});function Z(h,x){It.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Z,It),n=Z.prototype,n.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,ze(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||m).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,je(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ze(this)),this.g&&(this.readyState=3,ze(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Re(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Re(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?je(this):ze(this),this.readyState==3&&Re(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,je(this))},n.Qa=function(h){this.g&&(this.response=h,je(this))},n.ga=function(){this.g&&je(this)};function je(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ze(h)}n.setRequestHeader=function(h,x){this.u.append(h,x)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=x.next();return h.join(`\r
`)};function ze(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Z.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function yt(h){let x="";return U(h,function(w,R){x+=R,x+=":",x+=w,x+=`\r
`}),x}function Ie(h,x,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=yt(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):ln(h,x,w))}function Oe(h){It.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Oe,It);var On=/^https?$/i,Jt=["POST","PUT"];n=Oe.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,x,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ze.g(),this.v=this.o?Vt(this.o):Vt(Ze),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(pe){$a(this,pe);return}if(h=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var re in R)w.set(re,R[re]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const pe of R.keys())w.set(pe,R.get(pe));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(pe=>pe.toLowerCase()=="content-type"),re=m.FormData&&h instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Jt,x,void 0))||R||re||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Me]of w)this.g.setRequestHeader(pe,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$n(this),this.u=!0,this.g.send(h),this.u=!1}catch(pe){$a(this,pe)}};function $a(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,is(h),ya(h)}function is(h){h.A||(h.A=!0,Xe(h,"complete"),Xe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Xe(this,"complete"),Xe(this,"abort"),ya(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ya(this,!0)),Oe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},n.bb=function(){Oa(this)};function Oa(h){if(h.h&&typeof d<"u"&&(!h.v[1]||pn(h)!=4||h.Z()!=2)){if(h.u&&pn(h)==4)Sn(h.Ea,0,h);else if(Xe(h,"readystatechange"),pn(h)==4){h.h=!1;try{const Me=h.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var R;if(R=Me===0){var re=String(h.D).match(Ca)[1]||null;!re&&m.self&&m.self.location&&(re=m.self.location.protocol.slice(0,-1)),R=!On.test(re?re.toLowerCase():"")}w=R}if(w)Xe(h,"complete"),Xe(h,"success");else{h.m=6;try{var pe=2<pn(h)?h.g.statusText:""}catch{pe=""}h.l=pe+" ["+h.Z()+"]",is(h)}}finally{ya(h)}}}}function ya(h,x){if(h.g){$n(h);const w=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||Xe(h,"ready");try{w.onreadystatechange=R}catch{}}}function $n(h){h.I&&(m.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function pn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),Or(x)}};function Ls(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ya(h){const x={};h=(h.g&&2<=pn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(ge(h[R]))continue;var w=B(h[R]);const re=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const pe=x[re]||[];x[re]=pe,pe.push(w)}k(x,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(h,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||x}function Us(h){this.Aa=0,this.i=[],this.j=new ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_s("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_s("baseRetryDelayMs",5e3,h),this.cb=_s("retryDelaySeedMs",1e4,h),this.Wa=_s("forwardChannelMaxRetries",2,h),this.wa=_s("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Hn(h&&h.concurrentRequestLimit),this.Da=new j,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Us.prototype,n.la=8,n.G=1,n.connect=function(h,x,w,R){ne(0),this.W=h,this.H=x||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.I=ws(this,null,this.W),hi(this)};function Ho(h){if(qo(h),h.G==3){var x=h.U++,w=Ar(h.I);if(ln(w,"SID",h.K),ln(w,"RID",x),ln(w,"TYPE","terminate"),zs(h,w),x=new Dt(h,h.j,x),x.L=2,x.v=Ha(Ar(w)),w=!1,m.navigator&&m.navigator.sendBeacon)try{w=m.navigator.sendBeacon(x.v.toString(),"")}catch{}!w&&m.Image&&(new Image().src=x.v,w=!0),w||(x.g=Es(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Un(x)}Il(h)}function zi(h){h.g&&(Bs(h),h.g.cancel(),h.g=null)}function qo(h){zi(h),h.u&&(m.clearTimeout(h.u),h.u=null),mi(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&m.clearTimeout(h.s),h.s=null)}function hi(h){if(!Ke(h.h)&&!h.s){h.s=!0;var x=h.Ga;le||P(),ce||(le(),ce=!0),Ce.add(x,h),h.B=0}}function Dl(h,x){return dn(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Se(E(h.Ga,h,x),Wo(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const re=new Dt(this,this.j,h);let pe=this.o;if(this.S&&(pe?(pe=A(pe),M(pe,this.S)):pe=this.S),this.m!==null||this.O||(re.H=pe,pe=null),this.P)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(x+=R,4096<x){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=Yo(this,re,x),w=Ar(this.I),ln(w,"RID",h),ln(w,"CVER",22),this.D&&ln(w,"X-HTTP-Session-Id",this.D),zs(this,w),pe&&(this.O?x="headers="+encodeURIComponent(String(yt(pe)))+"&"+x:this.m&&Ie(w,this.m,pe)),kr(this.h,re),this.Ua&&ln(w,"TYPE","init"),this.P?(ln(w,"$req",x),ln(w,"SID","null"),re.T=!0,Ln(re,w,null)):Ln(re,w,x),this.G=2}}else this.G==3&&(h?$o(this,h):this.i.length==0||Ke(this.h)||$o(this))};function $o(h,x){var w;x?w=x.l:w=h.U++;const R=Ar(h.I);ln(R,"SID",h.K),ln(R,"RID",w),ln(R,"AID",h.T),zs(h,R),h.m&&h.o&&Ie(R,h.m,h.o),w=new Dt(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),x&&(h.i=x.D.concat(h.i)),x=Yo(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),kr(h.h,w),Ln(w,R,x)}function zs(h,x){h.H&&U(h.H,function(w,R){ln(x,R,w)}),h.l&&qn({},function(w,R){ln(x,R,w)})}function Yo(h,x,w){w=Math.min(h.i.length,w);var R=h.l?E(h.l.Na,h.l,h):null;e:{var re=h.i;let pe=-1;for(;;){const Me=["count="+w];pe==-1?0<w?(pe=re[0].g,Me.push("ofs="+pe)):pe=0:Me.push("ofs="+pe);let Ft=!0;for(let er=0;er<w;er++){let Qt=re[er].g;const Yn=re[er].map;if(Qt-=pe,0>Qt)pe=Math.max(0,re[er].g-100),Ft=!1;else try{W(Yn,Me,"req"+Qt+"_")}catch{R&&R(Yn)}}if(Ft){R=Me.join("&");break e}}}return h=h.i.splice(0,w),x.D=h,R}function Ml(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;le||P(),ce||(le(),ce=!0),Ce.add(x,h),h.v=0}}function fi(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Se(E(h.Fa,h),Wo(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,xr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Se(E(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),zi(this),xr(this))};function Bs(h){h.A!=null&&(m.clearTimeout(h.A),h.A=null)}function xr(h){h.g=new Dt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=Ar(h.qa);ln(x,"RID","rpc"),ln(x,"SID",h.K),ln(x,"AID",h.T),ln(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&ln(x,"TO",h.ja),ln(x,"TYPE","xmlhttp"),zs(h,x),h.m&&h.o&&Ie(x,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=Ha(Ar(x)),w.m=null,w.P=!0,yr(w,h)}n.Za=function(){this.C!=null&&(this.C=null,zi(this),fi(this),ne(19))};function mi(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function Bi(h,x){var w=null;if(h.g==x){mi(h),Bs(h),h.g=null;var R=2}else if(Gt(h.h,x))w=x.D,bn(h.h,x),R=1;else return;if(h.G!=0){if(x.o)if(R==1){w=x.m?x.m.length:0,x=Date.now()-x.F;var re=h.B;R=Et(),Xe(R,new ye(R,w)),hi(h)}else Ml(h);else if(re=x.s,re==3||re==0&&0<x.X||!(R==1&&Dl(h,x)||R==2&&fi(h)))switch(w&&0<w.length&&(x=h.h,x.i=x.i.concat(w)),re){case 1:Wa(h,5);break;case 4:Wa(h,10);break;case 3:Wa(h,6);break;default:Wa(h,2)}}}function Wo(h,x){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*x}function Wa(h,x){if(h.j.info("Error code "+x),x==2){var w=E(h.fb,h),R=h.Xa;const re=!R;R=new Pn(R||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Fa(R,"https"),Ha(R),re?Ra(R.toString(),w):Gr(R.toString(),w)}else ne(2);h.G=0,h.l&&h.l.sa(x),Il(h),qo(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function Il(h){if(h.G=0,h.ka=[],h.l){const x=Ba(h.h);(x.length!=0||h.i.length!=0)&&($(h.ka,x),$(h.ka,h.i),h.h.i.length=0,z(h.i),h.i.length=0),h.l.ra()}}function ws(h,x,w){var R=w instanceof Pn?Ar(w):new Pn(w);if(R.g!="")x&&(R.g=x+"."+R.g),as(R,R.s);else{var re=m.location;R=re.protocol,x=x?x+"."+re.hostname:re.hostname,re=+re.port;var pe=new Pn(null);R&&Fa(pe,R),x&&(pe.g=x),re&&as(pe,re),w&&(pe.l=w),R=pe}return w=h.D,x=h.ya,w&&x&&ln(R,w,x),ln(R,"VER",h.la),zs(h,R),R}function Es(h,x,w){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new Oe(new de({eb:w})):new Oe(h.pa),x.Ha(h.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Go(){}n=Go.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fi(){}Fi.prototype.g=function(h,x){return new Vr(h,x)};function Vr(h,x){It.call(this),this.g=new Us(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!ge(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!ge(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new os(this)}O(Vr,It),Vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vr.prototype.close=function(){Ho(this.g)},Vr.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=Zn(h),h=w);x.i.push(new cr(x.Ya++,h)),x.G==3&&hi(x)},Vr.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,Vr.aa.N.call(this)};function Pl(h){yn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const w in x){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}O(Pl,yn);function Ol(){Sr.call(this),this.status=1}O(Ol,Sr);function os(h){this.g=h}O(os,Go),os.prototype.ua=function(){Xe(this.g,"a")},os.prototype.ta=function(h){Xe(this.g,new Pl(h))},os.prototype.sa=function(h){Xe(this.g,new Ol)},os.prototype.ra=function(){Xe(this.g,"b")},Fi.prototype.createWebChannel=Fi.prototype.g,Vr.prototype.send=Vr.prototype.o,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,Q2=function(){return new Fi},G2=function(){return Et()},W2=Ut,l0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},et.NO_ERROR=0,et.TIMEOUT=8,et.HTTP_ERROR=6,xf=et,ot.COMPLETE="complete",Y2=ot,wt.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",It.prototype.listen=It.prototype.K,Ku=wt,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,$2=Oe}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const q_="@firebase/firestore",$_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ea.UNAUTHENTICATED=new Ea(null),Ea.GOOGLE_CREDENTIALS=new Ea("google-credentials-uid"),Ea.FIRST_PARTY=new Ea("first-party-uid"),Ea.MOCK_USER=new Ea("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=new B0("@firebase/firestore");function vc(){return El.logLevel}function $e(n,...e){if(El.logLevel<=Xt.DEBUG){const t=e.map(J0);El.debug(`Firestore (${Wc}): ${n}`,...t)}}function ki(n,...e){if(El.logLevel<=Xt.ERROR){const t=e.map(J0);El.error(`Firestore (${Wc}): ${n}`,...t)}}function jo(n,...e){if(El.logLevel<=Xt.WARN){const t=e.map(J0);El.warn(`Firestore (${Wc}): ${n}`,...t)}}function J0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(n,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,K2(n,a,t)}function K2(n,e,t){let a=`FIRESTORE (${Wc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw ki(a),new Error(a)}function vn(n,e,t,a){let i="Unexpected state";typeof t=="string"?i=t:a=t,n||K2(e,i,a)}function Rt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends Li{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ea.UNAUTHENTICATED))}shutdown(){}}class QD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KD{constructor(e){this.t=e,this.currentUser=Ea.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){vn(this.o===void 0,42304);let a=this.i;const i=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let l=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ii,e.enqueueRetryable(()=>i(this.currentUser))};const d=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await i(this.currentUser)})},m=p=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ii)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(vn(typeof a.accessToken=="string",31837,{l:a}),new X2(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vn(e===null||typeof e=="string",2055,{h:e}),new Ea(e)}}class XD{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=Ea.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZD{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new XD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ea.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,As(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){vn(this.o===void 0,3512);const a=l=>{l.error!=null&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.m;return this.m=l.token,$e("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>a(l))};const i=l=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?i(l):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Y_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Y_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<n;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const i=e3(40);for(let l=0;l<i.length;++l)a.length<20&&i[l]<t&&(a+=e.charAt(i[l]%62))}return a}}function Bt(n,e){return n<e?-1:n>e?1:0}function c0(n,e){let t=0;for(;t<n.length&&t<e.length;){const a=n.codePointAt(t),i=e.codePointAt(t);if(a!==i){if(a<128&&i<128)return Bt(a,i);{const l=Z2(),d=t3(l.encode(W_(n,t)),l.encode(W_(e,t)));return d!==0?d:Bt(a,i)}}t+=a>65535?2:1}return Bt(n.length,e.length)}function W_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function t3(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Bt(n[t],e[t]);return Bt(n.length,e.length)}function Oc(n,e,t){return n.length===e.length&&n.every((a,i)=>t(a,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="__name__";class Ks{constructor(e,t,a){t===void 0?t=0:t>e.length&&xt(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&xt(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Ks.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ks?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let i=0;i<a;i++){const l=Ks.compareSegments(e.get(i),t.get(i));if(l!==0)return l}return Bt(e.length,t.length)}static compareSegments(e,t){const a=Ks.isNumericId(e),i=Ks.isNumericId(t);return a&&!i?-1:!a&&i?1:a&&i?Ks.extractNumericId(e).compare(Ks.extractNumericId(t)):c0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Co.fromString(e.substring(4,e.length-2))}}class Bn extends Ks{construct(e,t,a){return new Bn(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Be(we.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(i=>i.length>0))}return new Bn(t)}static emptyPath(){return new Bn([])}}const n3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ca extends Ks{construct(e,t,a){return new ca(e,t,a)}static isValidIdentifier(e){return n3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ca.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G_}static keyField(){return new ca([G_])}static fromServerFormat(e){const t=[];let a="",i=0;const l=()=>{if(a.length===0)throw new Be(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let d=!1;for(;i<e.length;){const m=e[i];if(m==="\\"){if(i+1===e.length)throw new Be(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Be(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,i+=2}else m==="`"?(d=!d,i++):m!=="."||d?(a+=m,i++):(l(),i++)}if(l(),d)throw new Be(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ca(t)}static emptyPath(){return new ca([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Bn.fromString(e))}static fromName(e){return new ut(Bn.fromString(e).popFirst(5))}static empty(){return new ut(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Bn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n,e,t){if(!t)throw new Be(we.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function r3(n,e,t,a){if(e===!0&&a===!0)throw new Be(we.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Q_(n){if(!ut.isDocumentKey(n))throw new Be(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function K_(n){if(ut.isDocumentKey(n))throw new Be(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function eE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function hm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xt(12329,{type:typeof n})}function ua(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Be(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hm(n);throw new Be(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(n,e){const t={typeString:n};return e&&(t.value=e),t}function Ad(n,e){if(!eE(n))throw new Be(we.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const i=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in n)){t=`JSON missing required field: '${a}'`;break}const d=n[a];if(i&&typeof d!==i){t=`JSON field '${a}' must be a ${i}.`;break}if(l!==void 0&&d!==l.value){t=`Expected '${a}' field to equal '${l.value}'`;break}}if(t)throw new Be(we.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-62135596800,Z_=1e6;class Nn{static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*Z_);return new Nn(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Be(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Be(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<X_)throw new Be(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ad(e,Nn._jsonSchema))return new Nn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nn._jsonSchemaVersion="firestore/timestamp/1.0",Nn._jsonSchema={type:Ir("string",Nn._jsonSchemaVersion),seconds:Ir("number"),nanoseconds:Ir("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new Nn(0,0))}static max(){return new At(new Nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=-1;function a3(n,e){const t=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,i=At.fromTimestamp(a===1e9?new Nn(t+1,0):new Nn(t,a));return new Do(i,ut.empty(),e)}function s3(n){return new Do(n.readTime,n.key,fd)}class Do{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Do(At.min(),ut.empty(),fd)}static max(){return new Do(At.max(),ut.empty(),fd)}}function i3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ut.comparator(n.documentKey,e.documentKey),t!==0?t:Bt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(n){if(n.code!==we.FAILED_PRECONDITION||n.message!==o3)throw n;$e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te((a,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.reject(t)}static resolve(e){return new Te((t,a)=>{t(e)})}static reject(e){return new Te((t,a)=>{a(e)})}static waitFor(e){return new Te((t,a)=>{let i=0,l=0,d=!1;e.forEach(m=>{++i,m.next(()=>{++l,d&&l===i&&t()},p=>a(p))}),d=!0,l===i&&t()})}static or(e){let t=Te.resolve(!1);for(const a of e)t=t.next(i=>i?Te.resolve(i):a());return t}static forEach(e,t){const a=[];return e.forEach((i,l)=>{a.push(t.call(this,i,l))}),this.waitFor(a)}static mapArray(e,t){return new Te((a,i)=>{const l=e.length,d=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(b=>{d[g]=b,++m,m===l&&a(d)},b=>i(b))}})}static doWhile(e,t){return new Te((a,i)=>{const l=()=>{e()===!0?t().next(()=>{l()},i):a()};l()})}}function c3(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this._e(a),this.ae=a=>t.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}fm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=-1;function mm(n){return n==null}function Bf(n){return n===0&&1/n==-1/0}function u3(n){return typeof n=="number"&&Number.isInteger(n)&&!Bf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="";function d3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=J_(e)),e=h3(n.get(t),e);return J_(e)}function h3(n,e){let t=e;const a=n.length;for(let i=0;i<a;i++){const l=n.charAt(i);switch(l){case"\0":t+="";break;case tE:t+="";break;default:t+=l}}return t}function J_(n){return n+tE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t){this.comparator=e,this.root=t||la.EMPTY}insert(e,t){return new sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,la.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,la.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const i=this.comparator(e,a.key);if(i===0)return t+a.left.size;i<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jh(this.root,e,this.comparator,!0)}}class Jh{constructor(e,t,a,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class la{constructor(e,t,a,i,l){this.key=e,this.value=t,this.color=a??la.RED,this.left=i??la.EMPTY,this.right=l??la.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,i,l){return new la(e??this.key,t??this.value,a??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let i=this;const l=a(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,a),null):l===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,a)),i.fixUp()}removeMin(){if(this.left.isEmpty())return la.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return la.EMPTY;a=i.right.min(),i=i.copy(a.key,a.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,la.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,la.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xt(27949);return e+(this.isRed()?0:1)}}la.EMPTY=null,la.RED=!0,la.BLACK=!1;la.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(e,t,a,i,l){return this}insert(e,t,a){return new la(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const i=a.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tw(this.data.getIterator())}getIteratorFrom(e){return new tw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof Fr)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=a.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fr(this.comparator);return t.data=e,t}}class tw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.fields=e,e.sort(ca.comparator)}static empty(){return new rs([])}unionWith(e){let t=new Fr(ca.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oc(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rE("Invalid base64 string: "+l):l}}(e);return new da(t)}static fromUint8Array(e){const t=function(i){let l="";for(let d=0;d<i.length;++d)l+=String.fromCharCode(i[d]);return l}(e);return new da(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let i=0;i<t.length;i++)a[i]=t.charCodeAt(i);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}da.EMPTY_BYTE_STRING=new da("");const f3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mo(n){if(vn(!!n,39018),typeof n=="string"){let e=0;const t=f3.exec(n);if(vn(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:wr(n.seconds),nanos:wr(n.nanos)}}function wr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Io(n){return typeof n=="string"?da.fromBase64String(n):da.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="server_timestamp",sE="__type__",iE="__previous_value__",oE="__local_write_time__";function ny(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[sE])===null||t===void 0?void 0:t.stringValue)===aE}function pm(n){const e=n.mapValue.fields[iE];return ny(e)?pm(e):e}function md(n){const e=Mo(n.mapValue.fields[oE].timestampValue);return new Nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,t,a,i,l,d,m,p,g,b){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b}}const Ff="(default)";class pd{constructor(e,t){this.projectId=e,this.database=t||Ff}static empty(){return new pd("","")}get isDefaultDatabase(){return this.database===Ff}isEqual(e){return e instanceof pd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__type__",p3="__max__",ef={mapValue:{}},cE="__vector__",Hf="value";function Po(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ny(n)?4:y3(n)?9007199254740991:g3(n)?10:11:xt(28295,{value:n})}function li(n,e){if(n===e)return!0;const t=Po(n);if(t!==Po(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return md(n).isEqual(md(e));case 3:return function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const d=Mo(i.timestampValue),m=Mo(l.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,l){return Io(i.bytesValue).isEqual(Io(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,l){return wr(i.geoPointValue.latitude)===wr(l.geoPointValue.latitude)&&wr(i.geoPointValue.longitude)===wr(l.geoPointValue.longitude)}(n,e);case 2:return function(i,l){if("integerValue"in i&&"integerValue"in l)return wr(i.integerValue)===wr(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const d=wr(i.doubleValue),m=wr(l.doubleValue);return d===m?Bf(d)===Bf(m):isNaN(d)&&isNaN(m)}return!1}(n,e);case 9:return Oc(n.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(i,l){const d=i.mapValue.fields||{},m=l.mapValue.fields||{};if(ew(d)!==ew(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!li(d[p],m[p])))return!1;return!0}(n,e);default:return xt(52216,{left:n})}}function gd(n,e){return(n.values||[]).find(t=>li(t,e))!==void 0}function kc(n,e){if(n===e)return 0;const t=Po(n),a=Po(e);if(t!==a)return Bt(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(l,d){const m=wr(l.integerValue||l.doubleValue),p=wr(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(n,e);case 3:return nw(n.timestampValue,e.timestampValue);case 4:return nw(md(n),md(e));case 5:return c0(n.stringValue,e.stringValue);case 6:return function(l,d){const m=Io(l),p=Io(d);return m.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,d){const m=l.split("/"),p=d.split("/");for(let g=0;g<m.length&&g<p.length;g++){const b=Bt(m[g],p[g]);if(b!==0)return b}return Bt(m.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,d){const m=Bt(wr(l.latitude),wr(d.latitude));return m!==0?m:Bt(wr(l.longitude),wr(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return rw(n.arrayValue,e.arrayValue);case 10:return function(l,d){var m,p,g,b;const _=l.fields||{},E=d.fields||{},D=(m=_[Hf])===null||m===void 0?void 0:m.arrayValue,O=(p=E[Hf])===null||p===void 0?void 0:p.arrayValue,z=Bt(((g=D?.values)===null||g===void 0?void 0:g.length)||0,((b=O?.values)===null||b===void 0?void 0:b.length)||0);return z!==0?z:rw(D,O)}(n.mapValue,e.mapValue);case 11:return function(l,d){if(l===ef.mapValue&&d===ef.mapValue)return 0;if(l===ef.mapValue)return 1;if(d===ef.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=d.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let _=0;_<p.length&&_<b.length;++_){const E=c0(p[_],b[_]);if(E!==0)return E;const D=kc(m[p[_]],g[b[_]]);if(D!==0)return D}return Bt(p.length,b.length)}(n.mapValue,e.mapValue);default:throw xt(23264,{le:t})}}function nw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Bt(n,e);const t=Mo(n),a=Mo(e),i=Bt(t.seconds,a.seconds);return i!==0?i:Bt(t.nanos,a.nanos)}function rw(n,e){const t=n.values||[],a=e.values||[];for(let i=0;i<t.length&&i<a.length;++i){const l=kc(t[i],a[i]);if(l)return l}return Bt(t.length,a.length)}function Vc(n){return u0(n)}function u0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const a=Mo(t);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Io(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ut.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let a="[",i=!0;for(const l of t.values||[])i?i=!1:a+=",",a+=u0(l);return a+"]"}(n.arrayValue):"mapValue"in n?function(t){const a=Object.keys(t.fields||{}).sort();let i="{",l=!0;for(const d of a)l?l=!1:i+=",",i+=`${d}:${u0(t.fields[d])}`;return i+"}"}(n.mapValue):xt(61005,{value:n})}function bf(n){switch(Po(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pm(n);return e?16+bf(e):16;case 5:return 2*n.stringValue.length;case 6:return Io(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((i,l)=>i+bf(l),0)}(n.arrayValue);case 10:case 11:return function(a){let i=0;return zo(a.fields,(l,d)=>{i+=l.length+bf(d)}),i}(n.mapValue);default:throw xt(13486,{value:n})}}function aw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function d0(n){return!!n&&"integerValue"in n}function ry(n){return!!n&&"arrayValue"in n}function sw(n){return!!n&&"nullValue"in n}function iw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _f(n){return!!n&&"mapValue"in n}function g3(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[lE])===null||t===void 0?void 0:t.stringValue)===cE}function rd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zo(n.mapValue.fields,(t,a)=>e.mapValue.fields[t]=rd(a)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function y3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===p3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.value=e}static empty(){return new za({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!_f(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rd(t)}setAll(e){let t=ca.emptyPath(),a={},i=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,a,i),a={},i=[],t=m.popLast()}d?a[m.lastSegment()]=rd(d):i.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,a,i)}delete(e){const t=this.field(e.popLast());_f(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let i=t.mapValue.fields[e.get(a)];_f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,a){zo(t,(i,l)=>e[i]=l);for(const i of a)delete e[i]}clone(){return new za(rd(this.value))}}function uE(n){const e=[];return zo(n.fields,(t,a)=>{const i=new ca([t]);if(_f(a)){const l=uE(a.mapValue).fields;if(l.length===0)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new rs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,t,a,i,l,d,m){this.key=e,this.documentType=t,this.version=a,this.readTime=i,this.createTime=l,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Na(e,0,At.min(),At.min(),At.min(),za.empty(),0)}static newFoundDocument(e,t,a,i){return new Na(e,1,t,At.min(),a,i,0)}static newNoDocument(e,t){return new Na(e,2,t,At.min(),At.min(),za.empty(),0)}static newUnknownDocument(e,t){return new Na(e,3,t,At.min(),At.min(),za.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=za.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=za.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Na&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Na(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t){this.position=e,this.inclusive=t}}function ow(n,e,t){let a=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(l.field.isKeyField()?a=ut.comparator(ut.fromName(d.referenceValue),t.key):a=kc(d,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function lw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!li(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t="asc"){this.field=e,this.dir=t}}function v3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{}class Mr extends dE{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new b3(e,t,a):t==="array-contains"?new E3(e,a):t==="in"?new N3(e,a):t==="not-in"?new T3(e,a):t==="array-contains-any"?new S3(e,a):new Mr(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new _3(e,a):new w3(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(kc(t,this.value)):t!==null&&Po(this.value)===Po(t)&&this.matchesComparison(kc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Is extends dE{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Is(e,t)}matches(e){return hE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function hE(n){return n.op==="and"}function fE(n){return x3(n)&&hE(n)}function x3(n){for(const e of n.filters)if(e instanceof Is)return!1;return!0}function h0(n){if(n instanceof Mr)return n.field.canonicalString()+n.op.toString()+Vc(n.value);if(fE(n))return n.filters.map(e=>h0(e)).join(",");{const e=n.filters.map(t=>h0(t)).join(",");return`${n.op}(${e})`}}function mE(n,e){return n instanceof Mr?function(a,i){return i instanceof Mr&&a.op===i.op&&a.field.isEqual(i.field)&&li(a.value,i.value)}(n,e):n instanceof Is?function(a,i){return i instanceof Is&&a.op===i.op&&a.filters.length===i.filters.length?a.filters.reduce((l,d,m)=>l&&mE(d,i.filters[m]),!0):!1}(n,e):void xt(19439)}function pE(n){return n instanceof Mr?function(t){return`${t.field.canonicalString()} ${t.op} ${Vc(t.value)}`}(n):n instanceof Is?function(t){return t.op.toString()+" {"+t.getFilters().map(pE).join(" ,")+"}"}(n):"Filter"}class b3 extends Mr{constructor(e,t,a){super(e,t,a),this.key=ut.fromName(a.referenceValue)}matches(e){const t=ut.comparator(e.key,this.key);return this.matchesComparison(t)}}class _3 extends Mr{constructor(e,t){super(e,"in",t),this.keys=gE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class w3 extends Mr{constructor(e,t){super(e,"not-in",t),this.keys=gE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>ut.fromName(a.referenceValue))}class E3 extends Mr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ry(t)&&gd(t.arrayValue,this.value)}}class N3 extends Mr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gd(this.value.arrayValue,t)}}class T3 extends Mr{constructor(e,t){super(e,"not-in",t)}matches(e){if(gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gd(this.value.arrayValue,t)}}class S3 extends Mr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ry(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>gd(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,t=null,a=[],i=[],l=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=i,this.limit=l,this.startAt=d,this.endAt=m,this.Pe=null}}function cw(n,e=null,t=[],a=[],i=null,l=null,d=null){return new C3(n,e,t,a,i,l,d)}function ay(n){const e=Rt(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>h0(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(l){return l.field.canonicalString()+l.dir}(a)).join(","),mm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Vc(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Vc(a)).join(",")),e.Pe=t}return e.Pe}function sy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!v3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lw(n.startAt,e.startAt)&&lw(n.endAt,e.endAt)}function f0(n){return ut.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t=null,a=[],i=[],l=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=i,this.limit=l,this.limitType=d,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function A3(n,e,t,a,i,l,d,m){return new Rd(n,e,t,a,i,l,d,m)}function gm(n){return new Rd(n)}function uw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yE(n){return n.collectionGroup!==null}function ad(n){const e=Rt(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Fr(ca.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new $f(l,a))}),t.has(ca.keyField().canonicalString())||e.Te.push(new $f(ca.keyField(),a))}return e.Te}function ai(n){const e=Rt(n);return e.Ie||(e.Ie=R3(e,ad(n))),e.Ie}function R3(n,e){if(n.limitType==="F")return cw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const l=i.dir==="desc"?"asc":"desc";return new $f(i.field,l)});const t=n.endAt?new qf(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new qf(n.startAt.position,n.startAt.inclusive):null;return cw(n.path,n.collectionGroup,e,n.filters,n.limit,t,a)}}function m0(n,e){const t=n.filters.concat([e]);return new Rd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function p0(n,e,t){return new Rd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ym(n,e){return sy(ai(n),ai(e))&&n.limitType===e.limitType}function vE(n){return`${ay(ai(n))}|lt:${n.limitType}`}function xc(n){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(i=>pE(i)).join(", ")}]`),mm(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(i=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(i)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(i=>Vc(i)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(i=>Vc(i)).join(",")),`Target(${a})`}(ai(n))}; limitType=${n.limitType})`}function vm(n,e){return e.isFoundDocument()&&function(a,i){const l=i.key.path;return a.collectionGroup!==null?i.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):ut.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)}(n,e)&&function(a,i){for(const l of ad(a))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0}(n,e)&&function(a,i){for(const l of a.filters)if(!l.matches(i))return!1;return!0}(n,e)&&function(a,i){return!(a.startAt&&!function(d,m,p){const g=ow(d,m,p);return d.inclusive?g<=0:g<0}(a.startAt,ad(a),i)||a.endAt&&!function(d,m,p){const g=ow(d,m,p);return d.inclusive?g>=0:g>0}(a.endAt,ad(a),i))}(n,e)}function j3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xE(n){return(e,t)=>{let a=!1;for(const i of ad(n)){const l=D3(i,e,t);if(l!==0)return l;a=a||i.field.isKeyField()}return 0}}function D3(n,e,t){const a=n.field.isKeyField()?ut.comparator(e.key,t.key):function(l,d,m){const p=d.data.field(l),g=m.data.field(l);return p!==null&&g!==null?kc(p,g):xt(42886)}(n.field,e,t);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return xt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[i,l]of a)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),i=this.inner[a];if(i===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return a.length===1?delete this.inner[t]:a.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zo(this.inner,(t,a)=>{for(const[i,l]of a)e(i,l)})}isEmpty(){return nE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=new sr(ut.comparator);function Vi(){return M3}const bE=new sr(ut.comparator);function Xu(...n){let e=bE;for(const t of n)e=e.insert(t.key,t);return e}function _E(n){let e=bE;return n.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function yl(){return sd()}function wE(){return sd()}function sd(){return new Al(n=>n.toString(),(n,e)=>n.isEqual(e))}const I3=new sr(ut.comparator),P3=new Fr(ut.comparator);function Zt(...n){let e=P3;for(const t of n)e=e.add(t);return e}const O3=new Fr(Bt);function k3(){return O3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bf(e)?"-0":e}}function EE(n){return{integerValue:""+n}}function V3(n,e){return u3(e)?EE(e):iy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this._=void 0}}function L3(n,e,t){return n instanceof Yf?function(i,l){const d={fields:{[sE]:{stringValue:aE},[oE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&ny(l)&&(l=pm(l)),l&&(d.fields[iE]=l),{mapValue:d}}(t,e):n instanceof yd?TE(n,e):n instanceof vd?SE(n,e):function(i,l){const d=NE(i,l),m=dw(d)+dw(i.Ee);return d0(d)&&d0(i.Ee)?EE(m):iy(i.serializer,m)}(n,e)}function U3(n,e,t){return n instanceof yd?TE(n,e):n instanceof vd?SE(n,e):t}function NE(n,e){return n instanceof Wf?function(a){return d0(a)||function(l){return!!l&&"doubleValue"in l}(a)}(e)?e:{integerValue:0}:null}class Yf extends xm{}class yd extends xm{constructor(e){super(),this.elements=e}}function TE(n,e){const t=CE(e);for(const a of n.elements)t.some(i=>li(i,a))||t.push(a);return{arrayValue:{values:t}}}class vd extends xm{constructor(e){super(),this.elements=e}}function SE(n,e){let t=CE(e);for(const a of n.elements)t=t.filter(i=>!li(i,a));return{arrayValue:{values:t}}}class Wf extends xm{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function dw(n){return wr(n.integerValue||n.doubleValue)}function CE(n){return ry(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function z3(n,e){return n.field.isEqual(e.field)&&function(a,i){return a instanceof yd&&i instanceof yd||a instanceof vd&&i instanceof vd?Oc(a.elements,i.elements,li):a instanceof Wf&&i instanceof Wf?li(a.Ee,i.Ee):a instanceof Yf&&i instanceof Yf}(n.transform,e.transform)}class B3{constructor(e,t){this.version=e,this.transformResults=t}}class Ma{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ma}static exists(e){return new Ma(void 0,e)}static updateTime(e){return new Ma(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class bm{}function AE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new _m(n.key,Ma.none()):new jd(n.key,n.data,Ma.none());{const t=n.data,a=za.empty();let i=new Fr(ca.comparator);for(let l of e.fields)if(!i.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?a.delete(l):a.set(l,d),i=i.add(l)}return new Bo(n.key,a,new rs(i.toArray()),Ma.none())}}function F3(n,e,t){n instanceof jd?function(i,l,d){const m=i.value.clone(),p=fw(i.fieldTransforms,l,d.transformResults);m.setAll(p),l.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Bo?function(i,l,d){if(!wf(i.precondition,l))return void l.convertToUnknownDocument(d.version);const m=fw(i.fieldTransforms,l,d.transformResults),p=l.data;p.setAll(RE(i)),p.setAll(m),l.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,e,t):function(i,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function id(n,e,t,a){return n instanceof jd?function(l,d,m,p){if(!wf(l.precondition,d))return m;const g=l.value.clone(),b=mw(l.fieldTransforms,p,d);return g.setAll(b),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(n,e,t,a):n instanceof Bo?function(l,d,m,p){if(!wf(l.precondition,d))return m;const g=mw(l.fieldTransforms,p,d),b=d.data;return b.setAll(RE(l)),b.setAll(g),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,a):function(l,d,m){return wf(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(n,e,t)}function H3(n,e){let t=null;for(const a of n.fieldTransforms){const i=e.data.field(a.field),l=NE(a.transform,i||null);l!=null&&(t===null&&(t=za.empty()),t.set(a.field,l))}return t||null}function hw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(a,i){return a===void 0&&i===void 0||!(!a||!i)&&Oc(a,i,(l,d)=>z3(l,d))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class jd extends bm{constructor(e,t,a,i=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bo extends bm{constructor(e,t,a,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function RE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=n.data.field(t);e.set(t,a)}}),e}function fw(n,e,t){const a=new Map;vn(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,m=e.data.field(l.field);a.set(l.field,U3(d,m,t[i]))}return a}function mw(n,e,t){const a=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);a.set(i.field,L3(l,d,e))}return a}class _m extends bm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q3 extends bm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,t,a,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=i}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&F3(l,e,a[i])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=id(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=id(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=wE();return this.mutations.forEach(i=>{const l=e.get(i.key),d=l.overlayedDocument;let m=this.applyToLocalView(d,l.mutatedFields);m=t.has(i.key)?null:m;const p=AE(d,m);p!==null&&a.set(i.key,p),d.isValidDocument()||d.convertToNoDocument(At.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&Oc(this.mutations,e.mutations,(t,a)=>hw(t,a))&&Oc(this.baseMutations,e.baseMutations,(t,a)=>hw(t,a))}}class oy{constructor(e,t,a,i){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=i}static from(e,t,a){vn(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let i=function(){return I3}();const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,a[d].version);return new oy(e,t,a,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dr,sn;function G3(n){switch(n){case we.OK:return xt(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return xt(15467,{code:n})}}function jE(n){if(n===void 0)return ki("GRPC error has no .code"),we.UNKNOWN;switch(n){case Dr.OK:return we.OK;case Dr.CANCELLED:return we.CANCELLED;case Dr.UNKNOWN:return we.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return we.INTERNAL;case Dr.UNAVAILABLE:return we.UNAVAILABLE;case Dr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Dr.NOT_FOUND:return we.NOT_FOUND;case Dr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Dr.ABORTED:return we.ABORTED;case Dr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Dr.DATA_LOSS:return we.DATA_LOSS;default:return xt(39323,{code:n})}}(sn=Dr||(Dr={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new Co([4294967295,4294967295],0);function pw(n){const e=Z2().encode(n),t=new q2;return t.update(e),new Uint8Array(t.digest())}function gw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Co([t,a],0),new Co([i,l],0)]}class ly{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new Zu(`Invalid padding: ${t}`);if(a<0)throw new Zu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Zu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new Zu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Co.fromNumber(this.fe)}pe(e,t,a){let i=e.add(t.multiply(Co.fromNumber(a)));return i.compare(Q3)===1&&(i=new Co([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=pw(e),[a,i]=gw(t);for(let l=0;l<this.hashCount;l++){const d=this.pe(a,i,l);if(!this.ye(d))return!1}return!0}static create(e,t,a){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new ly(l,i,t);return a.forEach(m=>d.insert(m)),d}insert(e){if(this.fe===0)return;const t=pw(e),[a,i]=gw(t);for(let l=0;l<this.hashCount;l++){const d=this.pe(a,i,l);this.we(d)}}we(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class Zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t,a,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const i=new Map;return i.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new wm(At.min(),i,new sr(Bt),Vi(),Zt())}}class Dd{constructor(e,t,a,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Dd(a,t,Zt(),Zt(),Zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t,a,i){this.Se=e,this.removedTargetIds=t,this.key=a,this.be=i}}class DE{constructor(e,t){this.targetId=e,this.De=t}}class ME{constructor(e,t,a=da.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=i}}class yw{constructor(){this.ve=0,this.Ce=vw(),this.Fe=da.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Zt(),t=Zt(),a=Zt();return this.Ce.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:a=a.add(i);break;default:xt(38017,{changeType:l})}}),new Dd(this.Fe,this.Me,e,t,a)}ke(){this.xe=!1,this.Ce=vw()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,vn(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class K3{constructor(e){this.We=e,this.Ge=new Map,this.ze=Vi(),this.je=tf(),this.Je=tf(),this.He=new sr(Bt)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const a=this.tt(t);switch(e.state){case 0:this.nt(t)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),a.Be(e.resumeToken));break;default:xt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((a,i)=>{this.nt(i)&&t(i)})}it(e){const t=e.targetId,a=e.De.count,i=this.st(t);if(i){const l=i.target;if(f0(l))if(a===0){const d=new ut(l.path);this.Xe(t,d,Na.newNoDocument(d,At.min()))}else vn(a===1,20013,{expectedCount:a});else{const d=this.ot(t);if(d!==a){const m=this._t(e),p=m?this.ut(m,e,d):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:i=0},hashCount:l=0}=t;let d,m;try{d=Io(a).toUint8Array()}catch(p){if(p instanceof rE)return jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ly(d,i,l)}catch(p){return jo(p instanceof Zu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,t,a){return t.De.count===a-this.ht(e,t.targetId)?0:2}ht(e,t){const a=this.We.getRemoteKeysForTarget(t);let i=0;return a.forEach(l=>{const d=this.We.lt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,l,null),i++)}),i}Pt(e){const t=new Map;this.Ge.forEach((l,d)=>{const m=this.st(d);if(m){if(l.current&&f0(m.target)){const p=new ut(m.target.path);this.Tt(p).has(d)||this.It(d,p)||this.Xe(d,p,Na.newNoDocument(p,e))}l.Ne&&(t.set(d,l.Le()),l.ke())}});let a=Zt();this.Je.forEach((l,d)=>{let m=!0;d.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(l))}),this.ze.forEach((l,d)=>d.setReadTime(e));const i=new wm(e,t,this.He,this.ze,a);return this.ze=Vi(),this.je=tf(),this.Je=tf(),this.He=new sr(Bt),i}Ze(e,t){if(!this.nt(e))return;const a=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,a),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,a){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),a&&(this.ze=this.ze.insert(t,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new yw,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Fr(Bt),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Fr(Bt),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||$e("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new yw),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function tf(){return new sr(ut.comparator)}function vw(){return new sr(ut.comparator)}const X3={asc:"ASCENDING",desc:"DESCENDING"},Z3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J3={and:"AND",or:"OR"};class eM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function g0(n,e){return n.useProto3Json||mm(e)?e:{value:e}}function Gf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function tM(n,e){return Gf(n,e.toTimestamp())}function si(n){return vn(!!n,49232),At.fromTimestamp(function(t){const a=Mo(t);return new Nn(a.seconds,a.nanos)}(n))}function cy(n,e){return y0(n,e).canonicalString()}function y0(n,e){const t=function(i){return new Bn(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function PE(n){const e=Bn.fromString(n);return vn(UE(e),10190,{key:e.toString()}),e}function v0(n,e){return cy(n.databaseId,e.path)}function Pg(n,e){const t=PE(e);if(t.get(1)!==n.databaseId.projectId)throw new Be(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Be(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ut(kE(t))}function OE(n,e){return cy(n.databaseId,e)}function nM(n){const e=PE(n);return e.length===4?Bn.emptyPath():kE(e)}function x0(n){return new Bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kE(n){return vn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xw(n,e,t){return{name:v0(n,e),fields:t.value.mapValue.fields}}function rM(n,e){let t;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xt(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=function(g,b){return g.useProto3Json?(vn(b===void 0||typeof b=="string",58123),da.fromBase64String(b||"")):(vn(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),da.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(g){const b=g.code===void 0?we.UNKNOWN:jE(g.code);return new Be(b,g.message||"")}(d);t=new ME(a,i,l,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const i=Pg(n,a.document.name),l=si(a.document.updateTime),d=a.document.createTime?si(a.document.createTime):At.min(),m=new za({mapValue:{fields:a.document.fields}}),p=Na.newFoundDocument(i,l,d,m),g=a.targetIds||[],b=a.removedTargetIds||[];t=new Ef(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const i=Pg(n,a.document),l=a.readTime?si(a.readTime):At.min(),d=Na.newNoDocument(i,l),m=a.removedTargetIds||[];t=new Ef([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const i=Pg(n,a.document),l=a.removedTargetIds||[];t=new Ef([],l,i,null)}else{if(!("filter"in e))return xt(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:i=0,unchangedNames:l}=a,d=new W3(i,l),m=a.targetId;t=new DE(m,d)}}return t}function aM(n,e){let t;if(e instanceof jd)t={update:xw(n,e.key,e.value)};else if(e instanceof _m)t={delete:v0(n,e.key)};else if(e instanceof Bo)t={update:xw(n,e.key,e.data),updateMask:fM(e.fieldMask)};else{if(!(e instanceof q3))return xt(16599,{Rt:e.type});t={verify:v0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(l,d){const m=d.transform;if(m instanceof Yf)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yd)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vd)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Wf)return{fieldPath:d.field.canonicalString(),increment:m.Ee};throw xt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(t.currentDocument=function(i,l){return l.updateTime!==void 0?{updateTime:tM(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xt(27497)}(n,e.precondition)),t}function sM(n,e){return n&&n.length>0?(vn(e!==void 0,14353),n.map(t=>function(i,l){let d=i.updateTime?si(i.updateTime):si(l);return d.isEqual(At.min())&&(d=si(l)),new B3(d,i.transformResults||[])}(t,e))):[]}function iM(n,e){return{documents:[OE(n,e.path)]}}function oM(n,e){const t={structuredQuery:{}},a=e.path;let i;e.collectionGroup!==null?(i=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=OE(n,i);const l=function(g){if(g.length!==0)return LE(Is.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(g){if(g.length!==0)return g.map(b=>function(E){return{field:bc(E.field),direction:uM(E.dir)}}(b))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=g0(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:i}}function lM(n){let e=nM(n.parent);const t=n.structuredQuery,a=t.from?t.from.length:0;let i=null;if(a>0){vn(a===1,65062);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=function(_){const E=VE(_);return E instanceof Is&&fE(E)?E.getFilters():[E]}(t.where));let d=[];t.orderBy&&(d=function(_){return _.map(E=>function(O){return new $f(_c(O.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(E))}(t.orderBy));let m=null;t.limit&&(m=function(_){let E;return E=typeof _=="object"?_.value:_,mm(E)?null:E}(t.limit));let p=null;t.startAt&&(p=function(_){const E=!!_.before,D=_.values||[];return new qf(D,E)}(t.startAt));let g=null;return t.endAt&&(g=function(_){const E=!_.before,D=_.values||[];return new qf(D,E)}(t.endAt)),A3(e,i,d,l,m,"F",p,g)}function cM(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function VE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=_c(t.unaryFilter.field);return Mr.create(a,"==",{doubleValue:NaN});case"IS_NULL":const i=_c(t.unaryFilter.field);return Mr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_c(t.unaryFilter.field);return Mr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_c(t.unaryFilter.field);return Mr.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}}(n):n.fieldFilter!==void 0?function(t){return Mr.create(_c(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Is.create(t.compositeFilter.filters.map(a=>VE(a)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xt(1026)}}(t.compositeFilter.op))}(n):xt(30097,{filter:n})}function uM(n){return X3[n]}function dM(n){return Z3[n]}function hM(n){return J3[n]}function bc(n){return{fieldPath:n.canonicalString()}}function _c(n){return ca.fromServerFormat(n.fieldPath)}function LE(n){return n instanceof Mr?function(t){if(t.op==="=="){if(iw(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NAN"}};if(sw(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iw(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NOT_NAN"}};if(sw(t.value))return{unaryFilter:{field:bc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bc(t.field),op:dM(t.op),value:t.value}}}(n):n instanceof Is?function(t){const a=t.getFilters().map(i=>LE(i));return a.length===1?a[0]:{compositeFilter:{op:hM(t.op),filters:a}}}(n):xt(54877,{filter:n})}function fM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,t,a,i,l=At.min(),d=At.min(),m=da.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new wo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.gt=e}}function pM(n){const e=lM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?p0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.Dn=new yM}addToCollectionParentIndex(e,t){return this.Dn.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(Do.min())}updateCollectionGroup(e,t,a){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class yM{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),i=this.index[t]||new Fr(Bn.comparator),l=!i.has(a);return this.index[t]=i.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),i=this.index[t];return i&&i.has(a)}getEntries(e){return(this.index[e]||new Fr(Bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=41943040;class Ua{static withCacheSize(e){return new Ua(e,Ua.DEFAULT_COLLECTION_PERCENTILE,Ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ua.DEFAULT_COLLECTION_PERCENTILE=10,Ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ua.DEFAULT=new Ua(zE,Ua.DEFAULT_COLLECTION_PERCENTILE,Ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ua.DISABLED=new Ua(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Lc(0)}static ur(){return new Lc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="LruGarbageCollector",vM=1048576;function ww([n,e],[t,a]){const i=Bt(n,t);return i===0?Bt(e,a):i}class xM{constructor(e){this.Tr=e,this.buffer=new Fr(ww),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();ww(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bM{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){$e(_w,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qc(t)?$e(_w,"Ignoring IndexedDB error during garbage collection: ",t):await Gc(t)}await this.Rr(3e5)})}}class _M{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return Te.resolve(fm.ue);const a=new xM(t);return this.Vr.forEachTarget(e,i=>a.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>a.Er(i))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.Vr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?($e("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(bw)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bw):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let a,i,l,d,m,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,d=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(a=_,m=Date.now(),this.removeTargets(e,a,t))).next(_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(_=>(g=Date.now(),vc()<=Xt.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${i} in `+(m-d)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:_})))}}function wM(n,e){return new _M(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.changes=new Al(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Na.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?Te.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,t,a,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=i}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(a=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(a!==null&&id(a.mutation,i,rs.empty(),Nn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,Zt()).next(()=>a))}getLocalViewOfDocuments(e,t,a=Zt()){const i=yl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,a).next(l=>{let d=Xu();return l.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const a=yl();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,Zt()))}populateOverlays(e,t,a){const i=[];return a.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,a,i){let l=Vi();const d=sd(),m=function(){return sd()}();return t.forEach((p,g)=>{const b=a.get(g.key);i.has(g.key)&&(b===void 0||b.mutation instanceof Bo)?l=l.insert(g.key,g):b!==void 0?(d.set(g.key,b.mutation.getFieldMask()),id(b.mutation,g,b.mutation.getFieldMask(),Nn.now())):d.set(g.key,rs.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,b)=>d.set(g,b)),t.forEach((g,b)=>{var _;return m.set(g,new NM(b,(_=d.get(g))!==null&&_!==void 0?_:null))}),m))}recalculateAndSaveOverlays(e,t){const a=sd();let i=new sr((d,m)=>d-m),l=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let b=a.get(p)||rs.empty();b=m.applyToLocalView(g,b),a.set(p,b);const _=(i.get(m.batchId)||Zt()).add(p);i=i.insert(m.batchId,_)})}).next(()=>{const d=[],m=i.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,b=p.value,_=wE();b.forEach(E=>{if(!l.has(E)){const D=AE(t.get(E),a.get(E));D!==null&&_.set(E,D),l=l.add(E)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,_))}return Te.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,i){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,i):this.getDocumentsMatchingCollectionQuery(e,t,a,i)}getNextDocuments(e,t,a,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,i).next(l=>{const d=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,i-l.size):Te.resolve(yl());let m=fd,p=l;return d.next(g=>Te.forEach(g,(b,_)=>(m<_.largestBatchId&&(m=_.largestBatchId),l.get(b)?Te.resolve():this.remoteDocumentCache.getEntry(e,b).next(E=>{p=p.insert(b,E)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Zt())).next(b=>({batchId:m,changes:_E(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ut(t)).next(a=>{let i=Xu();return a.isFoundDocument()&&(i=i.insert(a.key,a)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,a,i){const l=t.collectionGroup;let d=Xu();return this.indexManager.getCollectionParents(e,l).next(m=>Te.forEach(m,p=>{const g=function(_,E){return new Rd(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,i).next(b=>{b.forEach((_,E)=>{d=d.insert(_,E)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,a,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,i))).next(d=>{l.forEach((p,g)=>{const b=g.getKey();d.get(b)===null&&(d=d.insert(b,Na.newInvalidDocument(b)))});let m=Xu();return d.forEach((p,g)=>{const b=l.get(p);b!==void 0&&id(b.mutation,g,rs.empty(),Nn.now()),vm(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Te.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:si(i.createTime)}}(t)),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:pM(i.bundledQuery),readTime:si(i.readTime)}}(t)),Te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.overlays=new sr(ut.comparator),this.kr=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const a=yl();return Te.forEach(t,i=>this.getOverlay(e,i).next(l=>{l!==null&&a.set(i,l)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((i,l)=>{this.wt(e,t,l)}),Te.resolve()}removeOverlaysForBatchId(e,t,a){const i=this.kr.get(a);return i!==void 0&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(a)),Te.resolve()}getOverlaysForCollection(e,t,a){const i=yl(),l=t.length+1,d=new ut(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>a&&i.set(p.getKey(),p)}return Te.resolve(i)}getOverlaysForCollectionGroup(e,t,a,i){let l=new sr((g,b)=>g-b);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let b=l.get(g.largestBatchId);b===null&&(b=yl(),l=l.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=yl(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,b)=>m.set(g,b)),!(m.size()>=i)););return Te.resolve(m)}wt(e,t,a){const i=this.overlays.get(a.key);if(i!==null){const d=this.kr.get(i.largestBatchId).delete(a.key);this.kr.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Y3(t,a));let l=this.kr.get(t);l===void 0&&(l=Zt(),this.kr.set(t,l)),this.kr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.sessionToken=da.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.qr=new Fr(Jr.Qr),this.$r=new Fr(Jr.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const a=new Jr(e,t);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.Wr(new Jr(e,t))}Gr(e,t){e.forEach(a=>this.removeReference(a,t))}zr(e){const t=new ut(new Bn([])),a=new Jr(t,e),i=new Jr(t,e+1),l=[];return this.$r.forEachInRange([a,i],d=>{this.Wr(d),l.push(d.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ut(new Bn([])),a=new Jr(t,e),i=new Jr(t,e+1);let l=Zt();return this.$r.forEachInRange([a,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Jr(e,0),a=this.qr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class Jr{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ut.comparator(e.key,t.key)||Bt(e.Hr,t.Hr)}static Ur(e,t){return Bt(e.Hr,t.Hr)||ut.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Fr(Jr.Qr)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,i){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new $3(l,t,a,i);this.mutationQueue.push(d);for(const m of i)this.Yr=this.Yr.add(new Jr(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Te.resolve(d)}lookupMutationBatch(e,t){return Te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,i=this.Xr(a),l=i<0?0:i;return Te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?ty:this.er-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Jr(t,0),i=new Jr(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([a,i],d=>{const m=this.Zr(d.Hr);l.push(m)}),Te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Fr(Bt);return t.forEach(i=>{const l=new Jr(i,0),d=new Jr(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,d],m=>{a=a.add(m.Hr)})}),Te.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,i=a.length+1;let l=a;ut.isDocumentKey(l)||(l=l.child(""));const d=new Jr(new ut(l),0);let m=new Fr(Bt);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===i&&(m=m.add(p.Hr)),!0)},d),Te.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(a=>{const i=this.Zr(a);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){vn(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return Te.forEach(t.mutations,i=>{const l=new Jr(i.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,t){const a=new Jr(t,0),i=this.Yr.firstAfterOrEqual(a);return Te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.ni=e,this.docs=function(){return new sr(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,i=this.docs.get(a),l=i?i.size:0,d=this.ni(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return Te.resolve(a?a.document.mutableCopy():Na.newInvalidDocument(t))}getEntries(e,t){let a=Vi();return t.forEach(i=>{const l=this.docs.get(i);a=a.insert(i,l?l.document.mutableCopy():Na.newInvalidDocument(i))}),Te.resolve(a)}getDocumentsMatchingQuery(e,t,a,i){let l=Vi();const d=t.path,m=new ut(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||i3(s3(b),a)<=0||(i.has(b.key)||vm(t,b))&&(l=l.insert(b.key,b.mutableCopy()))}return Te.resolve(l)}getAllFromCollectionGroup(e,t,a,i){xt(9500)}ri(e,t){return Te.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new DM(this)}getSize(e){return Te.resolve(this.size)}}class DM extends EM{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((a,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(a)}),Te.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.persistence=e,this.ii=new Al(t=>ay(t),sy),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.si=0,this.oi=new uy,this.targetCount=0,this._i=Lc.ar()}forEachTarget(e,t){return this.ii.forEach((a,i)=>t(i)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.si&&(this.si=t),Te.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Lc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.hr(t),Te.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,a){let i=0;const l=[];return this.ii.forEach((d,m)=>{m.sequenceNumber<=t&&a.get(m.targetId)===null&&(this.ii.delete(d),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),Te.waitFor(l).next(()=>i)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const a=this.ii.get(t)||null;return Te.resolve(a)}addMatchingKeys(e,t,a){return this.oi.Kr(t,a),Te.resolve()}removeMatchingKeys(e,t,a){this.oi.Gr(t,a);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),Te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const a=this.oi.Jr(t);return Te.resolve(a)}containsKey(e,t){return Te.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t){this.ai={},this.overlays={},this.ui=new fm(0),this.ci=!1,this.ci=!0,this.li=new AM,this.referenceDelegate=e(this),this.hi=new MM(this),this.indexManager=new gM,this.remoteDocumentCache=function(i){return new jM(i)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new mM(t),this.Ti=new SM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ai[e.toKey()];return a||(a=new RM(t,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,a){$e("MemoryPersistence","Starting transaction:",e);const i=new IM(this.ui.next());return this.referenceDelegate.Ii(),a(i).next(l=>this.referenceDelegate.di(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ei(e,t){return Te.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,t)))}}class IM extends l3{constructor(e){super(),this.currentSequenceNumber=e}}class dy{constructor(e){this.persistence=e,this.Ai=new uy,this.Ri=null}static Vi(e){return new dy(e)}get mi(){if(this.Ri)return this.Ri;throw xt(60996)}addReference(e,t,a){return this.Ai.addReference(a,t),this.mi.delete(a.toString()),Te.resolve()}removeReference(e,t,a){return this.Ai.removeReference(a,t),this.mi.add(a.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.mi.add(l.toString()))}).next(()=>a.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.mi,a=>{const i=ut.fromPath(a);return this.fi(e,i).next(l=>{l||t.removeEntry(i,At.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(a=>{a?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Te.or([()=>Te.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Qf{constructor(e,t){this.persistence=e,this.gi=new Al(a=>d3(a.path),(a,i)=>a.isEqual(i)),this.garbageCollector=wM(this,t)}static Vi(e,t){return new Qf(e,t)}Ii(){}di(e){return Te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(i=>a+i))}yr(e){let t=0;return this.gr(e,a=>{t++}).next(()=>t)}gr(e,t){return Te.forEach(this.gi,(a,i)=>this.Sr(e,a,i).next(l=>l?Te.resolve():t(i)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const i=this.persistence.getRemoteDocumentCache(),l=i.newChangeBuffer();return i.ri(e,d=>this.Sr(e,d,t).next(m=>{m||(a++,l.removeEntry(d,At.min()))})).next(()=>l.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Te.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.gi.set(a,e.currentSequenceNumber),Te.resolve()}removeReference(e,t,a){return this.gi.set(a,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Te.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bf(e.data.value)),t}Sr(e,t,a){return Te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.gi.get(t);return Te.resolve(i!==void 0&&i>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,t,a,i){this.targetId=e,this.fromCache=t,this.Is=a,this.ds=i}static Es(e,t){let a=Zt(),i=Zt();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new hy(e,t.fromCache,a,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return p4()?8:c3(Ta())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,a,i){const l={result:null};return this.ps(e,t).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.ys(e,t,i,a).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new PM;return this.ws(e,t,d).next(m=>{if(l.result=m,this.Rs)return this.Ss(e,t,d,m.size)})}).next(()=>l.result)}Ss(e,t,a,i){return a.documentReadCount<this.Vs?(vc()<=Xt.DEBUG&&$e("QueryEngine","SDK will not create cache indexes for query:",xc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Te.resolve()):(vc()<=Xt.DEBUG&&$e("QueryEngine","Query:",xc(t),"scans",a.documentReadCount,"local documents and returns",i,"documents as results."),a.documentReadCount>this.fs*i?(vc()<=Xt.DEBUG&&$e("QueryEngine","The SDK decides to create cache indexes for query:",xc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(t))):Te.resolve())}ps(e,t){if(uw(t))return Te.resolve(null);let a=ai(t);return this.indexManager.getIndexType(e,a).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=p0(t,null,"F"),a=ai(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(l=>{const d=Zt(...l);return this.gs.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.bs(t,m);return this.Ds(t,g,d,p.readTime)?this.ps(e,p0(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,a,i){return uw(t)||i.isEqual(At.min())?Te.resolve(null):this.gs.getDocuments(e,a).next(l=>{const d=this.bs(t,l);return this.Ds(t,d,a,i)?Te.resolve(null):(vc()<=Xt.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xc(t)),this.vs(e,d,t,a3(i,fd)).next(m=>m))})}bs(e,t){let a=new Fr(xE(e));return t.forEach((i,l)=>{vm(e,l)&&(a=a.add(l))}),a}Ds(e,t,a,i){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ws(e,t,a){return vc()<=Xt.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",xc(t)),this.gs.getDocumentsMatchingQuery(e,t,Do.min(),a)}vs(e,t,a,i){return this.gs.getDocumentsMatchingQuery(e,a,i).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="LocalStore",kM=3e8;class VM{constructor(e,t,a,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new sr(Bt),this.Ms=new Al(l=>ay(l),sy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TM(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function LM(n,e,t,a){return new VM(n,e,t,a)}async function FE(n,e){const t=Rt(n);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let i;return t.mutationQueue.getAllMutationBatches(a).next(l=>(i=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(a))).next(l=>{const d=[],m=[];let p=Zt();for(const g of i){d.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of l){m.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return t.localDocuments.getDocuments(a,p).next(g=>({Bs:g,removedBatchIds:d,addedBatchIds:m}))})})}function UM(n,e){const t=Rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const i=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,b){const _=g.batch,E=_.keys();let D=Te.resolve();return E.forEach(O=>{D=D.next(()=>b.getEntry(p,O)).next(z=>{const $=g.docVersions.get(O);vn($!==null,48541),z.version.compareTo($)<0&&(_.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),b.addEntry(z)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,_))}(t,a,e,l).next(()=>l.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Zt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(a,i))})}function HE(n){const e=Rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function zM(n,e){const t=Rt(n),a=e.snapshotVersion;let i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;const m=[];e.targetChanges.forEach((b,_)=>{const E=i.get(_);if(!E)return;m.push(t.hi.removeMatchingKeys(l,b.removedDocuments,_).next(()=>t.hi.addMatchingKeys(l,b.addedDocuments,_)));let D=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?D=D.withResumeToken(da.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(b.resumeToken,a)),i=i.insert(_,D),function(z,$,K){return z.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=kM?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(E,D,b)&&m.push(t.hi.updateTargetData(l,D))});let p=Vi(),g=Zt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,b))}),m.push(BM(l,d,e.documentUpdates).next(b=>{p=b.Ls,g=b.ks})),!a.isEqual(At.min())){const b=t.hi.getLastRemoteSnapshotVersion(l).next(_=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,a));m.push(b)}return Te.waitFor(m).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Fs=i,l))}function BM(n,e,t){let a=Zt(),i=Zt();return t.forEach(l=>a=a.add(l)),e.getEntries(n,a).next(l=>{let d=Vi();return t.forEach((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):$e(fy,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:d,ks:i}})}function FM(n,e){const t=Rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=ty),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function HM(n,e){const t=Rt(n);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let i;return t.hi.getTargetData(a,e).next(l=>l?(i=l,Te.resolve(i)):t.hi.allocateTargetId(a).next(d=>(i=new wo(e,d,"TargetPurposeListen",a.currentSequenceNumber),t.hi.addTargetData(a,i).next(()=>i))))}).then(a=>{const i=t.Fs.get(a.targetId);return(i===null||a.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(a.targetId,a),t.Ms.set(e,a.targetId)),a})}async function b0(n,e,t){const a=Rt(n),i=a.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,d=>a.persistence.referenceDelegate.removeTarget(d,i))}catch(d){if(!Qc(d))throw d;$e(fy,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(i.target)}function Ew(n,e,t){const a=Rt(n);let i=At.min(),l=Zt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,g,b){const _=Rt(p),E=_.Ms.get(b);return E!==void 0?Te.resolve(_.Fs.get(E)):_.hi.getTargetData(g,b)}(a,d,ai(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(d,m.targetId).next(p=>{l=p})}).next(()=>a.Cs.getDocumentsMatchingQuery(d,e,t?i:At.min(),t?l:Zt())).next(m=>(qM(a,j3(e),m),{documents:m,qs:l})))}function qM(n,e,t){let a=n.xs.get(e)||At.min();t.forEach((i,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)}),n.xs.set(e,a)}class Nw{constructor(){this.activeTargetIds=k3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $M{constructor(){this.Fo=new Nw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,a){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Nw,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="ConnectivityMonitor";class Sw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){$e(Tw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){$e(Tw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf=null;function _0(){return nf===null?nf=function(){return 268435456+Math.round(2147483648*Math.random())}():nf++,"0x"+nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="RestConnection",WM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GM{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${a}/databases/${i}`,this.Ko=this.databaseId.database===Ff?`project_id=${a}`:`project_id=${a}&database_id=${i}`}Wo(e,t,a,i,l){const d=_0(),m=this.Go(e,t.toUriEncodedString());$e(Og,`Sending RPC '${e}' ${d}:`,m,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,i,l);const{host:g}=new URL(m),b=Hc(g);return this.jo(e,m,p,a,b).then(_=>($e(Og,`Received RPC '${e}' ${d}: `,_),_),_=>{throw jo(Og,`RPC '${e}' ${d} failed with error: `,_,"url: ",m,"request:",a),_})}Jo(e,t,a,i,l,d){return this.Wo(e,t,a,i,l)}zo(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),a&&a.headers.forEach((i,l)=>e[l]=i)}Go(e,t){const a=WM[e];return`${this.$o}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="WebChannelConnection";class KM extends GM{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,a,i,l){const d=_0();return new Promise((m,p)=>{const g=new $2;g.setWithCredentials(!0),g.listenOnce(Y2.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case xf.NO_ERROR:const _=g.getResponseJson();$e(ba,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(_)),m(_);break;case xf.TIMEOUT:$e(ba,`RPC '${e}' ${d} timed out`),p(new Be(we.DEADLINE_EXCEEDED,"Request time out"));break;case xf.HTTP_ERROR:const E=g.getStatus();if($e(ba,`RPC '${e}' ${d} failed with status:`,E,"response text:",g.getResponseText()),E>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const O=D?.error;if(O&&O.status&&O.message){const z=function(K){const ge=K.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(ge)>=0?ge:we.UNKNOWN}(O.status);p(new Be(z,O.message))}else p(new Be(we.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Be(we.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{c_:e,streamId:d,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{$e(ba,`RPC '${e}' ${d} completed.`)}});const b=JSON.stringify(i);$e(ba,`RPC '${e}' ${d} sending request:`,i),g.send(t,"POST",b,a,15)})}P_(e,t,a){const i=_0(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Q2(),m=G2(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,a),p.encodeInitMessageHeaders=!0;const b=l.join("");$e(ba,`Creating RPC '${e}' stream ${i}: ${b}`,p);const _=d.createWebChannel(b,p);this.T_(_);let E=!1,D=!1;const O=new QM({Ho:$=>{D?$e(ba,`Not sending because RPC '${e}' stream ${i} is closed:`,$):(E||($e(ba,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),$e(ba,`RPC '${e}' stream ${i} sending:`,$),_.send($))},Yo:()=>_.close()}),z=($,K,ge)=>{$.listen(K,se=>{try{ge(se)}catch(Ae){setTimeout(()=>{throw Ae},0)}})};return z(_,Ku.EventType.OPEN,()=>{D||($e(ba,`RPC '${e}' stream ${i} transport opened.`),O.s_())}),z(_,Ku.EventType.CLOSE,()=>{D||(D=!0,$e(ba,`RPC '${e}' stream ${i} transport closed`),O.__(),this.I_(_))}),z(_,Ku.EventType.ERROR,$=>{D||(D=!0,jo(ba,`RPC '${e}' stream ${i} transport errored. Name:`,$.name,"Message:",$.message),O.__(new Be(we.UNAVAILABLE,"The operation could not be completed")))}),z(_,Ku.EventType.MESSAGE,$=>{var K;if(!D){const ge=$.data[0];vn(!!ge,16349);const se=ge,Ae=se?.error||((K=se[0])===null||K===void 0?void 0:K.error);if(Ae){$e(ba,`RPC '${e}' stream ${i} received error:`,Ae);const fe=Ae.status;let U=function(I){const M=Dr[I];if(M!==void 0)return jE(M)}(fe),k=Ae.message;U===void 0&&(U=we.INTERNAL,k="Unknown error status: "+fe+" with message "+Ae.message),D=!0,O.__(new Be(U,k)),_.close()}else $e(ba,`RPC '${e}' stream ${i} received:`,ge),O.a_(ge)}}),z(m,W2.STAT_EVENT,$=>{$.stat===l0.PROXY?$e(ba,`RPC '${e}' stream ${i} detected buffering proxy`):$.stat===l0.NOPROXY&&$e(ba,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{O.o_()},0),O}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n){return new eM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t,a=1e3,i=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=a,this.E_=i,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-a);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="PersistentStream";class $E{constructor(e,t,a,i,l,d,m,p){this.Fi=e,this.w_=a,this.S_=i,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new qE(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===we.RESOURCE_EXHAUSTED?(ki(t.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,i])=>{this.b_===t&&this.W_(a,i)},a=>{e(()=>{const i=new Be(we.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(i)})})}W_(e,t){const a=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{a(()=>this.G_(i))}),this.stream.onMessage(i=>{a(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return $e(Cw,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():($e(Cw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XM extends $E{constructor(e,t,a,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,i,d),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=rM(this.serializer,e),a=function(l){if(!("targetChange"in l))return At.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?si(d.readTime):At.min()}(e);return this.listener.J_(t,a)}H_(e){const t={};t.database=x0(this.serializer),t.addTarget=function(l,d){let m;const p=d.target;if(m=f0(p)?{documents:iM(l,p)}:{query:oM(l,p).Vt},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=IE(l,d.resumeToken);const g=g0(l,d.expectedCount);g!==null&&(m.expectedCount=g)}else if(d.snapshotVersion.compareTo(At.min())>0){m.readTime=Gf(l,d.snapshotVersion.toTimestamp());const g=g0(l,d.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const a=cM(this.serializer,e);a&&(t.labels=a),this.k_(t)}Y_(e){const t={};t.database=x0(this.serializer),t.removeTarget=e,this.k_(t)}}class ZM extends $E{constructor(e,t,a,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,i,d),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return vn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){vn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=sM(e.writeResults,e.commitTime),a=si(e.commitTime);return this.listener.ta(a,t)}na(){const e={};e.database=x0(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>aM(this.serializer,a))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{}class e6 extends JM{constructor(e,t,a,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Be(we.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,a,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Wo(e,y0(t,a),i,l,d)).catch(l=>{throw l.name==="FirebaseError"?(l.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Be(we.UNKNOWN,l.toString())})}Jo(e,t,a,i,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Jo(e,y0(t,a),i,d,m,l)).catch(d=>{throw d.name==="FirebaseError"?(d.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Be(we.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class t6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ki(t),this._a=!1):$e("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="RemoteStore";class n6{constructor(e,t,a,i,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(d=>{a.enqueueAndForget(async()=>{Rl(this)&&($e(Nl,"Restarting streams for network reachability change."),await async function(p){const g=Rt(p);g.Ia.add(4),await Md(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Nm(g)}(this))})}),this.Aa=new t6(a,i)}}async function Nm(n){if(Rl(n))for(const e of n.da)await e(!0)}async function Md(n){for(const e of n.da)await e(!1)}function YE(n,e){const t=Rt(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),yy(t)?gy(t):Kc(t).x_()&&py(t,e))}function my(n,e){const t=Rt(n),a=Kc(t);t.Ta.delete(e),a.x_()&&WE(t,e),t.Ta.size===0&&(a.x_()?a.B_():Rl(t)&&t.Aa.set("Unknown"))}function py(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Kc(n).H_(e)}function WE(n,e){n.Ra.$e(e),Kc(n).Y_(e)}function gy(n){n.Ra=new K3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Kc(n).start(),n.Aa.aa()}function yy(n){return Rl(n)&&!Kc(n).M_()&&n.Ta.size>0}function Rl(n){return Rt(n).Ia.size===0}function GE(n){n.Ra=void 0}async function r6(n){n.Aa.set("Online")}async function a6(n){n.Ta.forEach((e,t)=>{py(n,e)})}async function s6(n,e){GE(n),yy(n)?(n.Aa.la(e),gy(n)):n.Aa.set("Unknown")}async function i6(n,e,t){if(n.Aa.set("Online"),e instanceof ME&&e.state===2&&e.cause)try{await async function(i,l){const d=l.cause;for(const m of l.targetIds)i.Ta.has(m)&&(await i.remoteSyncer.rejectListen(m,d),i.Ta.delete(m),i.Ra.removeTarget(m))}(n,e)}catch(a){$e(Nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Kf(n,a)}else if(e instanceof Ef?n.Ra.Ye(e):e instanceof DE?n.Ra.it(e):n.Ra.et(e),!t.isEqual(At.min()))try{const a=await HE(n.localStore);t.compareTo(a)>=0&&await function(l,d){const m=l.Ra.Pt(d);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=l.Ta.get(g);b&&l.Ta.set(g,b.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,g)=>{const b=l.Ta.get(p);if(!b)return;l.Ta.set(p,b.withResumeToken(da.EMPTY_BYTE_STRING,b.snapshotVersion)),WE(l,p);const _=new wo(b.target,p,g,b.sequenceNumber);py(l,_)}),l.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(a){$e(Nl,"Failed to raise snapshot:",a),await Kf(n,a)}}async function Kf(n,e,t){if(!Qc(e))throw e;n.Ia.add(1),await Md(n),n.Aa.set("Offline"),t||(t=()=>HE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{$e(Nl,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Nm(n)})}function QE(n,e){return e().catch(t=>Kf(n,t,e))}async function Tm(n){const e=Rt(n),t=Oo(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ty;for(;o6(e);)try{const i=await FM(e.localStore,a);if(i===null){e.Pa.length===0&&t.B_();break}a=i.batchId,l6(e,i)}catch(i){await Kf(e,i)}KE(e)&&XE(e)}function o6(n){return Rl(n)&&n.Pa.length<10}function l6(n,e){n.Pa.push(e);const t=Oo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function KE(n){return Rl(n)&&!Oo(n).M_()&&n.Pa.length>0}function XE(n){Oo(n).start()}async function c6(n){Oo(n).na()}async function u6(n){const e=Oo(n);for(const t of n.Pa)e.X_(t.mutations)}async function d6(n,e,t){const a=n.Pa.shift(),i=oy.from(a,e,t);await QE(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Tm(n)}async function h6(n,e){e&&Oo(n).Z_&&await async function(a,i){if(function(d){return G3(d)&&d!==we.ABORTED}(i.code)){const l=a.Pa.shift();Oo(a).N_(),await QE(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,i)),await Tm(a)}}(n,e),KE(n)&&XE(n)}async function Aw(n,e){const t=Rt(n);t.asyncQueue.verifyOperationInProgress(),$e(Nl,"RemoteStore received new credentials");const a=Rl(t);t.Ia.add(3),await Md(t),a&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Nm(t)}async function f6(n,e){const t=Rt(n);e?(t.Ia.delete(2),await Nm(t)):e||(t.Ia.add(2),await Md(t),t.Aa.set("Unknown"))}function Kc(n){return n.Va||(n.Va=function(t,a,i){const l=Rt(t);return l.ia(),new XM(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(n.datastore,n.asyncQueue,{Zo:r6.bind(null,n),e_:a6.bind(null,n),n_:s6.bind(null,n),J_:i6.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),yy(n)?gy(n):n.Aa.set("Unknown")):(await n.Va.stop(),GE(n))})),n.Va}function Oo(n){return n.ma||(n.ma=function(t,a,i){const l=Rt(t);return l.ia(),new ZM(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:c6.bind(null,n),n_:h6.bind(null,n),ea:u6.bind(null,n),ta:d6.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Tm(n)):(await n.ma.stop(),n.Pa.length>0&&($e(Nl,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,t,a,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=i,this.removalCallback=l,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,i,l){const d=Date.now()+a,m=new vy(e,t,d,i,l);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xy(n,e){if(ki("AsyncQueue",`${e}: ${n}`),Qc(n))return new Be(we.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{static emptySet(e){return new jc(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||ut.comparator(t.key,a.key):(t,a)=>ut.comparator(t.key,a.key),this.keyedMap=Xu(),this.sortedSet=new sr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=a.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new jc;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.fa=new sr(ut.comparator)}track(e){const t=e.doc.key,a=this.fa.get(t);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(t,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(t):e.type===1&&a.type===2?this.fa=this.fa.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):xt(63341,{At:e,ga:a}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,a)=>{e.push(a)}),e}}class Uc{constructor(e,t,a,i,l,d,m,p,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,i,l){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Uc(e,t,jc.emptySet(t),d,a,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ym(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==a[i].type||!t[i].doc.isEqual(a[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class p6{constructor(){this.queries=jw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,a){const i=Rt(t),l=i.queries;i.queries=jw(),l.forEach((d,m)=>{for(const p of m.wa)p.onError(a)})})(this,new Be(we.ABORTED,"Firestore shutting down"))}}function jw(){return new Al(n=>vE(n),ym)}async function by(n,e){const t=Rt(n);let a=3;const i=e.query;let l=t.queries.get(i);l?!l.Sa()&&e.ba()&&(a=2):(l=new m6,a=e.ba()?0:1);try{switch(a){case 0:l.ya=await t.onListen(i,!0);break;case 1:l.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(d){const m=xy(d,`Initialization of query '${xc(e.query)}' failed`);return void e.onError(m)}t.queries.set(i,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&wy(t)}async function _y(n,e){const t=Rt(n),a=e.query;let i=3;const l=t.queries.get(a);if(l){const d=l.wa.indexOf(e);d>=0&&(l.wa.splice(d,1),l.wa.length===0?i=e.ba()?0:1:!l.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function g6(n,e){const t=Rt(n);let a=!1;for(const i of e){const l=i.query,d=t.queries.get(l);if(d){for(const m of d.wa)m.Ca(i)&&(a=!0);d.ya=i}}a&&wy(t)}function y6(n,e,t){const a=Rt(n),i=a.queries.get(e);if(i)for(const l of i.wa)l.onError(t);a.queries.delete(e)}function wy(n){n.Da.forEach(e=>{e.next()})}var w0,Dw;(Dw=w0||(w0={})).Fa="default",Dw.Cache="cache";class Ey{constructor(e,t,a){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const i of e.docChanges)i.type!==3&&a.push(i);e=new Uc(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const a=t!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==w0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.key=e}}class JE{constructor(e){this.key=e}}class v6{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Zt(),this.mutatedKeys=Zt(),this.Xa=xE(e),this.eu=new jc(this.Xa)}get tu(){return this.Ha}nu(e,t){const a=t?t.ru:new Rw,i=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,m=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,_)=>{const E=i.get(b),D=vm(this.query,_)?_:null,O=!!E&&this.mutatedKeys.has(E.key),z=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let $=!1;E&&D?E.data.isEqual(D.data)?O!==z&&(a.track({type:3,doc:D}),$=!0):this.iu(E,D)||(a.track({type:2,doc:D}),$=!0,(p&&this.Xa(D,p)>0||g&&this.Xa(D,g)<0)&&(m=!0)):!E&&D?(a.track({type:0,doc:D}),$=!0):E&&!D&&(a.track({type:1,doc:E}),$=!0,(p||g)&&(m=!0)),$&&(D?(d=d.add(D),l=z?l.add(b):l.delete(b)):(d=d.delete(b),l=l.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),l=l.delete(b.key),a.track({type:1,doc:b})}return{eu:d,ru:a,Ds:m,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,i){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((b,_)=>function(D,O){const z=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{At:$})}};return z(D)-z(O)}(b.type,_.type)||this.Xa(b.doc,_.doc)),this.su(a),i=i!=null&&i;const m=t&&!i?this.ou():[],p=this.Za.size===0&&this.current&&!i?1:0,g=p!==this.Ya;return this.Ya=p,d.length!==0||g?{snapshot:new Uc(this.query,e.eu,l,d,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Rw,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Zt(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const t=[];return e.forEach(a=>{this.Za.has(a)||t.push(new JE(a))}),this.Za.forEach(a=>{e.has(a)||t.push(new ZE(a))}),t}uu(e){this.Ha=e.qs,this.Za=Zt();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Uc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ny="SyncEngine";class x6{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class b6{constructor(e){this.key=e,this.lu=!1}}class _6{constructor(e,t,a,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Al(m=>vE(m),ym),this.Tu=new Map,this.Iu=new Set,this.du=new sr(ut.comparator),this.Eu=new Map,this.Au=new uy,this.Ru={},this.Vu=new Map,this.mu=Lc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function w6(n,e,t=!0){const a=sN(n);let i;const l=a.Pu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.cu()):i=await eN(a,e,t,!0),i}async function E6(n,e){const t=sN(n);await eN(t,e,!0,!1)}async function eN(n,e,t,a){const i=await HM(n.localStore,ai(e)),l=i.targetId,d=n.sharedClientState.addLocalQueryTarget(l,t);let m;return a&&(m=await N6(n,e,l,d==="current",i.resumeToken)),n.isPrimaryClient&&t&&YE(n.remoteStore,i),m}async function N6(n,e,t,a,i){n.gu=(_,E,D)=>async function(z,$,K,ge){let se=$.view.nu(K);se.Ds&&(se=await Ew(z.localStore,$.query,!1).then(({documents:k})=>$.view.nu(k,se)));const Ae=ge&&ge.targetChanges.get($.targetId),fe=ge&&ge.targetMismatches.get($.targetId)!=null,U=$.view.applyChanges(se,z.isPrimaryClient,Ae,fe);return Iw(z,$.targetId,U._u),U.snapshot}(n,_,E,D);const l=await Ew(n.localStore,e,!0),d=new v6(e,l.qs),m=d.nu(l.documents),p=Dd.createSynthesizedTargetChangeForCurrentChange(t,a&&n.onlineState!=="Offline",i),g=d.applyChanges(m,n.isPrimaryClient,p);Iw(n,t,g._u);const b=new x6(e,t,d);return n.Pu.set(e,b),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),g.snapshot}async function T6(n,e,t){const a=Rt(n),i=a.Pu.get(e),l=a.Tu.get(i.targetId);if(l.length>1)return a.Tu.set(i.targetId,l.filter(d=>!ym(d,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(i.targetId),a.sharedClientState.isActiveQueryTarget(i.targetId)||await b0(a.localStore,i.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(i.targetId),t&&my(a.remoteStore,i.targetId),E0(a,i.targetId)}).catch(Gc)):(E0(a,i.targetId),await b0(a.localStore,i.targetId,!0))}async function S6(n,e){const t=Rt(n),a=t.Pu.get(e),i=t.Tu.get(a.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),my(t.remoteStore,a.targetId))}async function C6(n,e,t){const a=P6(n);try{const i=await function(d,m){const p=Rt(d),g=Nn.now(),b=m.reduce((D,O)=>D.add(O.key),Zt());let _,E;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let O=Vi(),z=Zt();return p.Os.getEntries(D,b).next($=>{O=$,O.forEach((K,ge)=>{ge.isValidDocument()||(z=z.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,O)).next($=>{_=$;const K=[];for(const ge of m){const se=H3(ge,_.get(ge.key).overlayedDocument);se!=null&&K.push(new Bo(ge.key,se,uE(se.value.mapValue),Ma.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,K,m)}).next($=>{E=$;const K=$.applyToLocalDocumentSet(_,z);return p.documentOverlayCache.saveOverlays(D,$.batchId,K)})}).then(()=>({batchId:E.batchId,changes:_E(_)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(i.batchId),function(d,m,p){let g=d.Ru[d.currentUser.toKey()];g||(g=new sr(Bt)),g=g.insert(m,p),d.Ru[d.currentUser.toKey()]=g}(a,i.batchId,t),await Id(a,i.changes),await Tm(a.remoteStore)}catch(i){const l=xy(i,"Failed to persist write");t.reject(l)}}async function tN(n,e){const t=Rt(n);try{const a=await zM(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.Eu.get(l);d&&(vn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?d.lu=!0:i.modifiedDocuments.size>0?vn(d.lu,14607):i.removedDocuments.size>0&&(vn(d.lu,42227),d.lu=!1))}),await Id(t,a,e)}catch(a){await Gc(a)}}function Mw(n,e,t){const a=Rt(n);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const i=[];a.Pu.forEach((l,d)=>{const m=d.view.va(e);m.snapshot&&i.push(m.snapshot)}),function(d,m){const p=Rt(d);p.onlineState=m;let g=!1;p.queries.forEach((b,_)=>{for(const E of _.wa)E.va(m)&&(g=!0)}),g&&wy(p)}(a.eventManager,e),i.length&&a.hu.J_(i),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function A6(n,e,t){const a=Rt(n);a.sharedClientState.updateQueryState(e,"rejected",t);const i=a.Eu.get(e),l=i&&i.key;if(l){let d=new sr(ut.comparator);d=d.insert(l,Na.newNoDocument(l,At.min()));const m=Zt().add(l),p=new wm(At.min(),new Map,new sr(Bt),d,m);await tN(a,p),a.du=a.du.remove(l),a.Eu.delete(e),Ty(a)}else await b0(a.localStore,e,!1).then(()=>E0(a,e,t)).catch(Gc)}async function R6(n,e){const t=Rt(n),a=e.batch.batchId;try{const i=await UM(t.localStore,e);rN(t,a,null),nN(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Id(t,i)}catch(i){await Gc(i)}}async function j6(n,e,t){const a=Rt(n);try{const i=await function(d,m){const p=Rt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return p.mutationQueue.lookupMutationBatch(g,m).next(_=>(vn(_!==null,37113),b=_.keys(),p.mutationQueue.removeMutationBatch(g,_))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>p.localDocuments.getDocuments(g,b))})}(a.localStore,e);rN(a,e,t),nN(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Id(a,i)}catch(i){await Gc(i)}}function nN(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function rN(n,e,t){const a=Rt(n);let i=a.Ru[a.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),a.Ru[a.currentUser.toKey()]=i}}function E0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const a of n.Tu.get(e))n.Pu.delete(a),t&&n.hu.pu(a,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(a=>{n.Au.containsKey(a)||aN(n,a)})}function aN(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(my(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Ty(n))}function Iw(n,e,t){for(const a of t)a instanceof ZE?(n.Au.addReference(a.key,e),D6(n,a)):a instanceof JE?($e(Ny,"Document no longer in limbo: "+a.key),n.Au.removeReference(a.key,e),n.Au.containsKey(a.key)||aN(n,a.key)):xt(19791,{yu:a})}function D6(n,e){const t=e.key,a=t.path.canonicalString();n.du.get(t)||n.Iu.has(a)||($e(Ny,"New document in limbo: "+t),n.Iu.add(a),Ty(n))}function Ty(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new ut(Bn.fromString(e)),a=n.mu.next();n.Eu.set(a,new b6(t)),n.du=n.du.insert(t,a),YE(n.remoteStore,new wo(ai(gm(t.path)),a,"TargetPurposeLimboResolution",fm.ue))}}async function Id(n,e,t){const a=Rt(n),i=[],l=[],d=[];a.Pu.isEmpty()||(a.Pu.forEach((m,p)=>{d.push(a.gu(p,e,t).then(g=>{var b;if((g||t)&&a.isPrimaryClient){const _=g?!g.fromCache:(b=t?.targetChanges.get(p.targetId))===null||b===void 0?void 0:b.current;a.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){i.push(g);const _=hy.Es(p.targetId,g);l.push(_)}}))}),await Promise.all(d),a.hu.J_(i),await async function(p,g){const b=Rt(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Te.forEach(g,E=>Te.forEach(E.Is,D=>b.persistence.referenceDelegate.addReference(_,E.targetId,D)).next(()=>Te.forEach(E.ds,D=>b.persistence.referenceDelegate.removeReference(_,E.targetId,D)))))}catch(_){if(!Qc(_))throw _;$e(fy,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const D=b.Fs.get(E),O=D.snapshotVersion,z=D.withLastLimboFreeSnapshotVersion(O);b.Fs=b.Fs.insert(E,z)}}}(a.localStore,l))}async function M6(n,e){const t=Rt(n);if(!t.currentUser.isEqual(e)){$e(Ny,"User change. New user:",e.toKey());const a=await FE(t.localStore,e);t.currentUser=e,function(l,d){l.Vu.forEach(m=>{m.forEach(p=>{p.reject(new Be(we.CANCELLED,d))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Id(t,a.Bs)}}function I6(n,e){const t=Rt(n),a=t.Eu.get(e);if(a&&a.lu)return Zt().add(a.key);{let i=Zt();const l=t.Tu.get(e);if(!l)return i;for(const d of l){const m=t.Pu.get(d);i=i.unionWith(m.view.tu)}return i}}function sN(n){const e=Rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A6.bind(null,e),e.hu.J_=g6.bind(null,e.eventManager),e.hu.pu=y6.bind(null,e.eventManager),e}function P6(n){const e=Rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j6.bind(null,e),e}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Em(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return LM(this.persistence,new OM,e.initialUser,this.serializer)}Du(e){return new BE(dy.Vi,this.serializer)}bu(e){return new $M}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class O6 extends Xf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){vn(this.persistence.referenceDelegate instanceof Qf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new bM(a,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Ua.withCacheSize(this.cacheSizeBytes):Ua.DEFAULT;return new BE(a=>Qf.Vi(a,t),this.serializer)}}class N0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Mw(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=M6.bind(null,this.syncEngine),await f6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new p6}()}createDatastore(e){const t=Em(e.databaseInfo.databaseId),a=function(l){return new KM(l)}(e.databaseInfo);return function(l,d,m,p){return new e6(l,d,m,p)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,i,l,d,m){return new n6(a,i,l,d,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Mw(this.syncEngine,t,0),function(){return Sw.C()?new Sw:new YM}())}createSyncEngine(e,t){return function(i,l,d,m,p,g,b){const _=new _6(i,l,d,m,p,g);return b&&(_.fu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const l=Rt(i);$e(Nl,"RemoteStore shutting down."),l.Ia.add(5),await Md(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}N0.provider={build:()=>new N0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="FirestoreClient";class k6{constructor(e,t,a,i,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=i,this.user=Ea.UNAUTHENTICATED,this.clientId=ey.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,async d=>{$e(ko,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>($e(ko,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=xy(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Vg(n,e){n.asyncQueue.verifyOperationInProgress(),$e(ko,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let a=t.initialUser;n.setCredentialChangeListener(async i=>{a.isEqual(i)||(await FE(e.localStore,i),a=i)}),e.persistence.setDatabaseDeletedListener(()=>{jo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{$e("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{jo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function Pw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await V6(n);$e(ko,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(a=>Aw(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,i)=>Aw(e.remoteStore,i)),n._onlineComponents=e}async function V6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$e(ko,"Using user provided OfflineComponentProvider");try{await Vg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===we.FAILED_PRECONDITION||i.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;jo("Error using user provided cache. Falling back to memory cache: "+t),await Vg(n,new Xf)}}else $e(ko,"Using default OfflineComponentProvider"),await Vg(n,new O6(void 0));return n._offlineComponents}async function iN(n){return n._onlineComponents||(n._uninitializedComponentsProvider?($e(ko,"Using user provided OnlineComponentProvider"),await Pw(n,n._uninitializedComponentsProvider._online)):($e(ko,"Using default OnlineComponentProvider"),await Pw(n,new N0))),n._onlineComponents}function L6(n){return iN(n).then(e=>e.syncEngine)}async function Zf(n){const e=await iN(n),t=e.eventManager;return t.onListen=w6.bind(null,e.syncEngine),t.onUnlisten=T6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=E6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=S6.bind(null,e.syncEngine),t}function oN(n,e,t={}){const a=new Ii;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,m,p,g){const b=new Sy({next:E=>{b.Ou(),d.enqueueAndForget(()=>_y(l,_));const D=E.docs.has(m);!D&&E.fromCache?g.reject(new Be(we.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&E.fromCache&&p&&p.source==="server"?g.reject(new Be(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new Ey(gm(m.path),b,{includeMetadataChanges:!0,ka:!0});return by(l,_)}(await Zf(n),n.asyncQueue,e,t,a)),a.promise}function U6(n,e,t={}){const a=new Ii;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,m,p,g){const b=new Sy({next:E=>{b.Ou(),d.enqueueAndForget(()=>_y(l,_)),E.fromCache&&p.source==="server"?g.reject(new Be(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new Ey(m,b,{includeMetadataChanges:!0,ka:!0});return by(l,_)}(await Zf(n),n.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="firestore.googleapis.com",kw=!0;class Vw{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Be(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cN,this.ssl=kw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:kw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vM)throw new Be(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lN((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Be(we.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Be(we.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Be(we.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,i){return a.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sm{constructor(e,t,a,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Be(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Be(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new GD;switch(a.type){case"firstParty":return new ZD(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Be(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=Ow.get(t);a&&($e("ComponentProvider","Removing Datastore"),Ow.delete(t),a.terminate())}(this),Promise.resolve()}}function z6(n,e,t,a={}){var i;n=ua(n,Sm);const l=Hc(e),d=n._getSettings(),m=Object.assign(Object.assign({},d),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&(r2(`https://${p}`),a2("Firestore",!0)),d.host!==cN&&d.host!==p&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},d),{host:p,ssl:l,emulatorOptions:a});if(!bl(g,m)&&(n._setSettings(g),a.mockUserToken)){let b,_;if(typeof a.mockUserToken=="string")b=a.mockUserToken,_=Ea.MOCK_USER;else{b=i4(a.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const E=a.mockUserToken.sub||a.mockUserToken.user_id;if(!E)throw new Be(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ea(E)}n._authCredentials=new QD(new X2(b,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new jl(this.firestore,e,this._query)}}class ar{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}toJSON(){return{type:ar._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(Ad(t,ar._jsonSchema))return new ar(e,a||null,new ut(Bn.fromString(t.referencePath)))}}ar._jsonSchemaVersion="firestore/documentReference/1.0",ar._jsonSchema={type:Ir("string",ar._jsonSchemaVersion),referencePath:Ir("string")};class Ao extends jl{constructor(e,t,a){super(e,t,gm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new ut(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function _a(n,e,...t){if(n=Pr(n),J2("collection","path",e),n instanceof Sm){const a=Bn.fromString(e,...t);return K_(a),new Ao(n,null,a)}{if(!(n instanceof ar||n instanceof Ao))throw new Be(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(Bn.fromString(e,...t));return K_(a),new Ao(n.firestore,null,a)}}function oa(n,e,...t){if(n=Pr(n),arguments.length===1&&(e=ey.newId()),J2("doc","path",e),n instanceof Sm){const a=Bn.fromString(e,...t);return Q_(a),new ar(n,null,new ut(a))}{if(!(n instanceof ar||n instanceof Ao))throw new Be(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(Bn.fromString(e,...t));return Q_(a),new ar(n.firestore,n instanceof Ao?n.converter:null,new ut(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="AsyncQueue";class Uw{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new qE(this,"async_queue_retry"),this.oc=()=>{const a=kg();a&&$e(Lw,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const t=kg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=kg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Ii;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Qc(e))throw e;$e(Lw,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,ki("INTERNAL UNHANDLED ERROR: ",zw(a)),a}).then(a=>(this.nc=!1,a))));return this._c=t,t}enqueueAfterDelay(e,t,a){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=vy.createAndSchedule(this,e,t,a,l=>this.lc(l));return this.ec.push(i),i}ac(){this.tc&&xt(47125,{hc:zw(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function zw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(n){return function(t,a){if(typeof t!="object"||t===null)return!1;const i=t;for(const l of a)if(l in i&&typeof i[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Ps extends Sm{constructor(e,t,a,i){super(e,t,a,i),this.type="firestore",this._queue=new Uw,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uw(e),this._firestoreClient=void 0,await e}}}function B6(n,e){const t=typeof n=="object"?n:l2(),a=typeof n=="string"?n:Ff,i=H0(t,"firestore").getImmediate({identifier:a});if(!i._initialized){const l=a4("firestore");l&&z6(i,...l)}return i}function Xc(n){if(n._terminated)throw new Be(we.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||F6(n),n._firestoreClient}function F6(n){var e,t,a;const i=n._freezeSettings(),l=function(m,p,g,b){return new m3(m,p,g,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,lN(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=i.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new k6(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ys(da.fromBase64String(e))}catch(t){throw new Be(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ys(da.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ys._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ad(e,ys._jsonSchema))return ys.fromBase64String(e.bytes)}}ys._jsonSchemaVersion="firestore/bytes/1.0",ys._jsonSchema={type:Ir("string",ys._jsonSchemaVersion),bytes:Ir("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Be(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ca(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Be(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Be(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(Ad(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:Ir("string",ii._jsonSchemaVersion),latitude:Ir("number"),longitude:Ir("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,i){if(a.length!==i.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==i[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ad(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new oi(e.vectorValues);throw new Be(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Ir("string",oi._jsonSchemaVersion),vectorValues:Ir("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=/^__.*__$/;class q6{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Bo(e,this.data,this.fieldMask,t,this.fieldTransforms):new jd(e,this.data,t,this.fieldTransforms)}}class uN{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Bo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ec:n})}}class Ay{constructor(e,t,a,i,l,d){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=i,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ay(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:a,mc:!1});return i.fc(e),i}gc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:a,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Jf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(dN(this.Ec)&&H6.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class $6{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Em(e)}Dc(e,t,a,i=!1){return new Ay({Ec:e,methodName:t,bc:a,path:ca.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(n){const e=n._freezeSettings(),t=Em(n._databaseId);return new $6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ry(n,e,t,a,i,l={}){const d=n.Dc(l.merge||l.mergeFields?2:0,e,t,i);jy("Data must be an object, but it was:",d,a);const m=mN(a,d);let p,g;if(l.merge)p=new rs(d.fieldMask),g=d.fieldTransforms;else if(l.mergeFields){const b=[];for(const _ of l.mergeFields){const E=T0(e,_,t);if(!d.contains(E))throw new Be(we.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);gN(b,E)||b.push(E)}p=new rs(b),g=d.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,g=d.fieldTransforms;return new q6(new za(m),p,g)}class kd extends Cy{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kd}}function hN(n,e,t,a){const i=n.Dc(1,e,t);jy("Data must be an object, but it was:",i,a);const l=[],d=za.empty();zo(a,(p,g)=>{const b=Dy(e,p,t);g=Pr(g);const _=i.gc(b);if(g instanceof kd)l.push(b);else{const E=Vd(g,_);E!=null&&(l.push(b),d.set(b,E))}});const m=new rs(l);return new uN(d,m,i.fieldTransforms)}function fN(n,e,t,a,i,l){const d=n.Dc(1,e,t),m=[T0(e,a,t)],p=[i];if(l.length%2!=0)throw new Be(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)m.push(T0(e,l[E])),p.push(l[E+1]);const g=[],b=za.empty();for(let E=m.length-1;E>=0;--E)if(!gN(g,m[E])){const D=m[E];let O=p[E];O=Pr(O);const z=d.gc(D);if(O instanceof kd)g.push(D);else{const $=Vd(O,z);$!=null&&(g.push(D),b.set(D,$))}}const _=new rs(g);return new uN(b,_,d.fieldTransforms)}function Y6(n,e,t,a=!1){return Vd(t,n.Dc(a?4:3,e))}function Vd(n,e){if(pN(n=Pr(n)))return jy("Unsupported field value:",e,n),mN(n,e);if(n instanceof Cy)return function(a,i){if(!dN(i.Ec))throw i.wc(`${a._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(i);l&&i.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,i){const l=[];let d=0;for(const m of a){let p=Vd(m,i.yc(d));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),d++}return{arrayValue:{values:l}}}(n,e)}return function(a,i){if((a=Pr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return V3(i.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Nn.fromDate(a);return{timestampValue:Gf(i.serializer,l)}}if(a instanceof Nn){const l=new Nn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Gf(i.serializer,l)}}if(a instanceof ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ys)return{bytesValue:IE(i.serializer,a._byteString)};if(a instanceof ar){const l=i.databaseId,d=a.firestore._databaseId;if(!d.isEqual(l))throw i.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:cy(a.firestore._databaseId||i.databaseId,a._key.path)}}if(a instanceof oi)return function(d,m){return{mapValue:{fields:{[lE]:{stringValue:cE},[Hf]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return iy(m.serializer,g)})}}}}}}(a,i);throw i.wc(`Unsupported field value: ${hm(a)}`)}(n,e)}function mN(n,e){const t={};return nE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zo(n,(a,i)=>{const l=Vd(i,e.Vc(a));l!=null&&(t[a]=l)}),{mapValue:{fields:t}}}function pN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nn||n instanceof ii||n instanceof ys||n instanceof ar||n instanceof Cy||n instanceof oi)}function jy(n,e,t){if(!pN(t)||!eE(t)){const a=hm(t);throw a==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+a)}}function T0(n,e,t){if((e=Pr(e))instanceof Pd)return e._internalPath;if(typeof e=="string")return Dy(n,e);throw Jf("Field path arguments must be of type string or ",n,!1,void 0,t)}const W6=new RegExp("[~\\*/\\[\\]]");function Dy(n,e,t){if(e.search(W6)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pd(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jf(n,e,t,a,i){const l=a&&!a.isEmpty(),d=i!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||d)&&(p+=" (found",l&&(p+=` in field ${a}`),d&&(p+=` in document ${i}`),p+=")"),new Be(we.INVALID_ARGUMENT,m+n+p)}function gN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t,a,i,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(My("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class G6 extends yN{data(){return super.data()}}function My(n,e){return typeof e=="string"?Dy(n,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Be(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iy{}class Q6 extends Iy{}function pl(n,e,...t){let a=[];e instanceof Iy&&a.push(e),a=a.concat(t),function(l){const d=l.filter(p=>p instanceof Py).length,m=l.filter(p=>p instanceof Cm).length;if(d>1||d>0&&m>0)throw new Be(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const i of a)n=i._apply(n);return n}class Cm extends Q6{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new Cm(e,t,a)}_apply(e){const t=this._parse(e);return xN(e._query,t),new jl(e.firestore,e.converter,m0(e._query,t))}_parse(e){const t=Od(e.firestore);return function(l,d,m,p,g,b,_){let E;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new Be(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Hw(_,b);const O=[];for(const z of _)O.push(Fw(p,l,z));E={arrayValue:{values:O}}}else E=Fw(p,l,_)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Hw(_,b),E=Y6(m,d,_,b==="in"||b==="not-in");return Mr.create(g,b,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Gs(n,e,t){const a=e,i=My("where",n);return Cm._create(i,a,t)}class Py extends Iy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Py(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return t.length===1?t[0]:Is.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,l){let d=i;const m=l.getFlattenedFilters();for(const p of m)xN(d,p),d=m0(d,p)}(e._query,t),new jl(e.firestore,e.converter,m0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Fw(n,e,t){if(typeof(t=Pr(t))=="string"){if(t==="")throw new Be(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yE(e)&&t.indexOf("/")!==-1)throw new Be(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(Bn.fromString(t));if(!ut.isDocumentKey(a))throw new Be(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return aw(n,new ut(a))}if(t instanceof ar)return aw(n,t._key);throw new Be(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hm(t)}.`)}function Hw(n,e){if(!Array.isArray(n)||n.length===0)throw new Be(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xN(n,e){const t=function(i,l){for(const d of i)for(const m of d.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Be(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Be(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class K6{convertValue(e,t="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return zo(e,(i,l)=>{a[i]=this.convertValue(l,t)}),a}convertVectorValue(e){var t,a,i;const l=(i=(a=(t=e.fields)===null||t===void 0?void 0:t[Hf].arrayValue)===null||a===void 0?void 0:a.values)===null||i===void 0?void 0:i.map(d=>wr(d.doubleValue));return new oi(l)}convertGeoPoint(e){return new ii(wr(e.latitude),wr(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=pm(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(md(e));default:return null}}convertTimestamp(e){const t=Mo(e);return new Nn(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=Bn.fromString(e);vn(UE(a),9688,{name:e});const i=new pd(a.get(1),a.get(3)),l=new ut(a.popFirst(5));return i.isEqual(t)||ki(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n,e,t){let a;return a=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,a}class Ju{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vl extends yN{constructor(e,t,a,i,l,d){super(e,t,a,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(My("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Be(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=vl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}vl._jsonSchemaVersion="firestore/documentSnapshot/1.0",vl._jsonSchema={type:Ir("string",vl._jsonSchemaVersion),bundleSource:Ir("string","DocumentSnapshot"),bundleName:Ir("string"),bundle:Ir("string")};class Nf extends vl{data(e={}){return super.data(e)}}class xl{constructor(e,t,a,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ju(i.hasPendingWrites,i.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Nf(this._firestore,this._userDataWriter,a.key,a,new Ju(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Be(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,l){if(i._snapshot.oldDocs.isEmpty()){let d=0;return i._snapshot.docChanges.map(m=>{const p=new Nf(i._firestore,i._userDataWriter,m.doc.key,m.doc,new Ju(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const p=new Nf(i._firestore,i._userDataWriter,m.doc.key,m.doc,new Ju(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,b=-1;return m.type!==0&&(g=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),b=d.indexOf(m.doc.key)),{type:X6(m.type),doc:p,oldIndex:g,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Be(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ey.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],i=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),i.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function X6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(n){n=ua(n,ar);const e=ua(n.firestore,Ps);return oN(Xc(e),n._key).then(t=>Vy(e,n,t))}xl._jsonSchemaVersion="firestore/querySnapshot/1.0",xl._jsonSchema={type:Ir("string",xl._jsonSchemaVersion),bundleSource:Ir("string","QuerySnapshot"),bundleName:Ir("string"),bundle:Ir("string")};class ky extends K6{constructor(e){super(),this.firestore=e}convertBytes(e){return new ys(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}function Z6(n){n=ua(n,ar);const e=ua(n.firestore,Ps);return oN(Xc(e),n._key,{source:"server"}).then(t=>Vy(e,n,t))}function bo(n){n=ua(n,jl);const e=ua(n.firestore,Ps),t=Xc(e),a=new ky(e);return vN(n._query),U6(t,n._query).then(i=>new xl(e,a,n,i))}function qw(n,e,t){n=ua(n,ar);const a=ua(n.firestore,Ps),i=Oy(n.converter,e,t);return Ld(a,[Ry(Od(a),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ma.none())])}function cc(n,e,t,...a){n=ua(n,ar);const i=ua(n.firestore,Ps),l=Od(i);let d;return d=typeof(e=Pr(e))=="string"||e instanceof Pd?fN(l,"updateDoc",n._key,e,t,a):hN(l,"updateDoc",n._key,e),Ld(i,[d.toMutation(n._key,Ma.exists(!0))])}function qu(n){return Ld(ua(n.firestore,Ps),[new _m(n._key,Ma.none())])}function rf(n,e){const t=ua(n.firestore,Ps),a=oa(n),i=Oy(n.converter,e);return Ld(t,[Ry(Od(n.firestore),"addDoc",a._key,i,n.converter!==null,{}).toMutation(a._key,Ma.exists(!1))]).then(()=>a)}function Ec(n,...e){var t,a,i;n=Pr(n);let l={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||Bw(e[d])||(l=e[d++]);const m={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Bw(e[d])){const _=e[d];e[d]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[d+1]=(a=_.error)===null||a===void 0?void 0:a.bind(_),e[d+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let p,g,b;if(n instanceof ar)g=ua(n.firestore,Ps),b=gm(n._key.path),p={next:_=>{e[d]&&e[d](Vy(g,n,_))},error:e[d+1],complete:e[d+2]};else{const _=ua(n,jl);g=ua(_.firestore,Ps),b=_._query;const E=new ky(g);p={next:D=>{e[d]&&e[d](new xl(g,E,_,D))},error:e[d+1],complete:e[d+2]},vN(n._query)}return function(E,D,O,z){const $=new Sy(z),K=new Ey(D,$,O);return E.asyncQueue.enqueueAndForget(async()=>by(await Zf(E),K)),()=>{$.Ou(),E.asyncQueue.enqueueAndForget(async()=>_y(await Zf(E),K))}}(Xc(g),b,m,p)}function Ld(n,e){return function(a,i){const l=new Ii;return a.asyncQueue.enqueueAndForget(async()=>C6(await L6(a),i,l)),l.promise}(Xc(n),e)}function Vy(n,e,t){const a=t.docs.get(e._key),i=new ky(n);return new vl(n,i,e._key,a,new Ju(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Od(e)}set(e,t,a){this._verifyNotCommitted();const i=Lg(e,this._firestore),l=Oy(i.converter,t,a),d=Ry(this._dataReader,"WriteBatch.set",i._key,l,i.converter!==null,a);return this._mutations.push(d.toMutation(i._key,Ma.none())),this}update(e,t,a,...i){this._verifyNotCommitted();const l=Lg(e,this._firestore);let d;return d=typeof(t=Pr(t))=="string"||t instanceof Pd?fN(this._dataReader,"WriteBatch.update",l._key,t,a,i):hN(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Ma.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lg(e,this._firestore);return this._mutations=this._mutations.concat(new _m(t._key,Ma.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lg(n,e){if((n=Pr(n)).firestore!==e)throw new Be(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(){return new kd("deleteField")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(n){return Xc(n=ua(n,Ps)),new J6(n,e=>Ld(n,e))}(function(e,t=!0){(function(i){Wc=i})(qc),Ic(new _l("firestore",(a,{instanceIdentifier:i,options:l})=>{const d=a.getProvider("app").getImmediate(),m=new Ps(new KD(a.getProvider("auth-internal")),new JD(d,a.getProvider("app-check-internal")),function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Be(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pd(g.options.projectId,b)}(d,i),d);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),To(q_,$_,e),To(q_,$_,"esm2017")})();const tI={apiKey:"AIzaSyBBm3tDxQvD8SmB5AIerpe-QL-IXk1N1O4",authDomain:"banco-vagafogo.firebaseapp.com",projectId:"banco-vagafogo",storageBucket:"banco-vagafogo.firebasestorage.app",messagingSenderId:"1037581590966",appId:"1:1037581590966:web:35195eccc16e8f3c742117"},bN=o2(tI),un=B6(bN),_N=qD(bN);function nI(){const[n,e]=T.useState(""),[t,a]=T.useState(""),[i,l]=T.useState(!1),[d,m]=T.useState(!1),[p,g]=T.useState(""),b=O0(),_=async E=>{if(E.preventDefault(),g(""),!n||!t){g("Por favor, preencha todos os campos.");return}if(m(!0),n==="temp@admin.com"&&t==="temp123"){if(localStorage.getItem("tempLoginUsed")){g("Login temporrio j foi utilizado!"),m(!1);return}localStorage.setItem("tempLoginUsed","true"),localStorage.setItem("tempAuth","authenticated"),b("/admin"),m(!1);return}try{await jj(_N,n,t),b("/admin")}catch{g("Usurio ou senha invlidos!")}finally{m(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-4xl w-full flex flex-col md:flex-row rounded-2xl overflow-hidden shadow-2xl",children:[u.jsx("div",{className:"w-full md:w-2/5 bg-black text-white flex flex-col items-center justify-center p-8 text-center pattern-bg",children:u.jsxs("div",{className:"mb-8",children:[u.jsx("img",{src:z0,alt:"Santurio Vagafogo",className:"w-32 h-32 mx-auto mb-4 rounded-full object-cover"}),u.jsx("h1",{className:"font-serif text-3xl font-bold mb-2",children:"Santurio Vagafogo"}),u.jsx("p",{className:"text-gray-300",children:"Painel Administrativo"})]})}),u.jsxs("div",{className:"w-full md:w-3/5 bg-white p-8 md:p-12",children:[u.jsx("h2",{className:"text-3xl font-bold mb-2 text-center md:text-left",children:"Acesso Restrito"}),u.jsx("p",{className:"text-gray-600 mb-8 text-center md:text-left",children:"Credenciais de administrador"}),u.jsxs("form",{className:"space-y-6",onSubmit:_,children:[p&&u.jsx("div",{className:"text-red-600 font-semibold text-center",children:p}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio administrador"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("i",{className:"fas fa-user text-gray-400"})}),u.jsx("input",{type:"email",id:"email",value:n,onChange:E=>e(E.target.value),placeholder:"seu@email.com",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B4513] focus:border-[#8B4513] transition duration-300"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("i",{className:"fas fa-lock text-gray-400"})}),u.jsx("input",{type:i?"text":"password",id:"password",value:t,onChange:E=>a(E.target.value),placeholder:"",className:"pl-10 pr-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B4513] focus:border-[#8B4513] transition duration-300",autoComplete:"current-password"}),u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u.jsx("button",{type:"button",onClick:()=>l(!i),className:"text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Toggle password visibility",children:u.jsx("i",{className:`fas ${i?"fa-eye-slash":"fa-eye"}`})})})]})]}),u.jsx("div",{children:u.jsxs("button",{type:"submit",className:`w-full bg-[#8B4513] hover:bg-[#6b2d0c] text-white py-3 px-4 rounded-lg font-medium transition duration-300 flex items-center justify-center ${d?"opacity-60 cursor-not-allowed":""}`,disabled:d,children:[u.jsx("i",{className:"fas fa-sign-in-alt mr-2"}),d?"Entrando...":"Entrar"]})})]})]})]})})}function rI(){return null}const aI="modulepreload",sI=function(n){return"/"+n},$w={},Yw=function(e,t,a){let i=Promise.resolve();if(t&&t.length>0){let p=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");i=p(t.map(g=>{if(g=sI(g),g in $w)return;$w[g]=!0;const b=g.endsWith(".css"),_=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const E=document.createElement("link");if(E.rel=b?"stylesheet":aI,b||(E.as="script"),E.crossOrigin="",E.href=g,m&&E.setAttribute("nonce",m),document.head.appendChild(E),b)return new Promise((D,O)=>{E.addEventListener("load",D),E.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return i.then(d=>{for(const m of d||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})};var Tf={exports:{}},iI=Tf.exports,Ww;function wN(){return Ww||(Ww=1,function(n,e){(function(t,a){n.exports=a()})(iI,function(){var t=1e3,a=6e4,i=36e5,l="millisecond",d="second",m="minute",p="hour",g="day",b="week",_="month",E="quarter",D="year",O="date",z="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,K=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ge={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Ee){var ve=["th","st","nd","rd"],F=Ee%100;return"["+Ee+(ve[(F-20)%10]||ve[F]||ve[0])+"]"}},se=function(Ee,ve,F){var le=String(Ee);return!le||le.length>=ve?Ee:""+Array(ve+1-le.length).join(F)+Ee},Ae={s:se,z:function(Ee){var ve=-Ee.utcOffset(),F=Math.abs(ve),le=Math.floor(F/60),ce=F%60;return(ve<=0?"+":"-")+se(le,2,"0")+":"+se(ce,2,"0")},m:function Ee(ve,F){if(ve.date()<F.date())return-Ee(F,ve);var le=12*(F.year()-ve.year())+(F.month()-ve.month()),ce=ve.clone().add(le,_),Ce=F-ce<0,P=ve.clone().add(le+(Ce?-1:1),_);return+(-(le+(F-ce)/(Ce?ce-P:P-ce))||0)},a:function(Ee){return Ee<0?Math.ceil(Ee)||0:Math.floor(Ee)},p:function(Ee){return{M:_,y:D,w:b,d:g,D:O,h:p,m,s:d,ms:l,Q:E}[Ee]||String(Ee||"").toLowerCase().replace(/s$/,"")},u:function(Ee){return Ee===void 0}},fe="en",U={};U[fe]=ge;var k="$isDayjsObject",A=function(Ee){return Ee instanceof G||!(!Ee||!Ee[k])},I=function Ee(ve,F,le){var ce;if(!ve)return fe;if(typeof ve=="string"){var Ce=ve.toLowerCase();U[Ce]&&(ce=Ce),F&&(U[Ce]=F,ce=Ce);var P=ve.split("-");if(!ce&&P.length>1)return Ee(P[0])}else{var oe=ve.name;U[oe]=ve,ce=oe}return!le&&ce&&(fe=ce),ce||!le&&fe},M=function(Ee,ve){if(A(Ee))return Ee.clone();var F=typeof ve=="object"?ve:{};return F.date=Ee,F.args=arguments,new G(F)},B=Ae;B.l=I,B.i=A,B.w=function(Ee,ve){return M(Ee,{locale:ve.$L,utc:ve.$u,x:ve.$x,$offset:ve.$offset})};var G=function(){function Ee(F){this.$L=I(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[k]=!0}var ve=Ee.prototype;return ve.parse=function(F){this.$d=function(le){var ce=le.date,Ce=le.utc;if(ce===null)return new Date(NaN);if(B.u(ce))return new Date;if(ce instanceof Date)return new Date(ce);if(typeof ce=="string"&&!/Z$/i.test(ce)){var P=ce.match($);if(P){var oe=P[2]-1||0,be=(P[7]||"0").substring(0,3);return Ce?new Date(Date.UTC(P[1],oe,P[3]||1,P[4]||0,P[5]||0,P[6]||0,be)):new Date(P[1],oe,P[3]||1,P[4]||0,P[5]||0,P[6]||0,be)}}return new Date(ce)}(F),this.init()},ve.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},ve.$utils=function(){return B},ve.isValid=function(){return this.$d.toString()!==z},ve.isSame=function(F,le){var ce=M(F);return this.startOf(le)<=ce&&ce<=this.endOf(le)},ve.isAfter=function(F,le){return M(F)<this.startOf(le)},ve.isBefore=function(F,le){return this.endOf(le)<M(F)},ve.$g=function(F,le,ce){return B.u(F)?this[le]:this.set(ce,F)},ve.unix=function(){return Math.floor(this.valueOf()/1e3)},ve.valueOf=function(){return this.$d.getTime()},ve.startOf=function(F,le){var ce=this,Ce=!!B.u(le)||le,P=B.p(F),oe=function(dt,Tt){var on=B.w(ce.$u?Date.UTC(ce.$y,Tt,dt):new Date(ce.$y,Tt,dt),ce);return Ce?on:on.endOf(g)},be=function(dt,Tt){return B.w(ce.toDate()[dt].apply(ce.toDate("s"),(Ce?[0,0,0,0]:[23,59,59,999]).slice(Tt)),ce)},me=this.$W,De=this.$M,qe=this.$D,Ye="set"+(this.$u?"UTC":"");switch(P){case D:return Ce?oe(1,0):oe(31,11);case _:return Ce?oe(1,De):oe(0,De+1);case b:var Mt=this.$locale().weekStart||0,jt=(me<Mt?me+7:me)-Mt;return oe(Ce?qe-jt:qe+(6-jt),De);case g:case O:return be(Ye+"Hours",0);case p:return be(Ye+"Minutes",1);case m:return be(Ye+"Seconds",2);case d:return be(Ye+"Milliseconds",3);default:return this.clone()}},ve.endOf=function(F){return this.startOf(F,!1)},ve.$set=function(F,le){var ce,Ce=B.p(F),P="set"+(this.$u?"UTC":""),oe=(ce={},ce[g]=P+"Date",ce[O]=P+"Date",ce[_]=P+"Month",ce[D]=P+"FullYear",ce[p]=P+"Hours",ce[m]=P+"Minutes",ce[d]=P+"Seconds",ce[l]=P+"Milliseconds",ce)[Ce],be=Ce===g?this.$D+(le-this.$W):le;if(Ce===_||Ce===D){var me=this.clone().set(O,1);me.$d[oe](be),me.init(),this.$d=me.set(O,Math.min(this.$D,me.daysInMonth())).$d}else oe&&this.$d[oe](be);return this.init(),this},ve.set=function(F,le){return this.clone().$set(F,le)},ve.get=function(F){return this[B.p(F)]()},ve.add=function(F,le){var ce,Ce=this;F=Number(F);var P=B.p(le),oe=function(De){var qe=M(Ce);return B.w(qe.date(qe.date()+Math.round(De*F)),Ce)};if(P===_)return this.set(_,this.$M+F);if(P===D)return this.set(D,this.$y+F);if(P===g)return oe(1);if(P===b)return oe(7);var be=(ce={},ce[m]=a,ce[p]=i,ce[d]=t,ce)[P]||1,me=this.$d.getTime()+F*be;return B.w(me,this)},ve.subtract=function(F,le){return this.add(-1*F,le)},ve.format=function(F){var le=this,ce=this.$locale();if(!this.isValid())return ce.invalidDate||z;var Ce=F||"YYYY-MM-DDTHH:mm:ssZ",P=B.z(this),oe=this.$H,be=this.$m,me=this.$M,De=ce.weekdays,qe=ce.months,Ye=ce.meridiem,Mt=function(Tt,on,Tn,Ge){return Tt&&(Tt[on]||Tt(le,Ce))||Tn[on].slice(0,Ge)},jt=function(Tt){return B.s(oe%12||12,Tt,"0")},dt=Ye||function(Tt,on,Tn){var Ge=Tt<12?"AM":"PM";return Tn?Ge.toLowerCase():Ge};return Ce.replace(K,function(Tt,on){return on||function(Tn){switch(Tn){case"YY":return String(le.$y).slice(-2);case"YYYY":return B.s(le.$y,4,"0");case"M":return me+1;case"MM":return B.s(me+1,2,"0");case"MMM":return Mt(ce.monthsShort,me,qe,3);case"MMMM":return Mt(qe,me);case"D":return le.$D;case"DD":return B.s(le.$D,2,"0");case"d":return String(le.$W);case"dd":return Mt(ce.weekdaysMin,le.$W,De,2);case"ddd":return Mt(ce.weekdaysShort,le.$W,De,3);case"dddd":return De[le.$W];case"H":return String(oe);case"HH":return B.s(oe,2,"0");case"h":return jt(1);case"hh":return jt(2);case"a":return dt(oe,be,!0);case"A":return dt(oe,be,!1);case"m":return String(be);case"mm":return B.s(be,2,"0");case"s":return String(le.$s);case"ss":return B.s(le.$s,2,"0");case"SSS":return B.s(le.$ms,3,"0");case"Z":return P}return null}(Tt)||P.replace(":","")})},ve.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ve.diff=function(F,le,ce){var Ce,P=this,oe=B.p(le),be=M(F),me=(be.utcOffset()-this.utcOffset())*a,De=this-be,qe=function(){return B.m(P,be)};switch(oe){case D:Ce=qe()/12;break;case _:Ce=qe();break;case E:Ce=qe()/3;break;case b:Ce=(De-me)/6048e5;break;case g:Ce=(De-me)/864e5;break;case p:Ce=De/i;break;case m:Ce=De/a;break;case d:Ce=De/t;break;default:Ce=De}return ce?Ce:B.a(Ce)},ve.daysInMonth=function(){return this.endOf(_).$D},ve.$locale=function(){return U[this.$L]},ve.locale=function(F,le){if(!F)return this.$L;var ce=this.clone(),Ce=I(F,le,!0);return Ce&&(ce.$L=Ce),ce},ve.clone=function(){return B.w(this.$d,this)},ve.toDate=function(){return new Date(this.valueOf())},ve.toJSON=function(){return this.isValid()?this.toISOString():null},ve.toISOString=function(){return this.$d.toISOString()},ve.toString=function(){return this.$d.toUTCString()},Ee}(),V=G.prototype;return M.prototype=V,[["$ms",l],["$s",d],["$m",m],["$H",p],["$W",g],["$M",_],["$y",D],["$D",O]].forEach(function(Ee){V[Ee[1]]=function(ve){return this.$g(ve,Ee[0],Ee[1])}}),M.extend=function(Ee,ve){return Ee.$i||(Ee(ve,G,M),Ee.$i=!0),M},M.locale=I,M.isDayjs=A,M.unix=function(Ee){return M(1e3*Ee)},M.en=U[fe],M.Ls=U,M.p={},M})}(Tf)),Tf.exports}var oI=wN();const Pt=nm(oI);var Sf={exports:{}},lI=Sf.exports,Gw;function cI(){return Gw||(Gw=1,function(n,e){(function(t,a){n.exports=a(wN())})(lI,function(t){function a(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var i=a(t),l={name:"pt-br",weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(d){return d+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"}};return i.default.locale(l,null,!0),l})}(Sf)),Sf.exports}cI();var EN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qw=Le.createContext&&Le.createContext(EN),uI=["attr","size","title"];function dI(n,e){if(n==null)return{};var t=hI(n,e),a,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)a=l[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(t[a]=n[a])}return t}function hI(n,e){if(n==null)return{};var t={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(e.indexOf(a)>=0)continue;t[a]=n[a]}return t}function em(){return em=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},em.apply(this,arguments)}function Kw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,a)}return t}function tm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kw(Object(t),!0).forEach(function(a){fI(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kw(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function fI(n,e,t){return e=mI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mI(n){var e=pI(n,"string");return typeof e=="symbol"?e:e+""}function pI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function NN(n){return n&&n.map((e,t)=>Le.createElement(e.tag,tm({key:t},e.attr),NN(e.child)))}function qr(n){return e=>Le.createElement(gI,em({attr:tm({},n.attr)},e),NN(n.child))}function gI(n){var e=t=>{var{attr:a,size:i,title:l}=n,d=dI(n,uI),m=i||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),Le.createElement("svg",em({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:p,style:tm(tm({color:n.color||t.color},t.style),n.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&Le.createElement("title",null,l),n.children)};return Qw!==void 0?Le.createElement(Qw.Consumer,null,t=>e(t)):e(EN)}function uc(n){return qr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function zg(n){return qr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function Xw(n){return qr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M112 128c0-29.5 16.2-55 40-68.9V256h48V48h48v208h48V59.1c23.8 13.9 40 39.4 40 68.9v128h48V128C384 57.3 326.7 0 256 0h-64C121.3 0 64 57.3 64 128v128h48zm334.3 213.9l-10.7-32c-4.4-13.1-16.6-21.9-30.4-21.9H42.7c-13.8 0-26 8.8-30.4 21.9l-10.7 32C-5.2 362.6 10.2 384 32 384v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384h256v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384c21.8 0 37.2-21.4 30.3-42.1z"},child:[]}]})(n)}function Zw(n){return qr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function Jw(n){return qr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function e1(n){return qr({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function t1(n){return qr({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function Bg(n){return qr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(n)}function dc(n){return qr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function yI(n){return qr({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(n)}function vI(n){return qr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(n)}function xI(n){return qr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function bI(n){return qr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(n)}function Fg(n){return qr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(n)}function af(n){return qr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function n1(n){return qr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(n)}function r1(n){return qr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function hc(n){return qr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function Hg(n){return qr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}var Cf={exports:{}},_I=Cf.exports,a1;function wI(){return a1||(a1=1,function(n,e){(function(t,a){n.exports=a()})(_I,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,i,l){var d=i.prototype,m=d.format;l.en.formats=t,d.format=function(p){p===void 0&&(p="YYYY-MM-DDTHH:mm:ssZ");var g=this.$locale().formats,b=function(_,E){return _.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(D,O,z){var $=z&&z.toUpperCase();return O||E[z]||t[z]||E[$].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(K,ge,se){return ge||se.slice(1)})})}(p,g===void 0?{}:g);return m.call(this,b)}}})}(Cf)),Cf.exports}var EI=wI();const NI=nm(EI);Pt.extend(NI);Pt.locale("pt-br");const TI=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),Zr=n=>TI.format(Number.isFinite(n)?n:0),sf="https://vagafogo-production.up.railway.app",ul="Ol {nome}! Sua reserva foi confirmada para {datareserva} {horario}. Atividade: {atividade}. Participantes: {participantes}.",Ws="Ol {nome}! Aqui  Vaga Fogo confirmando sua reserva para {datareserva} {horario}. Atividade: {atividade}. Participantes: {participantes}.",qg=["{nome}","{datareserva}","{data}","{horario}","{atividade}","{participantes}","{telefone}","{valor}","{status}"],Cs=n=>{if(!n)return"";if(typeof n=="string"){const t=n.trim(),a=/^(\d{4})-(\d{2})-(\d{2})/.exec(t);if(a)return`${a[1]}-${a[2]}-${a[3]}`;const i=/^(\d{2})\/(\d{2})\/(\d{4})/.exec(t);if(i)return`${i[3]}-${i[2]}-${i[1]}`;const l=Pt(t);return l.isValid()?l.format("YYYY-MM-DD"):""}if(n instanceof Date)return Pt(n).format("YYYY-MM-DD");const e=n.toDate?.();return e instanceof Date?Pt(e).format("YYYY-MM-DD"):""},fc=n=>{const e=Cs(n);return e?Pt(e).format("DD/MM/YYYY"):typeof n=="string"?n:""},of=(n,e)=>n.replace(/\{([a-zA-Z0-9_]+)\}/g,(t,a)=>{const i=e[a];return i!==void 0?i:t}),s1=n=>`modelo-${Date.now().toString(36)}-${n.toString(36)}-${Math.random().toString(36).slice(2,8)}`,i1=n=>{if(!Array.isArray(n))return[];const e=new Set,t=[];return n.forEach((a,i)=>{const l=typeof a?.titulo=="string"?a.titulo.trim():"",d=typeof a?.mensagem=="string"?a.mensagem.trim():"";if(!l||!d)return;let m=typeof a?.id=="string"?a.id.trim():"";for(m||(m=s1(i));e.has(m);)m=s1(i+t.length+1);e.add(m),t.push({id:m,titulo:l,mensagem:d})}),t},o1=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],SI=["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],CI=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","18:00"],l1=()=>({nome:"",descricao:""}),Js=n=>n.toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),mo=n=>n.id??Js(n.nome),zc=(n,e)=>{if(!n)return;if(e.id&&e.id in n)return Number(n[e.id]);if(e.nome in n)return Number(n[e.nome]);const t=Js(e.nome);for(const[a,i]of Object.entries(n))if(Js(a)===t)return Number(i)},Ai=(n,e,t)=>{const a=e.find(l=>Js(l.nome).includes(t));if(!a)return;const i=zc(n,a);return Number.isFinite(i)?Number(i):void 0},TN=(n,e)=>{if(!e)return 0;const t=Js(n.nome);return t.includes("adult")?Number(e.precoAdulto??0):t.includes("crian")?Number(e.precoCrianca??0):t.includes("bariat")?Number(e.precoBariatrica??0):0},SN=(n,e)=>{const t=Js(n.nome);return t.includes("adult")?Number(e.adultos??0):t.includes("crian")?Number(e.criancas??0):t.includes("bariat")?Number(e.bariatrica??0):0},mc=(n,e,t)=>{const a={...e??{}};return n.forEach(i=>{const l=mo(i),d=zc(e,i),m=TN(i,t),p=Number.isFinite(d)?Number(d):m;a[l]=Number.isFinite(p)?Number(p):0}),a},lf=(n,e,t)=>{const a=zc(n,e);return Number.isFinite(a)?Number(a):TN(e,t)},cf=(n,e)=>{const t=e.participantesPorTipo??{},a={...t};return n.forEach(i=>{const l=mo(i),d=zc(t,i),m=SN(i,e),p=Number.isFinite(d)?Number(d):m;a[l]=Number.isFinite(p)?Number(p):0}),a},AI=n=>n?Object.values(n).reduce((e,t)=>e+(Number(t)||0),0):0,$g=n=>[...n].sort((e,t)=>e.localeCompare(t)),Dc=n=>(n??"").toString().trim().toLowerCase(),pc=n=>Dc(n?.status)==="pre_reserva",uf=n=>{const e=Dc(n?.status);return e==="pago"||e==="confirmado"?!0:e==="pre_reserva"?!1:!!n?.confirmada},c1=n=>{const e=Dc(n.status);return e==="pre_reserva"?{label:"Pr-reserva",classes:"border-amber-200 bg-amber-50 text-amber-700"}:e==="confirmado"||n.confirmada?{label:"Confirmado",classes:"border-emerald-200 bg-emerald-50 text-emerald-700"}:e==="pago"?{label:"Pago",classes:"border-blue-200 bg-blue-50 text-blue-700"}:{label:"Sem status",classes:"border-slate-200 bg-slate-50 text-slate-600"}};function RI(){const[n,e]=T.useState("reservas"),[t,a]=T.useState(!1),i=T.useRef(n);T.useEffect(()=>{i.current=n},[n]);const[l,d]=T.useState(new Date),[m,p]=T.useState(!0),[g,b]=T.useState({}),[_,E]=T.useState([]),[D,O]=T.useState(!1),[z,$]=T.useState(null),[K,ge]=T.useState(!1),[se,Ae]=T.useState(!1),[fe,U]=T.useState(""),[k,A]=T.useState("todos"),[I,M]=T.useState(null),[B,G]=T.useState(null),[V,Ee]=T.useState(null),[ve,F]=T.useState(null),[le,ce]=T.useState("padrao"),[Ce,P]=T.useState(""),[oe,be]=T.useState(null),me=T.useRef(null),De=T.useRef(0),qe=T.useCallback(()=>{De.current+=1;const v=me.current;if(v){v.onended=null;try{v.pause(),v.currentTime=0}catch{}}},[]),Ye=T.useCallback(async()=>{De.current+=1;const v=De.current;me.current||(me.current=new Audio("/notificacao.mp3"));const C=me.current;C.onended=null;try{C.pause(),C.currentTime=0}catch{}try{await C.play()}catch(L){console.warn("Som de notificao bloqueado pelo navegador:",L);return}C.onended=async()=>{if(De.current===v){C.onended=null;try{C.currentTime=0,await C.play()}catch{}}}},[]),Mt=T.useCallback(()=>{be(null),qe()},[qe]),jt=T.useCallback(v=>{const C=v.id??`${v.nome}-${v.cpf}-${v.horario}-${Cs(v.data)}`;be({id:C,nome:v.nome||"Cliente",horario:v.horario||"---",atividade:v.atividade||"Atividade",participantes:xr(v)}),Ye()},[Ye]),[dt,Tt]=T.useState([]),[on,Tn]=T.useState(!1),[Ge,_t]=T.useState(null),[ha,Ia]=T.useState(!1),[In,$r]=T.useState(""),[mr,Nr]=T.useState({pergunta:"",tipo:"sim_nao",obrigatoria:!1}),[Yr,ir]=T.useState(!1),[Vn,Wr]=T.useState([]),[fa,It]=T.useState(!1),[Xe,mn]=T.useState(null),[Sn,ta]=T.useState(!1),[Xn,Tr]=T.useState(!1),[nt,or]=T.useState({}),[Zn,Or]=T.useState(!1),[pr,ht]=T.useState(!1),[Vt,wt]=T.useState(!1),[Cn,yn]=T.useState(""),[Sr,Ut]=T.useState(""),[xn,Et]=T.useState("fechar"),[na,q]=T.useState(!1),[te,ne]=T.useState({}),[ye,Se]=T.useState([]),[ke,Je]=T.useState(l1),[Ue,Fe]=T.useState(!1),[We,it]=T.useState(!1),[et,ot]=T.useState(!1),[Ze,Nt]=T.useState({ativo:!1,mensagemConfirmacaoAutomatica:ul,mensagemConfirmacaoManual:Ws,modelosMensagemManual:[]}),[Dt,lt]=T.useState(null),[He,gr]=T.useState(!1),[Ln,yr]=T.useState(!1),[Fn,nn]=T.useState(null),[Un,Sa]=T.useState(()=>Pt().subtract(30,"day").format("YYYY-MM-DD")),[at,lr]=T.useState(()=>Pt().format("YYYY-MM-DD")),[ft,An]=T.useState([]),[cr,Hn]=T.useState(!1),[Ke,dn]=T.useState(null),[Gt,kr]=T.useState(!1),[bn,Ba]=T.useState(""),[ur,ma]=T.useState(""),[qn,Ca]=T.useState("faturamento"),[Cr,Pn]=T.useState("faturamento"),[Ar,Fa]=T.useState(!1);T.useEffect(()=>{Gt&&(Ca(v=>v==="faturamento"?"confirmadas":v),Pn(v=>v==="faturamento"?"confirmadas":v),ma(""))},[Gt]);const as=Ge?.modoHorario==="intervalo"&&(Ge.horarioInicio??"")&&(Ge.horarioFim??"")?`Disponvel das ${Ge.horarioInicio} s ${Ge.horarioFim}. O cliente ver apenas a faixa.`:"bg-white border-slate-200",pa=T.useMemo(()=>{const v=_.reduce((C,L)=>{const Y=L.area||"Sem rea";return C[Y]||(C[Y]=[]),C[Y].push(L),C},{});return Object.keys(v).forEach(C=>{v[C]=v[C].sort((L,Y)=>L.nome.localeCompare(Y.nome,"pt-BR",{numeric:!0,sensitivity:"base"}))}),v},[_]),ln=T.useMemo(()=>Object.keys(pa).sort((v,C)=>v.localeCompare(C,"pt-BR",{sensitivity:"base"})),[pa]),Ha=T.useMemo(()=>z?xr(z):0,[z]),dr=T.useMemo(()=>{if(z?.mesaPrincipalId)return _.find(v=>v.id===z.mesaPrincipalId)},[z?.mesaPrincipalId,_]),Pa=T.useMemo(()=>{if(z?.mesaSecundariaId)return _.find(v=>v.id===z.mesaSecundariaId)},[z?.mesaSecundariaId,_]),qa=(dr?.capacidade??0)+(Pa?.capacidade??0),ks=!!dr&&Ha>(dr?.capacidade??0),di=!!dr&&Ha>qa,xs=T.useMemo(()=>z?.areaMesa?pa[z.areaMesa]??[]:[],[z?.areaMesa,pa]),Fo=T.useMemo(()=>Object.values(g).reduce((v,C)=>v+C.filter(L=>uf(L)).length,0),[g]),Vs=T.useMemo(()=>Object.values(g).reduce((v,C)=>v+C.reduce((L,Y)=>L+xr(Y),0),0),[g]);T.useMemo(()=>Object.values(g).reduce((v,C)=>v+C.filter(L=>pc(L)).length,0),[g]);const Aa=T.useMemo(()=>dt.filter(v=>v.aceitaPet===!1).length,[dt]),vr=dt.length;Vn.filter(v=>v.ativo!==!1).length;const St=T.useMemo(()=>{const v=Pt(Un),C=Pt(at);if(!v.isValid()||!C.isValid()||v.isAfter(C))return{periodo:{inicio:Un,fim:at},resumo:{confirmadas:0,preReservas:0,faturamento:0,ticketMedio:0,participantes:0},porDia:[],porPacote:[],porCliente:[]};const L=v.format("YYYY-MM-DD"),Y=C.format("YYYY-MM-DD"),ee=ft.filter(Pe=>{const mt=Cs(Pe.data);return mt?mt>=L&&mt<=Y:!1}),X=ee.filter(Pe=>uf(Pe)),Ve=ee.filter(Pe=>pc(Pe)),tt=X.reduce((Pe,mt)=>Pe+(Number(mt.valor)||0),0),en=X.length>0?tt/X.length:0,ct=X.reduce((Pe,mt)=>Pe+xr(mt),0),Kt=[];let rn=v.startOf("day");const Gn=C.startOf("day");for(;rn.isBefore(Gn)||rn.isSame(Gn);)Kt.push(rn.format("YYYY-MM-DD")),rn=rn.add(1,"day");const cn=new Map;Kt.forEach(Pe=>cn.set(Pe,{valor:0,reservas:0,preReservas:0,participantes:0,participantesPreReservas:0})),X.forEach(Pe=>{const mt=Cs(Pe.data);if(!mt)return;const tn=cn.get(mt);tn&&(tn.valor+=Number(Pe.valor)||0,tn.reservas+=1,tn.participantes+=xr(Pe))}),Ve.forEach(Pe=>{const mt=Cs(Pe.data);if(!mt)return;const tn=cn.get(mt);tn&&(tn.preReservas+=1,tn.participantesPreReservas+=xr(Pe))});const tr=Kt.map(Pe=>{const mt=cn.get(Pe)??{valor:0,reservas:0,preReservas:0,participantes:0,participantesPreReservas:0};return{data:Pe,...mt}}),$t=new Map;X.forEach(Pe=>{const mt=(Pe.atividade||"Sem pacote").toString().trim()||"Sem pacote",tn=$t.get(mt)??{reservas:0,preReservas:0,participantes:0,participantesPreReservas:0,valor:0};tn.reservas+=1,tn.participantes+=xr(Pe),tn.valor+=Number(Pe.valor)||0,$t.set(mt,tn)}),Ve.forEach(Pe=>{const mt=(Pe.atividade||"Sem pacote").toString().trim()||"Sem pacote",tn=$t.get(mt)??{reservas:0,preReservas:0,participantes:0,participantesPreReservas:0,valor:0};tn.preReservas+=1,tn.participantesPreReservas+=xr(Pe),$t.set(mt,tn)});const Qn=Array.from($t.entries()).map(([Pe,mt])=>({nome:Pe,...mt})).sort((Pe,mt)=>mt.valor-Pe.valor),hn=new Map;X.forEach(Pe=>{const mt=(Pe.cpf||"").toString().trim(),tn=(Pe.telefone||"").toString().trim(),Ct=(Pe.nome||"").toString().trim(),Lt=mt||tn||Ct||"cliente",Ur=hn.get(Lt)??{chave:Lt,nome:Ct||"---",cpf:mt,telefone:tn,reservas:0,preReservas:0,participantes:0,participantesPreReservas:0,valor:0};Ur.reservas+=1,Ur.valor+=Number(Pe.valor)||0,Ur.participantes+=xr(Pe),!Ur.nome&&Ct&&(Ur.nome=Ct),hn.set(Lt,Ur)}),Ve.forEach(Pe=>{const mt=(Pe.cpf||"").toString().trim(),tn=(Pe.telefone||"").toString().trim(),Ct=(Pe.nome||"").toString().trim(),Lt=mt||tn||Ct||"cliente",Ur=hn.get(Lt)??{chave:Lt,nome:Ct||"---",cpf:mt,telefone:tn,reservas:0,preReservas:0,participantes:0,participantesPreReservas:0,valor:0};Ur.preReservas+=1,Ur.participantesPreReservas+=xr(Pe),!Ur.nome&&Ct&&(Ur.nome=Ct),hn.set(Lt,Ur)});const Ot=Array.from(hn.values()).sort((Pe,mt)=>mt.valor-Pe.valor);return{periodo:{inicio:L,fim:Y},resumo:{confirmadas:X.length,preReservas:Ve.length,faturamento:tt,ticketMedio:en,participantes:ct},porDia:tr,porPacote:Qn,porCliente:Ot}},[ft,Un,at]),Jn=T.useCallback((v,C)=>{switch(v){case"faturamento":return C.valor;case"confirmadas":return C.reservas;case"pre_reservas":return C.preReservas;case"participantes":return(C.participantes??0)+(C.participantesPreReservas??0);default:return C.valor}},[]),bs=T.useMemo(()=>{const v=bn.trim().toLowerCase();return v?St.porPacote.filter(C=>C.nome.toLowerCase().includes(v)):St.porPacote},[bn,St.porPacote]),ga=T.useMemo(()=>{const v=[...bs];return v.sort((C,L)=>Jn(qn,L)-Jn(qn,C)),v},[qn,bs,Jn]),ss=T.useMemo(()=>{const v=ur.trim().toLowerCase();return v?St.porCliente.filter(C=>{const L=(C.nome??"").toLowerCase(),Y=(C.cpf??"").toLowerCase(),ee=(C.telefone??"").toLowerCase();return L.includes(v)||Y.includes(v)||ee.includes(v)}):St.porCliente},[ur,St.porCliente]),Ra=T.useMemo(()=>{const v=[...ss];return v.sort((C,L)=>Jn(Cr,L)-Jn(Cr,C)),v},[Cr,ss,Jn]),Gr=T.useMemo(()=>{const v=ur.trim().length>0;return Ar||v?Ra:Ra.slice(0,30)},[ur,Ra,Ar]),ra=T.useMemo(()=>{const v=new Map;return dt.forEach(C=>{C.id&&v.set(C.id,C)}),v},[dt]),j=T.useMemo(()=>{const v=new Set;return dt.forEach(C=>{typeof C.nome=="string"&&C.nome.trim().length>0&&v.add(C.nome)}),Vn.forEach(C=>{typeof C.nome=="string"&&C.nome.trim().length>0&&v.add(C.nome)}),Object.values(g).forEach(C=>{C.forEach(L=>{const Y=(L.atividade??"").split("(")[0]?.trim();Y&&v.add(Y)})}),Array.from(v).filter(Boolean).sort((C,L)=>C.localeCompare(L,"pt-BR"))},[dt,Vn,g]),W=fe.trim().toLowerCase(),de=T.useMemo(()=>{const v=Pt().startOf("day"),C=dt.flatMap(L=>L.datasBloqueadas??[]).map(L=>Pt(L)).filter(L=>L.isValid()&&(L.isSame(v)||L.isAfter(v))).sort((L,Y)=>L.valueOf()-Y.valueOf());return C.length>0?C[0]:null},[dt]),Z=T.useMemo(()=>ye,[ye]),Re=[{id:"reservas",label:"Reservas",description:"Agenda do dia",icon:zg},{id:"dashboard",label:"Dashboard",description:"Relatrios e indicadores",icon:Zw},{id:"pacotes",label:"Pacotes",description:"Coleo de atividades",icon:Fg},{id:"tipos_clientes",label:"Clientes",description:"Tipos de clientes",icon:Hg},{id:"whatsapp",label:"WhatsApp",description:"Confirmacoes automaticas",icon:uc},{id:"pesquisa",label:"Pesquisa",description:"Histrico de reservas",icon:r1}],je=T.useMemo(()=>{const v=Pt().add(1,"day").format("YYYY-MM-DD");return{nome:"Cliente",datareserva:fc(v),data:fc(v),horario:"10:00",atividade:"Atividade",participantes:"2",telefone:"(00) 00000-0000",valor:Zr(120),status:"confirmado"}},[]),ze=T.useMemo(()=>{const v=Ze.mensagemConfirmacaoAutomatica||ul;return of(v,je)},[je,Ze.mensagemConfirmacaoAutomatica]),yt=T.useMemo(()=>{const v=Ze.mensagemConfirmacaoManual||Ws;return of(v,je)},[je,Ze.mensagemConfirmacaoManual]),Ie=T.useMemo(()=>{switch(Dt?.status??"idle"){case"ready":return{label:"Conectado",classes:"bg-emerald-100 text-emerald-700"};case"qr":return{label:"Aguardando QR",classes:"bg-amber-100 text-amber-700"};case"initializing":return{label:"Conectando",classes:"bg-blue-100 text-blue-700"};case"auth_failure":return{label:"Falha de login",classes:"bg-rose-100 text-rose-700"};case"disconnected":return{label:"Desconectado",classes:"bg-slate-100 text-slate-600"};default:return{label:"Indisponivel",classes:"bg-slate-100 text-slate-600"}}},[Dt?.status]),[Oe,On]=T.useState(""),[Jt,$a]=T.useState([]),[is,Oa]=T.useState(!1);T.useEffect(()=>{const v=Pt(l).format("YYYY-MM-DD"),C=Pt(l).add(1,"day").format("YYYY-MM-DD"),L=Pt(l).startOf("day"),Y=Pt(l).add(1,"day").startOf("day"),ee=Pt().format("YYYY-MM-DD"),X=v===ee;Mt(),console.log(" Observando reservas para:",v);const Ve=_a(un,"reservas"),tt=pl(Ve,Gs("data",">=",v),Gs("data","<",C)),en=pl(Ve,Gs("data",">=",Nn.fromDate(L.toDate())),Gs("data","<",Nn.fromDate(Y.toDate())));let ct=[],Kt=[],rn=!0,Gn=!0;const cn=hn=>{if(!X||i.current!=="reservas")return;const Ot=hn.filter(Pe=>{const mt=Dc(Pe.status);return["pago","confirmado","pre_reserva"].includes(mt)?!0:!mt&&!!Pe.confirmada});Ot.length!==0&&jt(Ot[0])},tr=()=>{const hn=new Map;[...ct,...Kt].forEach(Ct=>{const Lt=Ct.id??`${Ct.nome}-${Ct.cpf}-${Ct.horario}-${Cs(Ct.data)}`;hn.set(Lt,Ct)});const Pe=Array.from(hn.values()).filter(Ct=>{if(Cs(Ct.data)!==v)return!1;const Lt=Dc(Ct.status);return["pago","confirmado","pre_reserva"].includes(Lt)?!0:!Lt&&!!Ct.confirmada}),mt=Pe.filter(Ct=>pc(Ct)).length;console.log(" Reservas visveis:",Pe.length,"| Pr-reservas:",mt);const tn=Pe.reduce((Ct,Lt)=>{const Ur=Lt.horario||"No especificado";return Ct[Ur]||(Ct[Ur]=[]),Ct[Ur].push(Lt),Ct},{});b(tn)},$t=Ec(tt,hn=>{if(!rn){const Ot=hn.docChanges().filter(Pe=>Pe.type==="added"&&Pe.doc.metadata.hasPendingWrites===!1).map(Pe=>{const mt=Pe.doc.data();return{id:Pe.doc.id,...mt,chegou:mt.chegou===!0}});cn(Ot)}rn=!1,ct=hn.docs.map(Ot=>{const Pe=Ot.data();return{id:Ot.id,...Pe,chegou:Pe.chegou===!0}}),tr()},hn=>{console.error("Erro ao escutar reservas (string):",hn),ct=[],tr()}),Qn=Ec(en,hn=>{if(!Gn){const Ot=hn.docChanges().filter(Pe=>Pe.type==="added"&&Pe.doc.metadata.hasPendingWrites===!1).map(Pe=>{const mt=Pe.doc.data();return{id:Pe.doc.id,...mt,chegou:mt.chegou===!0}});cn(Ot)}Gn=!1,Kt=hn.docs.map(Ot=>{const Pe=Ot.data();return{id:Ot.id,...Pe,chegou:Pe.chegou===!0}}),tr()},hn=>{console.error("Erro ao escutar reservas (timestamp):",hn),Kt=[],tr()});return()=>{$t(),Qn()}},[l,jt,Mt]),T.useEffect(()=>{if(n!=="dashboard")return;const v=Pt(Un),C=Pt(at);if(!v.isValid()||!C.isValid()||v.isAfter(C)){dn("Informe um perodo vlido."),An([]),Hn(!1);return}const L=v.format("YYYY-MM-DD"),Y=C.format("YYYY-MM-DD"),ee=C.add(1,"day").format("YYYY-MM-DD"),X=v.startOf("day"),Ve=C.add(1,"day").startOf("day");Hn(!0),dn(null);const tt=_a(un,"reservas"),en=pl(tt,Gs("data",">=",L),Gs("data","<",ee)),ct=pl(tt,Gs("data",">=",Nn.fromDate(X.toDate())),Gs("data","<",Nn.fromDate(Ve.toDate())));let Kt=[],rn=[];const Gn=()=>{const $t=new Map;[...Kt,...rn].forEach(Ot=>{const Pe=Ot.id??`${Ot.nome}-${Ot.cpf}-${Ot.horario}-${Cs(Ot.data)}`;$t.set(Pe,Ot)});const hn=Array.from($t.values()).filter(Ot=>{const Pe=Cs(Ot.data);return Pe?Pe>=L&&Pe<=Y:!1});An(hn),Hn(!1)},cn=Ec(en,$t=>{Kt=$t.docs.map(Qn=>({id:Qn.id,...Qn.data()})),Gn()},$t=>{console.error("Erro ao carregar dashboard (string):",$t),Kt=[],Gn()}),tr=Ec(ct,$t=>{rn=$t.docs.map(Qn=>({id:Qn.id,...Qn.data()})),Gn()},$t=>{console.error("Erro ao carregar dashboard (timestamp):",$t),rn=[],Gn()});return()=>{cn(),tr()}},[n,Un,at]),T.useEffect(()=>{G(null)},[l,fe,k]),T.useEffect(()=>{if(I){const v=setTimeout(()=>M(null),3e3);return()=>clearTimeout(v)}},[I]);const ya=(v,C)=>new Date(C,v+1,0).getDate(),$n=new Date,[pn,Ls]=T.useState($n.getMonth()),[Ya,_s]=T.useState($n.getFullYear()),Us=new Date(Ya,pn,1).getDay(),Ho=ya(pn,Ya),zi=Array(Us).fill(null).concat([...Array(Ho).keys()].map(v=>v+1)),qo=v=>{const C=new Date(Ya,pn+v);Ls(C.getMonth()),_s(C.getFullYear())},hi=async v=>{if(confirm("Tem certeza que deseja excluir esta reserva?"))try{await qu(oa(un,"reservas",v))}catch(C){console.error("Erro ao excluir reserva:",C)}},Dl=v=>{const C=Array.isArray(v.mesasSelecionadas)?v.mesasSelecionadas:[],L=v.mesaPrincipalId??C[0]?.id??null,Y=v.mesaSecundariaId??C[1]?.id??null,ee=v.areaMesa??C[0]?.area??"",X=v.capacidadeMesas??C.reduce((tt,en)=>tt+(Number(en?.capacidade)||0),0),Ve=cf(Z,v);$({...v,status:v.status??(v.confirmada?"confirmado":"pre_reserva"),participantesPorTipo:Ve,mesasSelecionadas:C,mesaPrincipalId:L,mesaSecundariaId:Y,areaMesa:ee,capacidadeMesas:X}),Ae(!0),ge(!0)},$o=()=>{const v=cf(Z,{participantesPorTipo:{},adultos:0,criancas:0,bariatrica:0});$({nome:"",cpf:"",telefone:"",adultos:0,criancas:0,naoPagante:0,bariatrica:0,participantesPorTipo:v,data:Pt(l).format("YYYY-MM-DD"),horario:"",atividade:"",temPet:!1,confirmada:!0,status:"confirmado",areaMesa:"",mesaPrincipalId:null,mesaSecundariaId:null,mesasSelecionadas:[],capacidadeMesas:0}),Ae(!1),ge(!0)},zs=async v=>{if(!v.id)return;const C=v.chegou===!0;try{await cc(oa(un,"reservas",v.id),{chegou:!C}),M({type:"success",message:C?"Marcao de chegada removida.":"Reserva marcada como chegada!"})}catch(L){console.error("Erro ao atualizar chegada:",L),M({type:"error",message:"No foi possvel atualizar a chegada da reserva."})}},Yo=v=>(v.perguntasPersonalizadas??[]).filter(C=>{const L=typeof C?.pergunta=="string"&&C.pergunta.trim().length>0,Y=typeof C?.resposta=="string"&&C.resposta.trim().length>0;return L&&Y}),Ml=v=>(v.perguntasPersonalizadas??[]).some(C=>{if(!Js(C.pergunta??"").includes("juntar mesa"))return!1;const Y=Js(C.resposta??"");return Y.startsWith("sim")||Y==="s"}),fi=v=>{G(C=>C===v?null:v)},Bs=v=>v.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Nenhuma resposta personalizada."}):u.jsx("dl",{className:"divide-y divide-slate-100 text-sm",children:v.map(C=>u.jsxs("div",{className:"py-2 first:pt-0 last:pb-0",children:[u.jsx("dt",{className:"text-xs font-semibold uppercase text-slate-500",children:C.pergunta}),u.jsx("dd",{className:"mt-1 font-medium text-slate-900",children:C.resposta||"---"}),C.perguntaCondicional?.pergunta&&u.jsxs("div",{className:"mt-2 rounded-lg bg-slate-50 p-2",children:[u.jsx("p",{className:"text-[11px] font-semibold uppercase text-slate-400",children:C.perguntaCondicional.pergunta}),u.jsx("p",{className:"text-sm font-medium text-slate-900",children:C.perguntaCondicional.resposta||"---"})]})]},`${C.perguntaId}-${C.pergunta}`))});function xr(v){const C=v.participantesPorTipo??{},L=AI(C);return L>0?L+(Number(v.naoPagante??0)||0):(v.adultos??0)+(v.criancas??0)+(v.naoPagante??0)+(v.bariatrica??0)}const mi=T.useCallback(v=>{const C=v.participantesPorTipo??{},L=Z.map(X=>{const Ve=zc(C,X)??SN(X,v);return{key:mo(X),label:X.nome,quantidade:Number(Ve)||0}}),Y=Object.entries(C).filter(([X])=>!Z.some(Ve=>Ve.id===X||Js(Ve.nome)===Js(X))).map(([X,Ve])=>({key:X,label:X,quantidade:Number(Ve)||0})),ee=Number(v.naoPagante??0);return ee>0&&Y.push({key:"nao-pagante",label:"No pagante",quantidade:ee}),[...L,...Y].filter(X=>X.quantidade>0)},[Z]),Bi=v=>{if(v==null)return"---";const C=Number(v);return Number.isNaN(C)?"---":`R$${C.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`},Wo=v=>{const C=v,L=[];return Array.isArray(C.pacoteNomes)?L.push(...C.pacoteNomes.filter(Boolean)):Array.isArray(C.pacotes)?C.pacotes.forEach(Y=>{typeof Y=="string"?L.push(Y):Y?.nome&&L.push(Y.nome)}):Array.isArray(C.pacoteIds)?C.pacoteIds.forEach(Y=>{const ee=dt.find(X=>X.id===Y);ee?.nome&&L.push(ee.nome)}):typeof C.pacote=="string"?L.push(C.pacote):typeof C.pacoteNome=="string"?L.push(C.pacoteNome):v.atividade&&L.push(v.atividade),Array.from(new Set(L.filter(Boolean)))},Wa=v=>{const L=(v.atividade??"").match(/\(Combo:\s*([^)]+)\)/i);if(L&&L[1]){const ee=L[1].trim();return`Combo: ${ee.split(" - ")[0].trim()||ee}`}const Y=Wo(v);return Y.length===0?"---":Y.length===1?Y[0]:Y.join(" + ")},Il=async()=>{if(z){if(!z.data){M({type:"error",message:"Por favor, selecione a data da reserva."});return}try{const v=xr(z),C=_.find(Qn=>Qn.id===z.mesaPrincipalId),L=_.find(Qn=>Qn.id===z.mesaSecundariaId);if(_.length>0&&!C){M({type:"error",message:"Selecione a mesa principal para a reserva."});return}if(C){if(v>C.capacidade){if(!L){M({type:"error",message:"Quantidade de pessoas excede a mesa escolhida. Selecione uma mesa complementar da mesma rea."});return}if(L.area!==C.area){M({type:"error",message:"A mesa complementar precisa ser da mesma rea da mesa principal."});return}if(L.id===C.id){M({type:"error",message:"Escolha mesas diferentes para somar capacidade."});return}}const hn=C.capacidade+(L?.capacidade??0);if(v>hn){M({type:"error",message:"A capacidade combinada das mesas selecionadas  inferior ao total de participantes."});return}}const ee=[];C&&ee.push({id:C.id,nome:C.nome,capacidade:C.capacidade,area:C.area}),L&&(!C||L.id!==C.id)&&ee.push({id:L.id,nome:L.nome,capacidade:L.capacidade,area:L.area});const X=ee.reduce((Qn,hn)=>Qn+(hn.capacidade??0),0),Ve=z.areaMesa||C?.area||"",tt=se?z.status??"pre_reserva":"confirmado",en=Dc(tt),ct=cf(Z,z),Kt=Ai(ct,Z,"adult")??0,rn=Ai(ct,Z,"crian")??0,Gn=Ai(ct,Z,"bariat")??0,{id:cn,...tr}=z,$t={...tr,adultos:Kt,criancas:rn,bariatrica:Gn,participantesPorTipo:ct,participantes:v,status:tt,confirmada:en==="confirmado"||en==="pago"?!0:!!z.confirmada,areaMesa:Ve,mesaPrincipalId:C?.id??null,mesaSecundariaId:L?.id??null,mesasSelecionadas:ee,capacidadeMesas:X};if(se&&z.id){const Qn=oa(un,"reservas",z.id);await cc(Qn,$t),M({type:"success",message:pc($t)?"Pr-reserva atualizada!":"Reserva atualizada com sucesso!"})}else await rf(_a(un,"reservas"),$t),M({type:"success",message:"Pr-reserva cadastrada com sucesso!"});["confirmado","pago"].includes(en)&&os(),ge(!1),$(null)}catch(v){console.error("Erro ao salvar reserva:",v),M({type:"error",message:"Erro ao salvar reserva."})}}},ws=T.useCallback(async()=>{const C=(await bo(_a(un,"pacotes"))).docs.map(L=>{const Y=L.data(),ee=Y.modoHorario==="intervalo"?"intervalo":"lista",X=Y.precosPorTipo&&typeof Y.precosPorTipo=="object"?Object.fromEntries(Object.entries(Y.precosPorTipo).map(([Ve,tt])=>[Ve,Number(tt)||0])):void 0;return{id:L.id,nome:Y.nome??"",tipo:Y.tipo??"",precoAdulto:Number(Y.precoAdulto??0),precoCrianca:Number(Y.precoCrianca??0),precoBariatrica:Number(Y.precoBariatrica??0),precosPorTipo:X,limite:Number(Y.limite??0),dias:Array.isArray(Y.dias)?Y.dias.map(Number).sort((Ve,tt)=>Ve-tt):[],horarios:Array.isArray(Y.horarios)?$g(Y.horarios):[],datasBloqueadas:Array.isArray(Y.datasBloqueadas)?[...Y.datasBloqueadas].sort():[],modoHorario:ee,horarioInicio:Y.horarioInicio??"",horarioFim:Y.horarioFim??"",aceitaPet:Y.aceitaPet!==!1,perguntasPersonalizadas:Array.isArray(Y.perguntasPersonalizadas)?Y.perguntasPersonalizadas:[]}});Tt(C)},[]),Es=T.useCallback(async()=>{it(!0);try{const C=(await bo(_a(un,"tipos_clientes"))).docs.map(L=>{const Y=L.data();return{id:L.id,nome:Y.nome??"",descricao:Y.descricao??""}}).filter(L=>L.nome.trim().length>0).sort((L,Y)=>L.nome.localeCompare(Y.nome,"pt-BR",{sensitivity:"base"}));Se(C)}catch(v){console.error("Erro ao carregar tipos de clientes:",v),Se([])}finally{it(!1)}},[]),Go=T.useCallback(async()=>{gr(!0);try{const v=oa(un,"configuracoes","whatsapp"),C=await Z6(v).catch(async()=>S0(v));if(C.exists()){const L=C.data(),Y=typeof L.mensagemConfirmacao=="string"?L.mensagemConfirmacao.trim():"",ee=typeof L.mensagemConfirmacaoAutomatica=="string"&&L.mensagemConfirmacaoAutomatica.trim()?L.mensagemConfirmacaoAutomatica:Y||ul,X=typeof L.mensagemConfirmacaoManual=="string"&&L.mensagemConfirmacaoManual.trim()?L.mensagemConfirmacaoManual:Ws,Ve=i1(L.modelosMensagemManual);Nt({ativo:L.ativo===!0,mensagemConfirmacaoAutomatica:ee,mensagemConfirmacaoManual:X,modelosMensagemManual:Ve})}else Nt({ativo:!1,mensagemConfirmacaoAutomatica:ul,mensagemConfirmacaoManual:Ws,modelosMensagemManual:[]});nn(null)}catch(v){console.error("Erro ao carregar configuracoes do WhatsApp:",v),nn("Erro ao carregar configuracoes."),Nt({ativo:!1,mensagemConfirmacaoAutomatica:ul,mensagemConfirmacaoManual:Ws,modelosMensagemManual:[]})}finally{gr(!1)}},[]),Fi=async()=>{const v=Ze.mensagemConfirmacaoAutomatica.trim(),C=Ze.mensagemConfirmacaoManual.trim();if(!v){M({type:"error",message:"Informe a mensagem automtica."});return}if(!C){M({type:"error",message:"Informe a mensagem do boto."});return}const L=(Ze.modelosMensagemManual??[]).filter(X=>{const Ve=X.titulo?.trim()??"",tt=X.mensagem?.trim()??"";return Ve||tt}),Y=i1(L),ee=L.length-Y.length;yr(!0);try{const X={ativo:Ze.ativo,mensagemConfirmacaoAutomatica:v,mensagemConfirmacaoManual:C,mensagemConfirmacao:v,modelosMensagemManual:Y,atualizadoEm:new Date};await qw(oa(un,"configuracoes","whatsapp"),X,{merge:!0}),Nt(Ve=>({...Ve,mensagemConfirmacaoAutomatica:v,mensagemConfirmacaoManual:C,modelosMensagemManual:Y})),M({type:"success",message:ee>0?"Configuraes salvas. Modelos incompletos foram ignorados.":"Configuracoes do WhatsApp salvas."})}catch(X){console.error("Erro ao salvar configuracoes do WhatsApp:",X),M({type:"error",message:"Erro ao salvar configuracoes do WhatsApp."})}finally{yr(!1)}},Vr=T.useCallback(async()=>{try{const v=await fetch(`${sf}/whatsapp/status?t=${Date.now()}`,{cache:"no-store"});if(!v.ok)throw new Error(`Status ${v.status}`);const C=await v.json();lt(C),nn(null)}catch(v){console.error("Erro ao consultar status do WhatsApp:",v),nn("Erro ao consultar status.")}},[]),Pl=async()=>{gr(!0);try{const C=await(await fetch(`${sf}/whatsapp/start?t=${Date.now()}`,{method:"POST",cache:"no-store"})).json();lt(C),nn(null)}catch(v){console.error("Erro ao iniciar WhatsApp:",v),nn("Erro ao iniciar WhatsApp.")}finally{gr(!1)}},Ol=async()=>{gr(!0);try{const C=await(await fetch(`${sf}/whatsapp/logout?t=${Date.now()}`,{method:"POST",cache:"no-store"})).json();lt(C),nn(null)}catch(v){console.error("Erro ao desconectar WhatsApp:",v),nn("Erro ao desconectar WhatsApp.")}finally{gr(!1)}},os=async()=>{if(Ze.ativo)try{await fetch(`${sf}/whatsapp/process-pending`,{method:"POST"})}catch(v){console.error("Erro ao processar pendencias do WhatsApp:",v)}},h=(v,C)=>{Nt(L=>{const Y=L[v]??"",ee=Y&&!Y.endsWith(" ")?" ":"";return{...L,[v]:`${Y}${ee}${C}`}})},x=()=>`modelo-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,w=()=>{Nt(v=>({...v,modelosMensagemManual:[...v.modelosMensagemManual??[],{id:x(),titulo:`Modelo ${(v.modelosMensagemManual?.length??0)+1}`,mensagem:""}]}))},R=(v,C)=>{Nt(L=>({...L,modelosMensagemManual:(L.modelosMensagemManual??[]).map(Y=>Y.id===v?{...Y,...C}:Y)}))},re=v=>{Nt(C=>({...C,modelosMensagemManual:(C.modelosMensagemManual??[]).filter(L=>L.id!==v)}))},pe=(v,C)=>{Nt(L=>({...L,modelosMensagemManual:(L.modelosMensagemManual??[]).map(Y=>{if(Y.id!==v)return Y;const ee=Y.mensagem??"",X=ee&&!ee.endsWith(" ")?" ":"";return{...Y,mensagem:`${ee}${X}${C}`}})}))},Me=T.useCallback(()=>{F(null),ce("padrao"),P("")},[]),Ft=T.useCallback(v=>{if(v==="padrao")return Ze.mensagemConfirmacaoManual||Ws;const C=(Ze.modelosMensagemManual??[]).find(L=>L.id===v);return C?.mensagem?.trim()?C.mensagem:Ze.mensagemConfirmacaoManual||Ws},[Ze.mensagemConfirmacaoManual,Ze.modelosMensagemManual]),er=T.useCallback((v,C,L,Y)=>{const ee=(v.telefone||"").replace(/\D/g,""),X=ee.startsWith("55")?ee:ee?`55${ee}`:"";if(!X){M({type:"error",message:"Telefone do cliente invlido."});return}const Ve={nome:v.nome??"",datareserva:fc(v.data),data:fc(v.data),horario:v.horario??"",atividade:L,participantes:String(C),telefone:v.telefone??"",valor:Y,status:v.status??""},tt=Ft("padrao"),en=of(tt,Ve);ce("padrao"),P(en),F({reserva:v,telefoneComCodigo:X,dadosMensagem:Ve,participantes:C,pacoteDescricao:L})},[Ft]),Qt=T.useCallback(()=>{if(!ve)return;const v=Ce.trim();if(!v){M({type:"error",message:"Digite a mensagem antes de enviar."});return}const C=`https://wa.me/${ve.telefoneComCodigo}?text=${encodeURIComponent(v)}`;window.open(C,"_blank"),Me()},[Me,Ce,ve]),Yn=T.useCallback(async()=>{try{const C=(await bo(_a(un,"combos"))).docs.map(L=>{const Y=L.data(),ee=Y.precosPorTipo&&typeof Y.precosPorTipo=="object"?Object.fromEntries(Object.entries(Y.precosPorTipo).map(([X,Ve])=>[X,Number(Ve)||0])):void 0;return{id:L.id,nome:Y.nome??"",pacoteIds:Array.isArray(Y.pacoteIds)?Y.pacoteIds.map(X=>X?.toString()).filter(Boolean):[],preco:Number(Y.preco??0),precoAdulto:Number(Y.precoAdulto??Y.preco??0),precoCrianca:Number(Y.precoCrianca??Y.preco??0),precoBariatrica:Number(Y.precoBariatrica??Y.preco??0),precosPorTipo:ee,ativo:Y.ativo!==!1}});Wr(C)}catch(v){console.error("Erro ao carregar combos:",v)}},[]);T.useEffect(()=>{ws(),Yn(),Es()},[ws,Yn,Es]),T.useEffect(()=>{(async()=>{O(!0);try{const L=(await bo(_a(un,"mesas"))).docs.map(Y=>{const ee=Y.data();return{id:Y.id,nome:ee.nome??Y.id,capacidade:Number(ee.capacidade??0),area:ee.area??"Sem rea",ativa:ee.ativa!==!1}}).filter(Y=>Y.capacidade>0&&Y.ativa!==!1).sort((Y,ee)=>Y.nome.localeCompare(ee.nome,"pt-BR",{numeric:!0,sensitivity:"base"}));E(L)}catch(C){console.error("Erro ao carregar mesas:",C)}finally{O(!1)}})()},[]),T.useEffect(()=>{n==="pacotes"&&(ws(),Yn())},[n,ws,Yn]),T.useEffect(()=>{z&&$(v=>v&&{...v,participantesPorTipo:cf(Z,v)})},[Z]),T.useEffect(()=>{n==="tipos_clientes"&&Es()},[n,Es]),T.useEffect(()=>{Go()},[Go]),T.useEffect(()=>{if(n!=="whatsapp")return;Vr();const v=setInterval(()=>{Vr()},5e3);return()=>clearInterval(v)},[n,Vr]);const Wn=()=>{Je(l1()),Fe(!1)},Ns=v=>{Je({id:v.id,nome:v.nome??"",descricao:v.descricao??""}),Fe(!0)},Lr=async()=>{const v=ke.nome.trim();if(!v){M({type:"error",message:"Informe o nome do tipo."});return}const C=v.toLowerCase();if(ye.some(X=>X.nome.trim().toLowerCase()===C&&X.id!==ke.id)){M({type:"error",message:"J existe um tipo com esse nome."});return}const Y=(ke.descricao??"").trim(),ee={nome:v,...Y?{descricao:Y}:{}};ot(!0);try{Ue&&ke.id?(await cc(oa(un,"tipos_clientes",ke.id),ee),M({type:"success",message:"Tipo atualizado com sucesso!"})):(await rf(_a(un,"tipos_clientes"),ee),M({type:"success",message:"Tipo cadastrado com sucesso!"})),Wn(),await Es()}catch(X){console.error("Erro ao salvar tipo de cliente:",X),M({type:"error",message:"Erro ao salvar tipo de cliente."})}finally{ot(!1)}},ls=async v=>{if(v.id&&confirm(`Tem certeza que deseja excluir o tipo "${v.nome}"?`)){ot(!0);try{await qu(oa(un,"tipos_clientes",v.id)),ke.id===v.id&&Wn(),M({type:"success",message:"Tipo removido."}),await Es()}catch(C){console.error("Erro ao excluir tipo de cliente:",C),M({type:"error",message:"Erro ao excluir tipo de cliente."})}finally{ot(!1)}}},Qo=v=>{_t({...v,dias:Array.isArray(v.dias)?v.dias:[],horarios:Array.isArray(v.horarios)?$g(v.horarios):[],datasBloqueadas:Array.isArray(v.datasBloqueadas)?[...v.datasBloqueadas]:[],modoHorario:v.modoHorario??"lista",horarioInicio:v.horarioInicio??"",horarioFim:v.horarioFim??"",aceitaPet:v.aceitaPet??!0,precosPorTipo:mc(Z,v.precosPorTipo,v),perguntasPersonalizadas:v.perguntasPersonalizadas??[]}),$r(""),Nr({pergunta:"",tipo:"sim_nao",obrigatoria:!1}),Ia(!0),Tn(!0)},kl=()=>{_t({nome:"",tipo:"",precoAdulto:0,precoCrianca:0,precoBariatrica:0,precosPorTipo:mc(Z,void 0,{precoAdulto:0,precoCrianca:0,precoBariatrica:0}),horarios:[],dias:[],limite:0,datasBloqueadas:[],modoHorario:"lista",horarioInicio:"",horarioFim:"",aceitaPet:!0,perguntasPersonalizadas:[]}),$r(""),Nr({pergunta:"",tipo:"sim_nao",obrigatoria:!1}),Ia(!1),Tn(!0)},Fd=async()=>{if(!Ge)return;if(!Ge.nome){M({type:"error",message:"Nome obrigatrio!"});return}const v=Ge.modoHorario??"lista",C=Array.from(new Set(Ge.dias??[])).sort((tr,$t)=>tr-$t),L=Array.from(new Set(Ge.datasBloqueadas??[])).sort(),Y=Number(Ge.limite)||0,ee=Ge.horarioInicio??"",X=Ge.horarioFim??"";let Ve=[];if(v==="intervalo"){if(!ee||!X){M({type:"error",message:"Informe horrio inicial e final."});return}Ve=[]}else{const tr=Array.isArray(Ge.horarios)?Ge.horarios:[];Ve=$g(Array.from(new Set(tr)))}const tt=mc(Z,Ge.precosPorTipo,Ge),en=Ai(tt,Z,"adult")??0,ct=Ai(tt,Z,"crian")??0,Kt=Ai(tt,Z,"bariat")??0,rn={...Ge,precoAdulto:en,precoCrianca:ct,precoBariatrica:Kt,precosPorTipo:tt,modoHorario:v,dias:C,datasBloqueadas:L,limite:Y,horarioInicio:v==="intervalo"?ee:"",horarioFim:v==="intervalo"?X:"",horarios:Ve,aceitaPet:Ge.aceitaPet??!0},{id:Gn,...cn}=rn;try{ha&&Gn?(await cc(oa(un,"pacotes",Gn),cn),M({type:"success",message:"Pacote atualizado com sucesso!"})):(await rf(_a(un,"pacotes"),cn),M({type:"success",message:"Pacote cadastrado com sucesso!"})),Tn(!1),_t(null),$r(""),ws()}catch{M({type:"error",message:"Erro ao salvar pacote."})}},Hd=async v=>{window.confirm("Excluir pacote?")&&(await qu(oa(un,"pacotes",v)),ws())},Jc=()=>{In&&(_t(v=>{if(!v)return v;const C=new Set(v.datasBloqueadas??[]);return C.add(In),{...v,datasBloqueadas:Array.from(C).sort()}}),$r(""))},eu=v=>{_t(C=>C&&{...C,datasBloqueadas:(C.datasBloqueadas??[]).filter(L=>L!==v)})},qd=()=>{mr.pergunta.trim()&&(_t(v=>{if(!v)return v;const C={id:Date.now().toString(),...mr};return{...v,perguntasPersonalizadas:[...v.perguntasPersonalizadas??[],C]}}),Nr({pergunta:"",tipo:"sim_nao",obrigatoria:!1}))},$d=v=>{_t(C=>C&&{...C,perguntasPersonalizadas:(C.perguntasPersonalizadas??[]).filter(L=>L.id!==v)})},Yd=()=>{mn({nome:"",pacoteIds:[],preco:0,precoAdulto:0,precoCrianca:0,precoBariatrica:0,precosPorTipo:mc(Z,void 0,{precoAdulto:0,precoCrianca:0,precoBariatrica:0}),ativo:!0}),ta(!1),It(!0)},Rm=v=>{mn({...v,pacoteIds:Array.isArray(v.pacoteIds)?v.pacoteIds:[],preco:Number(v.preco??0),precoAdulto:Number(v.precoAdulto??v.preco??0),precoCrianca:Number(v.precoCrianca??v.preco??0),precoBariatrica:Number(v.precoBariatrica??v.preco??0),precosPorTipo:mc(Z,v.precosPorTipo,v),ativo:v.ativo!==!1}),ta(!0),It(!0)},jm=async v=>{if(v.id)try{const C=!v.ativo;await cc(oa(un,"combos",v.id),{ativo:C}),Wr(L=>L.map(Y=>Y.id===v.id?{...Y,ativo:C}:Y)),M({type:"success",message:C?"Combo ativado!":"Combo desativado."})}catch(C){console.error("Erro ao atualizar combo:",C),M({type:"error",message:"Erro ao atualizar combo."})}},Dm=async v=>{if(v&&window.confirm("Deseja realmente excluir este combo?"))try{await qu(oa(un,"combos",v)),M({type:"success",message:"Combo removido."}),Yn()}catch(C){console.error("Erro ao excluir combo:",C),M({type:"error",message:"Erro ao excluir combo."})}},Mm=async()=>{if(!Xe)return;const v=Xe.nome.trim();if(!v){M({type:"error",message:"Informe o nome do combo."});return}if((Xe.pacoteIds??[]).length===0){M({type:"error",message:"Selecione ao menos um pacote para o combo."});return}const C=Number(Xe.preco??0),L=mc(Z,Xe.precosPorTipo,Xe),Y=Ai(L,Z,"adult")??0,ee=Ai(L,Z,"crian")??0,X=Ai(L,Z,"bariat")??0;if(!Object.values(L).some(tt=>Number.isFinite(tt)&&tt>0)){M({type:"error",message:"Informe os valores personalizados por tipo de participante."});return}Tr(!0);try{const tt={nome:v,pacoteIds:Array.from(new Set(Xe.pacoteIds)),preco:C,precoAdulto:Y>0?Y:0,precoCrianca:ee>0?ee:0,precoBariatrica:X>0?X:0,precosPorTipo:L,ativo:Xe.ativo!==!1};Sn&&Xe.id?(await cc(oa(un,"combos",Xe.id),tt),M({type:"success",message:"Combo atualizado com sucesso!"})):(await rf(_a(un,"combos"),tt),M({type:"success",message:"Combo criado com sucesso!"})),It(!1),mn(null),Yn()}catch(tt){console.error("Erro ao salvar combo:",tt),M({type:"error",message:"Erro ao salvar combo."})}finally{Tr(!1)}},Wd=T.useCallback(async()=>{const v=Pt(l).format("YYYY-MM-DD");Or(!0);try{const C=oa(un,"disponibilidade",v),L=await S0(C);if(L.exists()){const Y=L.data();if(wt(!!Y?.fechado),Y&&typeof Y.horarios=="object"){const ee=Object.entries(Y.horarios).reduce((X,[Ve,tt])=>(tt===!1&&(X[Ve]=!1),X),{});or(ee)}else or({})}else or({}),wt(!1)}catch(C){console.error("Erro ao carregar disponibilidade:",C),or({}),wt(!1)}finally{Or(!1)}},[l]),ja=async()=>{const v=Pt(l).format("YYYY-MM-DD");ht(!0);try{const C=oa(un,"disponibilidade",v),L=Object.keys(nt).length>0;if(L||Vt){const ee={data:v};L?ee.horarios=nt:ee.horarios=Ug(),ee.fechado=Vt?!0:Ug(),await qw(C,ee,{merge:!0})}else await qu(C);M({type:"success",message:"Disponibilidade atualizada!"}),ir(!1)}catch(C){console.error("Erro ao salvar disponibilidade:",C),M({type:"error",message:"Erro ao salvar disponibilidade."})}finally{ht(!1)}},Ko=async()=>{if(!Cn||!Sr){M({type:"error",message:"Informe o perodo que deseja atualizar."});return}const v=Pt(Cn),C=Pt(Sr);if(!v.isValid()||!C.isValid()){M({type:"error",message:"Datas invlidas para o perodo informado."});return}if(v.isAfter(C)){M({type:"error",message:"A data inicial deve ser menor ou igual  data final."});return}q(!0);try{const L=eI(un),Y=[];let ee=v.startOf("day");const X=C.startOf("day");for(;ee.diff(X,"day")<=0;){const Ve=ee.format("YYYY-MM-DD");Y.push(Ve);const tt=oa(un,"disponibilidade",Ve);xn==="fechar"?L.set(tt,{data:Ve,fechado:!0},{merge:!0}):L.set(tt,{data:Ve,fechado:Ug()},{merge:!0}),ee=ee.add(1,"day")}await L.commit(),Y.includes(Pt(l).format("YYYY-MM-DD"))&&wt(xn==="fechar"),M({type:"success",message:xn==="fechar"?"Perodo bloqueado para todos os pacotes.":"Perodo reaberto nos agendamentos."})}catch(L){console.error("Erro ao aplicar fechamento em perodo:",L),M({type:"error",message:"No foi possvel atualizar o perodo selecionado."})}finally{q(!1)}};T.useEffect(()=>{if(Yr){const v=Pt(l).format("YYYY-MM-DD");yn(v),Ut(v),ne({}),Wd()}},[Yr,Wd,l]);const Gd=async()=>{if(Gt){M({type:"error",message:"Desative a censura para exportar o relatrio."});return}try{const{jsPDF:v}=await Yw(async()=>{const{jsPDF:ct}=await import("./jspdf.es.min-BgHF6MMm.js").then(Kt=>Kt.j);return{jsPDF:ct}},[]),{default:C}=await Yw(async()=>{const{default:ct}=await import("./jspdf.plugin.autotable-B1NDC9nN.js");return{default:ct}},[]),L=new v({unit:"pt",format:"a4"}),Y=Pt(St.periodo.inicio).isValid()?Pt(St.periodo.inicio).format("DD/MM/YYYY"):St.periodo.inicio,ee=Pt(St.periodo.fim).isValid()?Pt(St.periodo.fim).format("DD/MM/YYYY"):St.periodo.fim;let X=44;L.setFontSize(18),L.text("Vaga Fogo - Relatrio (Dashboard)",40,X),X+=20,L.setFontSize(10),L.text(`Perodo: ${Y} a ${ee}`,40,X),X+=14,L.text(`Gerado em: ${Pt().format("DD/MM/YYYY HH:mm")}`,40,X),X+=22,L.setFontSize(12),L.text(`Reservas confirmadas: ${St.resumo.confirmadas}`,40,X),X+=14,L.text(`Pr-reservas: ${St.resumo.preReservas}`,40,X),X+=14,L.text(`Participantes (confirmadas): ${St.resumo.participantes}`,40,X),X+=14,L.text(`Faturamento (confirmadas): ${Zr(St.resumo.faturamento)}`,40,X),X+=14,L.text(`Ticket mdio: ${Zr(St.resumo.ticketMedio)}`,40,X),X+=18;const Ve=St.porPacote.slice(0,40).map(ct=>[ct.nome,String(ct.reservas),String(ct.participantes),Zr(ct.valor)]);C(L,{head:[["Pacote","Reservas","Participantes","Faturamento"]],body:Ve.length>0?Ve:[["","0","0",Zr(0)]],startY:X,styles:{fontSize:9},headStyles:{fillColor:[37,99,235]}});const tt=L.lastAutoTable?.finalY?Number(L.lastAutoTable.finalY)+24:X+24,en=St.porCliente.slice(0,40).map(ct=>[ct.nome||"---",ct.cpf||ct.telefone||"---",String(ct.reservas),Zr(ct.valor)]);C(L,{head:[["Cliente","CPF/Telefone","Reservas","Faturamento"]],body:en.length>0?en:[["","","0",Zr(0)]],startY:tt,styles:{fontSize:9},headStyles:{fillColor:[5,150,105]}}),L.save(`relatorio-dashboard-${St.periodo.inicio}-${St.periodo.fim}.pdf`),M({type:"success",message:"Relatrio PDF gerado."})}catch(v){console.error("Erro ao gerar PDF:",v),M({type:"error",message:"Erro ao gerar PDF."})}},Qd=async()=>{if(Oe.trim()){Oa(!0);try{const v=pl(_a(un,"reservas")),L=(await bo(v)).docs.map(Y=>({id:Y.id,...Y.data()})).filter(Y=>Y.nome&&Y.nome.toLowerCase().includes(Oe.toLowerCase())||Y.cpf&&Y.cpf.includes(Oe)||Y.telefone&&Y.telefone.includes(Oe));$a(L)}catch(v){console.error("Erro na pesquisa de clientes:",v),$a([])}Oa(!1)}};return u.jsxs("main",{className:"min-h-screen bg-slate-100 py-8",children:[I&&u.jsx("div",{className:`fixed top-6 right-6 z-50 flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium shadow-lg ${I.type==="success"?"bg-emerald-500 text-white":"bg-rose-500 text-white"}`,children:I.message}),oe&&u.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-[360px] max-w-[calc(100vw-3rem)]",role:"alert","aria-live":"assertive",children:u.jsx("button",{type:"button",onClick:Mt,className:"relative w-full overflow-hidden rounded-2xl border border-emerald-200 bg-white p-4 text-left shadow-lg transition hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-emerald-300 before:pointer-events-none before:absolute before:inset-0 before:rounded-2xl before:border-2 before:border-emerald-500 before:opacity-90 before:animate-pulse","aria-label":"Fechar notificao de nova reserva",title:"Clique para fechar",children:u.jsxs("div",{className:"relative flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-emerald-700",children:"Nova reserva recebida"}),u.jsx("p",{className:"mt-2 truncate text-base font-semibold text-slate-900",children:oe.nome}),u.jsxs("p",{className:"mt-1 text-sm font-medium text-slate-700",children:[oe.horario,"  ",oe.participantes," ",oe.participantes===1?"participante":"participantes"]}),u.jsx("p",{className:"mt-1 truncate text-sm text-slate-500",children:oe.atividade})]}),u.jsx("span",{className:"shrink-0 rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-700",children:"Fechar"})]})})}),ve&&u.jsx("div",{className:"fixed inset-0 z-[60] flex items-start justify-center bg-slate-900/60 px-2 py-4 overflow-y-auto",onClick:Me,children:u.jsxs("div",{className:"w-full max-w-xl overflow-hidden rounded-2xl bg-white shadow-2xl",onClick:v=>v.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 sm:px-6 py-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:"Mensagem WhatsApp"}),u.jsx("button",{type:"button",onClick:Me,className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600","aria-label":"Fechar",children:"x"})]}),u.jsxs("div",{className:"space-y-4 px-4 sm:px-6 py-5",children:[u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:ve.reserva.nome||"Cliente"}),u.jsxs("p",{className:"mt-1 text-sm text-slate-600",children:[fc(ve.reserva.data)," ",ve.reserva.horario||"---","  ",ve.participantes," ",ve.participantes===1?"participante":"participantes"]}),u.jsx("p",{className:"mt-1 text-sm text-slate-500",children:ve.pacoteDescricao})]}),u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[u.jsxs("label",{className:"flex-1 text-xs font-semibold uppercase text-slate-500",children:["Modelo",u.jsxs("select",{value:le,onChange:v=>{const C=v.target.value;if(ce(C),!ve)return;const L=Ft(C);P(of(L,ve.dadosMensagem))},className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",children:[u.jsx("option",{value:"padrao",children:"Padro (manual)"}),(Ze.modelosMensagemManual??[]).map(v=>u.jsx("option",{value:v.id,children:v.titulo||"Sem ttulo"},v.id))]})]}),u.jsx("button",{type:"button",onClick:()=>{e("whatsapp"),Me()},className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50",children:"Gerenciar modelos"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Mensagem",u.jsx("textarea",{value:Ce,onChange:v=>P(v.target.value),rows:7,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200"})]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:[u.jsx("button",{type:"button",onClick:Me,className:"inline-flex items-center justify-center rounded-full border border-slate-200 px-5 py-2.5 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:"Cancelar"}),u.jsxs("button",{type:"button",onClick:Qt,className:"inline-flex items-center justify-center gap-2 rounded-full bg-emerald-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-emerald-700",children:[u.jsx(uc,{className:"h-4 w-4"}),"Abrir WhatsApp"]})]})]})]})}),u.jsxs("div",{className:"mx-auto max-w-7xl space-y-8 px-4 sm:px-6 lg:px-8",children:[u.jsx("header",{className:"flex flex-col gap-6 border-b border-slate-200 pb-6 sm:flex-row sm:items-end sm:justify-between",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400",children:"Painel administrativo"}),u.jsx("h1",{className:"mt-2 text-3xl font-semibold text-slate-900",children:"Gesto inteligente"}),u.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Controle reservas, pacotes e disponibilidade em poucos cliques."})]})}),n==="reservas"&&u.jsxs("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[u.jsx("article",{className:"group relative overflow-hidden rounded-2xl border border-slate-100 bg-white p-5 shadow-sm transition duration-200 hover:-translate-y-1 hover:shadow-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Reservas do dia"}),u.jsx("p",{className:"mt-3 text-3xl font-semibold text-slate-900",children:Fo}),u.jsxs("span",{className:"text-xs text-slate-400",children:[Object.keys(g).length," horrios ativos"]})]}),u.jsx("span",{className:"rounded-full bg-blue-50 p-3 text-blue-600",children:u.jsx(zg,{className:"h-5 w-5"})})]})}),u.jsx("article",{className:"group relative overflow-hidden rounded-2xl border border-slate-100 bg-white p-5 shadow-sm transition duration-200 hover:-translate-y-1 hover:shadow-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Participantes"}),u.jsx("p",{className:"mt-3 text-3xl font-semibold text-slate-900",children:Vs}),u.jsx("span",{className:"text-xs text-slate-400",children:"Confirmados hoje"})]}),u.jsx("span",{className:"rounded-full bg-emerald-50 p-3 text-emerald-600",children:u.jsx(Hg,{className:"h-5 w-5"})})]})}),u.jsx("article",{className:"group relative overflow-hidden rounded-2xl border border-slate-100 bg-white p-5 shadow-sm transition duration-200 hover:-translate-y-1 hover:shadow-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Prximo bloqueio"}),u.jsx("p",{className:"mt-3 text-2xl font-semibold text-slate-900",children:de?de.format("DD/MM/YYYY"):"Sem bloqueios"}),u.jsxs("span",{className:"text-xs text-slate-400",children:[dt.reduce((v,C)=>v+(C.datasBloqueadas?.length??0),0)," datas bloqueadas no total"]})]}),u.jsx("span",{className:"rounded-full bg-amber-50 p-3 text-amber-500",children:u.jsx(t1,{className:"h-5 w-5"})})]})}),u.jsx("article",{className:"group relative overflow-hidden rounded-2xl border border-slate-100 bg-white p-5 shadow-sm transition duration-200 hover:-translate-y-1 hover:shadow-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Pacotes ativos"}),u.jsx("p",{className:"mt-3 text-3xl font-semibold text-slate-900",children:vr}),u.jsxs("span",{className:"text-xs text-slate-400",children:[Aa," sem pet"]})]}),u.jsx("span",{className:"rounded-full bg-purple-50 p-3 text-purple-600",children:u.jsx(Fg,{className:"h-5 w-5"})})]})})]}),u.jsx("nav",{className:"hidden lg:flex flex-wrap items-center gap-2 rounded-full border border-slate-200 bg-white/80 p-2 shadow-sm backdrop-blur",children:Re.map(({id:v,label:C,description:L,icon:Y})=>{const ee=n===v;return u.jsxs("button",{onClick:()=>e(v),className:`group flex min-w-[160px] flex-1 items-center gap-3 rounded-full px-4 py-2 text-left text-sm transition ${ee?"bg-blue-600 text-white shadow-md":"text-slate-500 hover:bg-slate-100"}`,children:[u.jsx("span",{className:`flex h-8 w-8 items-center justify-center rounded-full border ${ee?"border-white bg-white text-blue-600":"border-slate-200 bg-slate-50 text-slate-500"}`,children:u.jsx(Y,{className:"h-4 w-4"})}),u.jsxs("span",{className:"flex flex-col",children:[u.jsx("span",{className:"font-semibold",children:C}),u.jsx("span",{className:`text-[11px] ${ee?"text-blue-100/90":"text-slate-400"}`,children:L})]})]},v)})}),u.jsx("button",{onClick:()=>a(!0),className:"lg:hidden fixed top-4 right-4 z-40 bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),t&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-50",onClick:()=>a(!1)}),u.jsxs("div",{className:"lg:hidden fixed top-0 left-0 h-full w-80 bg-white shadow-xl z-50 transform transition-transform",children:[u.jsx("div",{className:"p-4 border-b border-slate-200",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Menu"}),u.jsx("button",{onClick:()=>a(!1),className:"p-2 rounded-full hover:bg-slate-100",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),u.jsx("div",{className:"p-4 space-y-2",children:Re.map(({id:v,label:C,description:L,icon:Y})=>{const ee=n===v;return u.jsxs("button",{onClick:()=>{e(v),a(!1)},className:`w-full flex items-center gap-3 p-3 rounded-lg text-left transition ${ee?"bg-blue-600 text-white":"text-slate-700 hover:bg-slate-100"}`,children:[u.jsx("span",{className:`flex h-10 w-10 items-center justify-center rounded-lg ${ee?"bg-white text-blue-600":"bg-slate-100 text-slate-600"}`,children:u.jsx(Y,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:C}),u.jsx("div",{className:`text-sm ${ee?"text-blue-100":"text-slate-500"}`,children:L})]})]},v)})})]})]}),n==="dashboard"&&u.jsxs("section",{className:"space-y-6",children:[u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Dashboard"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Relatrios do perodo selecionado (confirmadas e pr-reservas)."})]}),u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:gap-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Incio",u.jsx("input",{type:"date",value:Un,onChange:v=>Sa(v.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Fim",u.jsx("input",{type:"date",value:at,onChange:v=>lr(v.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]})]}),u.jsxs("button",{type:"button",onClick:()=>kr(v=>!v),className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2.5 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50","aria-label":Gt?"Mostrar dados sensveis":"Censurar dados sensveis",title:Gt?"Mostrar dados sensveis":"Censurar dados sensveis","aria-pressed":Gt,children:[Gt?u.jsx(xI,{className:"h-4 w-4"}):u.jsx(vI,{className:"h-4 w-4"}),Gt?"Mostrar":"Censurar"]}),u.jsxs("button",{type:"button",onClick:Gd,disabled:cr||!!Ke||Gt,className:`inline-flex items-center justify-center gap-2 rounded-full px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition ${cr||Ke||Gt?"bg-slate-300 cursor-not-allowed":"bg-rose-600 hover:bg-rose-700"}`,children:[u.jsx(bI,{className:"h-4 w-4"}),"Exportar PDF"]})]})]}),Ke&&u.jsx("div",{className:"mt-4 rounded-xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:Ke}),cr&&u.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"Carregando dados do perodo..."})]}),u.jsxs("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[u.jsx("article",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Faturamento"}),u.jsx("p",{className:"mt-3 text-2xl font-semibold text-slate-900",children:Gt?"":Zr(St.resumo.faturamento)}),u.jsx("span",{className:"text-xs text-slate-400",children:"Somente confirmadas"})]}),u.jsx("span",{className:"rounded-full bg-blue-50 p-3 text-blue-600",children:u.jsx(Bg,{className:"h-5 w-5"})})]})}),u.jsx("article",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Ticket mdio"}),u.jsx("p",{className:"mt-3 text-2xl font-semibold text-slate-900",children:Gt?"":Zr(St.resumo.ticketMedio)}),u.jsx("span",{className:"text-xs text-slate-400",children:"Confirmadas"})]}),u.jsx("span",{className:"rounded-full bg-slate-100 p-3 text-slate-600",children:u.jsx(Zw,{className:"h-5 w-5"})})]})}),u.jsx("article",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Participantes"}),u.jsx("p",{className:"mt-3 text-3xl font-semibold text-slate-900",children:St.resumo.participantes}),u.jsx("span",{className:"text-xs text-slate-400",children:"Confirmadas"})]}),u.jsx("span",{className:"rounded-full bg-indigo-50 p-3 text-indigo-600",children:u.jsx(Hg,{className:"h-5 w-5"})})]})})]}),u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Faturamento por dia"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Confirmadas no perodo."})]}),u.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:["Total: ",Gt?"":Zr(St.resumo.faturamento)]})]}),u.jsx("div",{className:"mt-4 overflow-x-auto",children:Gt?u.jsx("div",{className:"flex min-h-[180px] items-center justify-center rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-10 text-center text-sm text-slate-500",children:"Valores censurados. Clique no cone de olho para exibir."}):(()=>{const C=Math.max(0,...St.porDia.map(L=>L.valor));return St.porDia.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Nenhum dado no perodo."}):u.jsxs("div",{className:"relative min-w-max pb-2",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 flex flex-col justify-between",children:Array.from({length:5}).map((L,Y)=>u.jsx("div",{className:"border-t border-slate-100"},Y))}),u.jsx("div",{className:"relative flex items-end gap-2 min-w-max",children:St.porDia.map(L=>{const Y=C>0?Math.round(L.valor/C*140):0,ee=L.valor>0,X=L.reservas>0?L.valor/L.reservas:0,Ve=L.participantes+L.participantesPreReservas;return u.jsxs("div",{className:"group relative flex flex-col items-center",children:[u.jsx("div",{style:{height:"140px"},className:"flex items-end",children:ee?u.jsx("div",{className:"w-7 rounded-t bg-blue-600",style:{height:`${Math.max(2,Y)}px`}}):u.jsx("div",{className:"w-7 rounded-t bg-slate-200",style:{height:"2px"}})}),u.jsxs("div",{className:"pointer-events-none absolute -top-2 left-1/2 z-10 w-56 -translate-x-1/2 -translate-y-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 opacity-0 shadow-lg transition group-hover:opacity-100",children:[u.jsx("p",{className:"font-semibold text-slate-900",children:Pt(L.data).format("DD/MM/YYYY")}),u.jsxs("div",{className:"mt-1 space-y-0.5",children:[u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Faturamento"}),u.jsx("span",{className:"font-semibold",children:Zr(L.valor)})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Confirmadas"}),u.jsx("span",{className:"font-semibold",children:L.reservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Pr-reservas"}),u.jsx("span",{className:"font-semibold",children:L.preReservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3 border-t border-slate-100 pt-1",children:[u.jsx("span",{className:"text-slate-500",children:"Ticket mdio"}),u.jsx("span",{className:"font-semibold",children:Zr(X)})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Participantes"}),u.jsx("span",{className:"font-semibold",children:Ve.toLocaleString("pt-BR")})]})]})]}),u.jsx("span",{className:"mt-1 text-[10px] font-medium text-slate-500",children:Pt(L.data).format("DD")})]},L.data)})})]})})()})]}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Reservas por dia"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Confirmadas e pr-reservas no perodo."})]}),u.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:["Total: ",(St.resumo.confirmadas+St.resumo.preReservas).toLocaleString("pt-BR")]})]}),u.jsx("div",{className:"mt-4 overflow-x-auto",children:(()=>{const C=Math.max(0,...St.porDia.map(L=>L.reservas+L.preReservas));return St.porDia.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Nenhum dado no perodo."}):u.jsxs("div",{className:"relative min-w-max pb-2",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 flex flex-col justify-between",children:Array.from({length:5}).map((L,Y)=>u.jsx("div",{className:"border-t border-slate-100"},Y))}),u.jsx("div",{className:"relative flex items-end gap-2 min-w-max",children:St.porDia.map(L=>{const Y=L.reservas+L.preReservas,ee=C>0?Math.round(L.reservas/C*140):0,X=C>0?Math.round(L.preReservas/C*140):0,Ve=L.participantes+L.participantesPreReservas;return u.jsxs("div",{className:"group relative flex flex-col items-center",children:[u.jsxs("div",{className:"flex w-7 flex-col justify-end",style:{height:"140px"},children:[X>0&&u.jsx("div",{className:`w-7 bg-amber-400 ${ee===0?"rounded-t":""}`,style:{height:`${Math.max(2,X)}px`}}),ee>0&&u.jsx("div",{className:`w-7 bg-blue-600 ${X===0?"rounded-t":""}`,style:{height:`${Math.max(2,ee)}px`}}),Y===0&&u.jsx("div",{className:"w-7 rounded-t bg-slate-200",style:{height:"2px"}})]}),u.jsxs("div",{className:"pointer-events-none absolute -top-2 left-1/2 z-10 w-52 -translate-x-1/2 -translate-y-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 opacity-0 shadow-lg transition group-hover:opacity-100",children:[u.jsx("p",{className:"font-semibold text-slate-900",children:Pt(L.data).format("DD/MM/YYYY")}),u.jsxs("div",{className:"mt-1 space-y-0.5",children:[u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsxs("span",{className:"inline-flex items-center gap-2 text-slate-600",children:[u.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-blue-600"}),"Confirmadas"]}),u.jsx("span",{className:"font-semibold",children:L.reservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsxs("span",{className:"inline-flex items-center gap-2 text-slate-600",children:[u.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400"}),"Pr-reservas"]}),u.jsx("span",{className:"font-semibold",children:L.preReservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3 border-t border-slate-100 pt-1",children:[u.jsx("span",{className:"text-slate-500",children:"Total"}),u.jsx("span",{className:"font-semibold",children:Y.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Participantes"}),u.jsx("span",{className:"font-semibold",children:Ve.toLocaleString("pt-BR")})]})]})]}),u.jsx("span",{className:"mt-1 text-[10px] font-medium text-slate-500",children:Pt(L.data).format("DD")})]},L.data)})})]})})()}),u.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs font-semibold text-slate-500",children:[u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-blue-600"}),"Confirmadas"]}),u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400"}),"Pr-reservas"]})]})]}),u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Dados por atividade"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Dados completos por atividade no perodo."})]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[u.jsxs("select",{value:qn,onChange:v=>Ca(v.target.value),className:"rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"faturamento",disabled:Gt,children:"Faturamento"}),u.jsx("option",{value:"confirmadas",children:"Confirmadas"}),u.jsx("option",{value:"pre_reservas",children:"Pr-reservas"}),u.jsx("option",{value:"participantes",children:"Participantes (total)"})]}),u.jsx("input",{value:bn,onChange:v=>Ba(v.target.value),placeholder:"Filtrar atividade...",className:"rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]})]}),u.jsxs("p",{className:"mt-3 text-xs font-semibold uppercase text-slate-400",children:["Exibindo ",bs.length.toLocaleString("pt-BR")," de"," ",St.porPacote.length.toLocaleString("pt-BR")," atividades"]}),u.jsx("div",{className:"mt-4 overflow-x-auto",children:(()=>{const C=qn==="faturamento"?"bg-blue-600":qn==="confirmadas"?"bg-emerald-600":qn==="pre_reservas"?"bg-amber-500":"bg-indigo-600",L=ga.map(ee=>Jn(qn,ee)),Y=Math.max(0,...L);return ga.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Nenhuma atividade encontrada."}):u.jsxs("div",{className:"relative min-w-max pb-2",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 flex flex-col justify-between",children:Array.from({length:5}).map((ee,X)=>u.jsx("div",{className:"border-t border-slate-100"},X))}),u.jsx("div",{className:"relative flex items-end gap-3 min-w-max",children:ga.map(ee=>{const X=Jn(qn,ee),Ve=Y>0?Math.round(X/Y*140):0,tt=ee.participantes+ee.participantesPreReservas,en=ee.reservas>0?ee.valor/ee.reservas:0;return u.jsxs("div",{className:"group relative flex w-20 flex-col items-center",children:[u.jsx("div",{style:{height:"140px"},className:"flex items-end",children:X>0?u.jsx("div",{className:`w-12 rounded-t ${C}`,style:{height:`${Math.max(2,Ve)}px`}}):u.jsx("div",{className:"w-12 rounded-t bg-slate-200",style:{height:"2px"}})}),u.jsxs("div",{className:"pointer-events-none absolute -top-2 left-1/2 z-10 w-64 -translate-x-1/2 -translate-y-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 opacity-0 shadow-lg transition group-hover:opacity-100",children:[u.jsx("p",{className:"font-semibold text-slate-900",children:ee.nome}),u.jsxs("div",{className:"mt-1 space-y-0.5",children:[u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Faturamento"}),u.jsx("span",{className:"font-semibold",children:Gt?"":Zr(ee.valor)})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Confirmadas"}),u.jsx("span",{className:"font-semibold",children:ee.reservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Pr-reservas"}),u.jsx("span",{className:"font-semibold",children:ee.preReservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Participantes"}),u.jsx("span",{className:"font-semibold",children:tt.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3 border-t border-slate-100 pt-1",children:[u.jsx("span",{className:"text-slate-500",children:"Ticket mdio"}),u.jsx("span",{className:"font-semibold",children:Gt?"":Zr(en)})]})]})]}),u.jsx("span",{title:ee.nome,className:"mt-2 w-20 truncate text-center text-[10px] font-medium text-slate-500",children:ee.nome})]},ee.nome)})})]})})()})]}),u.jsx("article",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm lg:col-span-2",children:Gt?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Dados por cliente"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Clientes e valores censurados."})]})}),u.jsx("div",{className:"mt-4 flex min-h-[180px] items-center justify-center rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-10 text-center text-sm text-slate-500",children:"Informaes de clientes ocultas. Clique no cone de olho para exibir."})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Dados por cliente"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Dados completos por cliente no perodo."})]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[u.jsxs("select",{value:Cr,onChange:v=>Pn(v.target.value),className:"rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"faturamento",disabled:Gt,children:"Faturamento"}),u.jsx("option",{value:"confirmadas",children:"Confirmadas"}),u.jsx("option",{value:"pre_reservas",children:"Pr-reservas"}),u.jsx("option",{value:"participantes",children:"Participantes (total)"})]}),u.jsx("input",{value:ur,onChange:v=>ma(v.target.value),placeholder:"Filtrar cliente, CPF ou telefone...",className:"rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]})]}),u.jsxs("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("p",{className:"text-xs font-semibold uppercase text-slate-400",children:["Exibindo ",Gr.length.toLocaleString("pt-BR")," de"," ",Ra.length.toLocaleString("pt-BR")," clientes",!Ar&&ur.trim().length===0?" (top 30)":""]}),u.jsx("button",{type:"button",onClick:()=>Fa(v=>!v),className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50",children:Ar?"Mostrar top 30":"Mostrar todos"})]}),u.jsx("div",{className:"mt-4 overflow-x-auto",children:(()=>{const C=Cr==="faturamento"?"bg-blue-600":Cr==="confirmadas"?"bg-emerald-600":Cr==="pre_reservas"?"bg-amber-500":"bg-indigo-600",L=Gr.map(ee=>Jn(Cr,ee)),Y=Math.max(0,...L);return Gr.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Nenhum cliente encontrado."}):u.jsxs("div",{className:"relative min-w-max pb-2",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 flex flex-col justify-between",children:Array.from({length:5}).map((ee,X)=>u.jsx("div",{className:"border-t border-slate-100"},X))}),u.jsx("div",{className:"relative flex items-end gap-3 min-w-max",children:Gr.map(ee=>{const X=Jn(Cr,ee),Ve=Y>0?Math.round(X/Y*140):0,tt=ee.participantes+ee.participantesPreReservas,en=ee.reservas>0?ee.valor/ee.reservas:0,ct=ee.cpf||ee.telefone||ee.chave,Kt=(ee.nome||ct||"---").split(" ")[0];return u.jsxs("div",{className:"group relative flex w-16 flex-col items-center",children:[u.jsx("div",{style:{height:"140px"},className:"flex items-end",children:X>0?u.jsx("div",{className:`w-10 rounded-t ${C}`,style:{height:`${Math.max(2,Ve)}px`}}):u.jsx("div",{className:"w-10 rounded-t bg-slate-200",style:{height:"2px"}})}),u.jsxs("div",{className:"pointer-events-none absolute -top-2 left-1/2 z-10 w-72 -translate-x-1/2 -translate-y-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 opacity-0 shadow-lg transition group-hover:opacity-100",children:[u.jsx("p",{className:"font-semibold text-slate-900",children:ee.nome||"---"}),u.jsx("p",{className:"mt-0.5 text-[11px] text-slate-500",children:ee.cpf||ee.telefone||"---"}),u.jsxs("div",{className:"mt-1 space-y-0.5",children:[u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Faturamento"}),u.jsx("span",{className:"font-semibold",children:Zr(ee.valor)})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Confirmadas"}),u.jsx("span",{className:"font-semibold",children:ee.reservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Pr-reservas"}),u.jsx("span",{className:"font-semibold",children:ee.preReservas.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-slate-500",children:"Participantes"}),u.jsx("span",{className:"font-semibold",children:tt.toLocaleString("pt-BR")})]}),u.jsxs("p",{className:"flex items-center justify-between gap-3 border-t border-slate-100 pt-1",children:[u.jsx("span",{className:"text-slate-500",children:"Ticket mdio"}),u.jsx("span",{className:"font-semibold",children:Zr(en)})]})]})]}),u.jsx("span",{title:ee.nome||ct,className:"mt-2 w-16 truncate text-center text-[10px] font-medium text-slate-500",children:Kt})]},ct)})})]})})()})]})})]})]}),n==="reservas"&&u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:`grid gap-6 ${m?"lg:grid-cols-[320px_minmax(0,1fr)]":"lg:grid-cols-1"}`,children:[m&&u.jsxs("div",{className:"relative lg:min-w-0",children:[u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("button",{type:"button",onClick:()=>qo(-1),className:"rounded-full border border-slate-200 p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-700",children:u.jsx(e1,{className:"h-4 w-4"})}),u.jsx("h2",{className:"text-sm font-semibold text-slate-700",children:Pt(new Date(Ya,pn)).format("MMMM [de] YYYY")}),u.jsx("button",{type:"button",onClick:()=>qo(1),className:"rounded-full border border-slate-200 p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-700",children:u.jsx(t1,{className:"h-4 w-4"})})]}),u.jsx("div",{className:"mt-4 grid grid-cols-7 gap-2 text-xs font-semibold uppercase tracking-wide text-slate-400",children:SI.map(v=>u.jsx("span",{className:"text-center",children:v},v))}),u.jsx("div",{className:"mt-2 grid grid-cols-7 gap-2 text-sm",children:zi.map((v,C)=>{const L=!!v&&l.getDate()===v&&l.getMonth()===pn&&l.getFullYear()===Ya;return u.jsx("button",{type:"button",disabled:!v,className:`flex h-10 items-center justify-center rounded-full text-xs font-medium transition ${v?L?"bg-blue-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-blue-50 hover:text-blue-600":"cursor-default text-slate-300"}`,onClick:()=>v&&d(new Date(Ya,pn,v)),children:v||""},C)})}),u.jsxs("p",{className:"mt-4 rounded-xl bg-slate-50 px-3 py-2 text-xs text-slate-500",children:["Dia selecionado: ",u.jsx("span",{className:"font-semibold text-slate-700",children:Pt(l).format("DD/MM/YYYY")})]}),u.jsxs("button",{onClick:()=>ir(!0),className:"mt-3 flex w-full items-center justify-center gap-2 rounded-full border border-orange-200 bg-orange-50 px-3 py-2 text-sm font-medium text-orange-700 transition hover:bg-orange-100",children:[u.jsx(dc,{className:"h-4 w-4"}),"Editar disponibilidade"]})]}),u.jsx("button",{type:"button",onClick:()=>p(!1),className:"hidden lg:flex absolute -right-3 top-1/2 -translate-y-1/2 h-10 w-10 items-center justify-center rounded-full border border-slate-200 bg-white text-slate-600 shadow-sm transition hover:bg-slate-50","aria-label":"Recolher calendrio",title:"Recolher calendrio",children:u.jsx(e1,{className:"h-4 w-4"})})]}),u.jsxs("article",{className:"min-w-0 rounded-2xl border border-slate-200 bg-white shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-4 border-b border-slate-200 px-5 py-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Reservas de ",Pt(l).format("DD/MM/YYYY")]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Resumo em tempo real das reservas do dia."})]}),u.jsxs("div",{className:"flex flex-wrap items-start gap-3 sm:items-center sm:gap-4",children:[u.jsxs("button",{type:"button",onClick:()=>p(v=>!v),className:"inline-flex items-center gap-2 self-start rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 whitespace-nowrap sm:self-auto",children:[u.jsx(zg,{className:"h-4 w-4"}),m?"Recolher calendrio":"Mostrar calendrio"]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-2",children:[u.jsxs("select",{value:fe,onChange:v=>U(v.target.value),className:"flex-1 rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"",children:"Todas as atividades"}),j.map(v=>u.jsx("option",{value:v,children:v},v))]}),u.jsxs("select",{value:k,onChange:v=>A(v.target.value),className:"flex-1 rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"todos",children:"Chegada: todos"}),u.jsx("option",{value:"chegou",children:"Chegou"}),u.jsx("option",{value:"nao",children:"No chegou"})]})]}),u.jsxs("button",{onClick:$o,className:"flex items-center gap-2 self-start rounded-full bg-blue-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-700 whitespace-nowrap sm:self-auto sm:ml-2",children:[u.jsx(af,{className:"h-4 w-4"}),"Reserva manual"]})]})]}),u.jsx("div",{className:"hidden lg:block overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-slate-100 text-sm",children:[u.jsx("thead",{className:"bg-slate-50 text-xs font-semibold uppercase tracking-wide text-slate-500",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left",children:"Reserva"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"N Participantes"}),u.jsx("th",{className:"px-4 py-3 text-center",children:"Pet"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"CPF"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Pacote"}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Valor"}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Aes"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:Object.keys(g).length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-sm text-slate-500",children:"Nenhuma reserva encontrada para esta data."})}):Object.keys(g).sort((v,C)=>{const L=v.toLowerCase().includes("especificado"),Y=C.toLowerCase().includes("especificado");return L&&!Y?1:!L&&Y?-1:v.localeCompare(C)}).map(v=>{const L=g[v].filter(X=>{const Ve=(X.atividade??"").toLowerCase(),tt=W?Ve.includes(W):!0,en=k==="todos"?!0:k==="chegou"?X.chegou===!0:X.chegou!==!0;return tt&&en});if(L.length===0)return null;const Y=L.reduce((X,Ve)=>X+xr(Ve),0),ee=v.toLowerCase().includes("especificado")?"Sem horrio definido":v;return u.jsxs(Le.Fragment,{children:[u.jsx("tr",{className:"bg-slate-50/70",children:u.jsx("td",{colSpan:7,className:"px-6 py-3 text-sm font-semibold text-slate-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{children:ee}),u.jsxs("span",{className:"text-xs font-normal text-slate-500",children:[Y," participante(s)"]})]})})}),L.map(X=>{const Ve=xr(X),tt=mi(X),en=uf(X),ct=c1(X),Kt=Array.isArray(X.mesasSelecionadas)?X.mesasSelecionadas:[],rn=X.chegou===!0,Gn=rn?"bg-emerald-100/70 border-emerald-300":en?"bg-emerald-50/50 border-emerald-200":pc(X)?"bg-amber-50/30 border-amber-200":"bg-white border-slate-200",cn=Wa(X),tr=Bi(X.valor),$t=(X.telefone||"").replace(/\D/g,""),hn=!!($t.startsWith("55")?$t:$t?`55${$t}`:""),Ot=X.id??`${X.nome||"reserva"}-${X.cpf||"cpf"}-${X.horario}-${Cs(X.data)}`,Pe=Yo(X),mt=Pe.length>0,tn=Ml(X),Ct=B===Ot;return u.jsxs(Le.Fragment,{children:[u.jsxs("tr",{className:`transition hover:bg-slate-50/70 ${Gn}`,children:[u.jsxs("td",{className:"px-4 py-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium text-slate-900",children:X.nome||"---"}),u.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-semibold ${ct.classes}`,children:ct.label}),rn&&u.jsx("span",{className:"inline-flex items-center rounded-full border border-emerald-200 bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700",children:"Chegou"}),mt&&u.jsxs("button",{type:"button",onClick:()=>fi(Ot),className:`inline-flex items-center gap-1 rounded-full border px-3 py-1 text-[11px] font-semibold transition ${Ct?"border-amber-400 bg-amber-50 text-amber-700":tn?"border-amber-200 text-amber-600 hover:bg-amber-50":"border-slate-200 text-slate-500 hover:border-slate-300 hover:text-slate-700"}`,"aria-label":"Ver respostas personalizadas","aria-pressed":Ct,children:[u.jsx(n1,{className:"h-3.5 w-3.5"}),u.jsx("span",{className:"hidden sm:inline",children:Ct?"Fechar":"Respostas"})]})]}),Kt.length>0&&u.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Kt.map(Lt=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-600",children:[u.jsx(Xw,{className:"h-3 w-3 text-slate-400"}),Lt.area," - ",Lt.nome," (",Lt.capacidade,")"]},`${Ot}-${Lt.id}`))})]}),u.jsx("td",{className:"px-4 py-4",children:u.jsxs("div",{className:"text-xs space-y-0.5",children:[tt.length>0?tt.map(Lt=>u.jsxs("div",{children:[Lt.label,": ",u.jsx("span",{className:"font-medium",children:Lt.quantidade})]},Lt.key)):u.jsx("div",{className:"text-slate-400",children:"Sem participantes."}),u.jsxs("div",{className:"border-t pt-0.5 mt-1 font-semibold text-slate-900",children:["Total: ",Ve]})]})}),u.jsx("td",{className:"px-4 py-4 text-center",children:u.jsx("span",{className:"text-xl",children:X.temPet?"":""})}),u.jsx("td",{className:"px-4 py-4 text-slate-600 whitespace-nowrap",children:X.cpf||"---"}),u.jsx("td",{className:"px-4 py-4",children:cn==="---"?u.jsx("span",{className:"text-slate-500",children:"---"}):u.jsx("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2 py-1 text-xs font-medium text-slate-600",children:cn})}),u.jsx("td",{className:"px-4 py-4 text-right font-medium text-slate-900",children:tr}),u.jsxs("td",{className:"px-4 py-4 text-right align-top",children:[u.jsx("div",{className:"relative inline-block text-left",children:u.jsx("button",{onClick:()=>Ee(Lt=>Lt===Ot?null:Ot),className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-slate-200 text-slate-600 shadow-sm transition hover:bg-slate-50","aria-label":"Abrir aes da reserva","aria-haspopup":"true","aria-expanded":V===Ot,children:u.jsx(yI,{className:"h-4 w-4"})})}),V===Ot&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/30 px-4 py-8 backdrop-blur-sm",onClick:()=>Ee(null),children:u.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-slate-200 bg-white shadow-2xl",onClick:Lt=>Lt.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Aes da reserva"}),u.jsx("button",{onClick:()=>Ee(null),className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 text-slate-600 hover:bg-slate-50","aria-label":"Fechar",children:""})]}),u.jsxs("div",{className:"divide-y divide-slate-100",children:[u.jsxs("button",{onClick:()=>{zs(X),Ee(null)},className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm text-slate-800 transition hover:bg-slate-50",children:[u.jsx(Jw,{className:"h-4 w-4 text-emerald-600"}),u.jsx("span",{children:rn?"Marcar como no chegou":"Marcar como chegou"})]}),X.linkPagamento&&u.jsxs("button",{onClick:()=>{window.open(X.linkPagamento,"_blank"),Ee(null)},className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm text-slate-800 transition hover:bg-slate-50",children:[u.jsx(Bg,{className:"h-4 w-4 text-orange-500"}),u.jsx("span",{children:"Concluir pagamento"})]}),u.jsxs("button",{onClick:()=>{er(X,Ve,cn,tr),Ee(null)},disabled:!hn,className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm text-slate-800 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx(uc,{className:"h-4 w-4 text-emerald-600"}),u.jsx("span",{children:"WhatsApp"})]}),u.jsxs("button",{onClick:()=>{Dl(X),Ee(null)},className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm text-slate-800 transition hover:bg-slate-50",children:[u.jsx(dc,{className:"h-4 w-4 text-blue-600"}),u.jsx("span",{children:"Editar"})]}),u.jsxs("button",{onClick:()=>{X.id&&hi(X.id),Ee(null)},className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm text-rose-700 transition hover:bg-rose-50",children:[u.jsx(hc,{className:"h-4 w-4"}),u.jsx("span",{children:"Excluir"})]})]})]})})]})]}),Ct&&Pe.length>0&&u.jsx("tr",{className:"bg-amber-50/60",children:u.jsx("td",{colSpan:7,className:"px-6 pb-4",children:u.jsxs("div",{className:"rounded-2xl border border-amber-200 bg-white p-4 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Respostas do cliente"}),u.jsx("button",{type:"button",onClick:()=>fi(Ot),className:"text-xs font-semibold text-amber-700 transition hover:text-amber-900",children:"Fechar"})]}),u.jsx("div",{className:"mt-3",children:Bs(Pe)})]})})})]},Ot)})]},v)})})]})}),u.jsx("div",{className:"lg:hidden space-y-4",children:Object.keys(g).length===0?u.jsx("div",{className:"text-center py-8 text-slate-500",children:"Nenhuma reserva encontrada para esta data."}):Object.keys(g).sort((v,C)=>{const L=v.toLowerCase().includes("especificado"),Y=C.toLowerCase().includes("especificado");return L&&!Y?1:!L&&Y?-1:v.localeCompare(C)}).map(v=>{const L=g[v].filter(X=>{const Ve=(X.atividade??"").toLowerCase(),tt=W?Ve.includes(W):!0,en=k==="todos"?!0:k==="chegou"?X.chegou===!0:X.chegou!==!0;return tt&&en});if(L.length===0)return null;const Y=L.reduce((X,Ve)=>X+xr(Ve),0),ee=v.toLowerCase().includes("especificado")?"Sem horrio definido":v;return u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"bg-slate-100 px-4 py-2 rounded-lg",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h4",{className:"font-semibold text-slate-700",children:ee}),u.jsxs("span",{className:"text-sm text-slate-500",children:[Y," participante(s)"]})]})}),L.map(X=>{const Ve=xr(X),tt=mi(X),en=uf(X),ct=c1(X),Kt=Array.isArray(X.mesasSelecionadas)?X.mesasSelecionadas:[],rn=X.chegou===!0,Gn=rn?"bg-emerald-100/70 border-emerald-300":en?"bg-emerald-50/50 border-emerald-200":pc(X)?"bg-amber-50/30 border-amber-200":"bg-white border-slate-200",cn=Wa(X),tr=Bi(X.valor),$t=(X.telefone||"").replace(/\D/g,""),hn=!!($t.startsWith("55")?$t:$t?`55${$t}`:""),Ot=X.id??`${X.nome||"reserva"}-${X.cpf||"cpf"}-${X.horario}-${Cs(X.data)}`,Pe=Yo(X),mt=Pe.length>0,tn=B===Ot;return u.jsxs("div",{className:`rounded-lg border p-4 shadow-sm ${Gn}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-3",children:[u.jsxs("div",{className:"flex-1 pr-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h5",{className:"font-medium text-slate-900",children:X.nome||"---"}),u.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-[10px] font-semibold ${ct.classes}`,children:ct.label}),rn&&u.jsx("span",{className:"inline-flex items-center rounded-full border border-emerald-200 bg-emerald-50 px-2 py-0.5 text-[10px] font-semibold text-emerald-700",children:"Chegou"}),mt&&u.jsxs("button",{type:"button",onClick:()=>fi(Ot),className:`inline-flex items-center gap-1 rounded-full border px-2 py-1 text-[10px] font-semibold transition ${tn?"border-blue-400 bg-blue-50 text-blue-700":"border-blue-200 bg-blue-50 text-blue-600 hover:bg-blue-100"}`,"aria-label":"Ver respostas personalizadas","aria-pressed":tn,children:[u.jsx(n1,{className:"h-3 w-3"}),u.jsx("span",{children:tn?"Fechar":"Ver"})]})]}),Kt.length>0&&u.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Kt.map(Ct=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-white px-2 py-0.5 text-[10px] text-slate-600",children:[u.jsx(Xw,{className:"h-3 w-3 text-slate-400"}),Ct.area," - ",Ct.nome," (",Ct.capacidade,")"]},`${Ot}-${Ct.id}-mobile`))})]}),u.jsxs("div",{className:"text-right text-xs space-y-0.5",children:[tt.length>0?tt.map(Ct=>u.jsxs("div",{children:[Ct.label,": ",u.jsx("span",{className:"font-medium",children:Ct.quantidade})]},Ct.key)):u.jsx("div",{className:"text-slate-400",children:"Sem participantes."}),u.jsxs("div",{className:"border-t pt-0.5 mt-1 font-semibold text-slate-900",children:["Total: ",Ve]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"CPF"}),u.jsx("span",{className:"text-sm font-medium text-slate-700",children:X.cpf||"---"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Pacote"}),cn==="---"?u.jsx("span",{className:"text-sm text-slate-500",children:"---"}):u.jsx("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2 py-1 text-xs font-medium text-slate-600",children:cn})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Pet"}),u.jsx("span",{className:"text-lg",children:X.temPet?"":""})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Valor"}),u.jsx("span",{className:"font-medium text-slate-900",children:tr})]})]}),tn&&Pe.length>0&&u.jsxs("div",{className:"mb-3 rounded-2xl border border-amber-200 bg-amber-50/50 p-3",children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-amber-700",children:"Respostas do cliente"}),u.jsx("div",{className:"mt-2",children:Bs(Pe)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs text-slate-500",children:X.telefone?`Tel: ${X.telefone}`:"Tel: ---"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>zs(X),className:`inline-flex h-9 w-9 items-center justify-center rounded-full border transition ${rn?"border-emerald-500 bg-emerald-100 text-emerald-700 hover:bg-emerald-200":"border-slate-200 text-slate-600 hover:border-emerald-300 hover:text-emerald-600"}`,"aria-label":rn?"Marcar como no chegou":"Marcar como chegou",title:rn?"Marcar como no chegou":"Marcar como chegou",children:u.jsx(Jw,{className:"h-4 w-4"})}),X.linkPagamento&&u.jsx("button",{onClick:()=>window.open(X.linkPagamento,"_blank"),className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-orange-200 bg-orange-50 text-orange-700 transition hover:bg-orange-100","aria-label":"Concluir pagamento",title:"Concluir pagamento",children:u.jsx(Bg,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>er(X,Ve,cn,tr),disabled:!hn,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-emerald-200 bg-emerald-50 text-emerald-700 transition hover:bg-emerald-100 disabled:cursor-not-allowed disabled:opacity-40","aria-label":"Enviar mensagem no WhatsApp",title:"WhatsApp",children:u.jsx(uc,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>Dl(X),className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-slate-200 text-slate-600 transition hover:border-blue-300 hover:text-blue-600","aria-label":"Editar reserva",title:"Editar",children:u.jsx(dc,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>X.id&&hi(X.id),className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-rose-200 bg-rose-50 text-rose-600 transition hover:bg-rose-100","aria-label":"Excluir reserva",title:"Excluir",children:u.jsx(hc,{className:"h-4 w-4"})})]})]})]},Ot)})]},v)})})]})]}),K&&z&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-slate-900/60 px-2 py-2 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-3xl my-4 overflow-hidden rounded-2xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 sm:px-6 py-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:se?"Editar reserva":"Nova reserva manual"}),u.jsx("button",{onClick:()=>ge(!1),className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:"x"})]}),u.jsxs("div",{className:"grid gap-4 px-4 sm:px-6 py-5 md:grid-cols-2 max-h-[80vh] overflow-y-auto",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Nome",u.jsx("input",{type:"text",value:z.nome,onChange:v=>$({...z,nome:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["CPF",u.jsx("input",{type:"text",value:z.cpf,onChange:v=>$({...z,cpf:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Telefone",u.jsx("input",{type:"text",value:z.telefone,onChange:v=>$({...z,telefone:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Data",u.jsx("input",{type:"date",value:z.data,onChange:v=>$({...z,data:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Participantes"}),u.jsxs("div",{className:"mt-2 grid gap-3 sm:grid-cols-3",children:[Z.map(v=>{const C=mo(v),L=zc(z.participantesPorTipo,v)??0;return u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:[v.nome,u.jsx("input",{type:"number",min:0,value:L,onChange:Y=>$(ee=>{if(!ee)return ee;const X={...ee.participantesPorTipo??{},[C]:Number(Y.target.value)};return{...ee,participantesPorTipo:X}}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]},C)}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["No pagante",u.jsx("input",{type:"number",min:0,value:z.naoPagante??0,onChange:v=>$(C=>C&&{...C,naoPagante:Number(v.target.value)}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]})]})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Horrio",u.jsx("input",{type:"time",value:z.horario,onChange:v=>$({...z,horario:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Atividade",u.jsxs("select",{value:z.atividade,onChange:v=>$({...z,atividade:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"",children:"Todas as atividades"}),u.jsx("option",{value:"Trilha Ecolgica",children:"Trilha Ecolgica"}),u.jsx("option",{value:"Brunch Gastronmico",children:"Brunch Gastronmico"}),u.jsx("option",{value:"Brunch + trilha",children:"Brunch + trilha"})]})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["rea da mesa",u.jsxs("select",{value:z.areaMesa??"",onChange:v=>$({...z,areaMesa:v.target.value,mesaPrincipalId:null,mesaSecundariaId:null}),disabled:D||_.length===0,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:cursor-not-allowed disabled:bg-slate-100",children:[u.jsx("option",{value:"",children:_.length===0?"Cadastre mesas para habilitar":"Selecione a rea"}),ln.map(v=>u.jsx("option",{value:v,children:v},v))]}),D&&u.jsx("span",{className:"mt-1 block text-[11px] font-normal text-slate-500",children:"Carregando mesas cadastradas..."})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Mesa principal",u.jsxs("select",{value:z.mesaPrincipalId??"",onChange:v=>{const C=v.target.value||null;$({...z,mesaPrincipalId:C,mesaSecundariaId:C&&z.mesaSecundariaId===C?null:z.mesaSecundariaId??null})},disabled:!z.areaMesa||xs.length===0,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:cursor-not-allowed disabled:bg-slate-100",children:[u.jsx("option",{value:"",children:"Selecione a mesa principal"}),xs.map(v=>u.jsxs("option",{value:v.id,children:[v.nome,"  ",v.capacidade," pessoa(s)"]},v.id))]})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Mesa complementar (opcional)",u.jsxs("select",{value:z.mesaSecundariaId??"",onChange:v=>$({...z,mesaSecundariaId:v.target.value||null}),disabled:!z.areaMesa||xs.length===0||!z.mesaPrincipalId,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:cursor-not-allowed disabled:bg-slate-100",children:[u.jsx("option",{value:"",children:"Selecionar mesa complementar"}),xs.filter(v=>v.id!==z.mesaPrincipalId).map(v=>u.jsxs("option",{value:v.id,children:[v.nome,"  ",v.capacidade," pessoa(s)"]},v.id))]}),u.jsx("span",{className:"mt-1 block text-[11px] font-normal text-slate-500",children:"Use somente se precisar somar capacidade."})]}),u.jsxs("div",{className:"md:col-span-2 rounded-xl border border-slate-200 bg-slate-50 p-3 text-xs text-slate-600",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-900",children:"Participantes"}),u.jsx("p",{children:Ha})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-900",children:"Capacidade das mesas"}),u.jsx("p",{children:qa>0?`${qa} pessoa(s)`:dr?`${dr.capacidade} pessoa(s)`:"0 pessoa(s)"})]})]}),ks&&u.jsx("p",{className:"mt-2 rounded bg-amber-100 px-2 py-1 text-amber-700",children:"A mesa principal no comporta todos os participantes. Escolha uma mesa complementar da mesma rea."}),di&&u.jsx("p",{className:"mt-2 rounded bg-rose-100 px-2 py-1 text-rose-700",children:"A soma das mesas ainda  menor que o total de participantes."})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500",children:["Pet",u.jsxs("div",{className:"mt-2 flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600",children:[u.jsx("input",{type:"radio",name:"editarPet",checked:z.temPet===!0,onChange:()=>$({...z,temPet:!0})}),"Sim"]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600",children:[u.jsx("input",{type:"radio",name:"editarPet",checked:z.temPet===!1,onChange:()=>$({...z,temPet:!1})}),"No"]})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 border-t border-slate-200 bg-slate-50 px-4 sm:px-6 py-4",children:[u.jsx("button",{onClick:()=>ge(!1),className:"w-full sm:w-auto rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Cancelar"}),u.jsx("button",{onClick:Il,className:"w-full sm:w-auto rounded-full bg-blue-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:bg-blue-700",children:"Salvar reserva"})]})]})})]}),n==="pacotes"&&u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Pacotes cadastrados"}),u.jsxs("p",{className:"text-sm text-slate-500",children:[vr," pacotes ativos prontos para venda."]})]}),u.jsxs("button",{onClick:kl,className:"flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-700",children:[u.jsx(af,{className:"h-4 w-4"}),"Novo pacote"]})]}),dt.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-slate-300 bg-white p-8 text-center text-slate-500",children:'Nenhum pacote cadastrado. Clique em "Novo pacote" para comear.'}):u.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:dt.map(v=>{const C=v.dias.length>0?v.dias.map(ee=>o1[ee]).join(", "):"Todos os dias",L=v.modoHorario==="intervalo"&&v.horarioInicio&&v.horarioFim?`${v.horarioInicio} - ${v.horarioFim} (faixa)`:v.horarios.join(", ")||"Sob consulta",Y=Z.map(ee=>({key:mo(ee),nome:ee.nome,valor:lf(v.precosPorTipo,ee,v)}));return u.jsxs("article",{className:"flex h-full flex-col justify-between rounded-2xl border border-slate-200 bg-white p-5 shadow-sm transition hover:-translate-y-1 hover:shadow-lg",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:v.tipo||"Atividade"}),u.jsx("h3",{className:"mt-1 text-lg font-semibold text-slate-900",children:v.nome})]}),u.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${v.aceitaPet?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-600"}`,children:v.aceitaPet?"Aceita pets":"No aceita pets"})]}),u.jsxs("dl",{className:"space-y-3 text-sm text-slate-600",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsx("dt",{className:"font-medium text-slate-500",children:"Dias"}),u.jsx("dd",{className:"text-right text-slate-800",children:C})]}),u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsx("dt",{className:"font-medium text-slate-500",children:"Horrio"}),u.jsx("dd",{className:"text-right text-slate-800",children:L})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Valores"}),u.jsx("div",{className:"mt-1 flex flex-wrap gap-2 text-xs text-slate-600",children:Y.map(ee=>u.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1",children:[ee.nome," ",Zr(ee.valor)]},ee.key))})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[u.jsx("span",{children:"Limite por horrio"}),u.jsx("span",{className:"font-semibold text-slate-800",children:v.limite})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[u.jsx("span",{children:"Datas bloqueadas"}),u.jsx("span",{className:"font-semibold text-slate-800",children:v.datasBloqueadas?.length??0})]})]})]}),u.jsxs("div",{className:"mt-5 flex items-center justify-between gap-3 border-t border-slate-200 pt-4",children:[u.jsxs("button",{onClick:()=>v.id&&Hd(v.id),className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-xs font-semibold text-rose-600 transition hover:bg-rose-100",children:[u.jsx(hc,{className:"h-3.5 w-3.5"}),"Excluir"]}),u.jsxs("button",{onClick:()=>Qo(v),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-blue-300 hover:text-blue-600",children:[u.jsx(dc,{className:"h-3.5 w-3.5"}),"Editar"]})]})]},v.id)})}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 border-b border-slate-100 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Combos de pacotes"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Agrupe atividades existentes e oferea um valor especial aos clientes."})]}),u.jsxs("button",{onClick:Yd,disabled:dt.length===0,className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${dt.length===0?"bg-slate-300 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:[u.jsx(Fg,{className:"h-4 w-4"}),"Novo combo"]})]}),dt.length===0?u.jsx("p",{className:"py-6 text-sm text-slate-500",children:"Cadastre ao menos um pacote antes de criar combos."}):Vn.length===0?u.jsx("p",{className:"py-6 text-sm text-slate-500",children:"Nenhum combo cadastrado at o momento."}):u.jsx("div",{className:"mt-4 space-y-4",children:Vn.map(v=>{const C=v.pacoteIds.map(Y=>Y?ra.get(Y)?.nome??"Pacote removido":"").filter(Y=>Y&&Y.length>0),L=Z.map(Y=>({key:mo(Y),nome:Y.nome,valor:lf(v.precosPorTipo,Y,v)}));return u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("h4",{className:"text-base font-semibold text-slate-900",children:v.nome}),u.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${v.ativo!==!1?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-500"}`,children:v.ativo!==!1?"Ativo":"Inativo"})]}),u.jsx("div",{className:"space-y-1 text-sm text-slate-600",children:L.map(Y=>u.jsxs("p",{children:[u.jsxs("span",{className:"font-semibold text-slate-700",children:[Y.nome,":"]})," ",Zr(Y.valor)]},Y.key))}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Inclui: ",C.length>0?C.join(", "):"Pacotes removidos"]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>Rm(v),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 transition hover:border-blue-300 hover:text-blue-600",children:[u.jsx(dc,{className:"h-3.5 w-3.5"}),"Editar"]}),u.jsxs("button",{onClick:()=>v.id&&Dm(v.id),className:"inline-flex items-center gap-2 rounded-full border border-rose-200 px-3 py-1.5 text-xs font-semibold text-rose-600 transition hover:bg-rose-50",children:[u.jsx(hc,{className:"h-3.5 w-3.5"}),"Excluir"]})]})]}),u.jsxs("div",{className:"mt-4 flex flex-col gap-3 border-t border-dashed border-slate-200 pt-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Ative ou desative o combo rapidamente."}),u.jsx("button",{onClick:()=>jm(v),className:`inline-flex items-center justify-center rounded-full px-4 py-2 text-xs font-semibold transition ${v.ativo!==!1?"bg-slate-100 text-slate-600 hover:bg-slate-200":"bg-emerald-600 text-white hover:bg-emerald-700"}`,children:v.ativo!==!1?"Desativar combo":"Ativar combo"})]})]},v.id??v.nome)})})]}),on&&Ge&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-slate-900/60 px-2 py-2 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-3xl my-4 overflow-hidden rounded-2xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 sm:px-6 py-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:ha?"Editar pacote":"Novo pacote"}),u.jsx("button",{onClick:()=>{Tn(!1),_t(null),$r("")},className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:"x"})]}),u.jsxs("div",{className:"grid gap-4 px-4 sm:px-6 py-5 md:grid-cols-2 max-h-[80vh] overflow-y-auto",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Nome da atividade",u.jsx("input",{value:Ge.nome,onChange:v=>_t(C=>({...C,nome:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Tipo de atividade",u.jsx("input",{value:Ge.tipo,onChange:v=>_t(C=>({...C,tipo:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Preos por tipo"}),u.jsx("div",{className:"mt-2 grid gap-3 sm:grid-cols-3",children:Z.map(v=>{const C=mo(v),L=lf(Ge.precosPorTipo,v,Ge);return u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:[v.nome,u.jsx("input",{type:"number",value:L,onChange:Y=>_t(ee=>{if(!ee)return ee;const X={...ee.precosPorTipo??{},[C]:Number(Y.target.value)};return{...ee,precosPorTipo:X}}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]},C)})})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Limite por horrio",u.jsx("input",{type:"number",value:Ge.limite,onChange:v=>_t(C=>({...C,limite:Number(v.target.value)})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500",children:["Poltica de pets",u.jsxs("div",{className:"mt-2 flex gap-4 text-xs font-medium text-slate-600",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"radio",name:"aceitaPet",checked:Ge.aceitaPet,onChange:()=>_t(v=>({...v,aceitaPet:!0}))}),"Aceita"]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"radio",name:"aceitaPet",checked:!Ge.aceitaPet,onChange:()=>_t(v=>({...v,aceitaPet:!1}))}),"No aceita"]})]})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500 md:col-span-2",children:["Dias disponveis",u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:o1.map((v,C)=>{const L=Ge.dias.includes(C);return u.jsx("button",{type:"button",onClick:()=>_t(Y=>({...Y,dias:L?Y.dias.filter(ee=>ee!==C):[...Y.dias,C]})),className:`rounded-full px-3 py-1 text-xs font-medium transition ${L?"bg-blue-600 text-white":"border border-slate-200 bg-slate-50 text-slate-500 hover:bg-slate-100"}`,children:v},v)})})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500 md:col-span-2",children:["Formato de horrios",u.jsxs("select",{value:Ge.modoHorario??"lista",onChange:v=>_t(C=>({...C,modoHorario:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"lista",children:"Horrios fixos"}),u.jsx("option",{value:"intervalo",children:"Faixa contnua"})]})]}),Ge.modoHorario==="intervalo"?u.jsxs("div",{className:"grid gap-4 md:col-span-2 md:grid-cols-2",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Horrio inicial",u.jsx("input",{type:"time",value:Ge.horarioInicio??"",onChange:v=>_t(C=>({...C,horarioInicio:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Horrio final",u.jsx("input",{type:"time",value:Ge.horarioFim??"",onChange:v=>_t(C=>({...C,horarioFim:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),u.jsx("p",{className:"md:col-span-2 rounded-xl bg-slate-50 px-3 py-2 text-xs text-slate-500",children:as||"Informe horrio inicial e final para exibir apenas a faixa ao cliente."})]}):u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500 md:col-span-2",children:["Horrios disponveis",u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:CI.map(v=>{const C=Ge.horarios.includes(v);return u.jsx("button",{type:"button",onClick:()=>_t(L=>({...L,horarios:C?L.horarios.filter(Y=>Y!==v):[...L.horarios,v]})),className:`rounded-full px-3 py-1 text-xs font-medium transition ${C?"bg-blue-600 text-white":"border border-slate-200 bg-slate-50 text-slate-500 hover:bg-slate-100"}`,children:v},v)})})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500 md:col-span-2",children:["Datas sem disponibilidade",u.jsxs("div",{className:"mt-2 flex gap-2",children:[u.jsx("input",{type:"date",value:In,onChange:v=>$r(v.target.value),className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"}),u.jsx("button",{type:"button",onClick:Jc,disabled:!In,className:`rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${In?"bg-blue-600 hover:bg-blue-700":"bg-slate-300 cursor-not-allowed"}`,children:"Adicionar"})]}),(Ge.datasBloqueadas?.length??0)>0?u.jsx("ul",{className:"mt-3 max-h-32 space-y-2 overflow-y-auto",children:Ge.datasBloqueadas?.map(v=>u.jsxs("li",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2 text-xs text-slate-600",children:[u.jsx("span",{children:Pt(v).format("DD/MM/YYYY")}),u.jsx("button",{type:"button",onClick:()=>eu(v),className:"rounded-full border border-rose-200 bg-rose-50 px-3 py-1 text-xs font-semibold text-rose-600 transition hover:bg-rose-100",children:"Remover"})]},v))}):u.jsx("p",{className:"mt-3 text-xs text-slate-400",children:"Nenhuma data bloqueada."})]}),u.jsxs("div",{className:"text-xs font-semibold uppercase text-slate-500 md:col-span-2",children:["Perguntas personalizadas para o cliente",u.jsxs("div",{className:"mt-2 space-y-3",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",placeholder:"Ex: Juntar mesa?",value:mr.pergunta,onChange:v=>Nr(C=>({...C,pergunta:v.target.value})),className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"}),u.jsxs("select",{value:mr.tipo,onChange:v=>Nr(C=>({...C,tipo:v.target.value})),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[u.jsx("option",{value:"sim_nao",children:"Sim/No"}),u.jsx("option",{value:"texto",children:"Texto"})]}),u.jsxs("label",{className:"flex items-center gap-1 text-xs",children:[u.jsx("input",{type:"checkbox",checked:mr.obrigatoria,onChange:v=>Nr(C=>({...C,obrigatoria:v.target.checked}))}),"Obrigatria"]}),u.jsx("button",{type:"button",onClick:qd,disabled:!mr.pergunta.trim(),className:`rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${mr.pergunta.trim()?"bg-blue-600 hover:bg-blue-700":"bg-slate-300 cursor-not-allowed"}`,children:"Adicionar"})]}),(Ge.perguntasPersonalizadas?.length??0)>0?u.jsx("ul",{className:"space-y-2",children:Ge.perguntasPersonalizadas?.map(v=>u.jsxs("li",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2 text-xs",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-slate-700",children:v.pergunta}),u.jsxs("span",{className:"ml-2 text-slate-500",children:["(",v.tipo==="sim_nao"?"Sim/No":"Texto",")"]}),v.obrigatoria&&u.jsx("span",{className:"ml-1 text-red-500",children:"*"})]}),u.jsx("button",{type:"button",onClick:()=>$d(v.id),className:"rounded-full border border-rose-200 bg-rose-50 px-3 py-1 text-xs font-semibold text-rose-600 transition hover:bg-rose-100",children:"Remover"})]},v.id))}):u.jsx("p",{className:"text-xs text-slate-400",children:"Nenhuma pergunta personalizada."})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 border-t border-slate-200 bg-slate-50 px-4 sm:px-6 py-4",children:[u.jsx("button",{onClick:()=>{Tn(!1),_t(null),$r("")},className:"w-full sm:w-auto rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Cancelar"}),u.jsx("button",{onClick:Fd,className:"w-full sm:w-auto rounded-full bg-blue-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:bg-blue-700",children:"Salvar pacote"})]})]})}),fa&&Xe&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-slate-900/60 px-2 py-2 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-2xl my-4 overflow-hidden rounded-2xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 sm:px-6 py-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:Sn?"Editar combo":"Novo combo"}),u.jsx("button",{onClick:()=>{It(!1),mn(null)},className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:"x"})]}),u.jsxs("div",{className:"space-y-5 px-4 sm:px-6 py-5 max-h-[75vh] overflow-y-auto",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Nome do combo",u.jsx("input",{value:Xe.nome,onChange:v=>mn(C=>C&&{...C,nome:v.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Preos por tipo (R$)"}),u.jsx("div",{className:"grid gap-3 sm:grid-cols-3 text-xs font-semibold uppercase text-slate-500",children:Z.map(v=>{const C=mo(v),L=lf(Xe.precosPorTipo,v,Xe);return u.jsxs("label",{children:[v.nome,u.jsx("input",{type:"number",min:"0",value:L,onChange:Y=>mn(ee=>{if(!ee)return ee;const X={...ee.precosPorTipo??{},[C]:Number(Y.target.value)};return{...ee,precosPorTipo:X}}),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200"})]},C)})})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-500",children:[u.jsx("input",{type:"checkbox",checked:Xe.ativo!==!1,onChange:v=>mn(C=>C&&{...C,ativo:v.target.checked})}),"Combo ativo"]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Selecione os pacotes"}),dt.length===0?u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Cadastre pacotes antes de montar um combo."}):u.jsx("div",{className:"mt-3 grid max-h-64 gap-2 overflow-y-auto rounded-xl border border-slate-200 bg-slate-50 p-3 text-sm text-slate-600",children:dt.map(v=>{if(!v.id)return null;const C=Xe.pacoteIds.includes(v.id);return u.jsxs("label",{className:`flex items-center justify-between rounded-lg border px-3 py-2 text-xs font-medium transition ${C?"border-emerald-200 bg-white text-emerald-700":"border-transparent bg-white text-slate-600"}`,children:[u.jsx("span",{children:v.nome}),u.jsx("input",{type:"checkbox",checked:C,onChange:L=>mn(Y=>{if(!Y)return Y;const ee=new Set(Y.pacoteIds??[]);return L.target.checked?ee.add(v.id):ee.delete(v.id),{...Y,pacoteIds:Array.from(ee)}})})]},v.id)})})]})]}),u.jsxs("div",{className:"flex flex-col gap-2 border-t border-slate-200 bg-slate-50 px-4 sm:px-6 py-4 sm:flex-row sm:items-center sm:justify-end",children:[u.jsx("button",{onClick:()=>{It(!1),mn(null)},className:"w-full rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800 sm:w-auto",children:"Cancelar"}),u.jsx("button",{onClick:Mm,disabled:Xn||dt.length===0,className:`w-full rounded-full px-4 py-2 text-xs font-semibold text-white shadow-sm transition sm:w-auto ${Xn||dt.length===0?"bg-emerald-200 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:Xn?"Salvando...":"Salvar combo"})]})]})})]}),Yr&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-slate-900/60 px-2 py-2 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-4xl my-4 overflow-hidden rounded-2xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 sm:px-6 py-4",children:[u.jsxs("h4",{className:"text-lg font-semibold text-slate-900",children:["Editar disponibilidade - ",Pt(l).format("DD/MM/YYYY")]}),u.jsx("button",{onClick:()=>ir(!1),className:"rounded-full border border-slate-200 p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:"x"})]}),u.jsx("div",{className:"px-4 sm:px-6 py-5 max-h-[80vh] overflow-y-auto",children:Zn?u.jsx("div",{className:"py-6 text-center text-sm text-slate-500",children:"Carregando disponibilidade..."}):u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,320px)_minmax(0,1fr)]",children:[u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"rounded-xl border border-orange-200 bg-white p-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Ajuste por periodo"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Aplica fechamento ou reabertura em varias datas."})]}),u.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-orange-700",children:["Inicio do periodo",u.jsx("input",{type:"date",value:Cn,onChange:v=>yn(v.target.value),className:"mt-1 w-full rounded-lg border border-orange-200 px-3 py-2 text-sm focus:border-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-500"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-orange-700",children:["Fim do periodo",u.jsx("input",{type:"date",value:Sr,onChange:v=>Ut(v.target.value),className:"mt-1 w-full rounded-lg border border-orange-200 px-3 py-2 text-sm focus:border-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-500"})]})]}),u.jsxs("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-end",children:[u.jsxs("label",{className:"flex w-full flex-col text-xs font-semibold uppercase text-orange-700",children:["Acao",u.jsxs("select",{value:xn,onChange:v=>Et(v.target.value),className:"mt-1 w-full rounded-lg border border-orange-200 px-3 py-2 text-sm focus:border-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-500",children:[u.jsx("option",{value:"fechar",children:"Fechar periodo"}),u.jsx("option",{value:"abrir",children:"Reabrir periodo"})]})]}),u.jsx("button",{type:"button",onClick:Ko,disabled:na,className:`w-full rounded-full px-4 py-2 text-xs font-semibold text-white transition ${na?"bg-orange-200 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700"}`,children:na?"Aplicando...":"Aplicar ajuste para o periodo"})]}),u.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Essa acao fecha ou reabre todos os pacotes no periodo selecionado."})]})}),u.jsx("div",{className:"space-y-4",children:dt.length===0?u.jsx("div",{className:"py-6 text-center text-sm text-slate-500",children:"Nenhum pacote cadastrado para configurar disponibilidade."}):u.jsx("div",{className:"space-y-4",children:dt.map(v=>{const L=`${Pt(l).format("YYYY-MM-DD")}-${v.id}`,Y=v.id??"",ee=te[Y]??!1,X=v.horarios??[],Ve=X.length,tt=X.filter(ct=>nt[`${L}-${ct}`]===!1).length,en=v.emoji||(v.nome?v.nome.trim().charAt(0).toUpperCase():"")||"P";return u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-slate-100 text-base font-semibold text-slate-600",children:en}),u.jsxs("div",{children:[u.jsx("h5",{className:"font-semibold text-slate-900",children:v.nome}),u.jsx("p",{className:"text-xs text-slate-500",children:Ve>0?`${tt} bloqueados de ${Ve} horarios`:"Sem horarios configurados"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[v.modoHorario==="intervalo"&&u.jsx("span",{className:"rounded-full bg-yellow-100 px-2 py-1 text-xs font-semibold text-yellow-700",children:"Faixa de horario"}),u.jsx("button",{type:"button",onClick:()=>{Y&&ne(ct=>({...ct,[Y]:!ee}))},className:"rounded-full border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:ee?"Recolher horarios":"Mostrar horarios"})]})]}),ee&&u.jsx("div",{className:"mt-4 space-y-3",children:v.modoHorario==="intervalo"?u.jsx("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 p-3",children:u.jsxs("p",{className:"text-sm text-yellow-700",children:["Este pacote funciona em faixa de horario (",v.horarioInicio," - ",v.horarioFim,'). Para bloquear, adicione a data nas "Datas sem disponibilidade" do pacote.']})}):u.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 md:grid-cols-4",children:v.horarios.map(ct=>{const Kt=`${L}-${ct}`,rn=nt[Kt]!==!1;return u.jsxs("button",{type:"button",onClick:()=>{or(Gn=>{const cn={...Gn};return rn?cn[Kt]=!1:delete cn[Kt],cn})},className:`rounded-lg border px-3 py-2 text-sm font-medium transition ${rn?"bg-green-100 text-green-700 border-green-200":"bg-red-100 text-red-700 border-red-200"}`,children:[ct,u.jsx("br",{}),u.jsx("span",{className:"text-xs",children:rn?"Disponivel":"Bloqueado"})]},ct)})})})]},v.id)})})})]})})}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 border-t border-slate-200 bg-slate-50 px-4 sm:px-6 py-4",children:[u.jsx("button",{onClick:()=>ir(!1),className:"w-full sm:w-auto rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Fechar"}),u.jsx("button",{onClick:ja,disabled:pr||Zn,className:`w-full sm:w-auto rounded-full px-4 py-2 text-xs font-semibold text-white shadow-sm transition ${pr||Zn?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:pr?"Salvando...":"Salvar alteraes"})]})]})}),n==="tipos_clientes"&&u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Tipos de clientes"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Crie, edite ou exclua categorias de clientes."})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:u.jsxs("button",{onClick:Wn,disabled:et,className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${et?"bg-slate-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[u.jsx(af,{className:"h-4 w-4"}),"Novo tipo"]})})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_minmax(0,1.4fr)]",children:[u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-2 border-b border-slate-100 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:Ue?"Editar tipo":"Novo tipo"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Defina o nome e, se quiser, uma descrio."})]}),Ue&&u.jsx("span",{className:"rounded-full bg-amber-100 px-3 py-1 text-xs font-semibold text-amber-700",children:"Edio"})]}),u.jsxs("form",{onSubmit:v=>{v.preventDefault(),Lr()},className:"mt-4 space-y-4",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Nome do tipo",u.jsx("input",{type:"text",value:ke.nome,onChange:v=>Je(C=>({...C,nome:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Ex: Adulto, Criana"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Descrio (opcional)",u.jsx("textarea",{value:ke.descricao??"",onChange:v=>Je(C=>({...C,descricao:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",rows:3,placeholder:"Detalhe quando este tipo deve ser usado."})]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[u.jsx("button",{type:"submit",disabled:et,className:`inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${et?"bg-slate-300 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:et?"Salvando...":Ue?"Salvar alteraes":"Cadastrar tipo"}),Ue&&u.jsx("button",{type:"button",onClick:Wn,className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Cancelar edio"})]})]})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-2 border-b border-slate-100 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Tipos cadastrados"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Gerencie os tipos de clientes cadastrados."})]}),u.jsxs("span",{className:"text-xs font-semibold uppercase text-slate-400",children:[ye.length," tipo(s)"]})]}),We?u.jsx("div",{className:"mt-4 rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:"Carregando tipos de clientes..."}):ye.length===0?u.jsx("div",{className:"mt-4 rounded-xl border border-dashed border-slate-200 bg-white px-4 py-6 text-center text-sm text-slate-500",children:"Nenhum tipo cadastrado. Cadastre um tipo para comecar."}):u.jsx("div",{className:"mt-4 space-y-3",children:ye.map(v=>{const C=Ue&&ke.id===v.id;return u.jsx("div",{className:`rounded-xl border p-4 transition ${C?"border-blue-300 bg-blue-50/40":"border-slate-200 bg-white"}`,children:u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u.jsx("h4",{className:"text-base font-semibold text-slate-900",children:v.nome})}),v.descricao?u.jsx("p",{className:"text-sm text-slate-500",children:v.descricao}):u.jsx("p",{className:"text-xs text-slate-400",children:"Sem descrio."})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>Ns(v),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 transition hover:border-blue-300 hover:text-blue-600",children:[u.jsx(dc,{className:"h-3.5 w-3.5"}),"Editar"]}),u.jsxs("button",{onClick:()=>ls(v),className:"inline-flex items-center gap-2 rounded-full border border-rose-200 px-3 py-1.5 text-xs font-semibold text-rose-600 transition hover:bg-rose-50",children:[u.jsx(hc,{className:"h-3.5 w-3.5"}),"Excluir"]})]})]})},v.id??v.nome)})})]})]})]}),n==="whatsapp"&&u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"WhatsApp"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Conecte o WhatsApp Web e envie confirmacoes automaticamente."})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:Pl,disabled:He,className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-white shadow-sm transition ${He?"bg-slate-300 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:[u.jsx(uc,{className:"h-4 w-4"}),"Conectar"]}),u.jsx("button",{onClick:Ol,disabled:He,className:`inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition ${He?"cursor-not-allowed opacity-60":"hover:border-rose-300 hover:text-rose-600"}`,children:"Desconectar"})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_minmax(0,1.2fr)]",children:[u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-2 border-b border-slate-100 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Conexao"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Leia o QR Code com o WhatsApp do celular."})]}),u.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${Ie.classes}`,children:Ie.label})]}),u.jsxs("div",{className:"mt-4 space-y-4",children:[Dt?.info?.pushname&&u.jsxs("p",{className:"text-sm text-slate-600",children:["Conectado como ",u.jsx("span",{className:"font-semibold text-slate-900",children:Dt.info.pushname}),"."]}),Dt?.qr?u.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6",children:[u.jsx("img",{src:Dt.qr,alt:"QR Code do WhatsApp",className:"h-48 w-48 rounded-lg border border-slate-200 bg-white p-2"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Abra o WhatsApp no celular e aponte a camera para conectar."})]}):u.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:He?"Carregando QR Code...":"Nenhum QR Code disponivel."}),(Fn||Dt?.lastError)&&u.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:Fn||Dt?.lastError})]})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 border-b border-slate-100 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Mensagens"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Personalize a mensagem enviada automaticamente e a mensagem pre-preenchida do botao WhatsApp."})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-500",children:[u.jsx("input",{type:"checkbox",checked:Ze.ativo,onChange:v=>Nt(C=>({...C,ativo:v.target.checked})),className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500"}),"Ativar envio automatico"]})]}),u.jsxs("div",{className:"mt-4 space-y-6",children:[u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50/60 p-4",children:[u.jsx("div",{className:"flex flex-col gap-1 border-b border-slate-200 pb-3 sm:flex-row sm:items-center sm:justify-between",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Automatica (bot)"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Enviada automaticamente ao confirmar reservas."})]})}),u.jsxs("div",{className:"mt-3 space-y-4",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Texto automatico",u.jsx("textarea",{value:Ze.mensagemConfirmacaoAutomatica,onChange:v=>Nt(C=>({...C,mensagemConfirmacaoAutomatica:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",rows:5,placeholder:ul})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:qg.map(v=>u.jsx("button",{type:"button",onClick:()=>h("mensagemConfirmacaoAutomatica",v),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-emerald-300 hover:text-emerald-600",children:v},`auto-${v}`))}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Preview"}),u.jsx("div",{className:"mt-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 whitespace-pre-wrap",children:ze||"-"})]}),u.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:u.jsx("button",{type:"button",onClick:()=>Nt(v=>({...v,mensagemConfirmacaoAutomatica:ul})),className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Restaurar padrao"})})]})]}),u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50/60 p-4",children:[u.jsx("div",{className:"flex flex-col gap-1 border-b border-slate-200 pb-3 sm:flex-row sm:items-center sm:justify-between",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Manual (botao)"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Texto pre-preenchido ao clicar no botao WhatsApp de uma reserva."})]})}),u.jsxs("div",{className:"mt-3 space-y-4",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Texto do botao",u.jsx("textarea",{value:Ze.mensagemConfirmacaoManual,onChange:v=>Nt(C=>({...C,mensagemConfirmacaoManual:v.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",rows:5,placeholder:Ws})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:qg.map(v=>u.jsx("button",{type:"button",onClick:()=>h("mensagemConfirmacaoManual",v),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-emerald-300 hover:text-emerald-600",children:v},`manual-${v}`))}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Preview"}),u.jsx("div",{className:"mt-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 whitespace-pre-wrap",children:yt||"-"})]}),u.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:u.jsx("button",{type:"button",onClick:()=>Nt(v=>({...v,mensagemConfirmacaoManual:Ws})),className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Restaurar padrao"})})]})]}),u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50/60 p-4",children:[u.jsxs("div",{className:"flex flex-col gap-2 border-b border-slate-200 pb-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Modelos (manual)"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Crie modelos pre-escritos para escolher ao clicar no botao WhatsApp de uma reserva."})]}),u.jsxs("button",{type:"button",onClick:w,className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50",children:[u.jsx(af,{className:"h-3.5 w-3.5"}),"Novo modelo"]})]}),u.jsx("div",{className:"mt-3 space-y-3",children:(Ze.modelosMensagemManual??[]).length===0?u.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 bg-white px-3 py-3 text-sm text-slate-500",children:'Nenhum modelo criado. Use "Novo modelo" para adicionar.'}):(Ze.modelosMensagemManual??[]).map(v=>u.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("label",{className:"flex-1 text-xs font-semibold uppercase text-slate-500",children:["Titulo",u.jsx("input",{value:v.titulo,onChange:C=>R(v.id,{titulo:C.target.value}),className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200"})]}),u.jsxs("button",{type:"button",onClick:()=>re(v.id),className:"inline-flex items-center justify-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-xs font-semibold text-rose-700 transition hover:bg-rose-100",children:[u.jsx(hc,{className:"h-3.5 w-3.5"}),"Excluir"]})]}),u.jsxs("label",{className:"mt-3 block text-xs font-semibold uppercase text-slate-500",children:["Mensagem",u.jsx("textarea",{value:v.mensagem,onChange:C=>R(v.id,{mensagem:C.target.value}),rows:4,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",placeholder:Ws})]}),u.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:qg.map(C=>u.jsx("button",{type:"button",onClick:()=>pe(v.id,C),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-emerald-300 hover:text-emerald-600",children:C},`${v.id}-${C}`))})]},v.id))})]}),u.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:u.jsx("button",{type:"button",onClick:Fi,disabled:Ln,className:`inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-xs font-semibold text-white shadow-sm transition ${Ln?"bg-slate-300 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"}`,children:Ln?"Salvando...":"Salvar configuracoes"})})]})]})]})]}),n==="pesquisa"&&u.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsx("div",{className:"flex flex-col gap-2 border-b border-slate-200 pb-4 sm:flex-row sm:items-end sm:justify-between",children:u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Pesquisa de clientes"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Localize reservas por nome, CPF ou telefone."})]})}),u.jsxs("form",{onSubmit:v=>{v.preventDefault(),Qd()},className:"mt-4 flex flex-col gap-3 md:flex-row",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Termo de busca",u.jsx("input",{type:"text",value:Oe,onChange:v=>On(v.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Ex: Ana Silva, 00000000000, 629999999"})]})}),u.jsx("div",{className:"flex items-end",children:u.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-full bg-blue-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-700",children:[u.jsx(r1,{className:"h-4 w-4"}),"Pesquisar"]})})]}),is?u.jsx("div",{className:"mt-6 rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:"Buscando resultados..."}):Jt.length>0?u.jsx("div",{className:"mt-6",children:u.jsxs("table",{className:"w-full table-fixed divide-y divide-slate-100 text-sm",children:[u.jsx("thead",{className:"bg-slate-50 text-xs font-semibold uppercase tracking-wide text-slate-500",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left w-[26%]",children:"Nome"}),u.jsx("th",{className:"px-4 py-3 text-left w-[14%]",children:"CPF"}),u.jsx("th",{className:"px-4 py-3 text-left w-[18%]",children:"Telefone"}),u.jsx("th",{className:"px-4 py-3 text-left w-[14%]",children:"Data"}),u.jsx("th",{className:"px-4 py-3 text-left w-[18%]",children:"Atividade"}),u.jsx("th",{className:"px-4 py-3 text-right w-[10%]",children:"Aes"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:Jt.map(v=>{const C=xr(v),L=Wa(v),Y=Bi(v.valor),ee=(v.telefone||"").replace(/\D/g,""),Ve=!!(ee.startsWith("55")?ee:ee?`55${ee}`:"");return u.jsxs("tr",{className:"hover:bg-slate-50/80",children:[u.jsx("td",{className:"px-4 py-3 font-medium text-slate-800 break-words",children:v.nome}),u.jsx("td",{className:"px-4 py-3 text-slate-600 break-all",children:v.cpf}),u.jsx("td",{className:"px-4 py-3 text-slate-600 break-all",children:v.telefone}),u.jsx("td",{className:"px-4 py-3 text-slate-600",children:fc(v.data)}),u.jsx("td",{className:"px-4 py-3 text-slate-600 break-words",children:v.atividade}),u.jsx("td",{className:"px-4 py-3 text-right",children:u.jsxs("button",{type:"button",onClick:()=>er(v,C,L,Y),disabled:!Ve,className:"inline-flex items-center justify-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100 disabled:cursor-not-allowed disabled:opacity-40",children:[u.jsx(uc,{className:"h-3.5 w-3.5"}),"WhatsApp"]})})]},v.id)})})]})}):u.jsx("div",{className:"mt-6 rounded-xl border border-dashed border-slate-200 bg-white px-4 py-6 text-center text-sm text-slate-500",children:"Nenhum cliente encontrado para o termo informado."})]})]})]})}function jI(){return u.jsxs("main",{children:[u.jsx(rI,{}),u.jsx(RI,{})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function DI(n,e,t,a){function i(l){return l instanceof t?l:new t(function(d){d(l)})}return new(t||(t=Promise))(function(l,d){function m(b){try{g(a.next(b))}catch(_){d(_)}}function p(b){try{g(a.throw(b))}catch(_){d(_)}}function g(b){b.done?l(b.value):i(b.value).then(m,p)}g((a=a.apply(n,[])).next())})}function MI(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,i,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(b){return p([g,b])}}function p(g){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,i&&(l=g[0]&2?i.return:g[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,g[1])).done)return l;switch(i=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,i=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(n,t)}catch(b){g=[6,b],i=0}finally{a=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nc=function(){return Nc=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++){t=arguments[a];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Nc.apply(this,arguments)},CN=function(n){return{loading:n==null,value:n}},II=function(){return function(n,e){switch(e.type){case"error":return Nc(Nc({},n),{error:e.error,loading:!1,value:void 0});case"reset":return CN(e.defaultValue);case"value":return Nc(Nc({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},PI=function(n){var e=n?n():void 0,t=T.useReducer(II(),CN(e)),a=t[0],i=t[1],l=T.useCallback(function(){var p=n?n():void 0;i({type:"reset",defaultValue:p})},[n]),d=T.useCallback(function(p){i({type:"error",error:p})},[]),m=T.useCallback(function(p){i({type:"value",value:p})},[]);return T.useMemo(function(){return{error:a.error,loading:a.loading,reset:l,setError:d,setValue:m,value:a.value}},[a.error,a.loading,l,d,m,a.value])},OI=function(n,e){var t=PI(function(){return n.currentUser}),a=t.error,i=t.loading,l=t.setError,d=t.setValue,m=t.value;return T.useEffect(function(){var p=Ij(n,function(g){return DI(void 0,void 0,void 0,function(){var b;return MI(this,function(_){switch(_.label){case 0:return[3,4];case 1:return _.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return _.sent(),[3,4];case 3:return b=_.sent(),l(b),[3,4];case 4:return d(g),[2]}})})},l);return function(){p()}},[n]),[m,i,a]};function kI({children:n}){const[e,t]=OI(_N),a=localStorage.getItem("tempAuth");return t?u.jsx("div",{children:"Carregando..."}):!e&&!a?u.jsx(QC,{to:"/login"}):u.jsx(u.Fragment,{children:n})}const VI={},ed={};function od(n,e){try{const a=(VI[n]||=new Intl.DateTimeFormat("en-GB",{timeZone:n,hour:"numeric",timeZoneName:"longOffset"}).format)(e).split("GMT")[1]||"";return a in ed?ed[a]:u1(a,a.split(":"))}catch{if(n in ed)return ed[n];const t=n?.match(LI);return t?u1(n,t.slice(1)):NaN}}const LI=/([+-]\d\d):?(\d\d)?/;function u1(n,e){const t=+e[0],a=+(e[1]||0);return ed[n]=t>0?t*60+a:t*60-a}class ei extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(od(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),AN(this),C0(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new ei(...t,e):new ei(Date.now(),e)}withTimeZone(e){return new ei(+this,e)}getTimezoneOffset(){return-od(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),C0(this),+this}[Symbol.for("constructDateFrom")](e){return new ei(+new Date(e),this.timeZone)}}const d1=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(n=>{if(!d1.test(n))return;const e=n.replace(d1,"$1UTC");ei.prototype[e]&&(n.startsWith("get")?ei.prototype[n]=function(){return this.internal[e]()}:(ei.prototype[n]=function(){return Date.prototype[e].apply(this.internal,arguments),UI(this),+this},ei.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),C0(this),+this}))});function C0(n){n.internal.setTime(+n),n.internal.setUTCMinutes(n.internal.getUTCMinutes()-n.getTimezoneOffset())}function UI(n){Date.prototype.setFullYear.call(n,n.internal.getUTCFullYear(),n.internal.getUTCMonth(),n.internal.getUTCDate()),Date.prototype.setHours.call(n,n.internal.getUTCHours(),n.internal.getUTCMinutes(),n.internal.getUTCSeconds(),n.internal.getUTCMilliseconds()),AN(n)}function AN(n){const e=od(n.timeZone,n),t=new Date(+n);t.setUTCHours(t.getUTCHours()-1);const a=-new Date(+n).getTimezoneOffset(),i=-new Date(+t).getTimezoneOffset(),l=a-i,d=Date.prototype.getHours.apply(n)!==n.internal.getUTCHours();l&&d&&n.internal.setUTCMinutes(n.internal.getUTCMinutes()+l);const m=a-e;m&&Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+m);const p=od(n.timeZone,n),b=-new Date(+n).getTimezoneOffset()-p,_=p!==e,E=b-m;if(_&&E){Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+E);const D=od(n.timeZone,n),O=p-D;O&&(n.internal.setUTCMinutes(n.internal.getUTCMinutes()+O),Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+O))}}class wa extends ei{static tz(e,...t){return t.length?new wa(...t,e):new wa(Date.now(),e)}toISOString(){const[e,t,a]=this.tzComponents(),i=`${e}${t}:${a}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,a,i]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${a} ${t} ${i}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,a,i]=this.tzComponents();return`${e} GMT${t}${a}${i} (${zI(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),t=e>0?"-":"+",a=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),i=String(Math.abs(e)%60).padStart(2,"0");return[t,a,i]}withTimeZone(e){return new wa(+this,e)}[Symbol.for("constructDateFrom")](e){return new wa(+new Date(e),this.timeZone)}}function zI(n,e){return new Intl.DateTimeFormat("en-GB",{timeZone:n,timeZoneName:"long"}).format(e).slice(12)}var st;(function(n){n.Root="root",n.Chevron="chevron",n.Day="day",n.DayButton="day_button",n.CaptionLabel="caption_label",n.Dropdowns="dropdowns",n.Dropdown="dropdown",n.DropdownRoot="dropdown_root",n.Footer="footer",n.MonthGrid="month_grid",n.MonthCaption="month_caption",n.MonthsDropdown="months_dropdown",n.Month="month",n.Months="months",n.Nav="nav",n.NextMonthButton="button_next",n.PreviousMonthButton="button_previous",n.Week="week",n.Weeks="weeks",n.Weekday="weekday",n.Weekdays="weekdays",n.WeekNumber="week_number",n.WeekNumberHeader="week_number_header",n.YearsDropdown="years_dropdown"})(st||(st={}));var rr;(function(n){n.disabled="disabled",n.hidden="hidden",n.outside="outside",n.focused="focused",n.today="today"})(rr||(rr={}));var js;(function(n){n.range_end="range_end",n.range_middle="range_middle",n.range_start="range_start",n.selected="selected"})(js||(js={}));var es;(function(n){n.weeks_before_enter="weeks_before_enter",n.weeks_before_exit="weeks_before_exit",n.weeks_after_enter="weeks_after_enter",n.weeks_after_exit="weeks_after_exit",n.caption_after_enter="caption_after_enter",n.caption_after_exit="caption_after_exit",n.caption_before_enter="caption_before_enter",n.caption_before_exit="caption_before_exit"})(es||(es={}));const RN=6048e5,BI=864e5,h1=Symbol.for("constructDateFrom");function Hr(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&h1 in n?n[h1](e):n instanceof Date?new n.constructor(e):new Date(e)}function Mn(n,e){return Hr(e||n,n)}function jN(n,e,t){const a=Mn(n,t?.in);return isNaN(e)?Hr(n,NaN):(e&&a.setDate(a.getDate()+e),a)}function DN(n,e,t){const a=Mn(n,t?.in);if(isNaN(e))return Hr(n,NaN);if(!e)return a;const i=a.getDate(),l=Hr(n,a.getTime());l.setMonth(a.getMonth()+e+1,0);const d=l.getDate();return i>=d?l:(a.setFullYear(l.getFullYear(),l.getMonth(),i),a)}let FI={};function Ud(){return FI}function Bc(n,e){const t=Ud(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=Mn(n,e?.in),l=i.getDay(),d=(l<a?7:0)+l-a;return i.setDate(i.getDate()-d),i.setHours(0,0,0,0),i}function xd(n,e){return Bc(n,{...e,weekStartsOn:1})}function MN(n,e){const t=Mn(n,e?.in),a=t.getFullYear(),i=Hr(t,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const l=xd(i),d=Hr(t,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const m=xd(d);return t.getTime()>=l.getTime()?a+1:t.getTime()>=m.getTime()?a:a-1}function f1(n){const e=Mn(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Zc(n,...e){const t=Hr.bind(null,e.find(a=>typeof a=="object"));return e.map(t)}function bd(n,e){const t=Mn(n,e?.in);return t.setHours(0,0,0,0),t}function IN(n,e,t){const[a,i]=Zc(t?.in,n,e),l=bd(a),d=bd(i),m=+l-f1(l),p=+d-f1(d);return Math.round((m-p)/BI)}function HI(n,e){const t=MN(n,e),a=Hr(n,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),xd(a)}function qI(n,e,t){return jN(n,e*7,t)}function $I(n,e,t){return DN(n,e*12,t)}function YI(n,e){let t,a=e?.in;return n.forEach(i=>{!a&&typeof i=="object"&&(a=Hr.bind(null,i));const l=Mn(i,a);(!t||t<l||isNaN(+l))&&(t=l)}),Hr(a,t||NaN)}function WI(n,e){let t,a=e?.in;return n.forEach(i=>{!a&&typeof i=="object"&&(a=Hr.bind(null,i));const l=Mn(i,a);(!t||t>l||isNaN(+l))&&(t=l)}),Hr(a,t||NaN)}function GI(n,e,t){const[a,i]=Zc(t?.in,n,e);return+bd(a)==+bd(i)}function PN(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function QI(n){return!(!PN(n)&&typeof n!="number"||isNaN(+Mn(n)))}function KI(n,e,t){const[a,i]=Zc(t?.in,n,e),l=a.getFullYear()-i.getFullYear(),d=a.getMonth()-i.getMonth();return l*12+d}function XI(n,e){const t=Mn(n,e?.in),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function ZI(n,e){const[t,a]=Zc(n,e.start,e.end);return{start:t,end:a}}function JI(n,e){const{start:t,end:a}=ZI(e?.in,n);let i=+t>+a;const l=i?+t:+a,d=i?a:t;d.setHours(0,0,0,0),d.setDate(1);let m=1;const p=[];for(;+d<=l;)p.push(Hr(t,d)),d.setMonth(d.getMonth()+m);return i?p.reverse():p}function e5(n,e){const t=Mn(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function t5(n,e){const t=Mn(n,e?.in),a=t.getFullYear();return t.setFullYear(a+1,0,0),t.setHours(23,59,59,999),t}function ON(n,e){const t=Mn(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function kN(n,e){const t=Ud(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=Mn(n,e?.in),l=i.getDay(),d=(l<a?-7:0)+6-(l-a);return i.setDate(i.getDate()+d),i.setHours(23,59,59,999),i}function n5(n,e){return kN(n,{...e,weekStartsOn:1})}const r5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},a5=(n,e,t)=>{let a;const i=r5[n];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function Mc(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const s5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},l5={date:Mc({formats:s5,defaultWidth:"full"}),time:Mc({formats:i5,defaultWidth:"full"}),dateTime:Mc({formats:o5,defaultWidth:"full"})},c5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},u5=(n,e,t,a)=>c5[n];function Xs(n){return(e,t)=>{const a=t?.context?String(t.context):"standalone";let i;if(a==="formatting"&&n.formattingValues){const d=n.defaultFormattingWidth||n.defaultWidth,m=t?.width?String(t.width):d;i=n.formattingValues[m]||n.formattingValues[d]}else{const d=n.defaultWidth,m=t?.width?String(t.width):n.defaultWidth;i=n.values[m]||n.values[d]}const l=n.argumentCallback?n.argumentCallback(e):e;return i[l]}}const d5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},h5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},f5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},m5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},p5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},g5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},y5=(n,e)=>{const t=Number(n),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},v5={ordinalNumber:y5,era:Xs({values:d5,defaultWidth:"wide"}),quarter:Xs({values:h5,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Xs({values:f5,defaultWidth:"wide"}),day:Xs({values:m5,defaultWidth:"wide"}),dayPeriod:Xs({values:p5,defaultWidth:"wide",formattingValues:g5,defaultFormattingWidth:"wide"})};function Zs(n){return(e,t={})=>{const a=t.width,i=a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth],l=e.match(i);if(!l)return null;const d=l[0],m=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],p=Array.isArray(m)?b5(m,_=>_.test(d)):x5(m,_=>_.test(d));let g;g=n.valueCallback?n.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const b=e.slice(d.length);return{value:g,rest:b}}}function x5(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function b5(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function VN(n){return(e,t={})=>{const a=e.match(n.matchPattern);if(!a)return null;const i=a[0],l=e.match(n.parsePattern);if(!l)return null;let d=n.valueCallback?n.valueCallback(l[0]):l[0];d=t.valueCallback?t.valueCallback(d):d;const m=e.slice(i.length);return{value:d,rest:m}}}const _5=/^(\d+)(th|st|nd|rd)?/i,w5=/\d+/i,E5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},N5={any:[/^b/i,/^(a|c)/i]},T5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},S5={any:[/1/i,/2/i,/3/i,/4/i]},C5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},A5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},R5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},j5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},D5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},I5={ordinalNumber:VN({matchPattern:_5,parsePattern:w5,valueCallback:n=>parseInt(n,10)}),era:Zs({matchPatterns:E5,defaultMatchWidth:"wide",parsePatterns:N5,defaultParseWidth:"any"}),quarter:Zs({matchPatterns:T5,defaultMatchWidth:"wide",parsePatterns:S5,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Zs({matchPatterns:C5,defaultMatchWidth:"wide",parsePatterns:A5,defaultParseWidth:"any"}),day:Zs({matchPatterns:R5,defaultMatchWidth:"wide",parsePatterns:j5,defaultParseWidth:"any"}),dayPeriod:Zs({matchPatterns:D5,defaultMatchWidth:"any",parsePatterns:M5,defaultParseWidth:"any"})},Ly={code:"en-US",formatDistance:a5,formatLong:l5,formatRelative:u5,localize:v5,match:I5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function P5(n,e){const t=Mn(n,e?.in);return IN(t,ON(t))+1}function LN(n,e){const t=Mn(n,e?.in),a=+xd(t)-+HI(t);return Math.round(a/RN)+1}function UN(n,e){const t=Mn(n,e?.in),a=t.getFullYear(),i=Ud(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,d=Hr(e?.in||n,0);d.setFullYear(a+1,0,l),d.setHours(0,0,0,0);const m=Bc(d,e),p=Hr(e?.in||n,0);p.setFullYear(a,0,l),p.setHours(0,0,0,0);const g=Bc(p,e);return+t>=+m?a+1:+t>=+g?a:a-1}function O5(n,e){const t=Ud(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=UN(n,e),l=Hr(e?.in||n,0);return l.setFullYear(i,0,a),l.setHours(0,0,0,0),Bc(l,e)}function zN(n,e){const t=Mn(n,e?.in),a=+Bc(t,e)-+O5(t,e);return Math.round(a/RN)+1}function En(n,e){const t=n<0?"-":"",a=Math.abs(n).toString().padStart(e,"0");return t+a}const ho={y(n,e){const t=n.getFullYear(),a=t>0?t:1-t;return En(e==="yy"?a%100:a,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):En(t+1,2)},d(n,e){return En(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return En(n.getHours()%12||12,e.length)},H(n,e){return En(n.getHours(),e.length)},m(n,e){return En(n.getMinutes(),e.length)},s(n,e){return En(n.getSeconds(),e.length)},S(n,e){const t=e.length,a=n.getMilliseconds(),i=Math.trunc(a*Math.pow(10,t-3));return En(i,e.length)}},gc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},m1={G:function(n,e,t){const a=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const a=n.getFullYear(),i=a>0?a:1-a;return t.ordinalNumber(i,{unit:"year"})}return ho.y(n,e)},Y:function(n,e,t,a){const i=UN(n,a),l=i>0?i:1-i;if(e==="YY"){const d=l%100;return En(d,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):En(l,e.length)},R:function(n,e){const t=MN(n);return En(t,e.length)},u:function(n,e){const t=n.getFullYear();return En(t,e.length)},Q:function(n,e,t){const a=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return En(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(n,e,t){const a=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return En(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(n,e,t){const a=n.getMonth();switch(e){case"M":case"MM":return ho.M(n,e);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(n,e,t){const a=n.getMonth();switch(e){case"L":return String(a+1);case"LL":return En(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(n,e,t,a){const i=zN(n,a);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):En(i,e.length)},I:function(n,e,t){const a=LN(n);return e==="Io"?t.ordinalNumber(a,{unit:"week"}):En(a,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ho.d(n,e)},D:function(n,e,t){const a=P5(n);return e==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):En(a,e.length)},E:function(n,e,t){const a=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(n,e,t,a){const i=n.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return En(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,a){const i=n.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return En(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const a=n.getDay(),i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return En(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const a=n.getHours();let i;switch(a===12?i=gc.noon:a===0?i=gc.midnight:i=a/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const a=n.getHours();let i;switch(a>=17?i=gc.evening:a>=12?i=gc.afternoon:a>=4?i=gc.morning:i=gc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let a=n.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return ho.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ho.H(n,e)},K:function(n,e,t){const a=n.getHours()%12;return e==="Ko"?t.ordinalNumber(a,{unit:"hour"}):En(a,e.length)},k:function(n,e,t){let a=n.getHours();return a===0&&(a=24),e==="ko"?t.ordinalNumber(a,{unit:"hour"}):En(a,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ho.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ho.s(n,e)},S:function(n,e){return ho.S(n,e)},X:function(n,e,t){const a=n.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return g1(a);case"XXXX":case"XX":return fl(a);case"XXXXX":case"XXX":default:return fl(a,":")}},x:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"x":return g1(a);case"xxxx":case"xx":return fl(a);case"xxxxx":case"xxx":default:return fl(a,":")}},O:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+p1(a,":");case"OOOO":default:return"GMT"+fl(a,":")}},z:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+p1(a,":");case"zzzz":default:return"GMT"+fl(a,":")}},t:function(n,e,t){const a=Math.trunc(+n/1e3);return En(a,e.length)},T:function(n,e,t){return En(+n,e.length)}};function p1(n,e=""){const t=n>0?"-":"+",a=Math.abs(n),i=Math.trunc(a/60),l=a%60;return l===0?t+String(i):t+String(i)+e+En(l,2)}function g1(n,e){return n%60===0?(n>0?"-":"+")+En(Math.abs(n)/60,2):fl(n,e)}function fl(n,e=""){const t=n>0?"-":"+",a=Math.abs(n),i=En(Math.trunc(a/60),2),l=En(a%60,2);return t+i+e+l}const y1=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},BN=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},k5=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],a=t[1],i=t[2];if(!i)return y1(n,e);let l;switch(a){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",y1(a,e)).replace("{{time}}",BN(i,e))},V5={p:BN,P:k5},L5=/^D+$/,U5=/^Y+$/,z5=["D","DD","YY","YYYY"];function B5(n){return L5.test(n)}function F5(n){return U5.test(n)}function H5(n,e,t){const a=q5(n,e,t);if(console.warn(a),z5.includes(n))throw new RangeError(a)}function q5(n,e,t){const a=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Y5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,W5=/^'([^]*?)'?$/,G5=/''/g,Q5=/[a-zA-Z]/;function K5(n,e,t){const a=Ud(),i=t?.locale??a.locale??Ly,l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,m=Mn(n,t?.in);if(!QI(m))throw new RangeError("Invalid time value");let p=e.match(Y5).map(b=>{const _=b[0];if(_==="p"||_==="P"){const E=V5[_];return E(b,i.formatLong)}return b}).join("").match($5).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const _=b[0];if(_==="'")return{isToken:!1,value:X5(b)};if(m1[_])return{isToken:!0,value:b};if(_.match(Q5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(p=i.localize.preprocessor(m,p));const g={firstWeekContainsDate:l,weekStartsOn:d,locale:i};return p.map(b=>{if(!b.isToken)return b.value;const _=b.value;(!t?.useAdditionalWeekYearTokens&&F5(_)||!t?.useAdditionalDayOfYearTokens&&B5(_))&&H5(_,e,String(n));const E=m1[_[0]];return E(m,_,i.localize,g)}).join("")}function X5(n){const e=n.match(W5);return e?e[1].replace(G5,"'"):n}function Z5(n,e){const t=Mn(n,e?.in),a=t.getFullYear(),i=t.getMonth(),l=Hr(t,0);return l.setFullYear(a,i+1,0),l.setHours(0,0,0,0),l.getDate()}function J5(n,e){return Mn(n,e?.in).getMonth()}function eP(n,e){return Mn(n,e?.in).getFullYear()}function tP(n,e){return+Mn(n)>+Mn(e)}function nP(n,e){return+Mn(n)<+Mn(e)}function rP(n,e,t){const[a,i]=Zc(t?.in,n,e);return a.getFullYear()===i.getFullYear()&&a.getMonth()===i.getMonth()}function aP(n,e,t){const[a,i]=Zc(t?.in,n,e);return a.getFullYear()===i.getFullYear()}function sP(n,e,t){const a=Mn(n,t?.in),i=a.getFullYear(),l=a.getDate(),d=Hr(n,0);d.setFullYear(i,e,15),d.setHours(0,0,0,0);const m=Z5(d);return a.setMonth(e,Math.min(l,m)),a}function iP(n,e,t){const a=Mn(n,t?.in);return isNaN(+a)?Hr(n,NaN):(a.setFullYear(e),a)}const v1=5,oP=4;function lP(n,e){const t=e.startOfMonth(n),a=t.getDay()>0?t.getDay():7,i=e.addDays(n,-a+1),l=e.addDays(i,v1*7-1);return e.getMonth(n)===e.getMonth(l)?v1:oP}function FN(n,e){const t=e.startOfMonth(n),a=t.getDay();return a===1?t:a===0?e.addDays(t,-1*6):e.addDays(t,-1*(a-1))}function cP(n,e){const t=FN(n,e),a=lP(n,e);return e.addDays(t,a*7-1)}class Ui{constructor(e,t){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?wa.tz(this.options.timeZone):new this.Date,this.newDate=(a,i,l)=>this.overrides?.newDate?this.overrides.newDate(a,i,l):this.options.timeZone?new wa(a,i,l,this.options.timeZone):new Date(a,i,l),this.addDays=(a,i)=>this.overrides?.addDays?this.overrides.addDays(a,i):jN(a,i),this.addMonths=(a,i)=>this.overrides?.addMonths?this.overrides.addMonths(a,i):DN(a,i),this.addWeeks=(a,i)=>this.overrides?.addWeeks?this.overrides.addWeeks(a,i):qI(a,i),this.addYears=(a,i)=>this.overrides?.addYears?this.overrides.addYears(a,i):$I(a,i),this.differenceInCalendarDays=(a,i)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(a,i):IN(a,i),this.differenceInCalendarMonths=(a,i)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(a,i):KI(a,i),this.eachMonthOfInterval=a=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(a):JI(a),this.endOfBroadcastWeek=a=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(a):cP(a,this),this.endOfISOWeek=a=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(a):n5(a),this.endOfMonth=a=>this.overrides?.endOfMonth?this.overrides.endOfMonth(a):XI(a),this.endOfWeek=(a,i)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(a,i):kN(a,this.options),this.endOfYear=a=>this.overrides?.endOfYear?this.overrides.endOfYear(a):t5(a),this.format=(a,i,l)=>{const d=this.overrides?.format?this.overrides.format(a,i,this.options):K5(a,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(d):d},this.getISOWeek=a=>this.overrides?.getISOWeek?this.overrides.getISOWeek(a):LN(a),this.getMonth=(a,i)=>this.overrides?.getMonth?this.overrides.getMonth(a,this.options):J5(a,this.options),this.getYear=(a,i)=>this.overrides?.getYear?this.overrides.getYear(a,this.options):eP(a,this.options),this.getWeek=(a,i)=>this.overrides?.getWeek?this.overrides.getWeek(a,this.options):zN(a,this.options),this.isAfter=(a,i)=>this.overrides?.isAfter?this.overrides.isAfter(a,i):tP(a,i),this.isBefore=(a,i)=>this.overrides?.isBefore?this.overrides.isBefore(a,i):nP(a,i),this.isDate=a=>this.overrides?.isDate?this.overrides.isDate(a):PN(a),this.isSameDay=(a,i)=>this.overrides?.isSameDay?this.overrides.isSameDay(a,i):GI(a,i),this.isSameMonth=(a,i)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(a,i):rP(a,i),this.isSameYear=(a,i)=>this.overrides?.isSameYear?this.overrides.isSameYear(a,i):aP(a,i),this.max=a=>this.overrides?.max?this.overrides.max(a):YI(a),this.min=a=>this.overrides?.min?this.overrides.min(a):WI(a),this.setMonth=(a,i)=>this.overrides?.setMonth?this.overrides.setMonth(a,i):sP(a,i),this.setYear=(a,i)=>this.overrides?.setYear?this.overrides.setYear(a,i):iP(a,i),this.startOfBroadcastWeek=(a,i)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(a,this):FN(a,this),this.startOfDay=a=>this.overrides?.startOfDay?this.overrides.startOfDay(a):bd(a),this.startOfISOWeek=a=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(a):xd(a),this.startOfMonth=a=>this.overrides?.startOfMonth?this.overrides.startOfMonth(a):e5(a),this.startOfWeek=(a,i)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(a,this.options):Bc(a,this.options),this.startOfYear=a=>this.overrides?.startOfYear?this.overrides.startOfYear(a):ON(a),this.options={locale:Ly,...e},this.overrides=t}getDigitMap(){const{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),a={};for(let i=0;i<10;i++)a[i.toString()]=t.format(i);return a}replaceDigits(e){const t=this.getDigitMap();return e.replace(/\d/g,a=>t[a]||a)}formatNumber(e){return this.replaceDigits(e.toString())}}const ui=new Ui;class HN{constructor(e,t,a=ui){this.date=e,this.displayMonth=t,this.outside=!!(t&&!a.isSameMonth(e,t)),this.dateLib=a}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class uP{constructor(e,t){this.date=e,this.weeks=t}}class dP{constructor(e,t){this.days=t,this.weekNumber=e}}function Di(n,e,t=!1,a=ui){let{from:i,to:l}=n;const{differenceInCalendarDays:d,isSameDay:m}=a;return i&&l?(d(l,i)<0&&([i,l]=[l,i]),d(e,i)>=(t?1:0)&&d(l,e)>=(t?1:0)):!t&&l?m(l,e):!t&&i?m(i,e):!1}function qN(n){return!!(n&&typeof n=="object"&&"before"in n&&"after"in n)}function Uy(n){return!!(n&&typeof n=="object"&&"from"in n)}function $N(n){return!!(n&&typeof n=="object"&&"after"in n)}function YN(n){return!!(n&&typeof n=="object"&&"before"in n)}function WN(n){return!!(n&&typeof n=="object"&&"dayOfWeek"in n)}function GN(n,e){return Array.isArray(n)&&n.every(e.isDate)}function Mi(n,e,t=ui){const a=Array.isArray(e)?e:[e],{isSameDay:i,differenceInCalendarDays:l,isAfter:d}=t;return a.some(m=>{if(typeof m=="boolean")return m;if(t.isDate(m))return i(n,m);if(GN(m,t))return m.includes(n);if(Uy(m))return Di(m,n,!1,t);if(WN(m))return Array.isArray(m.dayOfWeek)?m.dayOfWeek.includes(n.getDay()):m.dayOfWeek===n.getDay();if(qN(m)){const p=l(m.before,n),g=l(m.after,n),b=p>0,_=g<0;return d(m.before,m.after)?_&&b:b||_}return $N(m)?l(n,m.after)>0:YN(m)?l(m.before,n)>0:typeof m=="function"?m(n):!1})}function hP(n,e,t,a,i){const{disabled:l,hidden:d,modifiers:m,showOutsideDays:p,broadcastCalendar:g,today:b}=e,{isSameDay:_,isSameMonth:E,startOfMonth:D,isBefore:O,endOfMonth:z,isAfter:$}=i,K=t&&D(t),ge=a&&z(a),se={[rr.focused]:[],[rr.outside]:[],[rr.disabled]:[],[rr.hidden]:[],[rr.today]:[]},Ae={};for(const fe of n){const{date:U,displayMonth:k}=fe,A=!!(k&&!E(U,k)),I=!!(K&&O(U,K)),M=!!(ge&&$(U,ge)),B=!!(l&&Mi(U,l,i)),G=!!(d&&Mi(U,d,i))||I||M||!g&&!p&&A||g&&p===!1&&A,V=_(U,b??i.today());A&&se.outside.push(fe),B&&se.disabled.push(fe),G&&se.hidden.push(fe),V&&se.today.push(fe),m&&Object.keys(m).forEach(Ee=>{const ve=m?.[Ee];ve&&Mi(U,ve,i)&&(Ae[Ee]?Ae[Ee].push(fe):Ae[Ee]=[fe])})}return fe=>{const U={[rr.focused]:!1,[rr.disabled]:!1,[rr.hidden]:!1,[rr.outside]:!1,[rr.today]:!1},k={};for(const A in se){const I=se[A];U[A]=I.some(M=>M===fe)}for(const A in Ae)k[A]=Ae[A].some(I=>I===fe);return{...U,...k}}}function fP(n,e,t={}){return Object.entries(n).filter(([,i])=>i===!0).reduce((i,[l])=>(t[l]?i.push(t[l]):e[rr[l]]?i.push(e[rr[l]]):e[js[l]]&&i.push(e[js[l]]),i),[e[st.Day]])}function mP(n){return Le.createElement("button",{...n})}function pP(n){return Le.createElement("span",{...n})}function gP(n){const{size:e=24,orientation:t="left",className:a}=n;return Le.createElement("svg",{className:a,width:e,height:e,viewBox:"0 0 24 24"},t==="up"&&Le.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),t==="down"&&Le.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),t==="left"&&Le.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),t==="right"&&Le.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function yP(n){const{day:e,modifiers:t,...a}=n;return Le.createElement("td",{...a})}function vP(n){const{day:e,modifiers:t,...a}=n,i=Le.useRef(null);return Le.useEffect(()=>{t.focused&&i.current?.focus()},[t.focused]),Le.createElement("button",{ref:i,...a})}function xP(n){const{options:e,className:t,components:a,classNames:i,...l}=n,d=[i[st.Dropdown],t].join(" "),m=e?.find(({value:p})=>p===l.value);return Le.createElement("span",{"data-disabled":l.disabled,className:i[st.DropdownRoot]},Le.createElement(a.Select,{className:d,...l},e?.map(({value:p,label:g,disabled:b})=>Le.createElement(a.Option,{key:p,value:p,disabled:b},g))),Le.createElement("span",{className:i[st.CaptionLabel],"aria-hidden":!0},m?.label,Le.createElement(a.Chevron,{orientation:"down",size:18,className:i[st.Chevron]})))}function bP(n){return Le.createElement("div",{...n})}function _P(n){return Le.createElement("div",{...n})}function wP(n){const{calendarMonth:e,displayIndex:t,...a}=n;return Le.createElement("div",{...a},n.children)}function EP(n){const{calendarMonth:e,displayIndex:t,...a}=n;return Le.createElement("div",{...a})}function NP(n){return Le.createElement("table",{...n})}function TP(n){return Le.createElement("div",{...n})}const QN=T.createContext(void 0);function zd(){const n=T.useContext(QN);if(n===void 0)throw new Error("useDayPicker() must be used within a custom component.");return n}function SP(n){const{components:e}=zd();return Le.createElement(e.Dropdown,{...n})}function CP(n){const{onPreviousClick:e,onNextClick:t,previousMonth:a,nextMonth:i,...l}=n,{components:d,classNames:m,labels:{labelPrevious:p,labelNext:g}}=zd(),b=T.useCallback(E=>{i&&t?.(E)},[i,t]),_=T.useCallback(E=>{a&&e?.(E)},[a,e]);return Le.createElement("nav",{...l},Le.createElement(d.PreviousMonthButton,{type:"button",className:m[st.PreviousMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":p(a),onClick:_},Le.createElement(d.Chevron,{disabled:a?void 0:!0,className:m[st.Chevron],orientation:"left"})),Le.createElement(d.NextMonthButton,{type:"button",className:m[st.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":g(i),onClick:b},Le.createElement(d.Chevron,{disabled:i?void 0:!0,orientation:"right",className:m[st.Chevron]})))}function AP(n){const{components:e}=zd();return Le.createElement(e.Button,{...n})}function RP(n){return Le.createElement("option",{...n})}function jP(n){const{components:e}=zd();return Le.createElement(e.Button,{...n})}function DP(n){const{rootRef:e,...t}=n;return Le.createElement("div",{...t,ref:e})}function MP(n){return Le.createElement("select",{...n})}function IP(n){const{week:e,...t}=n;return Le.createElement("tr",{...t})}function PP(n){return Le.createElement("th",{...n})}function OP(n){return Le.createElement("thead",{"aria-hidden":!0},Le.createElement("tr",{...n}))}function kP(n){const{week:e,...t}=n;return Le.createElement("th",{...t})}function VP(n){return Le.createElement("th",{...n})}function LP(n){return Le.createElement("tbody",{...n})}function UP(n){const{components:e}=zd();return Le.createElement(e.Dropdown,{...n})}const zP=Object.freeze(Object.defineProperty({__proto__:null,Button:mP,CaptionLabel:pP,Chevron:gP,Day:yP,DayButton:vP,Dropdown:xP,DropdownNav:bP,Footer:_P,Month:wP,MonthCaption:EP,MonthGrid:NP,Months:TP,MonthsDropdown:SP,Nav:CP,NextMonthButton:AP,Option:RP,PreviousMonthButton:jP,Root:DP,Select:MP,Week:IP,WeekNumber:kP,WeekNumberHeader:VP,Weekday:PP,Weekdays:OP,Weeks:LP,YearsDropdown:UP},Symbol.toStringTag,{value:"Module"}));function BP(n){return{...zP,...n}}function FP(n){const e={"data-mode":n.mode??void 0,"data-required":"required"in n?n.required:void 0,"data-multiple-months":n.numberOfMonths&&n.numberOfMonths>1||void 0,"data-week-numbers":n.showWeekNumber||void 0,"data-broadcast-calendar":n.broadcastCalendar||void 0,"data-nav-layout":n.navLayout||void 0};return Object.entries(n).forEach(([t,a])=>{t.startsWith("data-")&&(e[t]=a)}),e}function HP(){const n={};for(const e in st)n[st[e]]=`rdp-${st[e]}`;for(const e in rr)n[rr[e]]=`rdp-${rr[e]}`;for(const e in js)n[js[e]]=`rdp-${js[e]}`;for(const e in es)n[es[e]]=`rdp-${es[e]}`;return n}function KN(n,e,t){return(t??new Ui(e)).format(n,"LLLL y")}const qP=KN;function $P(n,e,t){return(t??new Ui(e)).format(n,"d")}function YP(n,e=ui){return e.format(n,"LLLL")}function WP(n,e=ui){return n<10?e.formatNumber(`0${n.toLocaleString()}`):e.formatNumber(`${n.toLocaleString()}`)}function GP(){return""}function QP(n,e,t){return(t??new Ui(e)).format(n,"cccccc")}function XN(n,e=ui){return e.format(n,"yyyy")}const KP=XN,XP=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:KN,formatDay:$P,formatMonthCaption:qP,formatMonthDropdown:YP,formatWeekNumber:WP,formatWeekNumberHeader:GP,formatWeekdayName:QP,formatYearCaption:KP,formatYearDropdown:XN},Symbol.toStringTag,{value:"Module"}));function ZP(n){return n?.formatMonthCaption&&!n.formatCaption&&(n.formatCaption=n.formatMonthCaption),n?.formatYearCaption&&!n.formatYearDropdown&&(n.formatYearDropdown=n.formatYearCaption),{...XP,...n}}function JP(n,e,t,a,i){const{startOfMonth:l,startOfYear:d,endOfYear:m,eachMonthOfInterval:p,getMonth:g}=i;return p({start:d(n),end:m(n)}).map(E=>{const D=a.formatMonthDropdown(E,i),O=g(E),z=e&&E<l(e)||t&&E>l(t)||!1;return{value:O,label:D,disabled:z}})}function eO(n,e={},t={}){let a={...e?.[st.Day]};return Object.entries(n).filter(([,i])=>i===!0).forEach(([i])=>{a={...a,...t?.[i]}}),a}function tO(n,e,t){const a=n.today(),i=e?n.startOfISOWeek(a):n.startOfWeek(a),l=[];for(let d=0;d<7;d++){const m=n.addDays(i,d);l.push(m)}return l}function nO(n,e,t,a){if(!n||!e)return;const{startOfYear:i,endOfYear:l,addYears:d,getYear:m,isBefore:p,isSameYear:g}=a,b=i(n),_=l(e),E=[];let D=b;for(;p(D,_)||g(D,_);)E.push(D),D=d(D,1);return E.map(O=>{const z=t.formatYearDropdown(O,a);return{value:m(O),label:z,disabled:!1}})}function ZN(n,e,t){return(t??new Ui(e)).format(n,"LLLL y")}const rO=ZN;function aO(n,e,t,a){let i=(a??new Ui(t)).format(n,"PPPP");return e?.today&&(i=`Today, ${i}`),i}function JN(n,e,t,a){let i=(a??new Ui(t)).format(n,"PPPP");return e.today&&(i=`Today, ${i}`),e.selected&&(i=`${i}, selected`),i}const sO=JN;function iO(){return""}function oO(n){return"Choose the Month"}function lO(n){return"Go to the Next Month"}function cO(n){return"Go to the Previous Month"}function uO(n,e,t){return(t??new Ui(e)).format(n,"cccc")}function dO(n,e){return`Week ${n}`}function hO(n){return"Week Number"}function fO(n){return"Choose the Year"}const mO=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:rO,labelDay:sO,labelDayButton:JN,labelGrid:ZN,labelGridcell:aO,labelMonthDropdown:oO,labelNav:iO,labelNext:lO,labelPrevious:cO,labelWeekNumber:dO,labelWeekNumberHeader:hO,labelWeekday:uO,labelYearDropdown:fO},Symbol.toStringTag,{value:"Module"})),Bd=n=>n instanceof HTMLElement?n:null,Yg=n=>[...n.querySelectorAll("[data-animated-month]")??[]],pO=n=>Bd(n.querySelector("[data-animated-month]")),Wg=n=>Bd(n.querySelector("[data-animated-caption]")),Gg=n=>Bd(n.querySelector("[data-animated-weeks]")),gO=n=>Bd(n.querySelector("[data-animated-nav]")),yO=n=>Bd(n.querySelector("[data-animated-weekdays]"));function vO(n,e,{classNames:t,months:a,focused:i,dateLib:l}){const d=T.useRef(null),m=T.useRef(a),p=T.useRef(!1);T.useLayoutEffect(()=>{const g=m.current;if(m.current=a,!e||!n.current||!(n.current instanceof HTMLElement)||a.length===0||g.length===0||a.length!==g.length)return;const b=l.isSameMonth(a[0].date,g[0].date),_=l.isAfter(a[0].date,g[0].date),E=_?t[es.caption_after_enter]:t[es.caption_before_enter],D=_?t[es.weeks_after_enter]:t[es.weeks_before_enter],O=d.current,z=n.current.cloneNode(!0);if(z instanceof HTMLElement?(Yg(z).forEach(se=>{if(!(se instanceof HTMLElement))return;const Ae=pO(se);Ae&&se.contains(Ae)&&se.removeChild(Ae);const fe=Wg(se);fe&&fe.classList.remove(E);const U=Gg(se);U&&U.classList.remove(D)}),d.current=z):d.current=null,p.current||b||i)return;const $=O instanceof HTMLElement?Yg(O):[],K=Yg(n.current);if(K&&K.every(ge=>ge instanceof HTMLElement)&&$&&$.every(ge=>ge instanceof HTMLElement)){p.current=!0,n.current.style.isolation="isolate";const ge=gO(n.current);ge&&(ge.style.zIndex="1"),K.forEach((se,Ae)=>{const fe=$[Ae];if(!fe)return;se.style.position="relative",se.style.overflow="hidden";const U=Wg(se);U&&U.classList.add(E);const k=Gg(se);k&&k.classList.add(D);const A=()=>{p.current=!1,n.current&&(n.current.style.isolation=""),ge&&(ge.style.zIndex=""),U&&U.classList.remove(E),k&&k.classList.remove(D),se.style.position="",se.style.overflow="",se.contains(fe)&&se.removeChild(fe)};fe.style.pointerEvents="none",fe.style.position="absolute",fe.style.overflow="hidden",fe.setAttribute("aria-hidden","true");const I=yO(fe);I&&(I.style.opacity="0");const M=Wg(fe);M&&(M.classList.add(_?t[es.caption_before_exit]:t[es.caption_after_exit]),M.addEventListener("animationend",A));const B=Gg(fe);B&&B.classList.add(_?t[es.weeks_before_exit]:t[es.weeks_after_exit]),se.insertBefore(fe,se.firstChild)})}})}function xO(n,e,t,a){const i=n[0],l=n[n.length-1],{ISOWeek:d,fixedWeeks:m,broadcastCalendar:p}=t??{},{addDays:g,differenceInCalendarDays:b,differenceInCalendarMonths:_,endOfBroadcastWeek:E,endOfISOWeek:D,endOfMonth:O,endOfWeek:z,isAfter:$,startOfBroadcastWeek:K,startOfISOWeek:ge,startOfWeek:se}=a,Ae=p?K(i,a):d?ge(i):se(i),fe=p?E(l):d?D(O(l)):z(O(l)),U=b(fe,Ae),k=_(l,i)+1,A=[];for(let B=0;B<=U;B++){const G=g(Ae,B);if(e&&$(G,e))break;A.push(G)}const M=(p?35:42)*k;if(m&&A.length<M){const B=M-A.length;for(let G=0;G<B;G++){const V=g(A[A.length-1],1);A.push(V)}}return A}function bO(n){const e=[];return n.reduce((t,a)=>{const i=a.weeks.reduce((l,d)=>[...l,...d.days],e);return[...t,...i]},e)}function _O(n,e,t,a){const{numberOfMonths:i=1}=t,l=[];for(let d=0;d<i;d++){const m=a.addMonths(n,d);if(e&&m>e)break;l.push(m)}return l}function x1(n,e,t,a){const{month:i,defaultMonth:l,today:d=a.today(),numberOfMonths:m=1}=n;let p=i||l||d;const{differenceInCalendarMonths:g,addMonths:b,startOfMonth:_}=a;if(t&&g(t,p)<m-1){const E=-1*(m-1);p=b(t,E)}return e&&g(p,e)<0&&(p=e),_(p)}function wO(n,e,t,a){const{addDays:i,endOfBroadcastWeek:l,endOfISOWeek:d,endOfMonth:m,endOfWeek:p,getISOWeek:g,getWeek:b,startOfBroadcastWeek:_,startOfISOWeek:E,startOfWeek:D}=a,O=n.reduce((z,$)=>{const K=t.broadcastCalendar?_($,a):t.ISOWeek?E($):D($),ge=t.broadcastCalendar?l($):t.ISOWeek?d(m($)):p(m($)),se=e.filter(k=>k>=K&&k<=ge),Ae=t.broadcastCalendar?35:42;if(t.fixedWeeks&&se.length<Ae){const k=e.filter(A=>{const I=Ae-se.length;return A>ge&&A<=i(ge,I)});se.push(...k)}const fe=se.reduce((k,A)=>{const I=t.ISOWeek?g(A):b(A),M=k.find(G=>G.weekNumber===I),B=new HN(A,$,a);return M?M.days.push(B):k.push(new dP(I,[B])),k},[]),U=new uP($,fe);return z.push(U),z},[]);return t.reverseMonths?O.reverse():O}function EO(n,e){let{startMonth:t,endMonth:a}=n;const{startOfYear:i,startOfDay:l,startOfMonth:d,endOfMonth:m,addYears:p,endOfYear:g,newDate:b,today:_}=e,{fromYear:E,toYear:D,fromMonth:O,toMonth:z}=n;!t&&O&&(t=O),!t&&E&&(t=e.newDate(E,0,1)),!a&&z&&(a=z),!a&&D&&(a=b(D,11,31));const $=n.captionLayout==="dropdown"||n.captionLayout==="dropdown-years";return t?t=d(t):E?t=b(E,0,1):!t&&$&&(t=i(p(n.today??_(),-100))),a?a=m(a):D?a=b(D,11,31):!a&&$&&(a=g(n.today??_())),[t&&l(t),a&&l(a)]}function NO(n,e,t,a){if(t.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:l=1}=t,{startOfMonth:d,addMonths:m,differenceInCalendarMonths:p}=a,g=i?l:1,b=d(n);if(!e)return m(b,g);if(!(p(e,n)<l))return m(b,g)}function TO(n,e,t,a){if(t.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:l}=t,{startOfMonth:d,addMonths:m,differenceInCalendarMonths:p}=a,g=i?l??1:1,b=d(n);if(!e)return m(b,-g);if(!(p(b,e)<=0))return m(b,-g)}function SO(n){const e=[];return n.reduce((t,a)=>[...t,...a.weeks],e)}function Am(n,e){const[t,a]=T.useState(n);return[e===void 0?t:e,a]}function CO(n,e){const[t,a]=EO(n,e),{startOfMonth:i,endOfMonth:l}=e,d=x1(n,t,a,e),[m,p]=Am(d,n.month?d:void 0);T.useEffect(()=>{const U=x1(n,t,a,e);p(U)},[n.timeZone]);const g=_O(m,a,n,e),b=xO(g,n.endMonth?l(n.endMonth):void 0,n,e),_=wO(g,b,n,e),E=SO(_),D=bO(_),O=TO(m,t,n,e),z=NO(m,a,n,e),{disableNavigation:$,onMonthChange:K}=n,ge=U=>E.some(k=>k.days.some(A=>A.isEqualTo(U))),se=U=>{if($)return;let k=i(U);t&&k<i(t)&&(k=i(t)),a&&k>i(a)&&(k=i(a)),p(k),K?.(k)};return{months:_,weeks:E,days:D,navStart:t,navEnd:a,previousMonth:O,nextMonth:z,goToMonth:se,goToDay:U=>{ge(U)||se(U.date)}}}var Qs;(function(n){n[n.Today=0]="Today",n[n.Selected=1]="Selected",n[n.LastFocused=2]="LastFocused",n[n.FocusedModifier=3]="FocusedModifier"})(Qs||(Qs={}));function b1(n){return!n[rr.disabled]&&!n[rr.hidden]&&!n[rr.outside]}function AO(n,e,t,a){let i,l=-1;for(const d of n){const m=e(d);b1(m)&&(m[rr.focused]&&l<Qs.FocusedModifier?(i=d,l=Qs.FocusedModifier):a?.isEqualTo(d)&&l<Qs.LastFocused?(i=d,l=Qs.LastFocused):t(d.date)&&l<Qs.Selected?(i=d,l=Qs.Selected):m[rr.today]&&l<Qs.Today&&(i=d,l=Qs.Today))}return i||(i=n.find(d=>b1(e(d)))),i}function RO(n,e,t,a,i,l,d){const{ISOWeek:m,broadcastCalendar:p}=l,{addDays:g,addMonths:b,addWeeks:_,addYears:E,endOfBroadcastWeek:D,endOfISOWeek:O,endOfWeek:z,max:$,min:K,startOfBroadcastWeek:ge,startOfISOWeek:se,startOfWeek:Ae}=d;let U={day:g,week:_,month:b,year:E,startOfWeek:k=>p?ge(k,d):m?se(k):Ae(k),endOfWeek:k=>p?D(k):m?O(k):z(k)}[n](t,e==="after"?1:-1);return e==="before"&&a?U=$([a,U]):e==="after"&&i&&(U=K([i,U])),U}function eT(n,e,t,a,i,l,d,m=0){if(m>365)return;const p=RO(n,e,t.date,a,i,l,d),g=!!(l.disabled&&Mi(p,l.disabled,d)),b=!!(l.hidden&&Mi(p,l.hidden,d)),_=p,E=new HN(p,_,d);return!g&&!b?E:eT(n,e,E,a,i,l,d,m+1)}function jO(n,e,t,a,i){const{autoFocus:l}=n,[d,m]=T.useState(),p=AO(e.days,t,a||(()=>!1),d),[g,b]=T.useState(l?p:void 0);return{isFocusTarget:z=>!!p?.isEqualTo(z),setFocused:b,focused:g,blur:()=>{m(g),b(void 0)},moveFocus:(z,$)=>{if(!g)return;const K=eT(z,$,g,e.navStart,e.navEnd,n,i);K&&(e.goToDay(K),b(K))}}}function DO(n,e){const{selected:t,required:a,onSelect:i}=n,[l,d]=Am(t,i?t:void 0),m=i?t:l,{isSameDay:p}=e,g=D=>m?.some(O=>p(O,D))??!1,{min:b,max:_}=n;return{selected:m,select:(D,O,z)=>{let $=[...m??[]];if(g(D)){if(m?.length===b||a&&m?.length===1)return;$=m?.filter(K=>!p(K,D))}else m?.length===_?$=[D]:$=[...$,D];return i||d($),i?.($,D,O,z),$},isSelected:g}}function MO(n,e,t=0,a=0,i=!1,l=ui){const{from:d,to:m}=e||{},{isSameDay:p,isAfter:g,isBefore:b}=l;let _;if(!d&&!m)_={from:n,to:t>0?void 0:n};else if(d&&!m)p(d,n)?i?_={from:d,to:void 0}:_=void 0:b(n,d)?_={from:n,to:d}:_={from:d,to:n};else if(d&&m)if(p(d,n)&&p(m,n))i?_={from:d,to:m}:_=void 0;else if(p(d,n))_={from:d,to:t>0?void 0:n};else if(p(m,n))_={from:n,to:t>0?void 0:n};else if(b(n,d))_={from:n,to:m};else if(g(n,d))_={from:d,to:n};else if(g(n,m))_={from:d,to:n};else throw new Error("Invalid range");if(_?.from&&_?.to){const E=l.differenceInCalendarDays(_.to,_.from);a>0&&E>a?_={from:n,to:void 0}:t>1&&E<t&&(_={from:n,to:void 0})}return _}function IO(n,e,t=ui){const a=Array.isArray(e)?e:[e];let i=n.from;const l=t.differenceInCalendarDays(n.to,n.from),d=Math.min(l,6);for(let m=0;m<=d;m++){if(a.includes(i.getDay()))return!0;i=t.addDays(i,1)}return!1}function _1(n,e,t=ui){return Di(n,e.from,!1,t)||Di(n,e.to,!1,t)||Di(e,n.from,!1,t)||Di(e,n.to,!1,t)}function PO(n,e,t=ui){const a=Array.isArray(e)?e:[e];if(a.filter(m=>typeof m!="function").some(m=>typeof m=="boolean"?m:t.isDate(m)?Di(n,m,!1,t):GN(m,t)?m.some(p=>Di(n,p,!1,t)):Uy(m)?m.from&&m.to?_1(n,{from:m.from,to:m.to},t):!1:WN(m)?IO(n,m.dayOfWeek,t):qN(m)?t.isAfter(m.before,m.after)?_1(n,{from:t.addDays(m.after,1),to:t.addDays(m.before,-1)},t):Mi(n.from,m,t)||Mi(n.to,m,t):$N(m)||YN(m)?Mi(n.from,m,t)||Mi(n.to,m,t):!1))return!0;const d=a.filter(m=>typeof m=="function");if(d.length){let m=n.from;const p=t.differenceInCalendarDays(n.to,n.from);for(let g=0;g<=p;g++){if(d.some(b=>b(m)))return!0;m=t.addDays(m,1)}}return!1}function OO(n,e){const{disabled:t,excludeDisabled:a,selected:i,required:l,onSelect:d}=n,[m,p]=Am(i,d?i:void 0),g=d?i:m;return{selected:g,select:(E,D,O)=>{const{min:z,max:$}=n,K=E?MO(E,g,z,$,l,e):void 0;return a&&t&&K?.from&&K.to&&PO({from:K.from,to:K.to},t,e)&&(K.from=E,K.to=void 0),d||p(K),d?.(K,E,D,O),K},isSelected:E=>g&&Di(g,E,!1,e)}}function kO(n,e){const{selected:t,required:a,onSelect:i}=n,[l,d]=Am(t,i?t:void 0),m=i?t:l,{isSameDay:p}=e;return{selected:m,select:(_,E,D)=>{let O=_;return!a&&m&&m&&p(_,m)&&(O=void 0),i||d(O),i?.(O,_,E,D),O},isSelected:_=>m?p(m,_):!1}}function VO(n,e){const t=kO(n,e),a=DO(n,e),i=OO(n,e);switch(n.mode){case"single":return t;case"multiple":return a;case"range":return i;default:return}}function LO(n){let e=n;e.timeZone&&(e={...n},e.today&&(e.today=new wa(e.today,e.timeZone)),e.month&&(e.month=new wa(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new wa(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new wa(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new wa(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new wa(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(ht=>new wa(ht,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new wa(e.selected.from,e.timeZone):void 0,to:e.selected.to?new wa(e.selected.to,e.timeZone):void 0}));const{components:t,formatters:a,labels:i,dateLib:l,locale:d,classNames:m}=T.useMemo(()=>{const ht={...Ly,...e.locale};return{dateLib:new Ui({locale:ht,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:BP(e.components),formatters:ZP(e.formatters),labels:{...mO,...e.labels},locale:ht,classNames:{...HP(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:p,mode:g,navLayout:b,numberOfMonths:_=1,onDayBlur:E,onDayClick:D,onDayFocus:O,onDayKeyDown:z,onDayMouseEnter:$,onDayMouseLeave:K,onNextClick:ge,onPrevClick:se,showWeekNumber:Ae,styles:fe}=e,{formatCaption:U,formatDay:k,formatMonthDropdown:A,formatWeekNumber:I,formatWeekNumberHeader:M,formatWeekdayName:B,formatYearDropdown:G}=a,V=CO(e,l),{days:Ee,months:ve,navStart:F,navEnd:le,previousMonth:ce,nextMonth:Ce,goToMonth:P}=V,oe=hP(Ee,e,F,le,l),{isSelected:be,select:me,selected:De}=VO(e,l)??{},{blur:qe,focused:Ye,isFocusTarget:Mt,moveFocus:jt,setFocused:dt}=jO(e,V,oe,be??(()=>!1),l),{labelDayButton:Tt,labelGridcell:on,labelGrid:Tn,labelMonthDropdown:Ge,labelNav:_t,labelPrevious:ha,labelNext:Ia,labelWeekday:In,labelWeekNumber:$r,labelWeekNumberHeader:mr,labelYearDropdown:Nr}=i,Yr=T.useMemo(()=>tO(l,e.ISOWeek),[l,e.ISOWeek]),ir=g!==void 0||D!==void 0,Vn=T.useCallback(()=>{ce&&(P(ce),se?.(ce))},[ce,P,se]),Wr=T.useCallback(()=>{Ce&&(P(Ce),ge?.(Ce))},[P,Ce,ge]),fa=T.useCallback((ht,Vt)=>wt=>{wt.preventDefault(),wt.stopPropagation(),dt(ht),me?.(ht.date,Vt,wt),D?.(ht.date,Vt,wt)},[me,D,dt]),It=T.useCallback((ht,Vt)=>wt=>{dt(ht),O?.(ht.date,Vt,wt)},[O,dt]),Xe=T.useCallback((ht,Vt)=>wt=>{qe(),E?.(ht.date,Vt,wt)},[qe,E]),mn=T.useCallback((ht,Vt)=>wt=>{const Cn={ArrowLeft:[wt.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[wt.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[wt.shiftKey?"year":"week","after"],ArrowUp:[wt.shiftKey?"year":"week","before"],PageUp:[wt.shiftKey?"year":"month","before"],PageDown:[wt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Cn[wt.key]){wt.preventDefault(),wt.stopPropagation();const[yn,Sr]=Cn[wt.key];jt(yn,Sr)}z?.(ht.date,Vt,wt)},[jt,z,e.dir]),Sn=T.useCallback((ht,Vt)=>wt=>{$?.(ht.date,Vt,wt)},[$]),ta=T.useCallback((ht,Vt)=>wt=>{K?.(ht.date,Vt,wt)},[K]),Xn=T.useCallback(ht=>Vt=>{const wt=Number(Vt.target.value),Cn=l.setMonth(l.startOfMonth(ht),wt);P(Cn)},[l,P]),Tr=T.useCallback(ht=>Vt=>{const wt=Number(Vt.target.value),Cn=l.setYear(l.startOfMonth(ht),wt);P(Cn)},[l,P]),{className:nt,style:or}=T.useMemo(()=>({className:[m[st.Root],e.className].filter(Boolean).join(" "),style:{...fe?.[st.Root],...e.style}}),[m,e.className,e.style,fe]),Zn=FP(e),Or=T.useRef(null);vO(Or,!!e.animate,{classNames:m,months:ve,focused:Ye,dateLib:l});const pr={dayPickerProps:e,selected:De,select:me,isSelected:be,months:ve,nextMonth:Ce,previousMonth:ce,goToMonth:P,getModifiers:oe,components:t,classNames:m,styles:fe,labels:i,formatters:a};return Le.createElement(QN.Provider,{value:pr},Le.createElement(t.Root,{rootRef:e.animate?Or:void 0,className:nt,style:or,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...Zn},Le.createElement(t.Months,{className:m[st.Months],style:fe?.[st.Months]},!e.hideNavigation&&!b&&Le.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:m[st.Nav],style:fe?.[st.Nav],"aria-label":_t(),onPreviousClick:Vn,onNextClick:Wr,previousMonth:ce,nextMonth:Ce}),ve.map((ht,Vt)=>{const wt=JP(ht.date,F,le,a,l),Cn=nO(F,le,a,l);return Le.createElement(t.Month,{"data-animated-month":e.animate?"true":void 0,className:m[st.Month],style:fe?.[st.Month],key:Vt,displayIndex:Vt,calendarMonth:ht},b==="around"&&!e.hideNavigation&&Vt===0&&Le.createElement(t.PreviousMonthButton,{type:"button",className:m[st.PreviousMonthButton],tabIndex:ce?void 0:-1,"aria-disabled":ce?void 0:!0,"aria-label":ha(ce),onClick:Vn,"data-animated-button":e.animate?"true":void 0},Le.createElement(t.Chevron,{disabled:ce?void 0:!0,className:m[st.Chevron],orientation:e.dir==="rtl"?"right":"left"})),Le.createElement(t.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:m[st.MonthCaption],style:fe?.[st.MonthCaption],calendarMonth:ht,displayIndex:Vt},p?.startsWith("dropdown")?Le.createElement(t.DropdownNav,{className:m[st.Dropdowns],style:fe?.[st.Dropdowns]},p==="dropdown"||p==="dropdown-months"?Le.createElement(t.MonthsDropdown,{className:m[st.MonthsDropdown],"aria-label":Ge(),classNames:m,components:t,disabled:!!e.disableNavigation,onChange:Xn(ht.date),options:wt,style:fe?.[st.Dropdown],value:l.getMonth(ht.date)}):Le.createElement("span",null,A(ht.date,l)),p==="dropdown"||p==="dropdown-years"?Le.createElement(t.YearsDropdown,{className:m[st.YearsDropdown],"aria-label":Nr(l.options),classNames:m,components:t,disabled:!!e.disableNavigation,onChange:Tr(ht.date),options:Cn,style:fe?.[st.Dropdown],value:l.getYear(ht.date)}):Le.createElement("span",null,G(ht.date,l)),Le.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},U(ht.date,l.options,l))):Le.createElement(t.CaptionLabel,{className:m[st.CaptionLabel],role:"status","aria-live":"polite"},U(ht.date,l.options,l))),b==="around"&&!e.hideNavigation&&Vt===_-1&&Le.createElement(t.NextMonthButton,{type:"button",className:m[st.NextMonthButton],tabIndex:Ce?void 0:-1,"aria-disabled":Ce?void 0:!0,"aria-label":Ia(Ce),onClick:Wr,"data-animated-button":e.animate?"true":void 0},Le.createElement(t.Chevron,{disabled:Ce?void 0:!0,className:m[st.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Vt===_-1&&b==="after"&&!e.hideNavigation&&Le.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:m[st.Nav],style:fe?.[st.Nav],"aria-label":_t(),onPreviousClick:Vn,onNextClick:Wr,previousMonth:ce,nextMonth:Ce}),Le.createElement(t.MonthGrid,{role:"grid","aria-multiselectable":g==="multiple"||g==="range","aria-label":Tn(ht.date,l.options,l)||void 0,className:m[st.MonthGrid],style:fe?.[st.MonthGrid]},!e.hideWeekdays&&Le.createElement(t.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:m[st.Weekdays],style:fe?.[st.Weekdays]},Ae&&Le.createElement(t.WeekNumberHeader,{"aria-label":mr(l.options),className:m[st.WeekNumberHeader],style:fe?.[st.WeekNumberHeader],scope:"col"},M()),Yr.map((yn,Sr)=>Le.createElement(t.Weekday,{"aria-label":In(yn,l.options,l),className:m[st.Weekday],key:Sr,style:fe?.[st.Weekday],scope:"col"},B(yn,l.options,l)))),Le.createElement(t.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:m[st.Weeks],style:fe?.[st.Weeks]},ht.weeks.map((yn,Sr)=>Le.createElement(t.Week,{className:m[st.Week],key:yn.weekNumber,style:fe?.[st.Week],week:yn},Ae&&Le.createElement(t.WeekNumber,{week:yn,style:fe?.[st.WeekNumber],"aria-label":$r(yn.weekNumber,{locale:d}),className:m[st.WeekNumber],scope:"row",role:"rowheader"},I(yn.weekNumber,l)),yn.days.map(Ut=>{const{date:xn}=Ut,Et=oe(Ut);if(Et[rr.focused]=!Et.hidden&&!!Ye?.isEqualTo(Ut),Et[js.selected]=be?.(xn)||Et.selected,Uy(De)){const{from:ne,to:ye}=De;Et[js.range_start]=!!(ne&&ye&&l.isSameDay(xn,ne)),Et[js.range_end]=!!(ne&&ye&&l.isSameDay(xn,ye)),Et[js.range_middle]=Di(De,xn,!0,l)}const na=eO(Et,fe,e.modifiersStyles),q=fP(Et,m,e.modifiersClassNames),te=!ir&&!Et.hidden?on(xn,Et,l.options,l):void 0;return Le.createElement(t.Day,{key:`${l.format(xn,"yyyy-MM-dd")}_${l.format(Ut.displayMonth,"yyyy-MM")}`,day:Ut,modifiers:Et,className:q.join(" "),style:na,role:"gridcell","aria-selected":Et.selected||void 0,"aria-label":te,"data-day":l.format(xn,"yyyy-MM-dd"),"data-month":Ut.outside?l.format(xn,"yyyy-MM"):void 0,"data-selected":Et.selected||void 0,"data-disabled":Et.disabled||void 0,"data-hidden":Et.hidden||void 0,"data-outside":Ut.outside||void 0,"data-focused":Et.focused||void 0,"data-today":Et.today||void 0},!Et.hidden&&ir?Le.createElement(t.DayButton,{className:m[st.DayButton],style:fe?.[st.DayButton],type:"button",day:Ut,modifiers:Et,disabled:Et.disabled||void 0,tabIndex:Mt(Ut)?0:-1,"aria-label":Tt(xn,Et,l.options,l),onClick:fa(Ut,Et),onBlur:Xe(Ut,Et),onFocus:It(Ut,Et),onKeyDown:mn(Ut,Et),onMouseEnter:Sn(Ut,Et),onMouseLeave:ta(Ut,Et)},k(xn,l.options,l)):!Et.hidden&&k(Ut.date,l.options,l))}))))))})),e.footer&&Le.createElement(t.Footer,{className:m[st.Footer],style:fe?.[st.Footer],role:"status","aria-live":"polite"},e.footer)))}const UO={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},zO=(n,e,t)=>{let a;const i=UO[n];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",String(e)),t?.addSuffix?t.comparison&&t.comparison>0?"em "+a:"h "+a:a},BO={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},FO={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},HO={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qO={date:Mc({formats:BO,defaultWidth:"full"}),time:Mc({formats:FO,defaultWidth:"full"}),dateTime:Mc({formats:HO,defaultWidth:"full"})},$O={lastWeek:n=>{const e=n.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},YO=(n,e,t,a)=>{const i=$O[n];return typeof i=="function"?i(e):i},WO={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},GO={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},QO={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},KO={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},XO={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},ZO={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},JO=(n,e)=>{const t=Number(n);return e?.unit==="week"?t+"":t+""},ek={ordinalNumber:JO,era:Xs({values:WO,defaultWidth:"wide"}),quarter:Xs({values:GO,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Xs({values:QO,defaultWidth:"wide"}),day:Xs({values:KO,defaultWidth:"wide"}),dayPeriod:Xs({values:XO,defaultWidth:"wide",formattingValues:ZO,defaultFormattingWidth:"wide"})},tk=/^(\d+)[o]?/i,nk=/\d+/i,rk={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},ak={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},sk={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},ik={any:[/1/i,/2/i,/3/i,/4/i]},ok={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},lk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},ck={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},uk={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},dk={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},hk={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},fk={ordinalNumber:VN({matchPattern:tk,parsePattern:nk,valueCallback:n=>parseInt(n,10)}),era:Zs({matchPatterns:rk,defaultMatchWidth:"wide",parsePatterns:ak,defaultParseWidth:"any"}),quarter:Zs({matchPatterns:sk,defaultMatchWidth:"wide",parsePatterns:ik,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Zs({matchPatterns:ok,defaultMatchWidth:"wide",parsePatterns:lk,defaultParseWidth:"any"}),day:Zs({matchPatterns:ck,defaultMatchWidth:"wide",parsePatterns:uk,defaultParseWidth:"any"}),dayPeriod:Zs({matchPatterns:dk,defaultMatchWidth:"any",parsePatterns:hk,defaultParseWidth:"any"})},mk={code:"pt-BR",formatDistance:zO,formatLong:qO,formatRelative:YO,localize:ek,match:fk,options:{weekStartsOn:0,firstWeekContainsDate:1}},pk=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),dl=n=>pk.format(Number.isFinite(n)?n:0),Tl=n=>n.toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),gk=n=>(n??"").toString().trim().toLowerCase(),yk=n=>{const e=gk(n.status);return["pago","confirmado","pre_reserva"].includes(e)?!0:!e&&!!n.confirmada},Qg=n=>n.id??Tl(n.nome),Tc=(n,e)=>{if(!n)return;if(e.id&&e.id in n)return Number(n[e.id]);if(e.nome in n)return Number(n[e.nome]);const t=Tl(e.nome);for(const[a,i]of Object.entries(n))if(Tl(a)===t)return Number(i)},df=(n,e,t)=>{const a=e.find(l=>Tl(l.nome).includes(t));if(!a)return;const i=Tc(n,a);return Number.isFinite(i)?Number(i):void 0},vk=(n,e)=>{if(!e)return 0;const t=Tl(n.nome);return t.includes("adult")?Number(e.precoAdulto??0):t.includes("crian")?Number(e.precoCrianca??0):t.includes("bariat")?Number(e.precoBariatrica??0):0},$u=(n,e,t)=>{const a=Tc(n,e);return Number.isFinite(a)?Number(a):vk(e,t)},_o=n=>{const e=Number(n);return Number.isFinite(e)?Math.max(e,0):0},Af=n=>n?Object.values(n).reduce((e,t)=>e+_o(t),0):0,ea=n=>n.replace(/\D/g,""),A0=[{id:"visa",label:"Visa",pattern:/^4/,badgeClass:"bg-blue-600 text-white"},{id:"mastercard",label:"Mastercard",pattern:/^(5[1-5]|2[2-7])/,badgeClass:"bg-rose-600 text-white"},{id:"amex",label:"Amex",pattern:/^3[47]/,badgeClass:"bg-sky-600 text-white"},{id:"elo",label:"Elo",pattern:/^(4011(78|79)|431274|438935|451416|457393|45763[12]|504175|5067(0|1|2)|5090|627780|636297|636368|650)/,badgeClass:"bg-emerald-600 text-white"},{id:"hipercard",label:"Hipercard",pattern:/^(606282|3841)/,badgeClass:"bg-indigo-600 text-white"}],tT=n=>{const e=ea(n);return e?A0.find(a=>a.pattern.test(e))?.id??null:null},xk=n=>n==="amex"?15:19,bk=n=>{const e=ea(n).slice(0,11),t=e.slice(0,3),a=e.slice(3,6),i=e.slice(6,9),l=e.slice(9,11);let d=t;return a&&(d+=`.${a}`),i&&(d+=`.${i}`),l&&(d+=`-${l}`),d},_k=n=>{const e=ea(n).slice(0,11);return e.length===0?"":e.length<2?`(${e}`:e.length===2?`(${e})`:e.length<=6?`(${e.slice(0,2)}) ${e.slice(2)}`:e.length<=10?`(${e.slice(0,2)}) ${e.slice(2,6)}-${e.slice(6)}`:`(${e.slice(0,2)}) ${e.slice(2,7)}-${e.slice(7)}`},wk=n=>{const e=ea(n).slice(0,8);return e.length<=5?e:`${e.slice(0,5)}-${e.slice(5)}`},Ek=n=>{const e=ea(n),t=tT(e),a=xk(t),i=e.slice(0,a);if(t==="amex"){const l=/^(\d{0,4})(\d{0,6})(\d{0,5})$/.exec(i);return l?[l[1],l[2],l[3]].filter(Boolean).join(" "):i}return i.replace(/(\d{4})(?=\d)/g,"$1 ")},Nk=n=>{const e=ea(n).slice(0,6);return e.length<=2?e:`${e.slice(0,2)}/${e.slice(2)}`},Tk=n=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.trim()),Sk=n=>{const e=ea(n);if(e.length!==11||/^(\d)\1+$/.test(e))return!1;let t=0;for(let l=0;l<9;l+=1)t+=Number(e[l])*(10-l);let a=t*10%11;if(a===10&&(a=0),a!==Number(e[9]))return!1;t=0;for(let l=0;l<10;l+=1)t+=Number(e[l])*(11-l);let i=t*10%11;return i===10&&(i=0),i===Number(e[10])},w1=n=>{const e=ea(n);if(e.length<4)return null;const t=Number(e.slice(0,2));if(!Number.isFinite(t)||t<1||t>12)return null;let a=Number(e.slice(2));return!Number.isFinite(a)||(e.length===4&&(a+=2e3),e.length>=6&&(a=Number(e.slice(2,6))),!Number.isFinite(a)||a<2e3)?null:{month:t,year:a}},E1=(n,e)=>{const t=n?.error||n?.message||n?.details?.errors?.[0]?.description;return t?String(t):e},Ck=n=>{const e=ea(n);if(e.length<13||e.length>19)return!1;let t=0,a=!1;for(let i=e.length-1;i>=0;i-=1){let l=Number(e[i]);a&&(l*=2,l>9&&(l-=9)),t+=l,a=!a}return t%10===0},N1=n=>{const e=/^(\d{1,2}):(\d{2})/.exec(n.trim());if(!e)return null;const t=Number(e[1]),a=Number(e[2]);return!Number.isFinite(t)||!Number.isFinite(a)?null:t*60+a},T1=n=>{const e=_o(n.participantes),t=n.participantesPorTipo&&Object.keys(n.participantesPorTipo).length>0?Af(n.participantesPorTipo):0,i=(t>0?t:_o(n.adultos)+_o(n.criancas)+_o(n.bariatrica))+_o(n.naoPagante);return Math.max(i,e)};function Ak(){const[n,e]=T.useState([]),[t,a]=T.useState([]),[i,l]=T.useState([]),[d,m]=T.useState(!0),[p,g]=T.useState([]),[b,_]=T.useState([]),[E,D]=T.useState(0),[O,z]=T.useState(""),[$,K]=T.useState(""),[ge,se]=T.useState(""),[Ae,fe]=T.useState(""),[U,k]=T.useState(),[A,I]=T.useState(""),[M,B]=T.useState(new Set),[G,V]=T.useState(!1),[Ee,ve]=T.useState({}),[F]=T.useState(0),[le,ce]=T.useState(null),[Ce,P]=T.useState(!1),[oe,be]=T.useState(null),[me,De]=T.useState("CREDIT_CARD"),[qe,Ye]=T.useState(""),[Mt,jt]=T.useState(""),[dt,Tt]=T.useState(""),[on,Tn]=T.useState(""),[Ge,_t]=T.useState(null),[ha,Ia]=T.useState(""),[In,$r]=T.useState(""),[mr,Nr]=T.useState(""),[Yr,ir]=T.useState(""),[Vn,Wr]=T.useState(""),[fa,It]=T.useState(""),[Xe,mn]=T.useState(""),[Sn,ta]=T.useState({}),[Xn,Tr]=T.useState({}),[nt,or]=T.useState({}),Zn=T.useRef(null),Or=T.useRef(null),pr=T.useRef(null),ht=T.useRef(null),Vt=T.useRef(null),wt=T.useRef(null),Cn=T.useRef(null),yn=T.useRef(null),Sr=T.useRef(null),Ut=T.useRef(null),[xn,Et]=T.useState(null),[na,q]=T.useState(null),[te,ne]=T.useState(null),ye=T.useRef(null);T.useEffect(()=>{be(null),Et(null),q(null),ne(null),_t(null)},[me]);const Se=T.useMemo(()=>tT(Mt),[Mt]),ke=T.useMemo(()=>Se?A0.find(j=>j.id===Se)??null:null,[Se]),Je=Se==="amex"?"0000 000000 00000":"0000 0000 0000 0000",Ue=Se==="amex"?17:23,Fe=Se==="amex"?4:3,We=Se==="amex"?"1234":"123",it=Mt.trim()?Mt:Je,et=qe.trim()?qe.trim().toUpperCase():"NOME NO CARTAO",ot=dt.trim()?dt:"MM/AA",Ze=me==="CREDIT_CARD"&&["processing","pending"].includes(Ge?.status??"");T.useEffect(()=>{Tn(j=>j.slice(0,Fe))},[Fe]);const Nt=()=>{D(0),_([]),z(""),K(""),se(""),fe(""),k(void 0),I(""),ve({}),ce(null),be(null),De("CREDIT_CARD"),Ye(""),jt(""),Tt(""),Tn(""),Ia(""),$r(""),Nr(""),ir(""),Wr(""),It(""),mn(""),ta({}),or({}),Et(null),q(null),ne(null)},Dt=(()=>{const j=new Date;return j.setHours(0,0,0,0),j})(),lt=j=>`w-full px-3 py-2 rounded-md border focus:outline-none focus:ring-2 ${nt[j]?"border-red-400 focus:ring-red-500":"border-black focus:ring-black"}`,He=T.useCallback((j,W)=>{or(de=>{if(W)return de[j]===W?de:{...de,[j]:W};if(!(j in de))return de;const{[j]:Z,...Re}=de;return Re})},[]),gr=["nome","email","cpf","telefone"],Ln=j=>{switch(j){case"nome":{const W=O.trim();return W?W.length<3?"Digite um nome vlido.":"":"Informe seu nome completo."}case"email":{const W=$.trim();return W?Tk(W)?"":"Digite um e-mail vlido.":"Informe seu e-mail."}case"cpf":{const W=Ae.trim();return W?Sk(W)?"":"Digite um CPF vlido.":"Informe seu CPF."}case"telefone":{const W=ge.trim();return W&&ea(W).length<10?"Digite um telefone vlido com DDD.":""}default:return""}},yr=T.useCallback(j=>{const W=["pacotes","data","horario","participantes","pet","nome","email","cpf","telefone","cartaoNome","cartaoNumero","cartaoValidade","cartaoCvv","enderecoCep","enderecoRua","enderecoNumero","enderecoBairro","enderecoCidade","enderecoEstado"],de=Z=>{switch(Z){case"pacotes":return Zn.current;case"nome":return Or.current;case"email":return pr.current;case"cpf":return ht.current;case"telefone":return Vt.current;case"data":return wt.current;case"horario":return Cn.current;case"participantes":return yn.current;case"pet":return Sr.current;case"cartaoNome":case"cartaoNumero":case"cartaoValidade":case"cartaoCvv":case"enderecoCep":case"enderecoRua":case"enderecoNumero":case"enderecoBairro":case"enderecoCidade":case"enderecoEstado":return Ut.current;default:return null}};for(const Z of W)if(j[Z]){const Re=de(Z);if(Re){Re.scrollIntoView({behavior:"smooth",block:"center"});const je=Re;typeof je.focus=="function"&&je.focus()}break}},[]),Fn=j=>{const W=Ln(j);return He(j,W||void 0),!W};T.useEffect(()=>{async function j(){try{const de=(await bo(_a(un,"tipos_clientes"))).docs.map(Ie=>{const Oe=Ie.data();return{id:Ie.id,nome:Oe.nome??"",descricao:Oe.descricao??""}}).filter(Ie=>Ie.nome.trim().length>0).sort((Ie,Oe)=>Ie.nome.localeCompare(Oe.nome,"pt-BR",{sensitivity:"base"})),Re=(await bo(_a(un,"pacotes"))).docs.map(Ie=>({id:Ie.id,...Ie.data()})),ze=(await bo(_a(un,"combos"))).docs.map(Ie=>{const Oe=Ie.data(),On=Oe.precosPorTipo&&typeof Oe.precosPorTipo=="object"?Object.fromEntries(Object.entries(Oe.precosPorTipo).map(([Jt,$a])=>[Jt,Number($a)||0])):void 0;return{id:Ie.id,nome:Oe.nome||"",pacoteIds:Array.isArray(Oe.pacoteIds)?Oe.pacoteIds.map(Jt=>(Jt??"").toString()).filter(Boolean):[],preco:Number(Oe.preco??0),precoAdulto:Number(Oe.precoAdulto??0),precoCrianca:Number(Oe.precoCrianca??0),precoBariatrica:Number(Oe.precoBariatrica??0),precosPorTipo:On,desconto:Number(Oe.desconto??0),ativo:Oe.ativo!==!1}}).filter(Ie=>Ie.ativo&&Ie.pacoteIds.length>0),yt=Re.map(Ie=>({id:Ie.id,nome:Ie.nome,tipo:Ie.tipo,emoji:Ie.emoji,precoAdulto:Number(Ie.precoAdulto),precoCrianca:Number(Ie.precoCrianca),precoBariatrica:Number(Ie.precoBariatrica),precosPorTipo:Ie.precosPorTipo&&typeof Ie.precosPorTipo=="object"?Object.fromEntries(Object.entries(Ie.precosPorTipo).map(([Oe,On])=>[Oe,Number(On)||0])):void 0,horarios:Ie.horarios??[],dias:Array.isArray(Ie.dias)?Ie.dias:[],limite:Ie.limite!==void 0?Number(Ie.limite):void 0,datasBloqueadas:Array.isArray(Ie.datasBloqueadas)?Ie.datasBloqueadas:[],aceitaPet:Ie.aceitaPet!==!1,modoHorario:Ie.modoHorario||"lista",horarioInicio:Ie.horarioInicio||"",horarioFim:Ie.horarioFim||"",perguntasPersonalizadas:Array.isArray(Ie.perguntasPersonalizadas)?Ie.perguntasPersonalizadas:[]}));l(de),e(yt),a(ze),console.log(" Pacotes carregados:",yt.map(Ie=>({nome:Ie.nome,datasBloqueadas:Ie.datasBloqueadas})))}catch(W){console.error("Erro ao buscar dados:",W),e([]),a([]),l([])}finally{m(!1)}}j()},[]);const nn=T.useMemo(()=>i,[i]);T.useEffect(()=>{ve(j=>{const W={};return nn.forEach((de,Z)=>{const Re=Qg(de),je=Tc(j,de);if(Number.isFinite(je)){W[Re]=Number(je);return}if(Object.keys(j).length===0&&Z===0){W[Re]=1;return}W[Re]=0}),W})},[nn]);const Un=T.useCallback(j=>j?nn.some(W=>$u(j.precosPorTipo,W,j)>0):!1,[nn]),Sa=T.useCallback(j=>nn.map(de=>{const Z=$u(j.precosPorTipo,de,j);return Z>0?`${de.nome} ${dl(Z)}`:""}).filter(de=>de.length>0).join("  "),[nn]);T.useEffect(()=>{const j=pl(_a(un,"disponibilidade"),Gs("fechado","==",!0)),W=Ec(j,de=>{const Z=new Set;de.forEach(Re=>{const je=Re.data(),ze=typeof je?.data=="string"?je.data:Re.id;Z.add(ze)}),B(Z)},de=>{console.error("Erro ao acompanhar dias bloqueados:",de)});return()=>W()},[]);const at=T.useMemo(()=>n.filter(j=>j.id&&b.includes(j.id)),[n,b]),lr=T.useMemo(()=>{const j=new Map;return n.forEach(W=>{W.id&&j.set(W.id,W)}),j},[n]),ft=T.useMemo(()=>{const j=new Map;return n.forEach(W=>{W.id&&j.set(Tl(W.nome),W.id)}),j},[n]),An=T.useCallback(j=>{if(Array.isArray(j.pacoteIds)&&j.pacoteIds.length>0)return j.pacoteIds.map(Z=>Z?.toString()).filter(Z=>!!Z);if(!j.atividade)return[];const W=Tl(j.atividade),de=[];return ft.forEach((Z,Re)=>{W.includes(Re)&&de.push(Z)}),de},[ft]),cr=T.useMemo(()=>{const j={};return p.forEach(W=>{const de=(W.horario??"").toString().trim();if(!de)return;const Z=T1(W);if(Z<=0)return;const Re=An(W);Re.length!==0&&Array.from(new Set(Re)).forEach(je=>{const ze=`${je}__${de}`;j[ze]=(j[ze]??0)+Z})}),j},[An,p]),Hn=T.useMemo(()=>{const j={};return p.forEach(W=>{const de=T1(W);if(de<=0)return;const Z=An(W);Z.length!==0&&Array.from(new Set(Z)).forEach(Re=>{j[Re]=(j[Re]??0)+de})}),j},[An,p]),Ke=T.useMemo(()=>{if(b.length!==0)return t.find(j=>j.pacoteIds.length===b.length&&j.pacoteIds.every(W=>b.includes(W)))},[t,b]),dn=j=>{if(Ke?.id===j.id)_([]);else{const de=j.pacoteIds.filter(Z=>lr.has(Z));_(de)}I(""),He("pacotes")},Gt=T.useMemo(()=>at.some(j=>j.modoHorario==="intervalo"||j.horarios&&j.horarios.length===0),[at]);T.useEffect(()=>{if(!U){g([]);return}const j=U.toISOString().slice(0,10),W=pl(_a(un,"reservas"),Gs("data","==",j)),de=Ec(W,Z=>{const je=Z.docs.map(ze=>({id:ze.id,...ze.data()})).filter(yk);g(je)},Z=>{console.error("Erro ao acompanhar reservas:",Z),g([])});return()=>de()},[U]),T.useEffect(()=>{if(!U){Tr({}),V(!1);return}let j=!0;const W=U.toISOString().slice(0,10);return(async()=>{try{const Z=oa(un,"disponibilidade",W),Re=await S0(Z);if(!j)return;const je=Re.exists()?Re.data():null;je&&typeof je.horarios=="object"?Tr(je.horarios):Tr({}),V(!!je?.fechado||M.has(W))}catch(Z){console.error("Erro ao carregar disponibilidade:",Z),j&&(Tr({}),V(M.has(W)))}})(),()=>{j=!1}},[U,M]),T.useEffect(()=>{if(at.length===0){ta({});return}ta(j=>{const W=new Set;at.forEach(Z=>{Z.id&&(Z.perguntasPersonalizadas??[]).forEach(Re=>{W.add(`${Z.id}-${Re.id}`)})});const de={};return Object.entries(j).forEach(([Z,Re])=>{W.has(Z)&&(de[Z]=Re)}),de})},[at]);const kr=T.useMemo(()=>{if(at.length===0)return[];const j=[...new Set(at.flatMap(je=>je.horarios||[]))];if(!U)return j;if(G)return[];const W=U.toISOString().slice(0,10);let de=j.filter(je=>at.every(ze=>{if(!ze.id)return!0;const yt=`${W}-${ze.id}-${je}`;return Xn[yt]!==!1}));const Z=new Date;if(U.getFullYear()===Z.getFullYear()&&U.getMonth()===Z.getMonth()&&U.getDate()===Z.getDate()){const je=Z.getHours()*60+Z.getMinutes();de=de.filter(ze=>{const yt=N1(ze);return yt===null?!0:yt>=je})}return de},[U,at,Xn,G]),bn=T.useMemo(()=>{const j={};return at.length===0||kr.forEach(W=>{let de=null;at.forEach(Z=>{if(!Z.id)return;const Re=Number(Z.limite??0);if(!Number.isFinite(Re)||Re<=0)return;const ze=Z.modoHorario==="intervalo"||(Z.horarios?.length??0)===0?Hn[Z.id]??0:cr[`${Z.id}__${W}`]??0,yt=Re-ze;de=de===null?yt:Math.min(de,yt)}),j[W]=de}),j},[kr,Hn,cr,at]),Ba=T.useMemo(()=>{let j=null;return at.forEach(W=>{if(!W.id||!(W.modoHorario==="intervalo"||(W.horarios?.length??0)===0))return;const Z=Number(W.limite??0);if(!Number.isFinite(Z)||Z<=0)return;const Re=Hn[W.id]??0,je=Z-Re;j=j===null?je:Math.min(j,je)}),j},[Hn,at]),ur=T.useMemo(()=>Af(Ee)+F,[F,Ee]),ma=T.useMemo(()=>{if(!A)return null;const j=bn[A];return typeof j=="number"?j:null},[A,bn]),qn=T.useMemo(()=>{let j=null;return typeof Ba=="number"&&(j=Ba),typeof ma=="number"&&(j=j===null?ma:Math.min(j,ma)),j},[ma,Ba]),Ca=T.useMemo(()=>kr.filter(j=>{const W=bn[j];return W===null||typeof W!="number"?!0:Math.max(W,0)>0}),[kr,bn]),Cr=T.useMemo(()=>Ca.filter(j=>{const W=bn[j];if(W===null||typeof W!="number")return!0;const de=Math.max(W,0);return de<=0?!1:ur<=0?!0:de>=ur}),[Ca,bn,ur]);T.useEffect(()=>{A&&(Cr.includes(A)||I(""))},[Cr,A]);const Pn=T.useMemo(()=>{const j={};if(!U||G)return j;const W=U.toISOString().slice(0,10),de=new Date,Z=U.getFullYear()===de.getFullYear()&&U.getMonth()===de.getMonth()&&U.getDate()===de.getDate(),Re=de.getHours()*60+de.getMinutes();return n.forEach(je=>{if(!je.id)return;if((je.datasBloqueadas??[]).includes(W)){j[je.id]=!1;return}const ze=je.modoHorario==="intervalo"||(je.horarios?.length??0)===0,yt=Number(je.limite??0),Ie=Number.isFinite(yt)&&yt>0;if(ze){if(!Ie){j[je.id]=!0;return}const On=Hn[je.id]??0;j[je.id]=yt-On>0;return}let Oe=Array.isArray(je.horarios)?je.horarios:[];if(Oe.length===0){j[je.id]=!1;return}if(Oe=Oe.filter(On=>{const Jt=`${W}-${je.id}-${On}`;return Xn[Jt]!==!1}),Z&&(Oe=Oe.filter(On=>{const Jt=N1(On);return Jt===null?!0:Jt>=Re})),Oe.length===0){j[je.id]=!1;return}if(!Ie){j[je.id]=!0;return}j[je.id]=Oe.some(On=>{const Jt=cr[`${je.id}__${On}`]??0;return yt-Jt>0})}),j},[G,Xn,n,Hn,cr,U]),Ar=T.useMemo(()=>{const j={};return!U||G||t.forEach(W=>{if(!W.id)return;const de=W.pacoteIds.map(Z=>lr.get(Z)).filter(Boolean);if(de.length!==W.pacoteIds.length||de.length===0){j[W.id]=!1;return}j[W.id]=de.every(Z=>Z.id&&Pn[Z.id]!==!1)}),j},[t,G,Pn,lr,U]);if(T.useEffect(()=>{const j=E===0?Zn.current:E===1?wt.current??yn.current:Or.current??Ut.current;if(!j)return;const W=window.setTimeout(()=>{j.scrollIntoView({behavior:"smooth",block:"start"})},80);return()=>window.clearTimeout(W)},[E]),d)return u.jsx("section",{id:"reservas",className:"py-10",children:u.jsx("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"mx-auto max-w-3xl rounded-3xl border border-white/60 bg-white/80 p-8 text-center shadow-xl backdrop-blur md:p-10",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Reserva"}),u.jsx("h2",{className:"mt-2 text-2xl font-bold text-[#8B4F23] md:text-3xl",children:"Carregando pacotes..."}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Aguarde um instante enquanto preparamos o formulrio."})]})})});if(n.length===0)return u.jsx("section",{id:"reservas",className:"py-10",children:u.jsx("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"mx-auto max-w-3xl rounded-3xl border border-white/60 bg-white/80 p-8 text-center shadow-xl backdrop-blur md:p-10",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Reserva"}),u.jsx("h2",{className:"mt-2 text-2xl font-bold text-[#8B4F23] md:text-3xl",children:"Nenhum pacote disponvel para reserva"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Tente novamente mais tarde ou entre em contato via WhatsApp."})]})})});const Fa=()=>{let j=0;if(at.forEach(W=>{const de=nn.reduce((Z,Re)=>{const je=Number(Tc(Ee,Re)??0),ze=$u(W.precosPorTipo,Re,W);return Z+je*ze},0);j+=de}),Ke)if(Un(Ke))j=nn.reduce((W,de)=>{const Z=Number(Tc(Ee,de)??0),Re=$u(Ke.precosPorTipo,de,Ke);return W+Z*Re},0);else{const W=Number(Ke.preco);Number.isFinite(W)&&W>0?j=W:Ke.desconto&&Ke.desconto>0&&(j=j*(1-Ke.desconto/100))}return j},as=j=>{if(at.length===0)return!1;const W=j.toISOString().slice(0,10);return M.has(W)?!1:at.some(de=>!(de.datasBloqueadas??[]).includes(W))},pa=j=>{if(at.length===0)return!1;const W=j.toISOString().slice(0,10);return M.has(W)?!0:at.every(de=>(de.datasBloqueadas??[]).includes(W))},ln=()=>{if(at.length===0)return null;const j=at.filter(de=>de.aceitaPet),W=at.filter(de=>!de.aceitaPet);if(W.length>0&&j.length>0){const de=W.map(Re=>Re.nome).join(", "),Z=j.map(Re=>Re.nome).join(", ");return`A atividade ${de} no permite Pets, A ${Z} sim.`}return W.length>0&&j.length===0?`No  permitido pets na atividade: ${W.map(Z=>Z.nome).join(", ")}`:null},Ha=j=>{k(j),I(""),He("data"),He("horario")},dr=j=>{_(W=>W.includes(j)?W.filter(de=>de!==j):[...W,j]),I(""),He("pacotes"),He("horario")},Pa=(j,W,de,Z)=>{ta(Re=>{const je={...Re},ze=Z?W.trim():W;if(!ze)return je[j]&&delete je[j],je;const Ie={...je[j]??{},resposta:ze};return de&&ze!==de&&Ie.condicional!==void 0&&delete Ie.condicional,je[j]=Ie,je})},qa=(j,W,de)=>{ta(Z=>{const Re={...Z},je=de?W.trim():W;if(!je){if(Re[j]){const yt={...Re[j]};delete yt.condicional,Re[j]=yt}return Re}const ze=Re[j]??{};return Re[j]={...ze,condicional:je},Re})},ks=()=>{const j=[];for(const W of at){if(!W.id)continue;const de=W.perguntasPersonalizadas??[];for(const Z of de){const Re=`${W.id}-${Z.id}`,je=Sn[Re];let ze=je?.resposta??"";if(Z.tipo==="texto"?ze=ze.toString().trim():Z.tipo==="sim_nao"&&(ze=ze.toString()),Z.obrigatoria){if(Z.tipo==="sim_nao"){if(ze!=="sim"&&ze!=="nao")return{respostas:[],erro:`Responda a pergunta "${Z.pergunta}" do pacote ${W.nome}.`}}else if(!ze)return{respostas:[],erro:`Responda a pergunta "${Z.pergunta}" do pacote ${W.nome}.`}}if(!(Z.tipo==="sim_nao"?ze==="sim"||ze==="nao":!!ze))continue;const Ie={pacoteId:W.id,pacoteNome:W.nome,perguntaId:Z.id,pergunta:Z.pergunta,tipo:Z.tipo,obrigatoria:Z.obrigatoria,resposta:(Z.tipo==="texto",ze)};if(Z.perguntaCondicional){const Oe=Z.perguntaCondicional;if(ze===Oe.condicao){let Jt=je?.condicional??"";if(Oe.tipo==="texto"?Jt=Jt.toString().trim():Oe.tipo==="sim_nao"&&(Jt=Jt.toString()),Oe.obrigatoria){if(Oe.tipo==="sim_nao"){if(Jt!=="sim"&&Jt!=="nao")return{respostas:[],erro:`Responda a pergunta complementar "${Oe.pergunta}" do pacote ${W.nome}.`}}else if(!Jt)return{respostas:[],erro:`Responda a pergunta complementar "${Oe.pergunta}" do pacote ${W.nome}.`}}(Oe.tipo==="sim_nao"?Jt==="sim"||Jt==="nao":!!Jt)&&(Ie.perguntaCondicional={pergunta:Oe.pergunta,tipo:Oe.tipo,obrigatoria:Oe.obrigatoria,resposta:Jt})}}j.push(Ie)}}return{respostas:j}},di=["pacotes","data","horario","participantes","pet","nome","email","cpf","telefone","cartaoNome","cartaoNumero","cartaoValidade","cartaoCvv","enderecoCep","enderecoRua","enderecoNumero","enderecoBairro","enderecoCidade","enderecoEstado"],xs=j=>j==="pacotes"?0:["data","horario","participantes","pet"].includes(j)?1:2,Fo=j=>{for(const de of di)if(j[de])return xs(de);const W=Object.keys(j)[0];return W?xs(W):0},Vs=j=>{const W={};if(j>=0&&b.length===0&&(W.pacotes="Selecione pelo menos um pacote."),j>=1){b.length>0&&(U?G&&(W.data="Esta data est indisponvel. Escolha outra."):W.data="Selecione uma data disponvel.");const de=at.some(Ie=>(Ie.horarios?.length??0)>0),Z=kr.length>0,Re=Ca.length>0,je=Cr.length>0;U&&Z&&!A&&(W.horario=je?"Escolha um horrio disponvel.":Re?"Nenhum horrio comporta a quantidade de participantes selecionada. Reduza os participantes ou escolha outra data.":"Todos os horrios esto lotados para os pacotes selecionados."),U&&!Z&&!Gt&&de&&(W.horario="No h horrios disponveis para os pacotes selecionados nesta data.");const ze=ur;ze<=0&&(W.participantes="Informe a quantidade de participantes.");const yt=typeof qn=="number"?Math.max(qn,0):null;if(yt!==null&&ze>yt){const Ie=typeof ma=="number"?Math.max(ma,0):null,Oe=typeof Ba=="number"?Math.max(Ba,0):null;Ie!==null&&ze>Ie?W.horario=`Restam apenas ${Ie} vaga(s) para este horrio.`:Oe!==null?W.participantes=`Restam apenas ${Oe} vaga(s) disponveis para esta data.`:W.participantes=`Restam apenas ${yt} vaga(s) disponveis.`}le===null&&(W.pet="Informe se vai levar pet.")}if(j>=2&&(gr.forEach(de=>{const Z=Ln(de);Z&&(W[de]=Z)}),me==="CREDIT_CARD")){qe.trim()||(W.cartaoNome="Informe o nome no cartao."),Ck(Mt)||(W.cartaoNumero="Informe um numero de cartao valido.");const de=w1(dt);if(!de)W.cartaoValidade="Informe a validade (MM/AA).";else{const ze=new Date,yt=new Date(ze.getFullYear(),ze.getMonth(),1);new Date(de.year,de.month,0)<yt&&(W.cartaoValidade="Cartao vencido.")}const Z=ea(on);(Z.length<3||Z.length>4)&&(W.cartaoCvv="Informe o CVV."),ea(ha).length!==8&&(W.enderecoCep="Informe o CEP."),In.trim()||(W.enderecoRua="Informe o endereco."),mr.trim()||(W.enderecoNumero="Informe o numero."),Vn.trim()||(W.enderecoBairro="Informe o bairro."),fa.trim()||(W.enderecoCidade="Informe a cidade."),Xe.trim().toUpperCase().length!==2&&(W.enderecoEstado="Informe o estado (UF).")}return W},Aa=(j,W)=>{const de=Vs(j);return or(de),Object.keys(de).length>0?(W?.scroll!==!1&&yr(de),{ok:!1,errors:de}):{ok:!0,errors:{}}},vr=[{title:"Atividades",description:"Escolha os pacotes e/ou combos."},{title:"Agendamento",description:"Defina data, horrio, participantes e preferncias."},{title:"Pagamento",description:"Preencha seus dados e finalize a reserva."}],St=()=>{D(j=>j>0?j-1:j)},Jn=()=>{if(E===0){const{ok:j}=Aa(0);if(!j)return;D(1);return}if(E===1){const{ok:j}=Aa(1);if(!j)return;const{erro:W}=ks();if(W){alert(W);return}D(2)}};async function bs(j){if(j.preventDefault(),E!==2){Jn();return}if(Ce||Ze)return;const W=Aa(2,{scroll:!1});if(!W.ok){const Re=Fo(W.errors);D(Re),window.setTimeout(()=>yr(W.errors),120);return}if(!U||b.length===0||le===null)return;const{respostas:de,erro:Z}=ks();if(Z){D(1),alert(Z);return}P(!0),be(null),Et(null),q(null),ne(null),_t(me==="CREDIT_CARD"?{status:"processing",message:"Processando compra. Aguarde a confirmacao do cartao."}:null);try{const Re=U.toISOString().slice(0,10),je=Af(Ee)+F,ze=Fa(),yt=Cr.length>0&&A?A:"Sem horrio especfico",Ie=at.map(pn=>pn.nome).join(" + "),Oe=Ke?Un(Ke)?` (Combo: ${Ke.nome} - ${Sa(Ke)})`:Ke.preco&&Ke.preco>0?` (Combo: ${Ke.nome} - valor especial ${dl(Ke.preco)})`:Ke.desconto&&Ke.desconto>0?` (Combo: ${Ke.nome} - ${Ke.desconto}% de desconto)`:` (Combo: ${Ke.nome})`:"",On=df(Ee,nn,"adult")??0,Jt=df(Ee,nn,"crian")??0,$a=df(Ee,nn,"bariat")??0,is=me==="CREDIT_CARD"?w1(dt):null,Oa={nome:O,email:$,valor:ze,cpf:Ae,telefone:ge,atividade:Ie+Oe,data:Re,participantes:je,participantesPorTipo:Ee,adultos:On,bariatrica:$a,criancas:Jt,naoPagante:F,billingType:me,horario:yt,temPet:le,pacoteIds:b,comboId:Ke?.id||null};me==="CREDIT_CARD"&&is&&(Oa.creditCard={holderName:qe.trim(),number:ea(Mt),expiryMonth:String(is.month).padStart(2,"0"),expiryYear:String(is.year),ccv:ea(on)},Oa.creditCardHolderInfo={name:qe.trim(),email:$,cpfCnpj:ea(Ae),postalCode:ea(ha),address:In.trim(),addressNumber:mr.trim(),addressComplement:Yr.trim(),province:Vn.trim(),city:fa.trim(),state:Xe.trim().toUpperCase(),phone:ea(ge)}),de.length>0&&(Oa.perguntasPersonalizadas=de),console.log(" Enviando payload:",{nome:O,email:$,valor:ze,data:Re,billingType:me});const ya=await fetch("https://vagafogo-production.up.railway.app/criar-cobranca",{method:"POST",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(Oa)});console.log(" Status da resposta:",ya.status);const $n=await ya.json().catch(()=>({}));if(console.log(" Resposta completa:",$n),!ya.ok){console.error(" Erro na resposta:",$n);const pn=E1($n,"Erro ao criar a cobranca.");me==="CREDIT_CARD"?_t({status:"error",message:`Compra negada: ${pn}`}):alert(`Erro ao criar a cobranca: ${pn}`);return}if($n?.status==="ok"){if(console.log(" Resposta OK recebida:",$n),console.log(" Invoice URL:",$n.cobranca?.invoiceUrl),console.log(" PIX Key:",$n.cobranca?.pixKey),me==="PIX")be($n.cobranca?.invoiceUrl||null),Et($n.cobranca?.pixKey||null),q($n.cobranca?.qrCodeImage||null),ne($n.cobranca?.expirationDate||null);else{const pn=String($n.cobranca?.status??"").toUpperCase(),Ls=["CONFIRMED","RECEIVED","PAID"].includes(pn),Ya=["DECLINED","DENIED","REFUSED","FAILED","CANCELED","CANCELLED","CHARGEBACK"].includes(pn),_s=Ls?"success":Ya?"error":"pending",Us=Ls?"Compra realizada com sucesso. Reserva confirmada.":Ya?`Compra negada. Motivo: ${pn||"NAO INFORMADO"}.`:"Pagamento em processamento. Aguarde a confirmacao do cartao.";_t({status:_s,message:Us}),Ls&&Nt()}setTimeout(()=>{ye.current?.scrollIntoView({behavior:"smooth",block:"center"})},100),$a>0&&alert(" IMPORTANTE: Como voc selecionou opo baritrica, ser necessrio enviar a foto da carteirinha via WhatsApp aps realizar a reserva para validao.")}else{console.error(" Status no  OK:",$n?.status);const pn=E1($n,"Erro ao criar a cobranca. Verifique os dados ou tente novamente.");me==="CREDIT_CARD"?_t({status:"error",message:`Compra negada: ${pn}`}):alert(pn)}}catch(Re){console.error("Erro ao processar reserva:",Re),me==="CREDIT_CARD"?_t({status:"error",message:"Erro ao processar a compra. Tente novamente."}):alert("Erro ao processar reserva. Tente novamente.")}finally{P(!1)}}const ga=b.length>0?Fa():0,ss=at.map(j=>j.nome).filter(Boolean),Ra=at.filter(j=>j.modoHorario==="intervalo"&&j.horarioInicio&&j.horarioFim).map(j=>`${j.horarioInicio}${j.horarioFim}`),Gr=A||(Cr.length>0?"Selecione um horrio":Ra.length>0?`Faixa: ${Ra.join(" / ")}`:"Sem horrio especfico"),ra=u.jsxs("div",{className:"rounded-3xl border border-white/60 bg-white/80 p-5 shadow-sm backdrop-blur",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Resumo"}),u.jsxs("div",{className:"mt-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Atividades"}),ss.length>0?u.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-slate-700",children:[ss.slice(0,3).map(j=>u.jsx("li",{className:"truncate",children:j},j)),ss.length>3&&u.jsxs("li",{className:"text-slate-500",children:["+ ",ss.length-3," outro(s)"]})]}):u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Selecione os pacotes para continuar."}),Ke&&u.jsxs("p",{className:"mt-2 text-xs font-semibold text-emerald-700",children:["Combo: ",Ke.nome]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Data"}),u.jsx("p",{className:"mt-1 text-slate-700",children:U?U.toLocaleDateString("pt-BR"):""})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Horrio"}),u.jsx("p",{className:"mt-1 text-slate-700",children:U?Gr:""})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Participantes"}),u.jsx("p",{className:"mt-1 text-slate-700",children:ur>0?ur:""})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Pagamento"}),u.jsx("p",{className:"mt-1 text-slate-700",children:me==="PIX"?"PIX":"Carto"})]})]})]}),u.jsxs("div",{className:"mt-5 flex items-baseline justify-between rounded-2xl bg-slate-50 px-4 py-3",children:[u.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Total"}),u.jsx("span",{className:"text-xl font-bold text-emerald-700",children:dl(ga)})]})]});return u.jsx("section",{id:"reservas",className:"py-10",children:u.jsx("div",{className:"mx-auto w-full max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"mx-auto max-w-6xl",children:u.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1fr)_360px] lg:items-start",children:[u.jsxs("div",{children:[u.jsxs("form",{onSubmit:bs,noValidate:!0,className:"rounded-3xl border border-white/60 bg-white/80 p-6 shadow-xl backdrop-blur md:p-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:u.jsxs("div",{children:[u.jsxs("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:["Etapa ",E+1," de ",vr.length]}),u.jsx("h2",{className:"mt-1 text-xl font-bold text-slate-900",children:vr[E].title}),u.jsx("p",{className:"mt-1 text-sm text-slate-600",children:vr[E].description})]})}),u.jsx("div",{className:"mt-4 h-2 w-full rounded-full bg-slate-100",children:u.jsx("div",{className:"h-2 rounded-full bg-emerald-600 transition-all",style:{width:`${(E+1)/vr.length*100}%`}})}),u.jsx("div",{className:"mt-5 hidden grid-cols-3 gap-3 sm:grid",children:vr.map((j,W)=>{const de=W===E,Z=W<=E;return u.jsxs("button",{type:"button",disabled:!Z,onClick:()=>Z&&D(W),className:`flex items-center gap-3 rounded-2xl border p-3 text-left transition ${de?"border-emerald-200 bg-emerald-50":Z?"border-slate-200 bg-white hover:bg-slate-50":"cursor-not-allowed border-slate-100 bg-slate-50 text-slate-400"}`,children:[u.jsx("span",{className:`flex h-8 w-8 items-center justify-center rounded-full text-sm font-bold ${de||Z?"bg-emerald-600 text-white":"bg-slate-200 text-slate-500"}`,children:W+1}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"truncate text-sm font-semibold text-slate-900",children:j.title}),u.jsx("p",{className:"truncate text-xs text-slate-500",children:j.description})]})]},j.title)})})]}),u.jsx("div",{className:"mb-8 lg:hidden",children:ra}),E===0&&u.jsxs(u.Fragment,{children:[t.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Combos especiais"}),u.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:t.map(j=>{const W=j.pacoteIds.map(yt=>lr.get(yt)?.nome??"Pacote removido").filter(Boolean).join(", "),de=Ke?.id===j.id,Z=!!(U&&j.id&&Ar[j.id]===!1),Re=Z&&!de,je=Un(j),ze=Sa(j);return u.jsx("button",{type:"button",disabled:Re,onClick:()=>dn(j),className:`rounded-2xl border p-4 text-left transition ${Re?"border-gray-200 bg-gray-50 text-gray-500 cursor-not-allowed opacity-60":de?"border-green-500 bg-green-50 shadow-md":"border-gray-200 hover:border-green-300 hover:bg-green-50/40"}`,children:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-gray-800",children:j.nome}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Inclui: ",W||"Pacotes removidos"]})]}),u.jsx("span",{className:`text-xs font-semibold ${Z?"text-red-700":"text-green-700"}`,children:Z?"Esgotado":je?"Tabela personalizada":j.preco&&j.preco>0?dl(j.preco):j.desconto&&j.desconto>0?`${j.desconto}% off`:"Especial"})]}),je&&u.jsx("div",{className:"text-xs text-gray-600",children:ze||"Configurao por tipo"})]})},j.id)})}),u.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Ao selecionar um combo, os pacotes correspondentes so escolhidos automaticamente."})]}),u.jsxs("div",{ref:Zn,className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Selecione os Pacotes *"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(j=>{const W=b.includes(j.id),de=!!(U&&j.id&&Pn[j.id]===!1),Z=de&&!W;return u.jsx("div",{"aria-disabled":Z,className:`border-2 rounded-lg p-4 transition-all ${Z?"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed":W?"border-green-500 bg-green-50 cursor-pointer":"border-gray-200 hover:border-green-300 cursor-pointer"}`,onClick:()=>{Z||dr(j.id)},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[u.jsxs("span",{children:[j.emoji," ",j.nome]}),de&&u.jsx("span",{className:"inline-flex items-center rounded-full bg-red-100 px-2 py-0.5 text-xs font-semibold text-red-700",children:"Esgotado"})]}),nn.map(Re=>u.jsxs("p",{className:"text-sm text-gray-600",children:[Re.nome,": ",dl($u(j.precosPorTipo,Re,j))]},Qg(Re)))]}),u.jsx("input",{type:"checkbox",disabled:Z,checked:W,onChange:()=>dr(j.id),onClick:Re=>Re.stopPropagation(),className:"w-5 h-5 text-green-600"})]})},j.id)})}),Ke&&u.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:u.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[" Combo ativo: ",Ke.nome," "," ",Un(Ke)?Sa(Ke)||"valores personalizados":Ke.preco&&Ke.preco>0?`valor especial ${dl(Ke.preco)}`:Ke.desconto&&Ke.desconto>0?`${Ke.desconto}% de desconto aplicado`:"condies especiais aplicadas"]})}),nt.pacotes&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:nt.pacotes})]})]}),E===1&&u.jsxs(u.Fragment,{children:[b.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Selecione a Data *"}),u.jsx("div",{ref:wt,className:"flex justify-center",children:u.jsx(LO,{mode:"single",selected:U,onSelect:Ha,disabled:[{before:Dt},j=>!as(j)],locale:mk,className:"border border-black rounded-lg p-4",modifiers:{blocked:j=>pa(j)},modifiersStyles:{blocked:{backgroundColor:"#fee2e2",color:"#dc2626",textDecoration:"line-through"}}})}),nt.data&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:nt.data})]}),U&&at.length>0&&u.jsx("div",{ref:Cn,className:"mb-6",children:G?u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-700",children:"Este dia esta fechado para todos os pacotes. Escolha outra data para continuar."})}):kr.length>0?u.jsxs(u.Fragment,{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horario *"}),u.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:kr.map(j=>{const W=bn[j],de=typeof W=="number"?Math.max(W,0):null,Z=typeof W=="number"&&W<=0,Re=!Z&&typeof W=="number"&&ur>Math.max(W,0),je=Z||Re,ze=A===j,yt="flex flex-col items-center justify-center rounded-lg border px-3 py-2 text-sm font-medium transition",Ie=Z?"border-red-300 bg-red-50 text-red-600 cursor-not-allowed":Re?"border-yellow-300 bg-yellow-50 text-yellow-700 cursor-not-allowed":ze?"border-black bg-black text-white":"border-black text-gray-900 hover:bg-black hover:text-white",Oe=Z?"text-red-500":Re?"text-yellow-700":"text-gray-500",On=de===null?"Sem limite de vagas":Z?"Esgotado":Re?`Insuficiente (${de} vaga(s))`:`${de} vaga(s)`;return u.jsxs("button",{type:"button",disabled:je,onClick:()=>{I(j),He("horario")},className:`${yt} ${Ie}`,children:[u.jsx("span",{className:"text-base",children:j}),u.jsx("span",{className:`text-xs ${Oe}`,children:On})]},j)})}),Ca.length>0&&Cr.length===0&&u.jsxs("p",{className:"mt-2 text-sm text-yellow-700",children:["Nenhum horrio comporta ",ur," participante(s). Reduza a quantidade ou escolha outra data."]}),Gt&&u.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:at.filter(j=>j.modoHorario==="intervalo"&&j.horarioInicio&&j.horarioFim).map(j=>u.jsxs("p",{className:"text-sm text-blue-700 mb-1 last:mb-0",children:["A atividade ",j.nome," funciona em faixa de horario, ocorre das ",j.horarioInicio," ate ",j.horarioFim]},j.id))})]}):Gt?u.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:at.filter(j=>j.modoHorario==="intervalo"&&j.horarioInicio&&j.horarioFim).map(j=>u.jsxs("p",{className:"text-sm font-medium text-green-700 mb-1 last:mb-0",children:["A atividade ",j.nome," funciona em faixa de horario, ocorre das ",j.horarioInicio," ate ",j.horarioFim]},j.id))}):u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-700",children:"Nenhum horario disponivel para os pacotes selecionados nesta data. Escolha outra data ou ajuste os pacotes."})})}),nt.horario&&!G&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:nt.horario}),u.jsxs("div",{ref:yn,className:"mb-6",children:[typeof qn=="number"&&u.jsxs("p",{className:"mb-3 text-xs text-gray-600",children:["Vagas restantes: ",Math.max(qn,0)," ",A?"para este horrio":"para esta data","."]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:nn.map(j=>{const W=Qg(j),de=Number(Tc(Ee,j)??0),Z=typeof qn=="number"?Math.max(qn,0):null,Re=Z===null?void 0:Math.max(Z-(ur-de),0);return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[u.jsx("span",{children:j.nome}),j.descricao&&u.jsx("span",{className:"mt-1 block text-xs font-normal text-gray-500",children:j.descricao})]}),u.jsx("input",{type:"number",min:"0",step:1,max:typeof Re=="number"?Re:void 0,value:de,onChange:je=>{const ze=Math.floor(_o(je.target.value));ve(yt=>{if(Z===null)return{...yt,[W]:ze};const Ie=Math.floor(_o(yt[W])),Oe=Af(yt)-Ie+F,On=Math.max(Z-Oe,0);return{...yt,[W]:Math.min(ze,On)}}),He("participantes"),He("horario")},className:"w-full px-3 py-2 border border-black rounded-md focus:outline-none focus:ring-2 focus:ring-black"})]},W)})}),nt.participantes&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:nt.participantes}),typeof qn=="number"&&ur>Math.max(qn,0)&&u.jsxs("p",{className:"mt-2 text-sm text-red-600",children:["Voc selecionou ",ur," participante(s), mas restam apenas"," ",Math.max(qn,0)," vaga(s)"," ",A?"para este horrio":"para esta data","."]})]}),(df(Ee,nn,"bariat")??0)>0&&u.jsx("div",{className:"mb-6 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-orange-700",children:[" ",u.jsx("strong",{children:"Importante:"}),"  obrigatrio apresentar a carteirinha baritrica via WhatsApp aps a reserva para validao."]})}),u.jsxs("div",{ref:Sr,className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Vai levar pet? *"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6",children:[u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"radio",name:"pet",checked:le===!0,onChange:()=>{ce(!0),He("pet")},className:"mr-3 w-4 h-4 text-green-600 focus:ring-green-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Sim"})]}),u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"radio",name:"pet",checked:le===!1,onChange:()=>{ce(!1),He("pet")},className:"mr-3 w-4 h-4 text-green-600 focus:ring-green-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"No"})]})]}),le===!0&&ln()&&u.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-red-700",children:[" ",ln()]})}),nt.pet&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:nt.pet})]}),at.some(j=>(j.perguntasPersonalizadas?.length??0)>0)&&u.jsx("div",{className:"mb-6 space-y-5",children:at.map(j=>!j.id||(j.perguntasPersonalizadas?.length??0)===0?null:u.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50/60 p-4",children:[u.jsxs("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:["Informaes adicionais  ",j.nome]}),u.jsx("div",{className:"space-y-4",children:j.perguntasPersonalizadas.map(W=>{const de=`${j.id}-${W.id}`,Z=Sn[de]??{},Re=Z.resposta??"",je=W.perguntaCondicional,ze=je&&Re===je.condicao;return u.jsxs("div",{className:"space-y-3 rounded-md bg-white p-3 shadow-sm",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[W.pergunta,W.obrigatoria&&u.jsx("span",{className:"text-red-500",children:" *"})]}),u.jsx("p",{className:"text-xs text-gray-500",children:W.tipo==="sim_nao"?"Selecione Sim ou No conforme necessrio.":"Informe a resposta no campo abaixo."})]}),W.tipo==="sim_nao"?u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsxs("label",{className:"inline-flex items-center text-sm text-gray-700",children:[u.jsx("input",{type:"radio",name:`${de}-base`,className:"mr-2",checked:Re==="sim",onChange:()=>Pa(de,"sim",je?.condicao)}),"Sim"]}),u.jsxs("label",{className:"inline-flex items-center text-sm text-gray-700",children:[u.jsx("input",{type:"radio",name:`${de}-base`,className:"mr-2",checked:Re==="nao",onChange:()=>Pa(de,"nao",je?.condicao)}),"No"]}),u.jsx("button",{type:"button",onClick:()=>Pa(de,"",je?.condicao),className:"text-xs text-gray-500 underline",children:"Limpar"})]}):u.jsx("textarea",{value:typeof Re=="string"?Re:"",onChange:yt=>Pa(de,yt.target.value,je?.condicao,!0),className:"w-full rounded-md border border-black px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-black",rows:3,placeholder:"Digite sua resposta"}),je&&u.jsxs("div",{className:`rounded-md border px-3 py-2 ${ze?"border-green-200 bg-green-50":"border-gray-200 bg-gray-100"}`,children:[u.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[je.pergunta,je.obrigatoria&&u.jsx("span",{className:"text-red-500",children:" *"})]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Condicional exibida quando a resposta anterior for ",je.condicao==="sim"?"Sim":"No","."]}),je.tipo==="sim_nao"?u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-4",children:[u.jsxs("label",{className:"inline-flex items-center text-sm text-gray-700",children:[u.jsx("input",{type:"radio",name:`${de}-condicional`,className:"mr-2",checked:Z.condicional==="sim",disabled:!ze,onChange:()=>qa(de,"sim")}),"Sim"]}),u.jsxs("label",{className:"inline-flex items-center text-sm text-gray-700",children:[u.jsx("input",{type:"radio",name:`${de}-condicional`,className:"mr-2",checked:Z.condicional==="nao",disabled:!ze,onChange:()=>qa(de,"nao")}),"No"]}),u.jsx("button",{type:"button",onClick:()=>qa(de,""),className:"text-xs text-gray-500 underline",disabled:!ze,children:"Limpar"})]}):u.jsx("textarea",{value:typeof Z.condicional=="string"?Z.condicional:"",onChange:yt=>qa(de,yt.target.value,!0),className:"mt-2 w-full rounded-md border border-black px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-black disabled:bg-gray-100",rows:2,placeholder:"Digite a resposta complementar",disabled:!ze})]})]},W.id)})})]},`perguntas-${j.id}`))})]}),E===2&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),u.jsx("input",{type:"text",value:O,onChange:j=>{z(j.target.value),He("nome")},onBlur:()=>Fn("nome"),className:lt("nome"),ref:Or,autoComplete:"name",required:!0}),nt.nome&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.nome})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),u.jsx("input",{type:"email",value:$,onChange:j=>{K(j.target.value),He("email")},onBlur:()=>Fn("email"),className:lt("email"),ref:pr,autoComplete:"email",required:!0}),nt.email&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.email})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),u.jsx("input",{type:"text",value:Ae,onChange:j=>{fe(bk(j.target.value)),He("cpf")},onBlur:()=>Fn("cpf"),className:lt("cpf"),ref:ht,placeholder:"000.000.000-00",inputMode:"numeric",maxLength:14,autoComplete:"off",required:!0}),nt.cpf&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.cpf})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),u.jsx("input",{type:"tel",value:ge,onChange:j=>{se(_k(j.target.value)),He("telefone")},onBlur:()=>Fn("telefone"),className:lt("telefone"),ref:Vt,placeholder:"(11) 99999-9999",inputMode:"tel",autoComplete:"tel",maxLength:15}),nt.telefone&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.telefone})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Forma de Pagamento"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6",children:[u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"radio",name:"pagamento",checked:me==="CREDIT_CARD",onChange:()=>De("CREDIT_CARD"),className:"mr-3 w-4 h-4 text-green-600 focus:ring-green-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Carto de Crdito"})]}),u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"radio",name:"pagamento",checked:me==="PIX",onChange:()=>De("PIX"),className:"mr-3 w-4 h-4 text-green-600 focus:ring-green-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"PIX"})]})]})]}),me==="CREDIT_CARD"&&u.jsx("div",{ref:Ut,className:"mb-6 rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:u.jsxs("div",{className:"flex flex-col gap-6 lg:grid lg:grid-cols-[minmax(0,0.95fr)_minmax(0,1.05fr)] lg:items-start",children:[u.jsxs("div",{className:"relative mx-auto w-full max-w-[420px] aspect-[1.586/1] overflow-hidden rounded-2xl bg-gradient-to-br from-slate-900 via-slate-800 to-slate-700 p-5 text-white sm:p-6 lg:mx-0",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-white/70",children:"Credito"}),u.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-wide ${ke?ke.badgeClass:"bg-white/10 text-white/70"}`,children:ke?ke.label:"Bandeira"})]}),u.jsx("div",{className:"mt-8 whitespace-nowrap text-[0.95rem] font-semibold tracking-[0.18em] sm:text-lg sm:tracking-[0.25em]",children:it}),u.jsxs("div",{className:"mt-6 flex items-end justify-between gap-4 text-xs uppercase tracking-widest text-white/70",children:[u.jsxs("div",{children:[u.jsx("span",{className:"block text-[10px] text-white/60",children:"Nome"}),u.jsx("span",{className:"text-sm font-semibold text-white",children:et})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"block text-[10px] text-white/60",children:"Validade"}),u.jsx("span",{className:"text-sm font-semibold text-white",children:ot})]})]}),u.jsx("div",{className:"absolute -right-10 -top-10 h-28 w-28 rounded-full bg-white/10 blur-2xl"}),u.jsx("div",{className:"absolute -bottom-10 -left-10 h-36 w-36 rounded-full bg-indigo-400/20 blur-2xl"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Dados do cartao"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Digite exatamente como no cartao."})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:A0.map(j=>{const W=Se===j.id;return u.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-[10px] font-semibold uppercase tracking-wide ${W?j.badgeClass:"bg-slate-100 text-slate-500"}`,children:j.label},j.id)})})]}),u.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Nome no cartao",u.jsx("input",{type:"text",value:qe,onChange:j=>{Ye(j.target.value),He("cartaoNome")},className:`${lt("cartaoNome")} rounded-xl bg-white shadow-sm`,placeholder:"Nome impresso no cartao",autoComplete:"cc-name",autoCapitalize:"words"}),nt.cartaoNome&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.cartaoNome})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Numero do cartao",u.jsx("input",{type:"text",value:Mt,onChange:j=>{jt(Ek(j.target.value)),He("cartaoNumero")},className:`${lt("cartaoNumero")} rounded-xl bg-white shadow-sm`,placeholder:Je,inputMode:"numeric",autoComplete:"cc-number",maxLength:Ue,spellCheck:!1}),nt.cartaoNumero&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.cartaoNumero})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Validade",u.jsx("input",{type:"text",value:dt,onChange:j=>{Tt(Nk(j.target.value)),He("cartaoValidade")},className:`${lt("cartaoValidade")} rounded-xl bg-white shadow-sm`,placeholder:"MM/AA",inputMode:"numeric",autoComplete:"cc-exp",maxLength:5}),nt.cartaoValidade&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.cartaoValidade})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["CVV",u.jsx("input",{type:"password",value:on,onChange:j=>{Tn(ea(j.target.value).slice(0,Fe)),He("cartaoCvv")},className:`${lt("cartaoCvv")} rounded-xl bg-white shadow-sm`,placeholder:We,inputMode:"numeric",autoComplete:"cc-csc",maxLength:Fe}),u.jsx("p",{className:"mt-1 text-[11px] text-slate-400",children:Se==="amex"?"4 digitos na frente":"3 digitos no verso"}),nt.cartaoCvv&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.cartaoCvv})]})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50/70 p-4",children:[u.jsx("h4",{className:"text-xs font-semibold uppercase text-slate-500",children:"Endereco de cobranca"}),u.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 mt-3",children:[u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["CEP",u.jsx("input",{type:"text",value:ha,onChange:j=>{Ia(wk(j.target.value)),He("enderecoCep")},className:`${lt("enderecoCep")} rounded-xl bg-white shadow-sm`,placeholder:"00000-000",inputMode:"numeric"}),nt.enderecoCep&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.enderecoCep})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Rua",u.jsx("input",{type:"text",value:In,onChange:j=>{$r(j.target.value),He("enderecoRua")},className:`${lt("enderecoRua")} rounded-xl bg-white shadow-sm`,placeholder:"Rua / Avenida"}),nt.enderecoRua&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.enderecoRua})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Numero",u.jsx("input",{type:"text",value:mr,onChange:j=>{Nr(j.target.value),He("enderecoNumero")},className:`${lt("enderecoNumero")} rounded-xl bg-white shadow-sm`,placeholder:"Numero"}),nt.enderecoNumero&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.enderecoNumero})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Complemento (opcional)",u.jsx("input",{type:"text",value:Yr,onChange:j=>ir(j.target.value),className:`${lt("enderecoComplemento")} rounded-xl bg-white shadow-sm`,placeholder:"Apto, casa, bloco"})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Bairro",u.jsx("input",{type:"text",value:Vn,onChange:j=>{Wr(j.target.value),He("enderecoBairro")},className:`${lt("enderecoBairro")} rounded-xl bg-white shadow-sm`,placeholder:"Bairro"}),nt.enderecoBairro&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.enderecoBairro})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Cidade",u.jsx("input",{type:"text",value:fa,onChange:j=>{It(j.target.value),He("enderecoCidade")},className:`${lt("enderecoCidade")} rounded-xl bg-white shadow-sm`,placeholder:"Cidade"}),nt.enderecoCidade&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.enderecoCidade})]}),u.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-500",children:["Estado (UF)",u.jsx("input",{type:"text",value:Xe,onChange:j=>{mn(j.target.value.toUpperCase().slice(0,2)),He("enderecoEstado")},className:`${lt("enderecoEstado")} rounded-xl bg-white shadow-sm`,placeholder:"UF",maxLength:2}),nt.enderecoEstado&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:nt.enderecoEstado})]})]})]})]})]})}),b.length>0&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-slate-200 bg-slate-50/70 p-4",children:[u.jsxs("div",{className:"flex items-baseline justify-between",children:[u.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Total"}),u.jsx("span",{className:"text-xl font-bold text-emerald-700",children:dl(Fa())})]}),Ke&&u.jsx("p",{className:"mt-2 text-xs text-emerald-700",children:Un(Ke)?`Combo ${Ke.nome}: ${Sa(Ke)}.`:Ke.preco&&Ke.preco>0?`Valor especial do combo ${Ke.nome}.`:Ke.desconto&&Ke.desconto>0?`Desconto de ${Ke.desconto}% aplicado!`:`Combo ${Ke.nome} aplicado.`})]})]}),u.jsxs("div",{className:"mt-10 flex flex-col-reverse gap-3 border-t border-slate-200 pt-6 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("button",{type:"button",onClick:St,disabled:E===0||Ce,className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-5 py-2.5 text-sm font-semibold text-slate-700 shadow-sm transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Voltar"}),E<2?u.jsx("button",{type:"button",onClick:Jn,className:"inline-flex items-center justify-center rounded-full bg-emerald-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-emerald-700",children:"Continuar"}):u.jsx("button",{type:"submit",disabled:Ce||b.length===0||Ze,className:"inline-flex items-center justify-center rounded-full bg-emerald-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-50",children:Ce?"Processando...":Ze?"Aguardando confirmao...":"Fazer Reserva"})]})]}),(oe||Ge)&&u.jsxs("div",{ref:ye,className:"mt-8 p-8 rounded-3xl shadow-2xl relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",animation:"pulse-glow 3s ease-in-out infinite"},children:[u.jsx("h3",{className:"text-2xl font-bold text-white mb-6 text-center",children:Ge?"Pagamento no cartao":"Finalize seu Pagamento"}),Ge?u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("p",{className:"text-lg text-white/90",children:Ge.message}),u.jsx("span",{className:`inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-semibold ${Ge.status==="success"?"bg-emerald-500/20 text-emerald-100":Ge.status==="processing"?"bg-sky-500/20 text-sky-100":Ge.status==="pending"?"bg-amber-500/20 text-amber-100":"bg-rose-500/20 text-rose-100"}`,children:Ge.status==="success"?"Pagamento confirmado":Ge.status==="processing"?"Processando compra":Ge.status==="pending"?"Pagamento em processamento":"Pagamento nao aprovado"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"mb-6 text-lg text-white/90 text-center",children:"Clique no botao abaixo para acessar a pagina de pagamento:"}),u.jsx("a",{href:oe??void 0,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-green-600 text-white py-4 px-8 rounded-lg font-bold text-lg hover:bg-green-700 transition-colors shadow-lg transform hover:scale-105",children:"Realizar Pagamento PIX"}),u.jsx("p",{className:"mt-4 text-sm text-white/80 text-center",children:"Voce sera redirecionado para a pagina de pagamento PIX"})]}),xn&&u.jsxs("div",{className:"mt-6",children:[u.jsx("p",{className:"mb-4 text-white/90 text-center",children:"Use a chave PIX abaixo para pagamento:"}),u.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-lg mb-4 border border-white/30",children:u.jsx("p",{className:"font-mono text-sm break-all text-white",children:xn})}),na&&u.jsx("div",{className:"text-center mb-4",children:u.jsx("img",{src:na,alt:"QR Code PIX",className:"mx-auto max-w-xs"})}),te&&u.jsxs("p",{className:"text-sm text-white/80 text-center",children:["Valido ate: ",new Date(te).toLocaleString("pt-BR")]})]})]})]})]}),u.jsx("aside",{className:"hidden lg:block",children:u.jsx("div",{className:"sticky top-6",children:ra})})]})})})})}const R0=document.createElement("style");R0.textContent=`
  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1);
      transform: translateY(0);
    }
    50% {
      box-shadow: 0 25px 50px -12px rgba(102, 126, 234, 0.4), 0 0 30px rgba(102, 126, 234, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
    }
  }
`;document.head.querySelector("style[data-payment-card]")||(R0.setAttribute("data-payment-card","true"),document.head.appendChild(R0));function Rk(){return u.jsxs("div",{className:"min-h-screen bg-[#F7FAEF]",children:[u.jsxs("div",{className:"relative isolate overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#F7FAEF] via-white to-[#F7FAEF]"}),u.jsx("div",{className:"absolute -top-24 left-1/2 h-72 w-72 -translate-x-1/2 rounded-full bg-[#8B4F23]/10 blur-3xl"}),u.jsx("div",{className:"relative mx-auto w-full max-w-screen-2xl px-4 py-6 sm:px-6 lg:px-8",children:u.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:z0,alt:"Logo Vagafogo",className:"h-12 w-12 rounded-full border border-white/60 object-cover shadow-sm",loading:"lazy"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-green-700",children:"Reserva"}),u.jsx("h1",{className:"text-xl font-bold text-[#8B4F23] sm:text-2xl",children:"Faa sua reserva"})]})]}),u.jsx("div",{className:"flex flex-wrap items-center gap-3",children:u.jsx(Ds,{to:"/",className:"inline-flex items-center justify-center rounded-full border border-[#8B4F23]/20 bg-white/70 px-4 py-2 text-sm font-semibold text-[#8B4F23] shadow-sm backdrop-blur transition hover:bg-white",children:"Voltar ao site"})})]})})]}),u.jsx(Ak,{})]})}const jk=bA([{path:"/",element:u.jsx(QA,{})},{path:"/reservar",element:u.jsx(Rk,{})},{path:"/login",element:u.jsx(nI,{})},{path:"/admin",element:u.jsx(kI,{children:u.jsx(jI,{})})}]);SS.createRoot(document.getElementById("root")).render(u.jsx(Le.StrictMode,{children:u.jsx(IA,{router:jk})}));export{Yw as _,Dk as c,nm as g};
